{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\ViewInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\ViewInfo.vue","mtime":1675054786264},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBlQXVjdGlvblNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvaW50ZWdyYXRpb24vZUF1Y3Rpb25TZXJ2aWNlLnNlcnZpY2UnDQppbXBvcnQgTCBmcm9tICJsZWFmbGV0IjsNCmltcG9ydCB7IExNYXAsIExNYXJrZXIgfSBmcm9tICJ2dWUyLWxlYWZsZXQiOw0KaW1wb3J0IE1hcmtlckljb24gZnJvbSAibGVhZmxldC9kaXN0L2ltYWdlcy9tYXJrZXItaWNvbi5wbmciOw0KaW1wb3J0ICJsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgaW5mbzogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogbnVsbA0KICAgIH0sDQogICAgZGF0YTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogbnVsbA0KICAgIH0sDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBMTWFwLA0KICAgIExNYXJrZXIsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxpZ2h0Ym94OiBmYWxzZSwNCiAgICAgIG1hcDogew0KICAgICAgICBvYmplY3Q6IG51bGwsDQogICAgICAgIHpvb206IHRoaXMubWFya2VyTGF0TG9uZyA/IDUgOiAxNCwNCiAgICAgICAgdmlldzogdGhpcy5tYXJrZXJMYXRMb25nIHx8IFs0MS41LCA2NC41XSwNCiAgICAgICAgbWF4Wm9vbTogNTAsDQogICAgICAgIG1pblpvb206IDUsDQogICAgICAgIG1heEJvdW5kczogW1szNywgNTddLCBbNDcsIDgwXV0sDQogICAgICB9DQogICAgfQ0KICB9LA0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIGF3YWl0IHRoaXMuZmV0Y2hBZGRpdGlvbmFsSW5mbygpOw0KICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSkNCiAgICBjb25zdCB7IG1hcE9iamVjdCB9ID0gdGhpcy4kcmVmcy5tYXA7DQogICAgdGhpcy5tYXAub2JqZWN0ID0gbWFwT2JqZWN0Ow0KICAgIEwudGlsZUxheWVyKCdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsIHsNCiAgICAgIG1heFpvb206IHRoaXMubWFwLm1heFpvb20sDQogICAgICBtaW5ab29tOiB0aGlzLm1hcC5taW5ab29tLA0KICAgIH0pLmFkZFRvKHRoaXMubWFwLm9iamVjdCk7DQogICAgdGhpcy5tYXAub2JqZWN0LnNldE1heEJvdW5kcyh0aGlzLm1hcC5tYXhCb3VuZHMpOw0KICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgdGhpcy5tYXAudmlldyA9IHRoaXMubWFya2VyTGF0TG9uZzsNCiAgICAgIHRoaXMubWFwLm9iamVjdC5zZXRWaWV3KHRoaXMubWFwLnZpZXcsIHRoaXMubWFwLnpvb20pOw0KICAgIH0sIDEwMDApDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBmZXRjaEFkZGl0aW9uYWxJbmZvKCkgew0KICAgICAgaWYgKCF0aGlzLmRhdGEpIHsNCiAgICAgICAgYXdhaXQgZUF1Y3Rpb25TZXJ2aWNlLmdldEFkZGl0aW9uYWxJbmZvKHRoaXMuaW5mby5pZCwgdHJ1ZSkNCiAgICAgICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhDQogICAgICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5pbmZvID0gdGhpcy5kYXRhOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvd0xpZ2h0Qm94KGluZGV4ID0gbnVsbCkgew0KICAgICAgdGhpcy5saWdodGJveCA9IGluZGV4DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGltYWdlc0xpc3QoKSB7DQogICAgICByZXR1cm4gdGhpcy5kYXRhLmltYWdlcz8ubWFwKCh7IHVybCB9KSA9PiAnLycgKyB1cmwpID8/IFtdOw0KICAgIH0sDQogICAgbWFya2VyTGF0TG9uZygpIHsNCiAgICAgIGlmICh0aGlzLmluZm8ubGF0ICYmIHRoaXMuaW5mby5sbmcpIHsNCiAgICAgICAgcmV0dXJuIEwubGF0TG5nKHRoaXMuaW5mby5sYXQsIHRoaXMuaW5mby5sbmcpOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIG51bGw7DQogICAgfSwNCiAgICBteUdyZWVuQ3VzdG9tTWFya2VyKCkgew0KICAgICAgcmV0dXJuIEwuaWNvbih7DQogICAgICAgIGljb25Vcmw6IE1hcmtlckljb24sDQogICAgICAgIGljb25BbmNob3I6IG5ldyBMLlBvaW50KDEyLjUsIDQwKSwNCiAgICAgICAgaWNvblNpemU6IG5ldyBMLlBvaW50KDI1LCA0MSksDQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIGRlc3Ryb3llZCgpew0KICAgIHRoaXMuZGF0YSA9IHt9DQogICAgdGhpcy5saWdodGJveCA9IGZhbHNlDQogIH0NCn0NCg=="},{"version":3,"sources":["ViewInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewInfo.vue","sourceRoot":"src/modules/integration/modules/e-auction-info","sourcesContent":["<template>\r\n  <b-row class=\"p-3\">\r\n    <b-col sm=\"7\">\r\n      <b-card>\r\n        <b-table-simple striped hover bordered>\r\n          <b-tbody>\r\n            <b-tr v-for=\"(detail, index) in data.details\" :key=\"index\">\r\n              <b-td>{{ index + 1 }}</b-td>\r\n              <b-td>{{ detail.key }}</b-td>\r\n              <b-td>{{ detail.value }} {{ detail.unit ? detail.unit : '' }}</b-td>\r\n            </b-tr>\r\n          </b-tbody>\r\n        </b-table-simple>\r\n      </b-card>\r\n    </b-col>\r\n    <b-col sm=\"5\">\r\n      <b-card>\r\n        <b-col cols=\"12\">\r\n          <l-map ref=\"map\" class=\"height-300\">\r\n            <l-marker\r\n                v-if=\"markerLatLong\"\r\n                :lat-lng=\"markerLatLong\"\r\n                :icon=\"myGreenCustomMarker\"\r\n            />\r\n          </l-map>\r\n        </b-col>\r\n      </b-card>\r\n      <b-card>\r\n        <b-row>\r\n          <b-col cols=\"6\">\r\n            <b-carousel\r\n                controls\r\n                indicators\r\n                class=\"rounded-lg shadow-lg\"\r\n                @sliding-start=\"() => true\"\r\n                @sliding-end=\"() => true\"\r\n            >\r\n              <b-carousel-slide\r\n                  v-for=\"({name, url}, imageKey) in data.images\"\r\n                  class=\"max-height-400\"\r\n                  :key=\"imageKey\"\r\n                  :img-src=\"url\"\r\n              >\r\n                <template v-slot:img>\r\n                  <img\r\n                      class=\"cursor-pointer img-fluid w-100 d-block\"\r\n                      :src=\"'/' + url\"\r\n                      :alt=\"name\"\r\n                      loading=\"lazy\"\r\n                      v-b-popover.hover.bottom\r\n                      :title=\"name\"\r\n                      @click=\"showLightBox(imageKey)\"\r\n                  />\r\n                </template>\r\n              </b-carousel-slide>\r\n            </b-carousel>\r\n            <vue-easy-lightbox\r\n                v-if=\"this.lightbox\"\r\n                :visible=\"this.lightbox\"\r\n                :imgs=\"imagesList\"\r\n                :index=\"this.lightbox\"\r\n                @hide=\"showLightBox()\"\r\n            />\r\n          </b-col>\r\n          <b-col cols=\"6\">\r\n            <template v-for=\"({url, name, extension}, dk) in data.documents\">\r\n              <a\r\n                  v-b-popover.hover.bottom\r\n                  :title=\"name\"\r\n                  :href=\"'/' + url\"\r\n                  :download=\"name+'.' + extension\"\r\n                  :key=\"dk\"\r\n                  target=\"_blank\"\r\n                  class=\"btn btn-outline-secondary box-60px\"\r\n              >\r\n                {{ extension.toUpperCase() }}\r\n                <br>\r\n                <i class=\"mdi mdi-download mdi-18px\"/>\r\n              </a>\r\n            </template>\r\n          </b-col>\r\n        </b-row>\r\n      </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n\r\nimport eAuctionService from '@/shared/services/integration/eAuctionService.service'\r\nimport L from \"leaflet\";\r\nimport { LMap, LMarker } from \"vue2-leaflet\";\r\nimport MarkerIcon from \"leaflet/dist/images/marker-icon.png\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default {\r\n  props: {\r\n    info: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    data: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n  },\r\n  components: {\r\n    LMap,\r\n    LMarker,\r\n  },\r\n  data() {\r\n    return {\r\n      lightbox: false,\r\n      map: {\r\n        object: null,\r\n        zoom: this.markerLatLong ? 5 : 14,\r\n        view: this.markerLatLong || [41.5, 64.5],\r\n        maxZoom: 50,\r\n        minZoom: 5,\r\n        maxBounds: [[37, 57], [47, 80]],\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await this.fetchAdditionalInfo();\r\n    console.log(this.data)\r\n    const { mapObject } = this.$refs.map;\r\n    this.map.object = mapObject;\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      maxZoom: this.map.maxZoom,\r\n      minZoom: this.map.minZoom,\r\n    }).addTo(this.map.object);\r\n    this.map.object.setMaxBounds(this.map.maxBounds);\r\n    setTimeout(() => {\r\n      this.map.view = this.markerLatLong;\r\n      this.map.object.setView(this.map.view, this.map.zoom);\r\n    }, 1000)\r\n  },\r\n  methods: {\r\n    async fetchAdditionalInfo() {\r\n      if (!this.data) {\r\n        await eAuctionService.getAdditionalInfo(this.info.id, true)\r\n            .then(({ data }) => {\r\n              this.data = data\r\n            })\r\n      } else {\r\n        this.info = this.data;\r\n      }\r\n    },\r\n    showLightBox(index = null) {\r\n      this.lightbox = index\r\n    }\r\n  },\r\n  computed: {\r\n    imagesList() {\r\n      return this.data.images?.map(({ url }) => '/' + url) ?? [];\r\n    },\r\n    markerLatLong() {\r\n      if (this.info.lat && this.info.lng) {\r\n        return L.latLng(this.info.lat, this.info.lng);\r\n      }\r\n      return null;\r\n    },\r\n    myGreenCustomMarker() {\r\n      return L.icon({\r\n        iconUrl: MarkerIcon,\r\n        iconAnchor: new L.Point(12.5, 40),\r\n        iconSize: new L.Point(25, 41),\r\n      });\r\n    }\r\n  },\r\n  destroyed(){\r\n    this.data = {}\r\n    this.lightbox = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.max-height-400 {\r\n  max-height: 400px;\r\n}\r\n\r\n.height-300 {\r\n  height: 300px;\r\n}\r\n\r\n.box-60px {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: .3em;\r\n  padding: .3em;\r\n}\r\n</style>"]}]}