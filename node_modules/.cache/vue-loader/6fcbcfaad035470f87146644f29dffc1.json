{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\price-stock\\region-name\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\price-stock\\region-name\\Index.vue","mtime":1682419455909},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgY3J1ZEFuZExpc3RTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2NydWRfYW5kX2xpc3Quc2VydmljZSI7DQoNCmNvbnN0IFJFRl9OQU1FID0gJ3ByaWNlL3N0b2NrL3JlZ2lvbi1uYW1lJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBsb2FkaW5nVGFibGVJdGVtczogZmFsc2UsDQogICAgICBqc29uX2RhdGE6IFtdLA0KICAgICAganNvbl9tZXRhOiBbDQogICAgICAgIFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBrZXk6ICJjaGFyc2V0IiwNCiAgICAgICAgICAgIHZhbHVlOiAidXRmLTgiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICBdLA0KICAgICAgc2VhcmNoS2V5d29yZDogJycsDQogICAgICBzZWxlY3RlZDogMjAsDQogICAgICBvcHRpb25zVGFibGU6IFsNCiAgICAgICAgeyB2YWx1ZTogMjAsIHRleHQ6IDIwIH0sDQogICAgICAgIHsgdmFsdWU6IDUwLCB0ZXh0OiA1MCB9LA0KICAgICAgICB7IHZhbHVlOiAxMDAsIHRleHQ6IDEwMCB9LA0KICAgICAgICB7IHZhbHVlOiAxNTAsIHRleHQ6IDE1MCB9LA0KICAgICAgICB7IHZhbHVlOiAyMDAsIHRleHQ6IDIwMCB9LA0KICAgICAgXSwNCiAgICAgIHRpdGxlOiB0aGlzLiR0KCdzdWJtb2R1bGVzLmludGVncmF0aW9uLnByaWNlX3N0b2NrLnJlZ2lvbl9uYW1lX3RpdGxlJyksDQogICAgICBhY3RpdmVEZXA6IHt9LA0KICAgICAgdGFibGVJdGVtczogW10sDQogICAgICB0b3RhbEl0ZW1zOiAwLA0KICAgICAgdGFibGVGaWVsZHM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAiIyIsDQogICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICBrZXk6ICJpbmRleCIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmNvbm5lY3RlZF9yZWdpb24nKSwNCiAgICAgICAgICBrZXk6ICJzcFJlZ2lvbk5hbWUiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnc3VibW9kdWxlcy5pbnRlZ3JhdGlvbi5wcmljZV9zdG9jay5yZWdpb25fbmFtZScpLA0KICAgICAgICAgIGtleTogIm5hbWUiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFjdGlvbnMnKSwNCiAgICAgICAgICBrZXk6ICJhY3Rpb25zIiwNCiAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgc29ydGFibGU6IGZhbHNlDQogICAgICAgIH0sDQogICAgICBdLA0KICAgIH07DQogIH0sDQogIC8qDQogIENPTVBVVEVEICovDQogIGNvbXB1dGVkOiB7DQogICAgbnVtYmVyT2ZQYWdlcygpIHsNCiAgICAgIHJldHVybiAoIXRoaXMudG90YWxJdGVtcyB8fCB0aGlzLnRvdGFsSXRlbXMgPD0gMCB8fCB0aGlzLnRvdGFsSXRlbXMgPCB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSkgPyAxIDogdGhpcy50b3RhbEl0ZW1zIC8gdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UNCiAgICB9LA0KICAgIGpzb25fZmllbGRzKCkgew0KICAgICAgY29uc3QgbWFwID0ge307DQogICAgICB0aGlzLnRhYmxlRmllbGRzLmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgbWFwW2l0ZW0ubGFiZWxdID0gaXRlbS5rZXk7DQogICAgICB9KQ0KICAgICAgcmV0dXJuIG1hcA0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzZWxlY3RMaXN0KCRldmVudCkgew0KICAgICAgaWYgKCRldmVudCA9PT0gJ2FsbCcpIHsNCiAgICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSB0aGlzLnRvdGFsSXRlbXMNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gJGV2ZW50DQogICAgICB9DQogICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpOw0KICAgIH0sDQogICAgZmV0Y2hUYWJsZUl0ZW1zKCkgew0KICAgICAgdGhpcy5sb2FkaW5nVGFibGVJdGVtcyA9IHRydWUNCiAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQua2V5d29yZCA9IHRoaXMuc2VhcmNoS2V5d29yZA0KICAgICAgLy8gR0VUIFNUQVRVU0VTDQogICAgICBjcnVkQW5kTGlzdFNlcnZpY2Uuc2VhcmNoTGlzdChSRUZfTkFNRSwgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCkNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gcmVzLmRhdGEubGlzdA0KICAgICAgICAgICAgdGhpcy50b3RhbEl0ZW1zID0gcmVzLmRhdGEudG90YWwNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgfSkNCiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmdUYWJsZUl0ZW1zID0gZmFsc2UNCiAgICAgICAgICB9KQ0KICAgIH0sDQogICAgZWRpdEl0ZW0oaWQpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ1JlZmVyZW5jZXNQcmljZVN0b2NrUmVnaW9uTmFtZVVwZGF0ZScsIHBhcmFtczogeyBpZDogaWQgfSB9KQ0KICAgIH0sDQogIH0sDQogIC8qIENSRUFURUQgKi8NCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpDQogIH0sDQogIC8qDQogIFdBVENIICovDQogIHdhdGNoOiB7DQogICAgJ3Zhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLnBhZ2UnOiB7DQogICAgICBoYW5kbGVyKCkgew0KICAgICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpDQogICAgICB9DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";AAoFA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/modules/references/modules/price-stock/region-name","sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"col-md-12 text-center\">\r\n        <div class=\"h4 mb-4 d-inline-block\">\r\n          {{ $t('submodules.integration.price_stock.region_name_title') }}\r\n        </div>\r\n        <router-link class=\"btn btn-success float-right\" :to=\"{name: 'ReferencesPriceStockRegionNameCreate'}\">\r\n          {{$t('actions.create')}}\r\n        </router-link>\r\n      </div>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-sm-8\"></div>\r\n            <div class=\"col-sm-4\"></div>\r\n          </div>\r\n          <b-table\r\n              :items=\"tableItems\"\r\n              :fields=\"tableFields\"\r\n              :busy=\"loadingTableItems\"\r\n              id=\"my-table\"\r\n              class=\"custom-b-table\"\r\n              responsive\r\n              show-empty\r\n              bordered\r\n              striped\r\n              small\r\n              hover\r\n          >\r\n            <!-- NUMBER OF ITEM -->\r\n            <template #cell(index)=\"data\">\r\n              {{ util_paginate(data.index, var_default_search_payload.page, var_default_search_payload.itemsPerPage) }}\r\n            </template>\r\n\r\n            <!-- NAME -->\r\n            <template #cell(name)=\"data\">\r\n              <div class=\"d-flex justify-content-between\">\r\n                <p\r\n                    class=\"mb-0 d-flex align-items-center flex-grow-1\"\r\n                    style=\"flex-basis: 0; gap: .3rem;\"\r\n                ><span class=\"badge bg-primary\">ЎЗ</span> : <span> {{ data.item.regionNameUz }}</span></p>\r\n                <p\r\n                    class=\"mb-0 d-flex align-items-center\"\r\n                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                ><span class=\"badge bg-primary\">O'Z</span> : <span> {{ data.item.regionNameLt }}</span></p>\r\n                <p\r\n                    class=\"mb-0 d-flex align-items-center\"\r\n                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                ><span class=\"badge bg-primary\">РУ</span> : <span> {{ data.item.regionNameRu }}</span></p>\r\n              </div>\r\n            </template>\r\n\r\n            <!-- ACTIONS -->\r\n            <template #cell(actions)=\"data\">\r\n              <div class=\"general-table__actions d-flex justify-content-center\">\r\n                <b-btn variant=\"link\" class=\"text-decoration-none p-0 mr-1\" style=\"font-size: 1.2rem;\">\r\n                  <i\r\n                      @click=\"editItem(data.item.id)\"\r\n                      class=\"mdi mdi-circle-edit-outline edit\"\r\n                  ></i>\r\n                </b-btn>\r\n              </div>\r\n            </template>\r\n\r\n            <!-- EMPTY SLOT -->\r\n            <template #empty=\"\">\r\n              <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n            </template>\r\n\r\n            <!-- TABLE_BUSY SLOT -->\r\n            <template #table-busy>\r\n              <div class=\"text-center my-2\">\r\n                <b-spinner variant=\"primary\" class=\"align-middle\"></b-spinner>\r\n              </div>\r\n            </template>\r\n          </b-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport crudAndListService from \"@/shared/services/crud_and_list.service\";\r\n\r\nconst REF_NAME = 'price/stock/region-name'\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      loadingTableItems: false,\r\n      json_data: [],\r\n      json_meta: [\r\n        [\r\n          {\r\n            key: \"charset\",\r\n            value: \"utf-8\",\r\n          },\r\n        ],\r\n      ],\r\n      searchKeyword: '',\r\n      selected: 20,\r\n      optionsTable: [\r\n        { value: 20, text: 20 },\r\n        { value: 50, text: 50 },\r\n        { value: 100, text: 100 },\r\n        { value: 150, text: 150 },\r\n        { value: 200, text: 200 },\r\n      ],\r\n      title: this.$t('submodules.integration.price_stock.region_name_title'),\r\n      activeDep: {},\r\n      tableItems: [],\r\n      totalItems: 0,\r\n      tableFields: [\r\n        {\r\n          label: \"#\",\r\n          thClass: \"text-center\",\r\n          tdClass: \"text-center\",\r\n          sortable: false,\r\n          key: \"index\",\r\n        },\r\n        {\r\n          label: this.$t('column.connected_region'),\r\n          key: \"spRegionName\"\r\n        },\r\n        {\r\n          label: this.$t('submodules.integration.price_stock.region_name'),\r\n          key: \"name\"\r\n        },\r\n        {\r\n          label: this.$t('column.actions'),\r\n          key: \"actions\",\r\n          thClass: \"text-center\",\r\n          tdClass: \"text-center\",\r\n          sortable: false\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  /*\r\n  COMPUTED */\r\n  computed: {\r\n    numberOfPages() {\r\n      return (!this.totalItems || this.totalItems <= 0 || this.totalItems < this.var_default_search_payload.itemsPerPage) ? 1 : this.totalItems / this.var_default_search_payload.itemsPerPage\r\n    },\r\n    json_fields() {\r\n      const map = {};\r\n      this.tableFields.forEach((item) => {\r\n        map[item.label] = item.key;\r\n      })\r\n      return map\r\n    },\r\n  },\r\n  methods: {\r\n    selectList($event) {\r\n      if ($event === 'all') {\r\n        this.var_default_search_payload.itemsPerPage = this.totalItems\r\n      } else {\r\n        this.var_default_search_payload.itemsPerPage = $event\r\n      }\r\n      this.fetchTableItems();\r\n    },\r\n    fetchTableItems() {\r\n      this.loadingTableItems = true\r\n      this.var_default_search_payload.keyword = this.searchKeyword\r\n      // GET STATUSES\r\n      crudAndListService.searchList(REF_NAME, this.var_default_search_payload)\r\n          .then(res => {\r\n            this.tableItems = res.data.list\r\n            this.totalItems = res.data.total\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n          .finally(() => {\r\n            this.loadingTableItems = false\r\n          })\r\n    },\r\n    editItem(id) {\r\n      this.$router.push({ name: 'ReferencesPriceStockRegionNameUpdate', params: { id: id } })\r\n    },\r\n  },\r\n  /* CREATED */\r\n  created() {\r\n    this.fetchTableItems()\r\n  },\r\n  /*\r\n  WATCH */\r\n  watch: {\r\n    'var_default_search_payload.page': {\r\n      handler() {\r\n        this.fetchTableItems()\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n</style>"]}]}