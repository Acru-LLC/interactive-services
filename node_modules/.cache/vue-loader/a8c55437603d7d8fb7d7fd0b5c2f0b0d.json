{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\components\\base\\BaseFileUploaderWithValidation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\components\\base\\BaseFileUploaderWithValidation.vue","mtime":1675054786248},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdnVlMkRyb3B6b25lIGZyb20gInZ1ZTItZHJvcHpvbmUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJCYXNlRmlsZVVwbG9hZGVyV2l0aFZhbGlkYXRpb24iLA0KICBjb21wb25lbnRzOiB7DQogICAgdnVlRHJvcHpvbmU6IHZ1ZTJEcm9wem9uZQ0KICB9LA0KICBwcm9wczogew0KICAgIGxhYmVsT25Ub3A6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICB3cmFwcGVyQ2xhc3Nlczogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIGhpZGVFcnJvck1zZzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBpbmZvTXNnOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgbGFiZWw6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgbWF4RmlsZXM6IHsNCiAgICAgIGRlZmF1bHQ6IDUsDQogICAgfSwNCiAgICBtYXhGaWxlc2l6ZTogew0KICAgICAgZGVmYXVsdDogMTAsDQogICAgfSwNCiAgICBtaW1lczogew0KICAgICAgZGVmYXVsdDogbnVsbCwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBvcHRpb25zOiB7DQogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsDQogICAgICAgIG1heEZpbGVzOiA1LA0KICAgICAgICBtYXhGaWxlc2l6ZTogMTAsDQogICAgICAgIGFjY2VwdGVkRmlsZXM6IG51bGwsDQogICAgICAgIGFkZFJlbW92ZUxpbmtzOiB0cnVlLA0KICAgICAgICBhdXRvUHJvY2Vzc1F1ZXVlOiBmYWxzZSwNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsDQogICAgICAgIH0sDQogICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogdGhpcy4kdCgnZHJvcHpvbmUuZGVmYXVsdE1lc3NhZ2UnKSwNCiAgICAgICAgZGljdEZhbGxiYWNrTWVzc2FnZTogdGhpcy4kdCgnZHJvcHpvbmUuZmFsbGJhY2tNZXNzYWdlJyksDQogICAgICAgIGRpY3RGYWxsYmFja1RleHQ6IHRoaXMuJHQoJ2Ryb3B6b25lLmZhbGxiYWNrVGV4dCcpLA0KICAgICAgICBkaWN0RmlsZVRvb0JpZzogdGhpcy4kdCgnZHJvcHpvbmUuZmlsZVRvb0JpZycsIHsNCiAgICAgICAgICBmaWxlc2l6ZTogJ3tmaWxlc2l6ZX0nLA0KICAgICAgICAgIG1heEZpbGVzaXplOiAne21heEZpbGVzaXplfScNCiAgICAgICAgfSksDQogICAgICAgIGRpY3RJbnZhbGlkRmlsZVR5cGU6IHRoaXMuJHQoJ2Ryb3B6b25lLmludmFsaWRGaWxlVHlwZScpLA0KICAgICAgICBkaWN0UmVzcG9uc2VFcnJvcjogdGhpcy4kdCgnZHJvcHpvbmUucmVzcG9uc2VFcnJvcicsIHsgc3RhdHVzQ29kZTogJ3tzdGF0dXNDb2RlfScgfSksDQogICAgICAgIGRpY3RDYW5jZWxVcGxvYWQ6IHRoaXMuJHQoJ8OXJyksDQogICAgICAgIGRpY3RDYW5jZWxVcGxvYWRDb25maXJtYXRpb246IHRoaXMuJHQoJ2Ryb3B6b25lLmNhbmNlbFVwbG9hZENvbmZpcm1hdGlvbicpLA0KICAgICAgICBkaWN0UmVtb3ZlRmlsZTogdGhpcy4kdCgnw5cnKSwNCiAgICAgICAgZGljdE1heEZpbGVzRXhjZWVkZWQ6IHRoaXMuJHQoJ2Ryb3B6b25lLm1heEZpbGVzRXhjZWVkZWQnKSwNCiAgICAgIH0sDQogICAgICB1cGxvYWRlZDogW10sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLm9wdGlvbnMubWF4RmlsZXMgPSB0aGlzLm1heEZpbGVzOw0KICAgIHRoaXMub3B0aW9ucy5tYXhGaWxlc2l6ZSA9IHRoaXMubWF4RmlsZXNpemU7DQogICAgdGhpcy5vcHRpb25zLmFjY2VwdGVkRmlsZXMgPSB0aGlzLm1pbWVzOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2VuZXJhdGVVVUlEKCkgew0KICAgICAgbGV0IGR0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7DQogICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgew0KICAgICAgICBjb25zdCByID0gKGR0ICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsNCiAgICAgICAgZHQgPSBNYXRoLmZsb29yKGR0IC8gMTYpOw0KICAgICAgICByZXR1cm4gKGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCkpLnRvU3RyaW5nKDE2KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgcmVtb3ZlKGZpbGUpIHsNCiAgICAgIHRoaXMudXBsb2FkZWQgPSB0aGlzLnVwbG9hZGVkLmZpbHRlcihmID0+IGYudXVpZCAhPT0gKGZpbGUudXBsb2FkICYmIGZpbGUudXBsb2FkLnV1aWQgPyBmaWxlLnVwbG9hZC51dWlkIDogZmlsZS51dWlkKSkNCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy51cGxvYWRlZCkNCiAgICB9LA0KICAgIHVwbG9hZERvbmUoZmlsZSkgew0KICAgICAgdGhpcy51cGxvYWRlZC5wdXNoKA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGZpbGU6IGZpbGUsDQogICAgICAgICAgICB1dWlkOiBmaWxlLnVwbG9hZCAmJiBmaWxlLnVwbG9hZC51dWlkID8gZmlsZS51cGxvYWQudXVpZCA6IGZpbGUudXVpZCwNCiAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZQ0KICAgICAgICAgIH0NCiAgICAgICkNCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy51cGxvYWRlZCk7DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGJhc2VXcmFwcGVyQ2xhc3MoKXsNCiAgICAgIHJldHVybiB0aGlzLndyYXBwZXJDbGFzc2VzICsgKHRoaXMubGFiZWxPblRvcCA/ICcnIDogJyBiYXNlLWlucHV0LXdyYXBwZXIgYmFzZS1mb3JtLWlucHV0IGJhc2UtZm9ybS1jb21wb25lbnQnKQ0KICAgIH0sDQogIH0NCn07DQo="},{"version":3,"sources":["BaseFileUploaderWithValidation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseFileUploaderWithValidation.vue","sourceRoot":"src/components/base","sourcesContent":["<template>\r\n  <div :class=\"baseWrapperClass\">\r\n    <label class=\"base-form-component__label\" :style=\"!labelOnTop ? 'margin-bottom: 0rem' : ''\">{{ label }}</label>\r\n\r\n    <vue-dropzone\r\n        v-bind=\"$attrs\"\r\n        v-on=\"$listeners\"\r\n        :id=\"`base-dropzone-${label}`\"\r\n        ref=\"dropzone\"\r\n        class=\"base-form-component__main-form-element base-dropzone\"\r\n        :options=\"options\"\r\n        @vdropzone-file-added=\"uploadDone\"\r\n        @vdropzone-removed-file='remove'\r\n        :destroyDropzone=\"true\"\r\n    ></vue-dropzone>\r\n\r\n    <!-- INVALID FEEDBACK -->\r\n    <b-form-invalid-feedback\r\n        v-if=\"!hideErrorMsg\"\r\n        :style=\"{'display': 'block', 'margin-top': '.15rem'}\"\r\n        class=\"base-form-component__invalid-feedback\"\r\n    >\r\n      <!-- {{ validationContext.errors[0] }} -->\r\n    </b-form-invalid-feedback>\r\n    <!-- HELP TEXT -->\r\n    <b-form-text v-if=\"infoMsg\" class=\"base-form-component__info-msg\">\r\n      {{ infoMsg }}\r\n    </b-form-text>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\n\r\nexport default {\r\n  name: \"BaseFileUploaderWithValidation\",\r\n  components: {\r\n    vueDropzone: vue2Dropzone\r\n  },\r\n  props: {\r\n    labelOnTop: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    wrapperClasses: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    hideErrorMsg: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    infoMsg: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    label: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    maxFiles: {\r\n      default: 5,\r\n    },\r\n    maxFilesize: {\r\n      default: 10,\r\n    },\r\n    mimes: {\r\n      default: null,\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      options: {\r\n        url: process.env.BASE_URL,\r\n        maxFiles: 5,\r\n        maxFilesize: 10,\r\n        acceptedFiles: null,\r\n        addRemoveLinks: true,\r\n        autoProcessQueue: false,\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n        },\r\n        dictDefaultMessage: this.$t('dropzone.defaultMessage'),\r\n        dictFallbackMessage: this.$t('dropzone.fallbackMessage'),\r\n        dictFallbackText: this.$t('dropzone.fallbackText'),\r\n        dictFileTooBig: this.$t('dropzone.fileTooBig', {\r\n          filesize: '{filesize}',\r\n          maxFilesize: '{maxFilesize}'\r\n        }),\r\n        dictInvalidFileType: this.$t('dropzone.invalidFileType'),\r\n        dictResponseError: this.$t('dropzone.responseError', { statusCode: '{statusCode}' }),\r\n        dictCancelUpload: this.$t('×'),\r\n        dictCancelUploadConfirmation: this.$t('dropzone.cancelUploadConfirmation'),\r\n        dictRemoveFile: this.$t('×'),\r\n        dictMaxFilesExceeded: this.$t('dropzone.maxFilesExceeded'),\r\n      },\r\n      uploaded: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.options.maxFiles = this.maxFiles;\r\n    this.options.maxFilesize = this.maxFilesize;\r\n    this.options.acceptedFiles = this.mimes;\r\n  },\r\n  methods: {\r\n    generateUUID() {\r\n      let dt = new Date().getTime();\r\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        const r = (dt + Math.random() * 16) % 16 | 0;\r\n        dt = Math.floor(dt / 16);\r\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n      });\r\n    },\r\n    remove(file) {\r\n      this.uploaded = this.uploaded.filter(f => f.uuid !== (file.upload && file.upload.uuid ? file.upload.uuid : file.uuid))\r\n      this.$emit('input', this.uploaded)\r\n    },\r\n    uploadDone(file) {\r\n      this.uploaded.push(\r\n          {\r\n            file: file,\r\n            uuid: file.upload && file.upload.uuid ? file.upload.uuid : file.uuid,\r\n            name: file.name\r\n          }\r\n      )\r\n      this.$emit('input', this.uploaded);\r\n    }\r\n  },\r\n  computed: {\r\n    baseWrapperClass(){\r\n      return this.wrapperClasses + (this.labelOnTop ? '' : ' base-input-wrapper base-form-input base-form-component')\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n::v-deep.base-dropzone .dz-preview .dz-progress {\r\n  display: none;\r\n}\r\n</style>"]}]}