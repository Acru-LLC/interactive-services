{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\advertisement\\modules\\ad_passport_info\\UpdateItemFiles.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\advertisement\\modules\\ad_passport_info\\UpdateItemFiles.vue","mtime":1667352074395},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBNQUlOX0FQSV9VUkwgPSAnY29udHJhY3Rvci1hZHZlcnRpc2luZy1jb25zdHJ1Y3Rpb24nDQpjb25zdCBBUFBFTkRfQVBJX1VSTF9GT1JfR09WRVJOTUVOVCA9ICdmaXJzdC1hZ2VudC1maWxlcycNCmNvbnN0IEFQUEVORF9BUElfVVJMX0ZPUl9BR0VOQ1kgPSAnc2Vjb25kLWFnZW50LWZpbGVzJw0KLyoNCiogWU9VIE1VU1QgU0VORCB7eyBNQUlOX0FQSV9VUkwgfX0gVE8gQ1JVRF9TRVJWSUNFICovDQppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiVXBkYXRlSXRlbUZpbGVzIiwNCiAgICAvKg0KICAgICogQ09NUE9ORU5UUyAqLw0KICAgIGNvbXBvbmVudHM6IHsNCiAgICB9LA0KICAgIC8qDQogICAgKiBEQVRBICovDQogICAgZGF0YSAoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwNCiAgICAgICAgICAgIGVkaXRpbmdJdGVtOiB7DQogICAgICAgICAgICAgICAgYWRkcmVzc0R0bzoge30NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcnM6IFtdLA0KICAgICAgICAgICAgYXJjaGl0ZWN0RG9jRmlsZTogW10sDQogICAgICAgICAgICBwaG90b3M6IFtdLA0KICAgICAgICAgICAgcGFzc3BvcnREb2NGaWxlOiBbXSwNCiAgICAgICAgICAgIHBhc3Nwb3J0UGhvdG86IFtdLA0KICAgICAgICAgICAgcGF5bWVudERvY0ZpbGU6IFtdDQogICAgICAgIH0NCiAgICB9LA0KICAgIC8qDQogICAgKiBDT01QVVRFRCAqLw0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIGlzTW9kZUNyZWF0ZSAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PSAnQ3JlYXRlQWRQYXNzcG9ydEluZm9CeUFnZW5jeScgfHwgdGhpcy4kcm91dGUubmFtZSA9PSAnQ3JlYXRlQWRQYXNzcG9ydEluZm9CeUdvdmVybm1lbnQnDQogICAgICAgIH0sDQogICAgICAgIGlzQnlBZ2VuY3kgKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT0gJ1VwZGF0ZUFkUGFzc3BvcnRJbmZvRmlsZXNCeUFnZW5jeScNCiAgICAgICAgfSwNCiAgICAgICAgaXNCeUdvdmVybm1lbnQgKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT0gJ1VwZGF0ZUFkUGFzc3BvcnRJbmZvRmlsZXNCeUdvdmVybm1lbnQnDQogICAgICAgIH0sDQogICAgICAgIGNvbXB1dGVkT2JzZXJ2ZXIgKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJlZnMub2JzZXJ2ZXINCiAgICAgICAgfSwNCiAgICAgICAgLyogbXVsdGlwbGVNaW5pbXVtQ29sbGVjdGlvbnNDb21wdXRlZE9ic2VydmVyICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyZWZzWydtdWx0aXBsZS1taW5pbXVtLWNvbGxlY3Rpb25zLW9ic2VydmVyJ10NCiAgICAgICAgfSwNCiAgICAgICAgc2luZ2xlTWluaW11bUNvbGxlY3Rpb25VcGRhdGVDb21wdXRlZE9ic2VydmVyICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyZWZzWydzaW5nbGUtbWluaW11bS1jb2xsZWN0aW9uLXVwZGF0ZS1vYnNlcnZlciddDQogICAgICAgIH0gKi8NCiAgICB9LA0KICAgIC8qDQogICAgKiBNRVRIT0RTICovDQogICAgbWV0aG9kczogew0KICAgICAgICBnZW5lcmF0ZVVVSUQgKCkgew0KICAgICAgICAgICAgdmFyIGR0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7DQogICAgICAgICAgICB2YXIgdXVpZCA9ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHsNCiAgICAgICAgICAgICAgICB2YXIgciA9IChkdCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7DQogICAgICAgICAgICAgICAgZHQgPSBNYXRoLmZsb29yKGR0IC8gMTYpOw0KICAgICAgICAgICAgICAgIHJldHVybiAoYyA9PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpKS50b1N0cmluZygxNik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiB1dWlkOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBzZXRGaWxlc0Zyb21TZXJ2ZXIgKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNCeUdvdmVybm1lbnQpIHsNCiAgICAgICAgICAgICAgICAvLyBBUkNISVRFQ1RfRE9DX0ZJTEVTDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5hcmNoaXRlY3REb2NGaWxlTGlzdC5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgICAgICAgICBmZXRjaCh0aGlzLnB1YmxpY1BhdGggKyBmLnVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5ibG9iKCkpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigobXlCbG9iKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLm5hbWUgPSBmLm5hbWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXlGaWxlID0gbmV3IEZpbGUoW215QmxvYl0sIGYubmFtZSwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBteUJsb2IudHlwZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLnB1YmxpY1BhdGggKyBmLnVybDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5sb2coZSkpOw0KICAgICAgICAgICAgICAgICAgICAvKiBsZXQgZmlsZSA9IHsgc2l6ZTogZi5zaXplLCBuYW1lOiBmLm5hbWUsIHR5cGU6IGYuY29udGVudFR5cGUsIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkgfTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIGYudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShmaWxlLCB1cmwpOyAqLw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNCeUFnZW5jeSkgew0KICAgICAgICAgICAgICAgIC8vIEFSQ0hJVEVDVF9ET0NfRklMRVMNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmFyY2hpdGVjdERvY0ZpbGVMaXN0LmZvckVhY2goKGYsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGZldGNoKHRoaXMucHVibGljUGF0aCArIGYudXJsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmJsb2IoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChteUJsb2IpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubmFtZSA9IGYubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubGFzdE1vZGlmaWVkID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgZi5uYW1lLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG15QmxvYi50eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIGYudXJsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiBjb25zb2xlLmxvZyhlKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLyogY29uc3QgbW9ja0ZpbGUgPSB7IG5hbWU6IGYubmFtZSwgc2l6ZTogZi5zaXplIH07DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUuZHJvcHpvbmUub3B0aW9ucykgKi8NCiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5hcmNoaXRlY3REb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5maWxlc1tpbmRleF0gPSBmLm5hbWU7DQogICAgICAgICAgICAgICAgICAgIC8qIHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUuZHJvcHpvbmUub3B0aW9ucy5hZGRlZGZpbGUodGhpcy4kcmVmcy5hcmNoaXRlY3REb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZSwgbW9ja0ZpbGUpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLmRyb3B6b25lLm9wdGlvbnMudGh1bWJuYWlsKHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUsIG1vY2tGaWxlLCB0aGlzLnB1YmxpY1BhdGggKyBmLnVybCk7ICovDQogICAgICAgICAgICAgICAgICAgIC8qIG1vY2tGaWxlLnByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2R6LXN1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotY29tcGxldGUnKTsgKi8NCiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGZpbGUgPSBuZXcgRmlsZShbIiJdLCBmLm5hbWUsIHsgdHlwZTogZi5jb250ZW50VHlwZSwgc2l6ZTogZi5zaXplLCBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH0pDQogICAgICAgICAgICAgICAgICAgIC8vIGZpbGUuc2l6ZSA9IGYuc2l6ZQ0KICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZmlsZSA9IHsgc2l6ZTogZi5zaXplLCBuYW1lOiBmLm5hbWUsIHR5cGU6IGYuY29udGVudFR5cGUsIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkgfTsNCiAgICAgICAgICAgICAgICAgICAgLyogbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIGYudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7ICovDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAvLyBPQkpFQ1RfUEhPVE9TDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5vYmplY3RQaG90b0xpc3QuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZmV0Y2godGhpcy5wdWJsaWNQYXRoICsgZi51cmwpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuYmxvYigpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKG15QmxvYikgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gZi5uYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG15RmlsZSA9IG5ldyBGaWxlKFtteUJsb2JdLCBmLm5hbWUsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5wdWJsaWNQYXRoICsgZi51cmw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5waG90b3NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUobXlGaWxlLCB1cmwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IGNvbnNvbGUubG9nKGUpKTsNCiAgICAgICAgICAgICAgICAgICAgLyogbGV0IGZpbGUgPSB7IHNpemU6IGYuc2l6ZSwgbmFtZTogZi5uYW1lLCB0eXBlOiBmLmNvbnRlbnRUeXBlLCB1dWlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpIH07DQogICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLnB1YmxpY1BhdGggKyBmLnVybDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5waG90b3NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUoZmlsZSwgdXJsKTsgKi8NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBQQVNTUE9SVF9ET0NfRklMRQ0KICAgICAgICAgICAgICAgICAgICBmZXRjaCh0aGlzLnB1YmxpY1BhdGggKyB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybC51cmwpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuYmxvYigpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKG15QmxvYikgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubGFzdE1vZGlmaWVkID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwubmFtZSwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBteUJsb2IudHlwZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLnB1YmxpY1BhdGggKyB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybC51cmw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYXNzcG9ydERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5sb2coZSkpOw0KICAgICAgICAgICAgICAgICAgICAvKiBsZXQgcERvY0ZpbGUgPSB7IHNpemU6IHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsLnNpemUsIG5hbWU6IHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsLm5hbWUsIHR5cGU6IHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsLmNvbnRlbnRUeXBlLCB1dWlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpIH07DQogICAgICAgICAgICAgICAgICAgIGxldCBwRG9jRmlsZVVybCA9IHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsLnVybDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYXNzcG9ydERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShwRG9jRmlsZSwgcERvY0ZpbGVVcmwpOyAqLw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIFBBU1NQT1JUX1BIT1RPDQogICAgICAgICAgICAgICAgICAgIGZldGNoKHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC51cmwpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuYmxvYigpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKG15QmxvYikgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsLm5hbWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXlGaWxlID0gbmV3IEZpbGUoW215QmxvYl0sIHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC5uYW1lLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG15QmxvYi50eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC51cmw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYXNzcG9ydFBob3RvVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiBjb25zb2xlLmxvZyhlKSk7DQogICAgICAgICAgICAgICAgICAgIC8qIGxldCBwUGhvdG8gPSB7IHNpemU6IHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC5zaXplLCBuYW1lOiB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwubmFtZSwgdHlwZTogdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsLmNvbnRlbnRUeXBlLCB1dWlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpIH07DQogICAgICAgICAgICAgICAgICAgIGxldCBwUGhvdG9VcmwgPSB0aGlzLnB1YmxpY1BhdGggKyB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBhc3Nwb3J0UGhvdG9VcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUocFBob3RvLCBwUGhvdG9VcmwpOyAqLw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBQQVlNRU5UX0RPQ19GSUxFDQogICAgICAgICAgICAgICAgICAgIGZldGNoKHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwudXJsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmJsb2IoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChteUJsb2IpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubmFtZSA9IHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubGFzdE1vZGlmaWVkID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybC5uYW1lLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG15QmxvYi50eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwudXJsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGF5bWVudERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5sb2coZSkpOw0KICAgICAgICAgICAgICAgICAgICAvKiBsZXQgcGF5bWVudEZpbGUgPSB7IHNpemU6IHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwuc2l6ZSwgbmFtZTogdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybC5uYW1lLCB0eXBlOiB0aGlzLmVkaXRpbmdJdGVtLnBheW1lbnREb2NGaWxlVXJsLmNvbnRlbnRUeXBlLCB1dWlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpIH07DQogICAgICAgICAgICAgICAgICAgIGxldCBwYXltZW50RmlsZVVybCA9IHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBheW1lbnREb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUocGF5bWVudEZpbGUsIHBheW1lbnRGaWxlVXJsKTsgKi8NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNvbGxlY3RFcnIgKGtleSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3JzW2tleV0gIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yc1trZXldOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgfSwNCiAgICAgICAgaGFzRXJyb3IgKGtleSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3JzW2tleV0gIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICAvKiBkYXRhVVJMdG9GaWxlIChkYXRhdXJsLCBmaWxlbmFtZSkgew0KICAgICAgICAgICAgbGV0IGFyciA9IGRhdGF1cmwuc3BsaXQoIiwiKSwNCiAgICAgICAgICAgICAgICBtaW1lID0gYXJyWzBdLm1hdGNoKC86KC4qPyk7LylbMV0sDQogICAgICAgICAgICAgICAgYnN0ciA9IGF0b2IoYXJyWzFdKSwNCiAgICAgICAgICAgICAgICBuID0gYnN0ci5sZW5ndGgsDQogICAgICAgICAgICAgICAgdThhcnIgPSBuZXcgVWludDhBcnJheShuKTsNCg0KICAgICAgICAgICAgd2hpbGUgKG4tLSkgew0KICAgICAgICAgICAgICAgIHU4YXJyW25dID0gYnN0ci5jaGFyQ29kZUF0KG4pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG5ldyBGaWxlKFt1OGFycl0sIGZpbGVuYW1lLCB7IHR5cGU6IG1pbWUgfSk7DQogICAgICAgIH0sICovDQogICAgICAgIG1ha2VBbmRSZXR1cm5Gb3JtRGF0YSAoKSB7DQogICAgICAgICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgICAgICAgaWYgKHRoaXMuaXNCeUdvdmVybm1lbnQpIHsNCiAgICAgICAgICAgICAgICAvKiB0aGlzLmFyY2hpdGVjdERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoImFyY2hpdGVjdERvY0ZpbGVzIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgICAgICAgICAgfSkgKi8NCiAgICAgICAgICAgICAgICB0aGlzLmFyY2hpdGVjdERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoImFyY2hpdGVjdERvY0ZpbGVzIiwgZi5maWxlKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQnlBZ2VuY3kpIHsNCiAgICAgICAgICAgICAgICAvKiB0aGlzLmFyY2hpdGVjdERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoImFyY2hpdGVjdERvY0ZpbGVzIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnBob3Rvcy5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgib2JqZWN0UGhvdG9zIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgiaXNNYWluSW5kZXhGb3JPYmplY3RQaG90b3MiLCB0aGlzLnBob3Rvcy5sZW5ndGggPyAwIDogbnVsbCk7DQoNCiAgICAgICAgICAgICAgICB0aGlzLnBhc3Nwb3J0RG9jRmlsZS5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgicGFzc3BvcnREb2NGaWxlIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnBhc3Nwb3J0UGhvdG8uZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoInBhc3Nwb3J0UGhvdG8iLCB0aGlzLmRhdGFVUkx0b0ZpbGUoZi5maWxlLCBmLm5hbWUpKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoInBheW1lbnREb2NGaWxlIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgICAgICAgICAgfSkgKi8NCiAgICAgICAgICAgICAgICB0aGlzLmFyY2hpdGVjdERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoImFyY2hpdGVjdERvY0ZpbGVzIiwgZi5maWxlKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHRoaXMucGhvdG9zLmZvckVhY2goZiA9PiB7DQogICAgICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJvYmplY3RQaG90b3MiLCBmLmZpbGUpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLy8gZm9ybS5hcHBlbmQoImlzTWFpbkluZGV4Rm9yT2JqZWN0UGhvdG9zIiwgdGhpcy5waG90b3MubGVuZ3RoID8gMCA6IG51bGwpOw0KDQogICAgICAgICAgICAgICAgdGhpcy5wYXNzcG9ydERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoInBhc3Nwb3J0RG9jRmlsZSIsIGYuZmlsZSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnBhc3Nwb3J0UGhvdG8uZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoInBhc3Nwb3J0UGhvdG8iLCBmLmZpbGUpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgdGhpcy5wYXltZW50RG9jRmlsZS5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgicGF5bWVudERvY0ZpbGUiLCBmLmZpbGUpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZm9ybQ0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBzYXZlICgpIHsNCiAgICAgICAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4oYXN5bmMgdmFsaWQgPT4gew0KICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoKCF0aGlzLnBhc3Nwb3J0UGhvdG8gJiYgIXRoaXMucGFzc3BvcnREb2NGaWxlKSB8fCAoKHRoaXMucGFzc3BvcnRQaG90byA/ICF0aGlzLnBhc3Nwb3J0UGhvdG8ubGVuZ3RoIDogdHJ1ZSkgJiYgKHRoaXMucGFzc3BvcnREb2NGaWxlID8gIXRoaXMucGFzc3BvcnREb2NGaWxlLmxlbmd0aCA6IHRydWUpKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QodGhpcy4kdCgnbWVzc2FnZXMuZmlsbF9hZF9wYXNzcG9ydF9kb2Nfb3JfcGhvdG8nKSwgeyB0eXBlOiAnZXJyb3InIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNCeUFnZW5jeSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY3J1ZEFuZExpc3RzU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlRmlsZUVudGl0eShgc2Vjb25kLWFnZW50LWZpbGVzLyR7dGhpcy4kcm91dGUucGFyYW1zLmlkfWAsIHRoaXMubWFrZUFuZFJldHVybkZvcm1EYXRhKCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCh0aGlzLiR0KCdtZXNzYWdlcy5zYXZlZF9zdWNjZXNzZnVsbHknKSwgeyB0eXBlOiAnc3VjY2VzcycgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiBjb25zb2xlLmxvZyhlKSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0J5R292ZXJubWVudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY3J1ZEFuZExpc3RzU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlRmlsZUVudGl0eShgZmlyc3QtYWdlbnQtZmlsZXMvJHt0aGlzLiRyb3V0ZS5wYXJhbXMuaWR9YCwgdGhpcy5tYWtlQW5kUmV0dXJuRm9ybURhdGEoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7IHR5cGU6ICdzdWNjZXNzJyB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IGNvbnNvbGUubG9nKGUpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsgdHlwZTogJ2Vycm9yJyB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgLyoNCiAgICAqIENSRUFURUQgKi8NCiAgICBhc3luYyBjcmVhdGVkICgpIHsNCiAgICAgICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfR0xPQkFMX0xPQURJTkcnLCB0cnVlKQ0KICAgICAgICBhd2FpdCBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEJ5SWQoTUFJTl9BUElfVVJMLCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHRydWUsIG51bGwsIHRoaXMuaXNCeUdvdmVybm1lbnQgPyBBUFBFTkRfQVBJX1VSTF9GT1JfR09WRVJOTUVOVCA6IHRoaXMuaXNCeUFnZW5jeSA/IEFQUEVORF9BUElfVVJMX0ZPUl9BR0VOQ1kgOiBmYWxzZSkNCiAgICAgICAgICAgIC50aGVuKGFzeW5jIHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbSA9IHJlcy5kYXRhDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRGaWxlc0Zyb21TZXJ2ZXIoKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9HTE9CQUxfTE9BRElORycsIGZhbHNlKQ0KICAgICAgICAgICAgfSkNCiAgICB9LA0KICAgIC8qDQogICAgV0FUQ0ggKi8NCiAgICB3YXRjaDogew0KICAgICAgICB2ZWVFcnJvcnM6IHsNCiAgICAgICAgICAgIGhhbmRsZXIgKHZhbCwgb2xkVmFsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTsNCiAgICAgICAgICAgICAgICB2YWwuaXRlbXMubWFwKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLyogaWYgKHRoaXMuZmllbGRzLmhhc093blByb3BlcnR5KGVyci5maWVsZCkgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yc1tlcnIuZmllbGRdID0gZXJyLm1zZzsNCiAgICAgICAgICAgICAgICAgICAgfSAqLw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRlZXA6IHRydWUsDQogICAgICAgIH0sDQogICAgfQ0KfQ0K"},{"version":3,"sources":["UpdateItemFiles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateItemFiles.vue","sourceRoot":"src/modules/advertisement/modules/ad_passport_info","sourcesContent":["<template>\r\n    <base-create-or-update-wrapper\r\n        @save=\"save\"\r\n        has-save-suspend\r\n        :custom-title=\"(isModeCreate ? $t('actions.create') : $t('column.passport_number') + ': ' + editingItem.passportNumber)\"\r\n    >\r\n        <ValidationObserver\r\n            ref=\"observer\"\r\n            v-slot=\"{}\"\r\n        >\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        name=\"architecDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"architectDocUploader\"\r\n                                v-model=\"architectDocFile\"\r\n                                data-vv-name=\"architecDocFile\"\r\n                                data-vv-as=\"ArchitecDocFile\"\r\n                                :max-files=\"5\"\r\n                                :has-error=\"hasError('mandat')\"\r\n                                :error=\"collectErr('mandat')\"\r\n                                :label=\"$t('column.ad_construction_drawing')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"photos\"\r\n                        rules=\"\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"photosUploader\"\r\n                                v-model=\"photos\"\r\n                                :max-files=\"null\"\r\n                                :max-fileSize=\"null\"\r\n                                data-vv-name=\"photos\"\r\n                                data-vv-as=\"Photos\"\r\n                                :has-error=\"hasError('photos')\"\r\n                                :error=\"collectErr('photos')\"\r\n                                :label=\"$t('column.ad_construction_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"passportDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"passportDocUploader\"\r\n                                v-model=\"passportDocFile\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"passportDocFile\"\r\n                                data-vv-as=\"PassportDocFile\"\r\n                                :has-error=\"hasError('passportDocFile')\"\r\n                                :error=\"collectErr('passportDocFile')\"\r\n                                :label=\"$t('column.ad_construction_passport_doc_file')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"paymentDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"paymentDocUploader\"\r\n                                v-model=\"paymentDocFile\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"paymentDocFile\"\r\n                                data-vv-as=\"PaymentDocFile\"\r\n                                :has-error=\"hasError('paymentDocFile')\"\r\n                                :error=\"collectErr('paymentDocFile')\"\r\n                                :label=\"$t('column.ad_construction_monthly_income_doc_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"passportPhoto\"\r\n                        rules=\"\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"passportPhotoUploader\"\r\n                                v-model=\"passportPhoto\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"passportPhoto\"\r\n                                data-vv-as=\"PassportPhoto\"\r\n                                :has-error=\"hasError('passportPhoto')\"\r\n                                :error=\"collectErr('passportPhoto')\"\r\n                                :label=\"$t('column.ad_construction_passport_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n\r\n                </b-col>\r\n            </b-row>\r\n\r\n        </ValidationObserver>\r\n    </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'contractor-advertising-construction'\r\nconst APPEND_API_URL_FOR_GOVERNMENT = 'first-agent-files'\r\nconst APPEND_API_URL_FOR_AGENCY = 'second-agent-files'\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\n\r\nexport default {\r\n    name: \"UpdateItemFiles\",\r\n    /*\r\n    * COMPONENTS */\r\n    components: {\r\n    },\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            publicPath: process.env.BASE_URL,\r\n            editingItem: {\r\n                addressDto: {}\r\n            },\r\n            errors: [],\r\n            architectDocFile: [],\r\n            photos: [],\r\n            passportDocFile: [],\r\n            passportPhoto: [],\r\n            paymentDocFile: []\r\n        }\r\n    },\r\n    /*\r\n    * COMPUTED */\r\n    computed: {\r\n        isModeCreate () {\r\n            return this.$route.name == 'CreateAdPassportInfoByAgency' || this.$route.name == 'CreateAdPassportInfoByGovernment'\r\n        },\r\n        isByAgency () {\r\n            return this.$route.name == 'UpdateAdPassportInfoFilesByAgency'\r\n        },\r\n        isByGovernment () {\r\n            return this.$route.name == 'UpdateAdPassportInfoFilesByGovernment'\r\n        },\r\n        computedObserver () {\r\n            return this.$refs.observer\r\n        },\r\n        /* multipleMinimumCollectionsComputedObserver () {\r\n            return this.$refs['multiple-minimum-collections-observer']\r\n        },\r\n        singleMinimumCollectionUpdateComputedObserver () {\r\n            return this.$refs['single-minimum-collection-update-observer']\r\n        } */\r\n    },\r\n    /*\r\n    * METHODS */\r\n    methods: {\r\n        generateUUID () {\r\n            var dt = new Date().getTime();\r\n            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = (dt + Math.random() * 16) % 16 | 0;\r\n                dt = Math.floor(dt / 16);\r\n                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n            });\r\n            return uuid;\r\n        },\r\n        async setFilesFromServer () {\r\n            if (this.isByGovernment) {\r\n                // ARCHITECT_DOC_FILES\r\n                this.editingItem.architectDocFileList.forEach(f => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    let url = this.publicPath + f.url;\r\n                    this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(file, url); */\r\n                })\r\n            } else if (this.isByAgency) {\r\n                // ARCHITECT_DOC_FILES\r\n                this.editingItem.architectDocFileList.forEach((f, index) => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n\r\n                    /* const mockFile = { name: f.name, size: f.size };\r\n                    console.log(this.$refs.architectDocUploader.$refs.dropzone.dropzone.options) */\r\n                    // this.$refs.architectDocUploader.$refs.dropzone.files[index] = f.name;\r\n                    /* this.$refs.architectDocUploader.$refs.dropzone.dropzone.options.addedfile(this.$refs.architectDocUploader.$refs.dropzone, mockFile);\r\n                    this.$refs.architectDocUploader.$refs.dropzone.dropzone.options.thumbnail(this.$refs.architectDocUploader.$refs.dropzone, mockFile, this.publicPath + f.url); */\r\n                    /* mockFile.previewElement.classList.add('dz-success');\r\n                    mockFile.previewElement.classList.add('dz-complete'); */\r\n                    // let file = new File([\"\"], f.name, { type: f.contentType, size: f.size, lastModified: new Date().getTime() })\r\n                    // file.size = f.size\r\n                    // let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    /* let url = this.publicPath + f.url;\r\n                    this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url); */\r\n                })\r\n                // OBJECT_PHOTOS\r\n                this.editingItem.objectPhotoList.forEach(f => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.photosUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    let url = this.publicPath + f.url;\r\n                    this.$refs.photosUploader.$refs.dropzone.manuallyAddFile(file, url); */\r\n                })\r\n                if (this.editingItem.passportDocFileUrl) {\r\n                    // PASSPORT_DOC_FILE\r\n                    fetch(this.publicPath + this.editingItem.passportDocFileUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.passportDocFileUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.passportDocFileUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.passportDocFileUrl.url;\r\n                            this.$refs.passportDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let pDocFile = { size: this.editingItem.passportDocFileUrl.size, name: this.editingItem.passportDocFileUrl.name, type: this.editingItem.passportDocFileUrl.contentType, uuid: this.generateUUID() };\r\n                    let pDocFileUrl = this.publicPath + this.editingItem.passportDocFileUrl.url;\r\n                    this.$refs.passportDocUploader.$refs.dropzone.manuallyAddFile(pDocFile, pDocFileUrl); */\r\n                }\r\n                if (this.editingItem.passportPhotoUrl) {\r\n                    // PASSPORT_PHOTO\r\n                    fetch(this.publicPath + this.editingItem.passportPhotoUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.passportPhotoUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.passportPhotoUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.passportPhotoUrl.url;\r\n                            this.$refs.passportPhotoUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let pPhoto = { size: this.editingItem.passportPhotoUrl.size, name: this.editingItem.passportPhotoUrl.name, type: this.editingItem.passportPhotoUrl.contentType, uuid: this.generateUUID() };\r\n                    let pPhotoUrl = this.publicPath + this.editingItem.passportPhotoUrl.url;\r\n                    this.$refs.passportPhotoUploader.$refs.dropzone.manuallyAddFile(pPhoto, pPhotoUrl); */\r\n                }\r\n                if (this.editingItem.paymentDocFileUrl) {\r\n                    // PAYMENT_DOC_FILE\r\n                    fetch(this.publicPath + this.editingItem.paymentDocFileUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.paymentDocFileUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.paymentDocFileUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.paymentDocFileUrl.url;\r\n                            this.$refs.paymentDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let paymentFile = { size: this.editingItem.paymentDocFileUrl.size, name: this.editingItem.paymentDocFileUrl.name, type: this.editingItem.paymentDocFileUrl.contentType, uuid: this.generateUUID() };\r\n                    let paymentFileUrl = this.publicPath + this.editingItem.paymentDocFileUrl.url;\r\n                    this.$refs.paymentDocUploader.$refs.dropzone.manuallyAddFile(paymentFile, paymentFileUrl); */\r\n                }\r\n            }\r\n        },\r\n        collectErr (key) {\r\n            if (this.errors[key] !== undefined) {\r\n                return this.errors[key];\r\n            }\r\n            return undefined;\r\n        },\r\n        hasError (key) {\r\n            if (this.errors[key] !== undefined) {\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        /* dataURLtoFile (dataurl, filename) {\r\n            let arr = dataurl.split(\",\"),\r\n                mime = arr[0].match(/:(.*?);/)[1],\r\n                bstr = atob(arr[1]),\r\n                n = bstr.length,\r\n                u8arr = new Uint8Array(n);\r\n\r\n            while (n--) {\r\n                u8arr[n] = bstr.charCodeAt(n);\r\n            }\r\n            return new File([u8arr], filename, { type: mime });\r\n        }, */\r\n        makeAndReturnFormData () {\r\n            let form = new FormData();\r\n            if (this.isByGovernment) {\r\n                /* this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", this.dataURLtoFile(f.file, f.name));\r\n                }) */\r\n                this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", f.file);\r\n                })\r\n            } else if (this.isByAgency) {\r\n                /* this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.photos.forEach(f => {\r\n                    form.append(\"objectPhotos\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                form.append(\"isMainIndexForObjectPhotos\", this.photos.length ? 0 : null);\r\n\r\n                this.passportDocFile.forEach(f => {\r\n                    form.append(\"passportDocFile\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.passportPhoto.forEach(f => {\r\n                    form.append(\"passportPhoto\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.paymentDocFile.forEach(f => {\r\n                    form.append(\"paymentDocFile\", this.dataURLtoFile(f.file, f.name));\r\n                }) */\r\n                this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", f.file);\r\n                })\r\n                this.photos.forEach(f => {\r\n                    form.append(\"objectPhotos\", f.file);\r\n                })\r\n                // form.append(\"isMainIndexForObjectPhotos\", this.photos.length ? 0 : null);\r\n\r\n                this.passportDocFile.forEach(f => {\r\n                    form.append(\"passportDocFile\", f.file);\r\n                })\r\n                this.passportPhoto.forEach(f => {\r\n                    form.append(\"passportPhoto\", f.file);\r\n                })\r\n                this.paymentDocFile.forEach(f => {\r\n                    form.append(\"paymentDocFile\", f.file);\r\n                })\r\n            }\r\n            return form\r\n        },\r\n        async save () {\r\n            this.computedObserver.validate().then(async valid => {\r\n                if (valid) {\r\n                    if ((!this.passportPhoto && !this.passportDocFile) || ((this.passportPhoto ? !this.passportPhoto.length : true) && (this.passportDocFile ? !this.passportDocFile.length : true))) {\r\n                        this.$toast(this.$t('messages.fill_ad_passport_doc_or_photo'), { type: 'error' });\r\n                        return\r\n                    }\r\n                    if (this.isByAgency) {\r\n                        await crudAndListsService\r\n                            .saveFileEntity(`second-agent-files/${this.$route.params.id}`, this.makeAndReturnFormData())\r\n                            .then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                            .catch(e => console.log(e));\r\n                    } else if (this.isByGovernment) {\r\n                        await crudAndListsService\r\n                            .saveFileEntity(`first-agent-files/${this.$route.params.id}`, this.makeAndReturnFormData())\r\n                            .then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                            .catch(e => console.log(e));\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        }\r\n    },\r\n    /*\r\n    * CREATED */\r\n    async created () {\r\n        // this.$store.commit('SET_GLOBAL_LOADING', true)\r\n        await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, true, null, this.isByGovernment ? APPEND_API_URL_FOR_GOVERNMENT : this.isByAgency ? APPEND_API_URL_FOR_AGENCY : false)\r\n            .then(async res => {\r\n                this.editingItem = res.data\r\n                await this.setFilesFromServer()\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n            .finally(() => {\r\n                // this.$store.commit('SET_GLOBAL_LOADING', false)\r\n            })\r\n    },\r\n    /*\r\n    WATCH */\r\n    watch: {\r\n        veeErrors: {\r\n            handler (val, oldVal) {\r\n                this.errors = [];\r\n                val.items.map((err) => {\r\n                    /* if (this.fields.hasOwnProperty(err.field) !== -1) {\r\n                        this.errors[err.field] = err.msg;\r\n                    } */\r\n                });\r\n            },\r\n            deep: true,\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.col-form-label {\r\n    padding-top: 0;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n}\r\n\r\n.dz-remove {\r\n    display: inline-block !important;\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n\r\n    position: absolute;\r\n    top: 5px;\r\n    right: 5px;\r\n    z-index: 1000;\r\n\r\n    font-size: 1.2em !important;\r\n    line-height: 1em;\r\n\r\n    text-align: center;\r\n    font-weight: bold;\r\n    border: 1px solid gray !important;\r\n    border-radius: 1.2em;\r\n    color: gray;\r\n    background-color: white;\r\n    opacity: 0.5;\r\n}\r\n\r\n.dz-remove:hover {\r\n    text-decoration: none !important;\r\n    opacity: 1;\r\n}\r\n</style>\r\n"]}]}