{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\Confirm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\Confirm.vue","mtime":1674799496878},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOw0KDQppbXBvcnQgeyBMTWFwLCBMTWFya2VyLCBMVGlsZUxheWVyIH0gZnJvbSAidnVlMi1sZWFmbGV0IjsNCmltcG9ydCBMIGZyb20gJ2xlYWZsZXQnDQppbXBvcnQgKiBhcyBlc3JpX2dlbyBmcm9tICdlc3JpLWxlYWZsZXQtZ2VvY29kZXInOw0KY29uc3QgTUFJTl9BUElfVVJMID0gJ2UtYXVjdGlvbi1pbmZvJw0KaW1wb3J0IGFwaVNlcnZpY2UgZnJvbSAiLi4vLi4vLi4vLi4vc2hhcmVkL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsNCmltcG9ydCBCYXNlSW5wdXRXaXRoVmFsaWRhdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvYmFzZS9CYXNlSW5wdXRXaXRoVmFsaWRhdGlvbi52dWUiOw0KaW1wb3J0IEJhc2VUZXh0YXJlYVdpdGhWYWxpZGF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9iYXNlL0Jhc2VUZXh0YXJlYVdpdGhWYWxpZGF0aW9uLnZ1ZSI7DQppbXBvcnQgQmFzZURhdGVQaWNrZXJXaXRoVmFsaWRhdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvYmFzZS9CYXNlRGF0ZVBpY2tlcldpdGhWYWxpZGF0aW9uLnZ1ZSI7DQppbXBvcnQgVnVlMkxlYWZsZXRMb2NhdGVjb250cm9sIGZyb20gInZ1ZTItbGVhZmxldC1sb2NhdGVjb250cm9sIjsNCg0KY29uc3QgTXlDdXN0b21NYXJrZXIgPSBMLkljb24uZXh0ZW5kKHsNCiAgb3B0aW9uczogew0KICAgIHNoYWRvd1VybDogbnVsbCwNCiAgICBpY29uQW5jaG9yOiBuZXcgTC5Qb2ludCgxMiwgMzApLA0KICAgIGljb25TaXplOiBuZXcgTC5Qb2ludCgyNCwgMzApLA0KICAgIGljb25Vcmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9tYXAtbWFya2VyLnBuZycpDQogIH0NCn0pOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQ29uZmlybSIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBCYXNlRGF0ZVBpY2tlcldpdGhWYWxpZGF0aW9uLA0KICAgIEJhc2VUZXh0YXJlYVdpdGhWYWxpZGF0aW9uLA0KICAgIEJhc2VJbnB1dFdpdGhWYWxpZGF0aW9uLA0KICAgIExNYXAsDQogICAgTFRpbGVMYXllciwNCiAgICAndi1sb2NhdGVjb250cm9sJzogVnVlMkxlYWZsZXRMb2NhdGVjb250cm9sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNlbnRlcjogTC5sYXRMbmcoNDEuMzgxMTY2LCA2NC41NzM1ODE5KSwNCiAgICAgIG1hcmtlcjogbnVsbCwNCiAgICAgIHVybDogImh0dHA6Ly97c30udGlsZS5vc20ub3JnL3t6fS97eH0ve3l9LnBuZyIsDQogICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPSJodHRwOi8vb3NtLm9yZy9jb3B5cmlnaHQiPk9TTTwvYT4nLA0KICAgICAgaXRlbTogbnVsbCwNCiAgICAgIGhhc05leHRQYWdlQ29udHJhY3RvcnM6IGZhbHNlLA0KICAgICAgaXNMb2FkaW5nQ29udHJhY3RvcnM6IGZhbHNlLA0KICAgICAgY29udHJhY3RvcnM6IFtdLA0KICAgICAgY29udHJhY3RvclNlYXJjaFBheWxvYWQ6IHsNCiAgICAgICAgaXRlbXNQZXJQYWdlOiAxMCwNCiAgICAgIH0sDQogICAgICBkZWJvdW5jZTogZmFsc2UsDQogICAgICBmb3JtOiB7DQogICAgICAgIGVBdWN0aW9uSW5mb0lkOiBudWxsLA0KICAgICAgICBjb250cmFjdG9ySWQ6IG51bGwsDQogICAgICAgIHBhc3Nwb3J0TnVtYmVyOiBudWxsLA0KICAgICAgICBwYXNzcG9ydEV4cGlyZURhdGU6IG51bGwsDQogICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLA0KICAgICAgICBsYXROdW1iZXI6IG51bGwsDQogICAgICAgIGxuZ051bWJlcjogbnVsbCwNCiAgICAgIH0sDQogICAgICBzdGF0dXNlczogW10NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdmlld0l0ZW1zKCkgew0KICAgICAgbGV0IHJlc3VsdCA9IFtdOw0KICAgICAgaWYgKCF0aGlzLml0ZW0pIHJldHVybiByZXN1bHQ7DQogICAgICBmb3IgKGNvbnN0IGluZGV4IGluIHRoaXMuaXRlbSkgew0KICAgICAgICBpZiAodGhpcy5sYWJlbHNbaW5kZXhdKSB7DQogICAgICAgICAgcmVzdWx0LnB1c2goew0KICAgICAgICAgICAgbGFiZWw6IHRoaXMubGFiZWxzW2luZGV4XSwNCiAgICAgICAgICAgIHZhbHVlOiB0aGlzLml0ZW1baW5kZXhdLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQogICAgbGFiZWxzKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgYWRkcmVzczogICAgIHRoaXMuJHQoJ3N1Ym1vZHVsZXMuaW50ZWdyYXRpb24uZV9hdWN0aW9uX2luZm8uYWRkcmVzcycpLA0KICAgICAgICBhcmVhOiAgICAgICAgdGhpcy4kdCgnc3VibW9kdWxlcy5pbnRlZ3JhdGlvbi5lX2F1Y3Rpb25faW5mby5hcmVhJyksDQogICAgICAgIGxvdDogICAgICAgICB0aGlzLiR0KCdzdWJtb2R1bGVzLmludGVncmF0aW9uLmVfYXVjdGlvbl9pbmZvLmxvdCcpLA0KICAgICAgICBvdmVyX3RpbWU6ICAgdGhpcy4kdCgnc3VibW9kdWxlcy5pbnRlZ3JhdGlvbi5lX2F1Y3Rpb25faW5mby5vdmVyX3RpbWUnKSwNCiAgICAgICAgcHJpY2U6ICAgICAgIHRoaXMuJHQoJ3N1Ym1vZHVsZXMuaW50ZWdyYXRpb24uZV9hdWN0aW9uX2luZm8ucHJpY2UnKSwNCiAgICAgICAgcHJvcGVydHk6ICAgIHRoaXMuJHQoJ3N1Ym1vZHVsZXMuaW50ZWdyYXRpb24uZV9hdWN0aW9uX2luZm8ucHJvcGVydHknKSwNCiAgICAgICAgcmVnaW9uOiAgICAgIHRoaXMuJHQoJ3N1Ym1vZHVsZXMuaW50ZWdyYXRpb24uZV9hdWN0aW9uX2luZm8ucmVnaW9uJyksDQogICAgICAgIHdpbl9hbW91bnQ6ICB0aGlzLiR0KCdzdWJtb2R1bGVzLmludGVncmF0aW9uLmVfYXVjdGlvbl9pbmZvLndpbl9hbW91bnQnKSwNCiAgICAgICAgd2lubmVyOiAgICAgIHRoaXMuJHQoJ3N1Ym1vZHVsZXMuaW50ZWdyYXRpb24uZV9hdWN0aW9uX2luZm8ud2lubmVyJyksDQogICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZE9ic2VydmVyKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHJlZnMub2JzZXJ2ZXINCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhZGRNYXJrZXIgKGUpIHsNCiAgICAgIGlmICh0aGlzLm1hcmtlcikgew0KICAgICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLm1hcmtlcik7DQogICAgICB9DQogICAgICB0aGlzLmZvcm0ubGF0TnVtYmVyID0gZS5sYXRsbmcubGF0DQogICAgICB0aGlzLmZvcm0ubG5nTnVtYmVyID0gZS5sYXRsbmcubG5nDQogICAgICB0aGlzLm1hcmtlciA9IG5ldyBMLk1hcmtlcihlLmxhdGxuZywgeyBpY29uOiBuZXcgTXlDdXN0b21NYXJrZXIoKSB9KS5hZGRUbyh0aGlzLm1hcCk7DQogICAgfSwNCiAgICBhc3luYyBnZXRCeUlkKCkgew0KICAgICAgY29uc3QgeyBlQXVjdGlvbkluZm9JZCB9ID0gdGhpcy5mb3JtDQogICAgICBhd2FpdCBhcGlTZXJ2aWNlLmdldChNQUlOX0FQSV9VUkwgKyAnL2dldC8nICsgZUF1Y3Rpb25JbmZvSWQsIHRydWUpDQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICB0aGlzLml0ZW0gPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgfSkNCiAgICB9LA0KICAgIGNvbnRyYWN0b3JSZWFjaGVkRW5kT2ZMaXN0KGUpIHsNCiAgICAgIGlmIChlICYmICF0aGlzLmlzTG9hZGluZ0NvbnRyYWN0b3JzKSB7DQogICAgICAgIHRoaXMuZmV0Y2hDb250cmFjdG9ycygpDQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBkZWJvdW5jZVNlYXJjaENvbnRyYWN0b3JzKHNlYXJjaFRleHQpIHsNCiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlKTsNCiAgICAgIHRoaXMuZGVib3VuY2UgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsNCiAgICAgICAgYXdhaXQgdGhpcy5mZXRjaENvbnRyYWN0b3JzV2l0aEtleXdvcmQoc2VhcmNoVGV4dCk7DQogICAgICB9LCAxMDAwKTsNCiAgICB9LA0KICAgIGZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZChrZXl3b3JkLCBtYWtlRmlyc3RTZWxlY3RlZCA9IGZhbHNlKSB7DQogICAgICB0aGlzLmNvbnRyYWN0b3JzID0gW10NCiAgICAgIHRoaXMuY29udHJhY3RvclNlYXJjaFBheWxvYWQucGFnZSA9IDENCiAgICAgIHRoaXMuY29udHJhY3RvclNlYXJjaFBheWxvYWQua2V5d29yZCA9IGtleXdvcmQgPyBrZXl3b3JkIDogJycNCiAgICAgIHRoaXMuZmV0Y2hDb250cmFjdG9ycyhtYWtlRmlyc3RTZWxlY3RlZCkNCiAgICB9LA0KICAgIGFzeW5jIGZldGNoQ29udHJhY3RvcnMobWFrZUZpcnN0U2VsZWN0ZWQpIHsNCiAgICAgIHRoaXMuaXNMb2FkaW5nQ29udHJhY3RvcnMgPSB0cnVlDQogICAgICBhd2FpdCBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3RXaXRoS2V5d29yZCgnY29udHJhY3RvcicsIHRoaXMuY29udHJhY3RvclNlYXJjaFBheWxvYWQsICdieS1jb250cmFjdG9yJywgIXRoaXMuY3VzdG9tSXNNb2RlQ3JlYXRlKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmNvbnRyYWN0b3JzLnB1c2goLi4ucmVzLmRhdGEubGlzdCkNCiAgICAgICAgICAgIHRoaXMuaGFzTmV4dFBhZ2VDb250cmFjdG9ycyA9IHJlcy5kYXRhLnRvdGFsIC8gdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5pdGVtc1BlclBhZ2UgPiB0aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnBhZ2UNCiAgICAgICAgICAgIHRoaXMuY29udHJhY3RvclNlYXJjaFBheWxvYWQucGFnZSArPSAxDQogICAgICAgICAgICBpZiAobWFrZUZpcnN0U2VsZWN0ZWQpIHsNCiAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5wYXJlbnRJZCA9IHRoaXMuY29udHJhY3RvcnMubGVuZ3RoID8gdGhpcy5jb250cmFjdG9yc1swXS5pZCA6IG51bGwNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICB0aGlzLmNvbnRyYWN0b3JzID0gW10NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nQ29udHJhY3RvcnMgPSBmYWxzZQ0KICAgICAgICAgIH0pDQogICAgfSwNCiAgICBjdXN0b21MYWJlbENvbnRyYWN0b3Iob3B0KSB7DQogICAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLmNvbnRyYWN0b3JzLmZpbmQoZSA9PiBlLmlkID09PSBvcHQpOw0KICAgICAgaWYgKHNlbGVjdGVkKSB7DQogICAgICAgIHJldHVybiBgJHtzZWxlY3RlZC5mdWxsTmFtZX1gDQogICAgICB9DQogICAgICByZXR1cm4gYGA7DQogICAgfSwNCiAgICBzYXZlKCkgew0KICAgICAgdGhpcy5jb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbih2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCAmJiB0aGlzLmZvcm0ubGF0TnVtYmVyICYmIHRoaXMuZm9ybS5sbmdOdW1iZXIpIHsNCiAgICAgICAgICBhcGlTZXJ2aWNlLnBvc3QoTUFJTl9BUElfVVJMICsgYC9jb25maXJtYCwgdGhpcy5mb3JtLCB0cnVlKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKQ0KICAgICAgICAgICAgdGhpcy5mb3JtID0gew0KICAgICAgICAgICAgICBlQXVjdGlvbkluZm9JZDogbnVsbCwNCiAgICAgICAgICAgICAgY29udHJhY3RvcklkOiBudWxsLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkNCiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7IHR5cGU6ICdzdWNjZXNzJyB9KTsNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsgdHlwZTogJ2Vycm9yJyB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfQ0KICB9LA0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIHRoaXMuZm9ybS5lQXVjdGlvbkluZm9JZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgICBhd2FpdCB0aGlzLmdldEJ5SWQoKTsNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgIHRoaXMuJHJlZnMubXltYXAubWFwT2JqZWN0LmludmFsaWRhdGVTaXplKCk7DQogICAgICB0aGlzLm1hcCA9IHRoaXMuJHJlZnMubXltYXAubWFwT2JqZWN0Ow0KICAgICAgdGhpcy5mZXRjaENvbnRyYWN0b3JzV2l0aEtleXdvcmQoJycpDQogICAgfSwgNTAwKQ0KICB9DQp9DQo="},{"version":3,"sources":["Confirm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Confirm.vue","sourceRoot":"src/modules/integration/modules/e-auction-info","sourcesContent":["<template>\r\n  <base-create-or-update-wrapper\r\n      :custom-title=\"$t('actions.confirm')\"\r\n      has-save-suspend\r\n      @save=\"save\"\r\n  >\r\n    <ValidationObserver ref=\"observer\" v-slot=\"{}\">\r\n      <b-row class=\"mb-3\">\r\n        <b-col md=\"5\" sm=\"12\">\r\n          <base-multiselect-with-validation\r\n              v-model=\"form.contractorId\"\r\n              required\r\n              label-on-top\r\n              preserve-search\r\n              with-create-addition\r\n              rules=\"required\"\r\n              class=\"required\"\r\n              open-direction=\"bottom\"\r\n              :max-height=\"600\"\r\n              :searchable=\"true\"\r\n              :show-labels=\"false\"\r\n              :custom-styles=\"{display: 'block'}\"\r\n              :clear-on-select=\"false\"\r\n              :internal-search=\"false\"\r\n              :loading=\"isLoadingContractors\"\r\n              :label=\"$t('column.contractor')\"\r\n              :custom-label=\"customLabelContractor\"\r\n              :placeholder=\"$t('column.contractor')\"\r\n              :options=\"contractors.map((e) => e.id)\"\r\n              :has-next-page=\"hasNextPageContractors\"\r\n              @search-change=\"debounceSearchContractors\"\r\n              @reachedEndOfList=\"contractorReachedEndOfList\"\r\n          />\r\n          <br>\r\n          <base-input-with-validation\r\n              v-model=\"form.passportNumber\"\r\n              required\r\n              rules=\"required\"\r\n              class=\"required\"\r\n              label-on-top\r\n              :label=\"$t('column.ad_construction_passport_number')\"\r\n          />\r\n          <br>\r\n          <base-date-picker-with-validation\r\n              v-model=\"form.passportExpireDate\"\r\n              required\r\n              rules=\"required\"\r\n              class=\"required\"\r\n              format=\"DD.MM.YYYY\"\r\n              label-on-top\r\n              :label=\"$t('column.ad_construction_passport_expire_date')\"\r\n              :custom-styles=\"{display: 'block'}\"\r\n          />\r\n          <br>\r\n          <base-textarea-with-validation\r\n              v-model=\"form.description\"\r\n              label-on-top\r\n              :label=\"$t('column.comment')\"\r\n          />\r\n        </b-col>\r\n        <b-col md=\"7\" sm=\"12\">\r\n<!--          <b-table :items=\"viewItems\" hover striped thead-class=\"d-none\" bordered small/>-->\r\n\r\n          <l-map\r\n              :center=\"center\"\r\n              :zoom=\"6\"\r\n              ref=\"mymap\"\r\n              @click=\"addMarker\"\r\n          >\r\n            <l-tile-layer\r\n                :url=\"url\"\r\n                :attribution=\"attribution\"\r\n            ></l-tile-layer>\r\n            <v-locatecontrol />\r\n            <!-- <l-marker :lat-lng=\"center\"></l-marker> -->\r\n          </l-map>\r\n        </b-col>\r\n      </b-row>\r\n    </ValidationObserver>\r\n  </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\";\r\n\r\nimport { LMap, LMarker, LTileLayer } from \"vue2-leaflet\";\r\nimport L from 'leaflet'\r\nimport * as esri_geo from 'esri-leaflet-geocoder';\r\nconst MAIN_API_URL = 'e-auction-info'\r\nimport apiService from \"../../../../shared/services/api.service\";\r\nimport BaseInputWithValidation from \"@/components/base/BaseInputWithValidation.vue\";\r\nimport BaseTextareaWithValidation from \"@/components/base/BaseTextareaWithValidation.vue\";\r\nimport BaseDatePickerWithValidation from \"@/components/base/BaseDatePickerWithValidation.vue\";\r\nimport Vue2LeafletLocatecontrol from \"vue2-leaflet-locatecontrol\";\r\n\r\nconst MyCustomMarker = L.Icon.extend({\r\n  options: {\r\n    shadowUrl: null,\r\n    iconAnchor: new L.Point(12, 30),\r\n    iconSize: new L.Point(24, 30),\r\n    iconUrl: require('@/assets/images/map-marker.png')\r\n  }\r\n});\r\nexport default {\r\n  name: \"Confirm\",\r\n  components: {\r\n    BaseDatePickerWithValidation,\r\n    BaseTextareaWithValidation,\r\n    BaseInputWithValidation,\r\n    LMap,\r\n    LTileLayer,\r\n    'v-locatecontrol': Vue2LeafletLocatecontrol\r\n  },\r\n  data() {\r\n    return {\r\n      center: L.latLng(41.381166, 64.5735819),\r\n      marker: null,\r\n      url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\r\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OSM</a>',\r\n      item: null,\r\n      hasNextPageContractors: false,\r\n      isLoadingContractors: false,\r\n      contractors: [],\r\n      contractorSearchPayload: {\r\n        itemsPerPage: 10,\r\n      },\r\n      debounce: false,\r\n      form: {\r\n        eAuctionInfoId: null,\r\n        contractorId: null,\r\n        passportNumber: null,\r\n        passportExpireDate: null,\r\n        description: null,\r\n        latNumber: null,\r\n        lngNumber: null,\r\n      },\r\n      statuses: []\r\n    }\r\n  },\r\n  computed: {\r\n    viewItems() {\r\n      let result = [];\r\n      if (!this.item) return result;\r\n      for (const index in this.item) {\r\n        if (this.labels[index]) {\r\n          result.push({\r\n            label: this.labels[index],\r\n            value: this.item[index],\r\n          });\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n    labels() {\r\n      return {\r\n        address:     this.$t('submodules.integration.e_auction_info.address'),\r\n        area:        this.$t('submodules.integration.e_auction_info.area'),\r\n        lot:         this.$t('submodules.integration.e_auction_info.lot'),\r\n        over_time:   this.$t('submodules.integration.e_auction_info.over_time'),\r\n        price:       this.$t('submodules.integration.e_auction_info.price'),\r\n        property:    this.$t('submodules.integration.e_auction_info.property'),\r\n        region:      this.$t('submodules.integration.e_auction_info.region'),\r\n        win_amount:  this.$t('submodules.integration.e_auction_info.win_amount'),\r\n        winner:      this.$t('submodules.integration.e_auction_info.winner'),\r\n      }\r\n    },\r\n    computedObserver() {\r\n      return this.$refs.observer\r\n    }\r\n  },\r\n  methods: {\r\n    addMarker (e) {\r\n      if (this.marker) {\r\n        this.map.removeLayer(this.marker);\r\n      }\r\n      this.form.latNumber = e.latlng.lat\r\n      this.form.lngNumber = e.latlng.lng\r\n      this.marker = new L.Marker(e.latlng, { icon: new MyCustomMarker() }).addTo(this.map);\r\n    },\r\n    async getById() {\r\n      const { eAuctionInfoId } = this.form\r\n      await apiService.get(MAIN_API_URL + '/get/' + eAuctionInfoId, true)\r\n          .then((response) => {\r\n            this.item = response.data\r\n          })\r\n    },\r\n    contractorReachedEndOfList(e) {\r\n      if (e && !this.isLoadingContractors) {\r\n        this.fetchContractors()\r\n      }\r\n    },\r\n    async debounceSearchContractors(searchText) {\r\n      clearTimeout(this.debounce);\r\n      this.debounce = setTimeout(async () => {\r\n        await this.fetchContractorsWithKeyword(searchText);\r\n      }, 1000);\r\n    },\r\n    fetchContractorsWithKeyword(keyword, makeFirstSelected = false) {\r\n      this.contractors = []\r\n      this.contractorSearchPayload.page = 1\r\n      this.contractorSearchPayload.keyword = keyword ? keyword : ''\r\n      this.fetchContractors(makeFirstSelected)\r\n    },\r\n    async fetchContractors(makeFirstSelected) {\r\n      this.isLoadingContractors = true\r\n      await crudAndListsService.searchListWithKeyword('contractor', this.contractorSearchPayload, 'by-contractor', !this.customIsModeCreate)\r\n          .then(res => {\r\n            this.contractors.push(...res.data.list)\r\n            this.hasNextPageContractors = res.data.total / this.contractorSearchPayload.itemsPerPage > this.contractorSearchPayload.page\r\n            this.contractorSearchPayload.page += 1\r\n            if (makeFirstSelected) {\r\n              this.editingItem.parentId = this.contractors.length ? this.contractors[0].id : null\r\n            }\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n            this.contractors = []\r\n          })\r\n          .finally(() => {\r\n            this.isLoadingContractors = false\r\n          })\r\n    },\r\n    customLabelContractor(opt) {\r\n      let selected = this.contractors.find(e => e.id === opt);\r\n      if (selected) {\r\n        return `${selected.fullName}`\r\n      }\r\n      return ``;\r\n    },\r\n    save() {\r\n      this.computedObserver.validate().then(valid => {\r\n        if (valid && this.form.latNumber && this.form.lngNumber) {\r\n          apiService.post(MAIN_API_URL + `/confirm`, this.form, true).then(res => {\r\n            this.computedObserver.reset()\r\n            this.form = {\r\n              eAuctionInfoId: null,\r\n              contractorId: null,\r\n            };\r\n            this.$router.go(-1)\r\n            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n          })\r\n        } else {\r\n          this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  async created() {\r\n    this.form.eAuctionInfoId = this.$route.params.id;\r\n    await this.getById();\r\n    setTimeout(() => {\r\n      this.$refs.mymap.mapObject.invalidateSize();\r\n      this.map = this.$refs.mymap.mapObject;\r\n      this.fetchContractorsWithKeyword('')\r\n    }, 500)\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.base-form-component {\r\n  display: block;\r\n}\r\n\r\n.base-form-component__label {\r\n  padding: 10px 0;\r\n}\r\n</style>"]}]}