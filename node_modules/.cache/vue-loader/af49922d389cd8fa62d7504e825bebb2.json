{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\components\\base\\BaseFileUploaderWithValidation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\components\\base\\BaseFileUploaderWithValidation.vue","mtime":1674799498707},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdnVlMkRyb3B6b25lIGZyb20gInZ1ZTItZHJvcHpvbmUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJCYXNlRmlsZVVwbG9hZGVyV2l0aFZhbGlkYXRpb24iLA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgdnVlRHJvcHpvbmU6IHZ1ZTJEcm9wem9uZQ0KICAgIH0sDQogICAgcHJvcHM6IHsNCiAgICAgICAgbGFiZWxPblRvcDogew0KICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgd3JhcHBlckNsYXNzZXM6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnDQogICAgICAgIH0sDQogICAgICAgIGhpZGVFcnJvck1zZzogew0KICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIGluZm9Nc2c6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnDQogICAgICAgIH0sDQogICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICB0eXBlOiBTdHJpbmcsDQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgbWF4RmlsZXM6IHsNCiAgICAgICAgICAgIGRlZmF1bHQ6IDUsDQogICAgICAgIH0sDQogICAgICAgIG1heEZpbGVzaXplOiB7DQogICAgICAgICAgICBkZWZhdWx0OiAxMCwNCiAgICAgICAgfSwNCiAgICAgICAgbWltZXM6IHsNCiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsDQogICAgICAgICAgICB0eXBlOiBTdHJpbmcsDQogICAgICAgIH0sDQogICAgfSwNCiAgICBjcmVhdGVkICgpIHsNCiAgICAgICAgdGhpcy5vcHRpb25zLm1heEZpbGVzID0gdGhpcy5tYXhGaWxlczsNCiAgICAgICAgdGhpcy5vcHRpb25zLm1heEZpbGVzaXplID0gdGhpcy5tYXhGaWxlc2l6ZTsNCiAgICAgICAgdGhpcy5vcHRpb25zLmFjY2VwdGVkRmlsZXMgPSB0aGlzLm1pbWVzOw0KICAgIH0sDQogICAgZGF0YSAoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBvcHRpb25zOiB7DQogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwNCiAgICAgICAgICAgICAgICBtYXhGaWxlczogNSwNCiAgICAgICAgICAgICAgICBtYXhGaWxlc2l6ZTogMTAsDQogICAgICAgICAgICAgICAgYWNjZXB0ZWRGaWxlczogbnVsbCwNCiAgICAgICAgICAgICAgICBhZGRSZW1vdmVMaW5rczogdHJ1ZSwNCiAgICAgICAgICAgICAgICBhdXRvUHJvY2Vzc1F1ZXVlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6IHRoaXMuJHQoJ2Ryb3B6b25lLmRlZmF1bHRNZXNzYWdlJyksDQogICAgICAgICAgICAgICAgZGljdEZhbGxiYWNrTWVzc2FnZTogdGhpcy4kdCgnZHJvcHpvbmUuZmFsbGJhY2tNZXNzYWdlJyksDQogICAgICAgICAgICAgICAgZGljdEZhbGxiYWNrVGV4dDogdGhpcy4kdCgnZHJvcHpvbmUuZmFsbGJhY2tUZXh0JyksDQogICAgICAgICAgICAgICAgZGljdEZpbGVUb29CaWc6IHRoaXMuJHQoJ2Ryb3B6b25lLmZpbGVUb29CaWcnLCB7DQogICAgICAgICAgICAgICAgICAgIGZpbGVzaXplOiAne2ZpbGVzaXplfScsDQogICAgICAgICAgICAgICAgICAgIG1heEZpbGVzaXplOiAne21heEZpbGVzaXplfScNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBkaWN0SW52YWxpZEZpbGVUeXBlOiB0aGlzLiR0KCdkcm9wem9uZS5pbnZhbGlkRmlsZVR5cGUnKSwNCiAgICAgICAgICAgICAgICBkaWN0UmVzcG9uc2VFcnJvcjogdGhpcy4kdCgnZHJvcHpvbmUucmVzcG9uc2VFcnJvcicsIHsgc3RhdHVzQ29kZTogJ3tzdGF0dXNDb2RlfScgfSksDQogICAgICAgICAgICAgICAgZGljdENhbmNlbFVwbG9hZDogdGhpcy4kdCgnw5cnKSwNCiAgICAgICAgICAgICAgICBkaWN0Q2FuY2VsVXBsb2FkQ29uZmlybWF0aW9uOiB0aGlzLiR0KCdkcm9wem9uZS5jYW5jZWxVcGxvYWRDb25maXJtYXRpb24nKSwNCiAgICAgICAgICAgICAgICBkaWN0UmVtb3ZlRmlsZTogdGhpcy4kdCgnw5cnKSwNCiAgICAgICAgICAgICAgICBkaWN0TWF4RmlsZXNFeGNlZWRlZDogdGhpcy4kdCgnZHJvcHpvbmUubWF4RmlsZXNFeGNlZWRlZCcpLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHVwbG9hZGVkOiBbXSwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ2VuZXJhdGVVVUlEICgpIHsNCiAgICAgICAgICAgIHZhciBkdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOw0KICAgICAgICAgICAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7DQogICAgICAgICAgICAgICAgdmFyIHIgPSAoZHQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwOw0KICAgICAgICAgICAgICAgIGR0ID0gTWF0aC5mbG9vcihkdCAvIDE2KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gdXVpZDsNCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlIChmaWxlKSB7DQogICAgICAgICAgICB0aGlzLnVwbG9hZGVkID0gdGhpcy51cGxvYWRlZC5maWx0ZXIoZiA9PiBmLnV1aWQgIT09IChmaWxlLnVwbG9hZCAmJiBmaWxlLnVwbG9hZC51dWlkID8gZmlsZS51cGxvYWQudXVpZCA6IGZpbGUudXVpZCkpDQogICAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMudXBsb2FkZWQpDQogICAgICAgIH0sDQogICAgICAgIC8qIGdldEJhc2U2NCAoZmlsZSkgew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOw0KICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOw0KICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpOw0KICAgICAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZXJyb3IgPT4gcmVqZWN0KGVycm9yKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LCAqLw0KICAgICAgICB1cGxvYWREb25lIChmaWxlKSB7DQogICAgICAgICAgICB0aGlzLnVwbG9hZGVkLnB1c2goDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLA0KICAgICAgICAgICAgICAgICAgICB1dWlkOiBmaWxlLnVwbG9hZCAmJiBmaWxlLnVwbG9hZC51dWlkID8gZmlsZS51cGxvYWQudXVpZCA6IGZpbGUudXVpZCwNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnVwbG9hZGVkKTsNCiAgICAgICAgICAgIC8qIHRoaXMuZ2V0QmFzZTY0KGZpbGUpDQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkZWQucHVzaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBkYXRhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGZpbGUudXBsb2FkLnV1aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnVwbG9hZGVkKTsNCiAgICAgICAgICAgICAgICB9KSAqLw0KICAgICAgICB9DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["BaseFileUploaderWithValidation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseFileUploaderWithValidation.vue","sourceRoot":"src/components/base","sourcesContent":["<template>\r\n    <div :class=\"!labelOnTop ? wrapperClasses + 'base-input-wrapper base-form-input base-form-component' : wrapperClasses\">\r\n        <label\r\n            class=\"base-form-component__label\"\r\n            :style=\"!labelOnTop ? 'margin-bottom: 0rem' : ''\"\r\n        >{{ label }}</label>\r\n\r\n        <vue-dropzone\r\n            v-bind=\"$attrs\"\r\n            v-on=\"$listeners\"\r\n            :id=\"`base-dropzone-${label}`\"\r\n            ref=\"dropzone\"\r\n            class=\"base-form-component__main-form-element base-dropzone\"\r\n            :options=\"options\"\r\n            @vdropzone-file-added=\"uploadDone\"\r\n            @vdropzone-removed-file='remove'\r\n            :destroyDropzone=\"true\"\r\n        ></vue-dropzone>\r\n\r\n        <!-- INVALID FEEDBACK -->\r\n        <b-form-invalid-feedback\r\n            v-if=\"!hideErrorMsg\"\r\n            :style=\"false ? {'display': 'block', 'margin-top': '.15rem'} : {}\"\r\n            class=\"base-form-component__invalid-feedback\"\r\n        >\r\n            <!-- {{ validationContext.errors[0] }} -->\r\n        </b-form-invalid-feedback>\r\n        <!-- HELP TEXT -->\r\n        <b-form-text\r\n            v-if=\"infoMsg\"\r\n            class=\"base-form-component__info-msg\"\r\n        >\r\n            {{ infoMsg }}\r\n        </b-form-text>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nexport default {\r\n    name: \"BaseFileUploaderWithValidation\",\r\n    components: {\r\n        vueDropzone: vue2Dropzone\r\n    },\r\n    props: {\r\n        labelOnTop: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        wrapperClasses: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        hideErrorMsg: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        infoMsg: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        label: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        maxFiles: {\r\n            default: 5,\r\n        },\r\n        maxFilesize: {\r\n            default: 10,\r\n        },\r\n        mimes: {\r\n            default: null,\r\n            type: String,\r\n        },\r\n    },\r\n    created () {\r\n        this.options.maxFiles = this.maxFiles;\r\n        this.options.maxFilesize = this.maxFilesize;\r\n        this.options.acceptedFiles = this.mimes;\r\n    },\r\n    data () {\r\n        return {\r\n            options: {\r\n                url: process.env.BASE_URL,\r\n                maxFiles: 5,\r\n                maxFilesize: 10,\r\n                acceptedFiles: null,\r\n                addRemoveLinks: true,\r\n                autoProcessQueue: false,\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*',\r\n                },\r\n                dictDefaultMessage: this.$t('dropzone.defaultMessage'),\r\n                dictFallbackMessage: this.$t('dropzone.fallbackMessage'),\r\n                dictFallbackText: this.$t('dropzone.fallbackText'),\r\n                dictFileTooBig: this.$t('dropzone.fileTooBig', {\r\n                    filesize: '{filesize}',\r\n                    maxFilesize: '{maxFilesize}'\r\n                }),\r\n                dictInvalidFileType: this.$t('dropzone.invalidFileType'),\r\n                dictResponseError: this.$t('dropzone.responseError', { statusCode: '{statusCode}' }),\r\n                dictCancelUpload: this.$t('×'),\r\n                dictCancelUploadConfirmation: this.$t('dropzone.cancelUploadConfirmation'),\r\n                dictRemoveFile: this.$t('×'),\r\n                dictMaxFilesExceeded: this.$t('dropzone.maxFilesExceeded'),\r\n            },\r\n            uploaded: [],\r\n        };\r\n    },\r\n    methods: {\r\n        generateUUID () {\r\n            var dt = new Date().getTime();\r\n            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = (dt + Math.random() * 16) % 16 | 0;\r\n                dt = Math.floor(dt / 16);\r\n                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n            });\r\n            return uuid;\r\n        },\r\n        remove (file) {\r\n            this.uploaded = this.uploaded.filter(f => f.uuid !== (file.upload && file.upload.uuid ? file.upload.uuid : file.uuid))\r\n            this.$emit('input', this.uploaded)\r\n        },\r\n        /* getBase64 (file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = () => resolve(reader.result);\r\n                reader.onerror = error => reject(error);\r\n            });\r\n        }, */\r\n        uploadDone (file) {\r\n            this.uploaded.push(\r\n                {\r\n                    file: file,\r\n                    uuid: file.upload && file.upload.uuid ? file.upload.uuid : file.uuid,\r\n                    name: file.name\r\n                }\r\n            )\r\n            this.$emit('input', this.uploaded);\r\n            /* this.getBase64(file)\r\n                .then(data => {\r\n                    this.uploaded.push(\r\n                        {\r\n                            file: data,\r\n                            uuid: file.upload.uuid,\r\n                            name: file.name\r\n                        }\r\n                    )\r\n                    this.$emit('input', this.uploaded);\r\n                }) */\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n::v-deep.base-dropzone .dz-preview .dz-progress {\r\n    display: none;\r\n}\r\n</style>"]}]}