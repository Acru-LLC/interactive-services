{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\report\\columns\\report-columns.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\report\\columns\\report-columns.vue","mtime":1674799497887},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgVGFibGUgZnJvbSAiLi9jb21wb25lbnRzL3RhYmxlIjsNCmltcG9ydCBDcmVhdGUgZnJvbSAiLi9jb21wb25lbnRzL2FkZFVwZGF0ZSI7DQppbXBvcnQgQ3JlYXRlV2l0aENoaWxkIGZyb20gIi4vY29tcG9uZW50cy9hZGRVcGRhdGVXaXRoQ2hpbGQudnVlIjsNCg0KaW1wb3J0IFNlcnZpY2UgZnJvbSAiLi4vcmVwb3J0U2VydmljZSI7DQoNCmltcG9ydCBhcHBDb25maWcgZnJvbSAiQC9hcHAuY29uZmlnIjsNCg0KaW1wb3J0IGkxOG4gZnJvbSAiQC9pMThuIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwYWdlOiB7DQogICAgdGl0bGU6IGkxOG4udCgicmVwb3J0Q29sdW1uIiksDQogICAgbWV0YTogW3tuYW1lOiAiZGVzY3JpcHRpb24iLCBjb250ZW50OiBhcHBDb25maWcuZGVzY3JpcHRpb259XSwNCiAgfSwNCiAgY29tcG9uZW50czoge1RhYmxlLCBDcmVhdGUsIENyZWF0ZVdpdGhDaGlsZH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRpdGxlOiB0aGlzLiR0KCJyZXBvcnRDb2x1bW4iKSwNCiAgICAgIGl0ZW1zOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCJIaXNvYm90bGFyIiksDQogICAgICAgICAgaHJlZjogIi8iLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGV4dDogdGhpcy4kdCgicmVwb3J0Q29sdW1uIiksDQogICAgICAgICAgYWN0aXZlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIGxpc3Q6IFtdLA0KICAgICAgc2VhcmNoVmFsdWU6ICIiLA0KICAgICAgcGFnZTogMSwNCiAgICAgIGxpbWl0OiAyMCwNCiAgICAgIHRvdGFsOiAxLA0KICAgICAgc2hvd01vZGFsOiBmYWxzZSwNCiAgICAgIG1vZGU6ICJjcmVhdGUiLA0KICAgICAgY3VycmVudFNvcnQ6ICJibG9jayIsDQogICAgICBjdXJyZW50U29ydERpcjogImFzYyIsDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIGxvYWRlcjogZmFsc2UsDQogICAgICBzaG93TW9kYWxXaXRoQ2hpbGQ6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRMaXN0KCk7DQogIH0sDQogIHdhdGNoOiB7DQogICAgcGFnZSgpIHsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgc2VhcmNoVmFsdWU6IHsNCiAgICAgIGhhbmRsZXIoKSB7DQogICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgfSwNCiAgICB9LA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHBhcmFtcygpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHBhcmFtczogew0KICAgICAgICAgIGxpbWl0OiB0aGlzLmxpbWl0LA0KICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZSAtIDEsDQogICAgICAgIH0sDQogICAgICAgIHNlYXJjaDogdGhpcy5zZWFyY2hWYWx1ZSwNCiAgICAgIH07DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNvcnQocykgew0KICAgICAgaWYgKHMgPT09IHRoaXMuY3VycmVudFNvcnQpIHsNCiAgICAgICAgdGhpcy5jdXJyZW50U29ydERpciA9IHRoaXMuY3VycmVudFNvcnREaXIgPT09ICJhc2MiID8gImRlc2MiIDogImFzYyI7DQogICAgICB9DQogICAgICB0aGlzLmN1cnJlbnRTb3J0ID0gczsNCiAgICB9LA0KICAgIHRvZ2dsZU1vZGFsKHYsIG1vZGUgPSAiY3JlYXRlIiwgaXRlbSkgew0KICAgICAgbGV0IHtzZWxlY3RlZENvbHVtbn0gPSB0aGlzLiRyZWZzLnRhYmxlUmVmOw0KICAgICAgaWYgKHNlbGVjdGVkQ29sdW1uLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5zaG93TW9kYWxXaXRoQ2hpbGQgPSB2Ow0KICAgICAgICB0aGlzLm1vZGUgPSBtb2RlOw0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLmFkZFJlZlNlY29uZC5zZXRGb3JtRGF0YShpdGVtKTsNCiAgICAgICAgfSwgMjAwKTsNCiAgICAgIH0gZWxzZSBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5zaG93TW9kYWxXaXRoQ2hpbGQgPSB2Ow0KICAgICAgICB0aGlzLm1vZGUgPSBtb2RlOw0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLmFkZFJlZlNlY29uZC5zZXRGb3JtRGF0YShpdGVtKTsNCiAgICAgICAgfSwgMjAwKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2hvd01vZGFsID0gdjsNCiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kcmVmcy5hZGRSZWYuc2V0Rm9ybURhdGEoaXRlbSk7DQogICAgICAgIH0sIDIwMCk7DQogICAgICB9DQogICAgfSwNCiAgICBkZWxldGUoaXRlbSkgew0KICAgICAgdGhpcy5jbmYoKS50aGVuKChycykgPT4gew0KICAgICAgICBpZiAocnMudmFsdWUpIHsNCiAgICAgICAgICBTZXJ2aWNlLmRlbGV0ZUNvbHVtbihpdGVtLmlkKQ0KICAgICAgICAgICAgICAudGhlbigocnMpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVN1Y2Nlc3MoKTsNCiAgICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGVycik7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGFjdGlvbkNsaWNrKGFjdGlvbiA9ICIiLCBpdGVtKSB7DQogICAgICBpZiAoYWN0aW9uID09PSAiZGVsZXRlIikgew0KICAgICAgICB0aGlzLmRlbGV0ZShpdGVtKTsNCiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAiZWRpdCIpIHsNCiAgICAgICAgdGhpcy50b2dnbGVNb2RhbCh0cnVlLCBhY3Rpb24sIGl0ZW0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgc3VjY2Vzc0NyZWF0ZUFuZEVkaXQoKSB7DQogICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICJjcmVhdGUiKSB7DQogICAgICAgIHRoaXMuc3VjY2Vzc1NhdmVkKCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnN1Y2Nlc3NFZGl0ZWQoKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuc2hvd01vZGFsID0gZmFsc2U7DQogICAgICB0aGlzLnNob3dNb2RhbFdpdGhDaGlsZCA9IGZhbHNlOw0KICAgIH0sDQogICAgLy9jcmVhdGUNCiAgICBjcmVhdGUoZSkgew0KICAgICAgdGhpcy5sb2FkZXIgPSB0cnVlOw0KICAgICAgbGV0IHtzZWxlY3RlZENvbHVtbn0gPSB0aGlzLiRyZWZzLnRhYmxlUmVmOw0KDQogICAgICBpZiAoc2VsZWN0ZWRDb2x1bW4ubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgY2hpbGRPYmplY3RzID0gc2VsZWN0ZWRDb2x1bW4ubWFwKChlbCwgaW5kZXgpID0+IHsNCiAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgaWQ6IGVsLmlkLA0KICAgICAgICAgICAgaW5kZXg6IGluZGV4LA0KICAgICAgICAgIH07DQogICAgICAgIH0pOw0KICAgICAgICBTZXJ2aWNlLmNyZWF0ZUNvbHVtbldpdGhQYXJlbnQoDQogICAgICAgICAgICB0aGlzLiRyZWZzLmFkZFJlZlNlY29uZC5mb3JtLA0KICAgICAgICAgICAgc2VsZWN0ZWRDb2x1bW4sDQogICAgICAgICAgICBjaGlsZE9iamVjdHMNCiAgICAgICAgKQ0KICAgICAgICAgICAgLnRoZW4oKHJzKSA9PiB7DQogICAgICAgICAgICAgIGlmIChycy5kYXRhKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzQ3JlYXRlQW5kRWRpdCgpOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudGFibGVSZWYucmVzZXQoKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlcnIpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgU2VydmljZS5jcmVhdGVDb2x1bW4odGhpcy4kcmVmcy5hZGRSZWYuZm9ybSkNCiAgICAgICAgICAgIC50aGVuKChycykgPT4gew0KICAgICAgICAgICAgICBpZiAocnMuZGF0YSkgew0KICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc0NyZWF0ZUFuZEVkaXQoKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlUmVmLnJlc2V0KCkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgIC8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMubG9hZGVyID0gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHVwZGF0ZSgpIHsNCiAgICAgIHRoaXMubG9hZGVyID0gdHJ1ZTsNCiAgICAgIGlmICh0aGlzLnNob3dNb2RhbFdpdGhDaGlsZCkgew0KICAgICAgICBTZXJ2aWNlLnVwZGF0ZUNvbHVtbih0aGlzLiRyZWZzLmFkZFJlZlNlY29uZC5mb3JtKQ0KICAgICAgICAgICAgLnRoZW4oKHJzKSA9PiB7DQogICAgICAgICAgICAgIGlmIChycy5kYXRhKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzQ3JlYXRlQW5kRWRpdCgpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlcnIpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgU2VydmljZS51cGRhdGVDb2x1bW4odGhpcy4kcmVmcy5hZGRSZWYuZm9ybSkNCiAgICAgICAgICAgIC50aGVuKChycykgPT4gew0KICAgICAgICAgICAgICBpZiAocnMuZGF0YSkgew0KICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc0NyZWF0ZUFuZEVkaXQoKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgIC8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMubG9hZGVyID0gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIG9rTW9kYWwoYikgew0KICAgICAgYi5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgdGhpcy4kcmVmcy5hZGRSZWYuY29tcHV0ZWRPYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4odmFsaWQgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSB7DQogICAgICAgICAgdGhpcy4kdG9hc3QodGhpcy4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwge3R5cGU6ICdlcnJvcid9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSAiY3JlYXRlIikgew0KICAgICAgICAgICAgdGhpcy5jcmVhdGUoKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAvKiBpZiAoaXNWYWxpZCkgew0KICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT0gImNyZWF0ZSIpIHsNCiAgICAgICAgICAgICAgdGhpcy5jcmVhdGUoKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICAgIH0NCiAgICAgIH0gKi8NCiAgICB9LA0KICAgIG9rTW9kYWxXaXRoQ2hpbGQoYikgew0KICAgICAgYi5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgaWYgKCF0aGlzLiRyZWZzLmFkZFJlZlNlY29uZC5jaGVja1ZhbGlkaXR5KCkpIHsNCiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gImNyZWF0ZSIpIHsNCiAgICAgICAgICB0aGlzLmNyZWF0ZSgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudXBkYXRlKCk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZW50ZXJJbmZvKCk7DQogICAgICB9DQogICAgfSwNCiAgICAvL2xpc3QNCiAgICBnZXRMaXN0KCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIFNlcnZpY2UuZ2V0TGlzdENvbHVtbldpdGhDaGlsZHJlbih0aGlzLnBhcmFtcykNCiAgICAgICAgICAudGhlbigocnMpID0+IHsNCiAgICAgICAgICAgIHRoaXMubGlzdCA9IHJzLmRhdGEubGlzdDsNCiAgICAgICAgICAgIHRoaXMudG90YWwgPSBycy5kYXRhLnRvdGFsOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7DQogICAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGUpOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy50YWJsZVJlZi5yZXNldCgpDQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["report-columns.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"report-columns.vue","sourceRoot":"src/modules/report/columns","sourcesContent":["<script>\r\nimport Table from \"./components/table\";\r\nimport Create from \"./components/addUpdate\";\r\nimport CreateWithChild from \"./components/addUpdateWithChild.vue\";\r\n\r\nimport Service from \"../reportService\";\r\n\r\nimport appConfig from \"@/app.config\";\r\n\r\nimport i18n from \"@/i18n\";\r\n\r\nexport default {\r\n  page: {\r\n    title: i18n.t(\"reportColumn\"),\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {Table, Create, CreateWithChild},\r\n  data() {\r\n    return {\r\n      title: this.$t(\"reportColumn\"),\r\n      items: [\r\n        {\r\n          text: this.$t(\"Hisobotlar\"),\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: this.$t(\"reportColumn\"),\r\n          active: true,\r\n        },\r\n      ],\r\n      list: [],\r\n      searchValue: \"\",\r\n      page: 1,\r\n      limit: 20,\r\n      total: 1,\r\n      showModal: false,\r\n      mode: \"create\",\r\n      currentSort: \"block\",\r\n      currentSortDir: \"asc\",\r\n      loading: false,\r\n      loader: false,\r\n      showModalWithChild: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  watch: {\r\n    page() {\r\n      this.getList();\r\n    },\r\n    searchValue: {\r\n      handler() {\r\n        this.getList();\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    params() {\r\n      return {\r\n        params: {\r\n          limit: this.limit,\r\n          page: this.page - 1,\r\n        },\r\n        search: this.searchValue,\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    sort(s) {\r\n      if (s === this.currentSort) {\r\n        this.currentSortDir = this.currentSortDir === \"asc\" ? \"desc\" : \"asc\";\r\n      }\r\n      this.currentSort = s;\r\n    },\r\n    toggleModal(v, mode = \"create\", item) {\r\n      let {selectedColumn} = this.$refs.tableRef;\r\n      if (selectedColumn.length > 0) {\r\n        this.showModalWithChild = v;\r\n        this.mode = mode;\r\n        setTimeout(() => {\r\n          this.$refs.addRefSecond.setFormData(item);\r\n        }, 200);\r\n      } else if (item.children && item.children.length > 0) {\r\n        this.showModalWithChild = v;\r\n        this.mode = mode;\r\n        setTimeout(() => {\r\n          this.$refs.addRefSecond.setFormData(item);\r\n        }, 200);\r\n      } else {\r\n        this.showModal = v;\r\n        this.mode = mode;\r\n        setTimeout(() => {\r\n          this.$refs.addRef.setFormData(item);\r\n        }, 200);\r\n      }\r\n    },\r\n    delete(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.deleteColumn(item.id)\r\n              .then((rs) => {\r\n                this.deleteSuccess();\r\n                this.getList();\r\n              })\r\n              .catch((err) => {\r\n                // this.catchErr(err);\r\n              });\r\n        }\r\n      });\r\n    },\r\n    actionClick(action = \"\", item) {\r\n      if (action === \"delete\") {\r\n        this.delete(item);\r\n      } else if (action === \"edit\") {\r\n        this.toggleModal(true, action, item);\r\n      }\r\n    },\r\n    successCreateAndEdit() {\r\n      this.getList();\r\n      if (this.mode === \"create\") {\r\n        this.successSaved();\r\n      } else {\r\n        this.successEdited();\r\n      }\r\n      this.showModal = false;\r\n      this.showModalWithChild = false;\r\n    },\r\n    //create\r\n    create(e) {\r\n      this.loader = true;\r\n      let {selectedColumn} = this.$refs.tableRef;\r\n\r\n      if (selectedColumn.length > 0) {\r\n        let childObjects = selectedColumn.map((el, index) => {\r\n          return {\r\n            id: el.id,\r\n            index: index,\r\n          };\r\n        });\r\n        Service.createColumnWithParent(\r\n            this.$refs.addRefSecond.form,\r\n            selectedColumn,\r\n            childObjects\r\n        )\r\n            .then((rs) => {\r\n              if (rs.data) {\r\n                this.successCreateAndEdit();\r\n                this.$refs.tableRef.reset()\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              // this.catchErr(err);\r\n            })\r\n            .finally(() => {\r\n              this.loader = false;\r\n            });\r\n      } else {\r\n        Service.createColumn(this.$refs.addRef.form)\r\n            .then((rs) => {\r\n              if (rs.data) {\r\n                this.successCreateAndEdit();\r\n                this.$refs.tableRef.reset()\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              // this.catchErr(err);\r\n            })\r\n            .finally(() => {\r\n              this.loader = false;\r\n            });\r\n      }\r\n    },\r\n    update() {\r\n      this.loader = true;\r\n      if (this.showModalWithChild) {\r\n        Service.updateColumn(this.$refs.addRefSecond.form)\r\n            .then((rs) => {\r\n              if (rs.data) {\r\n                this.successCreateAndEdit();\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              // this.catchErr(err);\r\n            })\r\n            .finally(() => {\r\n              this.loader = false;\r\n            });\r\n      } else {\r\n        Service.updateColumn(this.$refs.addRef.form)\r\n            .then((rs) => {\r\n              if (rs.data) {\r\n                this.successCreateAndEdit();\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              // this.catchErr(err);\r\n            })\r\n            .finally(() => {\r\n              this.loader = false;\r\n            });\r\n      }\r\n    },\r\n    async okModal(b) {\r\n      b.preventDefault();\r\n      this.$refs.addRef.computedObserver.validate().then(valid => {\r\n        if (!valid) {\r\n          this.$toast(this.$t('messages.fill_required_fields'), {type: 'error'});\r\n        } else {\r\n          if (this.mode === \"create\") {\r\n            this.create();\r\n          } else {\r\n            this.update();\r\n          }\r\n        }\r\n      })\r\n      /* if (isValid) {\r\n          if (this.mode == \"create\") {\r\n              this.create();\r\n          } else {\r\n              this.update();\r\n          }\r\n      } */\r\n    },\r\n    okModalWithChild(b) {\r\n      b.preventDefault();\r\n      if (!this.$refs.addRefSecond.checkValidity()) {\r\n        if (this.mode === \"create\") {\r\n          this.create();\r\n        } else {\r\n          this.update();\r\n        }\r\n      } else {\r\n        this.enterInfo();\r\n      }\r\n    },\r\n    //list\r\n    getList() {\r\n      this.loading = true;\r\n      Service.getListColumnWithChildren(this.params)\r\n          .then((rs) => {\r\n            this.list = rs.data.list;\r\n            this.total = rs.data.total;\r\n          })\r\n          .catch((e) => {\r\n            // this.catchErr(e);\r\n          })\r\n          .finally(() => {\r\n            // this.$refs.tableRef.reset()\r\n            this.loading = false;\r\n          });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <!-- CREATE WITH CHILD -->\r\n    <b-modal\r\n        :cancel-variant=\"'outline-danger'\"\r\n        :ok-variant=\"'success'\"\r\n        :no-close-on-backdrop=\"true\"\r\n        :ok-title=\"$t('actions.save')\"\r\n        :cancel-title=\"$t('actions.cancel')\"\r\n        @close=\"showModalWithChild = false\"\r\n        size=\"md\"\r\n        v-model=\"showModalWithChild\"\r\n        :title=\"$t('actions.add')\"\r\n    >\r\n\r\n      <CreateWithChild ref=\"addRefSecond\"/>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button\r\n            variant=\"secondary\"\r\n            @click=\"showModalWithChild = false\"\r\n        >{{\r\n            $t(\"actions.close\")\r\n          }}\r\n        </b-button>\r\n        <b-overlay\r\n            :opacity=\"0.1\"\r\n            :show=\"loader\"\r\n            rounded=\"sm\"\r\n        >\r\n          <b-button\r\n              variant=\"success\"\r\n              @click=\"okModalWithChild\"\r\n          >{{\r\n              $t(\"actions.save\")\r\n            }}\r\n          </b-button>\r\n        </b-overlay>\r\n      </template>\r\n    </b-modal>\r\n\r\n    <!-- Create -->\r\n    <b-modal\r\n        :cancel-variant=\"'outline-danger'\"\r\n        :ok-variant=\"'success'\"\r\n        :no-close-on-backdrop=\"true\"\r\n        :ok-title=\"$t('actions.save')\"\r\n        :cancel-title=\"$t('actions.cancel')\"\r\n        @close=\"showModal = false\"\r\n        @cancel=\"showModal = false\"\r\n        @ok=\"okModal\"\r\n        size=\"md\"\r\n        v-model=\"showModal\"\r\n        :title=\"$t('actions.add')\"\r\n    >\r\n      <Create ref=\"addRef\"/>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button\r\n            variant=\"secondary\"\r\n            @click=\"showModal = false\"\r\n        >{{\r\n            $t(\"actions.close\")\r\n          }}\r\n        </b-button>\r\n        <b-overlay\r\n            :opacity=\"0.1\"\r\n            :show=\"loader\"\r\n            rounded=\"sm\"\r\n        >\r\n          <b-button\r\n              variant=\"success\"\r\n              @click=\"okModal\"\r\n          >{{\r\n              $t(\"actions.save\")\r\n            }}\r\n          </b-button>\r\n        </b-overlay>\r\n      </template>\r\n    </b-modal>\r\n    <div>\r\n      <!-- <PageHeader :title=\"title\" :items=\"items\" /> -->\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"col-md-12 text-center\">\r\n            <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.reports.templates_col') }}</div>\r\n          </div>\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <div class=\"row mb-2\">\r\n                <div class=\"col-sm-4\">\r\n                  <div class=\"mr-2 mb-2 d-inline-block\">\r\n                    <div class=\"d-inline-block mr-2\">\r\n                      <div class=\"search-box\">\r\n                        <div class=\"position-relative\">\r\n                          <input\r\n                              style=\"width: 300px\"\r\n                              type=\"text\"\r\n                              v-model=\"searchValue\"\r\n                              class=\"form-control rounded bg-light border-light\"\r\n                              :placeholder=\"$t('actions.search')\"\r\n                          />\r\n                          <i class=\"mdi mdi-magnify search-icon\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-sm-8\">\r\n                  <div class=\"text-sm-right\">\r\n                    <b-button\r\n                        @click=\"toggleModal(true, 'create', {})\"\r\n                        type=\"button\"\r\n                        variant=\"primary\"\r\n                    >\r\n                      <i class=\"mdi mdi-plus mr-1\"></i>\r\n                      {{ $t(\"actions.add\") }}\r\n                    </b-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <Table\r\n                  @showModal=\"actionClick\"\r\n                  :page=\"page\"\r\n                  :limit=\"limit\"\r\n                  ref=\"tableRef\"\r\n                  :list=\"list\"\r\n                  :loading=\"loading\"\r\n              >\r\n                <template v-slot:thead>\r\n                  <tr>\r\n                    <th\r\n                        class=\"text-center\"\r\n                        style=\"width: 50px !important\"\r\n                    >\r\n                      №\r\n                    </th>\r\n                    <th>{{ $t(\"submodules.templates_row.nm\") }}</th>\r\n                    <th style=\"width: 14% \" class=\"text-center\">{{ $t(\"column.value_type\") }}</th>\r\n                    <th style=\"width: 30% \" class=\"text-center\">{{ $t(\"column.comment\") }}</th>\r\n                    <th style=\"width: 30%\" class=\"text-center px-1\">{{ $t(\"submodules.reports.report_date\") }}</th>\r\n                    <th\r\n                        style=\"width: 14% !important\"\r\n                        class=\"text-center\"\r\n                    >\r\n                      {{ $t(\"column.actions\") }}\r\n                    </th>\r\n                  </tr>\r\n                </template>\r\n                <template v-slot:pagination>\r\n                  <div\r\n                      class=\"row\"\r\n                      v-if=\"total > 0\"\r\n                  >\r\n                    <div class=\"col-lg-12\">\r\n                      <b-pagination\r\n                          size=\"sm\"\r\n                          class=\"m-0\"\r\n                          :total-rows=\"total\"\r\n                          :per-page=\"limit\"\r\n                          v-model=\"page\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </Table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n"]}]}