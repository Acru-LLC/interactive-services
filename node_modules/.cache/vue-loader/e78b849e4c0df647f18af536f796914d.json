{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\ViewInfo.vue?vue&type=style&index=0&id=7111d8ce&scoped=true&lang=css&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\ViewInfo.vue","mtime":1675054786264},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1667355376309},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1675061970775},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1667355363746},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubWF4LWhlaWdodC00MDAgew0KICBtYXgtaGVpZ2h0OiA0MDBweDsNCn0NCg0KLmhlaWdodC0zMDAgew0KICBoZWlnaHQ6IDMwMHB4Ow0KfQ0KDQouYm94LTYwcHggew0KICB3aWR0aDogNjBweDsNCiAgaGVpZ2h0OiA2MHB4Ow0KICBtYXJnaW46IC4zZW07DQogIHBhZGRpbmc6IC4zZW07DQp9DQo="},{"version":3,"sources":["ViewInfo.vue"],"names":[],"mappings":";AAmLA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ViewInfo.vue","sourceRoot":"src/modules/integration/modules/e-auction-info","sourcesContent":["<template>\r\n  <b-row class=\"p-3\">\r\n    <b-col sm=\"7\">\r\n      <b-card>\r\n        <b-table-simple striped hover bordered>\r\n          <b-tbody>\r\n            <b-tr v-for=\"(detail, index) in data.details\" :key=\"index\">\r\n              <b-td>{{ index + 1 }}</b-td>\r\n              <b-td>{{ detail.key }}</b-td>\r\n              <b-td>{{ detail.value }} {{ detail.unit ? detail.unit : '' }}</b-td>\r\n            </b-tr>\r\n          </b-tbody>\r\n        </b-table-simple>\r\n      </b-card>\r\n    </b-col>\r\n    <b-col sm=\"5\">\r\n      <b-card>\r\n        <b-col cols=\"12\">\r\n          <l-map ref=\"map\" class=\"height-300\">\r\n            <l-marker\r\n                v-if=\"markerLatLong\"\r\n                :lat-lng=\"markerLatLong\"\r\n                :icon=\"myGreenCustomMarker\"\r\n            />\r\n          </l-map>\r\n        </b-col>\r\n      </b-card>\r\n      <b-card>\r\n        <b-row>\r\n          <b-col cols=\"6\">\r\n            <b-carousel\r\n                controls\r\n                indicators\r\n                class=\"rounded-lg shadow-lg\"\r\n                @sliding-start=\"() => true\"\r\n                @sliding-end=\"() => true\"\r\n            >\r\n              <b-carousel-slide\r\n                  v-for=\"({name, url}, imageKey) in data.images\"\r\n                  class=\"max-height-400\"\r\n                  :key=\"imageKey\"\r\n                  :img-src=\"url\"\r\n              >\r\n                <template v-slot:img>\r\n                  <img\r\n                      class=\"cursor-pointer img-fluid w-100 d-block\"\r\n                      :src=\"'/' + url\"\r\n                      :alt=\"name\"\r\n                      loading=\"lazy\"\r\n                      v-b-popover.hover.bottom\r\n                      :title=\"name\"\r\n                      @click=\"showLightBox(imageKey)\"\r\n                  />\r\n                </template>\r\n              </b-carousel-slide>\r\n            </b-carousel>\r\n            <vue-easy-lightbox\r\n                v-if=\"this.lightbox\"\r\n                :visible=\"this.lightbox\"\r\n                :imgs=\"imagesList\"\r\n                :index=\"this.lightbox\"\r\n                @hide=\"showLightBox()\"\r\n            />\r\n          </b-col>\r\n          <b-col cols=\"6\">\r\n            <template v-for=\"({url, name, extension}, dk) in data.documents\">\r\n              <a\r\n                  v-b-popover.hover.bottom\r\n                  :title=\"name\"\r\n                  :href=\"'/' + url\"\r\n                  :download=\"name+'.' + extension\"\r\n                  :key=\"dk\"\r\n                  target=\"_blank\"\r\n                  class=\"btn btn-outline-secondary box-60px\"\r\n              >\r\n                {{ extension.toUpperCase() }}\r\n                <br>\r\n                <i class=\"mdi mdi-download mdi-18px\"/>\r\n              </a>\r\n            </template>\r\n          </b-col>\r\n        </b-row>\r\n      </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n\r\nimport eAuctionService from '@/shared/services/integration/eAuctionService.service'\r\nimport L from \"leaflet\";\r\nimport { LMap, LMarker } from \"vue2-leaflet\";\r\nimport MarkerIcon from \"leaflet/dist/images/marker-icon.png\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default {\r\n  props: {\r\n    info: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    data: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n  },\r\n  components: {\r\n    LMap,\r\n    LMarker,\r\n  },\r\n  data() {\r\n    return {\r\n      lightbox: false,\r\n      map: {\r\n        object: null,\r\n        zoom: this.markerLatLong ? 5 : 14,\r\n        view: this.markerLatLong || [41.5, 64.5],\r\n        maxZoom: 50,\r\n        minZoom: 5,\r\n        maxBounds: [[37, 57], [47, 80]],\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await this.fetchAdditionalInfo();\r\n    console.log(this.data)\r\n    const { mapObject } = this.$refs.map;\r\n    this.map.object = mapObject;\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      maxZoom: this.map.maxZoom,\r\n      minZoom: this.map.minZoom,\r\n    }).addTo(this.map.object);\r\n    this.map.object.setMaxBounds(this.map.maxBounds);\r\n    setTimeout(() => {\r\n      this.map.view = this.markerLatLong;\r\n      this.map.object.setView(this.map.view, this.map.zoom);\r\n    }, 1000)\r\n  },\r\n  methods: {\r\n    async fetchAdditionalInfo() {\r\n      if (!this.data) {\r\n        await eAuctionService.getAdditionalInfo(this.info.id, true)\r\n            .then(({ data }) => {\r\n              this.data = data\r\n            })\r\n      } else {\r\n        this.info = this.data;\r\n      }\r\n    },\r\n    showLightBox(index = null) {\r\n      this.lightbox = index\r\n    }\r\n  },\r\n  computed: {\r\n    imagesList() {\r\n      return this.data.images?.map(({ url }) => '/' + url) ?? [];\r\n    },\r\n    markerLatLong() {\r\n      if (this.info.lat && this.info.lng) {\r\n        return L.latLng(this.info.lat, this.info.lng);\r\n      }\r\n      return null;\r\n    },\r\n    myGreenCustomMarker() {\r\n      return L.icon({\r\n        iconUrl: MarkerIcon,\r\n        iconAnchor: new L.Point(12.5, 40),\r\n        iconSize: new L.Point(25, 41),\r\n      });\r\n    }\r\n  },\r\n  destroyed(){\r\n    this.data = {}\r\n    this.lightbox = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.max-height-400 {\r\n  max-height: 400px;\r\n}\r\n\r\n.height-300 {\r\n  height: 300px;\r\n}\r\n\r\n.box-60px {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: .3em;\r\n  padding: .3em;\r\n}\r\n</style>"]}]}