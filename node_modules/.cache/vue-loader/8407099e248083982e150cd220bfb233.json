{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\Index.vue","mtime":1674799496522},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBNQUlOX0FQSV9VUkwgPSAncmVlc3RyL2NvbnRyYWN0b3ItcmVlc3RyLWRvY3VtZW50cycNCmNvbnN0IEFQUEVORF9BUElfVVJMX0RPTUlOQU5UID0gJ2RhbWluaXJpdXNoaXknDQpjb25zdCBBUFBFTkRfQVBJX1VSTF9OQVRVUkFMID0gJ2VzdGVzdHZlbml5Jw0KaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlJw0KaW1wb3J0IGhlbHBlclNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvaGVscGVyLnNlcnZpY2UnDQppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGNvbXBvbmVudHM6IHt9LA0KICAgIGRhdGEgKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbG9hZGluZ1RhYmxlSXRlbXM6IGZhbHNlLA0KICAgICAgICAgICAgcmVnaW9uczogW10sDQogICAgICAgICAgICB0YWJsZUl0ZW1zOiBbXSwNCiAgICAgICAgICAgIHRhYmxlRmllbGRzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGtleTogImluZGV4IiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wcm9kdWN0X29yX3NlcnZpY2VfdHlwZScpLCB0ZENsYXNzOiAiY3Vyc29yUG9pbnRlciIsIGtleTogInByb2R1Y3Rfb3Jfc2VydmljZV90eXBlIiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wcm9kdWN0X29yX3NlcnZpY2VzX2NvdW50JyksIGtleTogInByb2R1Y3RPclNlcnZpY2VDb3VudCIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uY29udHJhY3RvcnNfY291bnQnKSwga2V5OiAiY29udHJhY3RvckNvdW50IiB9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHJlZXN0clRhYmxlRmllbGRzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGtleTogImluZGV4IiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ3N1Ym1vZHVsZXMucHJvZHVjdF9vcl9zZXJ2aWNlcy50aXRsZScpLCBrZXk6ICJwcm9kdWN0T3JTZXJ2aWNlcyIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uYnVzaW5lc3NfZW50aXR5JyksIGtleTogImNvbnRyYWN0b3JGdWxsTmFtZSIgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBsb2NhbE1haW5QYWdlU3RvcmVkRGF0YTogew0KICAgICAgICAgICAgICAgIHJlZ2lvbklkOiBudWxsLA0KICAgICAgICAgICAgICAgIGlzUmVwdWJsaWM6IGZhbHNlLA0KICAgICAgICAgICAgICAgIG9wZW5lZFR5cGVJZHM6IFtdDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgfSwNCiAgICAvKg0KICAgIENPTVBVVEVEICovDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgLi4ubWFwU3RhdGUoJ3JlZXN0ckNvbnRyYWN0b3JzJywgWydtYWluUGFnZVN0b3JlZERhdGFGb3JEb21pbmFudCcsICdtYWluUGFnZVN0b3JlZERhdGFGb3JOYXR1cmFsJ10pLA0KICAgICAgICBjb21wdXRlZExvY2FsTWFpblBhZ2VTdG9yZWREYXRhICgpIHsNCiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmxvY2FsTWFpblBhZ2VTdG9yZWREYXRhKQ0KICAgICAgICB9LA0KICAgICAgICBpc0RvbWluYW50ICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnRG9taW5hbnRSZWVzdHJDb250cmFjdG9ycycgfHwgdGhpcy4kcm91dGUubmFtZSA9PT0gJ0RvbWluYW50UmVlc3RyQ29udHJhY3RvcnNNYWluJw0KICAgICAgICB9LA0KICAgICAgICBpc05hdHVyYWwgKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT09ICdOYXR1cmFsUmVlc3RyQ29udHJhY3RvcnMnIHx8IHRoaXMuJHJvdXRlLm5hbWUgPT09ICdOYXR1cmFsUmVlc3RyQ29udHJhY3RvcnNNYWluJw0KICAgICAgICB9LA0KICAgICAgICBjYW5BZGRUb1JlZXN0ciAoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc0RvbWluYW50KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGNhbignY3JlYXRlJywgJ2NvbnRyYWN0b3IgcmVlc3RyIGRvY3VtZW50IGZvciBhY2NlcHRhbmNlIGRhbWluaXJpdXNoaXknKQ0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTmF0dXJhbCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRjYW4oJ2NyZWF0ZScsICdjb250cmFjdG9yIHJlZXN0ciBkb2N1bWVudCBmb3IgYWNjZXB0YW5jZSBlc3Rlc3R2ZW5peScpDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfSwNCiAgICAgICAgY2FuUmVtb3ZlRnJvbVJlZXN0ciAoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc0RvbWluYW50KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGNhbignY3JlYXRlJywgJ2NvbnRyYWN0b3IgcmVlc3RyIGRvY3VtZW50IGZvciBjbG9zZSBkYW1pbmlyaXVzaGl5JykNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc05hdHVyYWwpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kY2FuKCdjcmVhdGUnLCAnY29udHJhY3RvciByZWVzdHIgZG9jdW1lbnQgZm9yIGNsb3NlIGVzdGVzdHZlbml5JykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC4uLm1hcE11dGF0aW9ucygncmVlc3RyQ29udHJhY3RvcnMnLCBbJ3NldE1haW5QYWdlU3RvcmVkRGF0YSddKSwNCg0KICAgICAgICBwYXJlbnRDb250cmFjdG9yQ2xpY2tlZCAoY29udHJhY3RvciwgaW5uLCB0eXBlUm93LCBwcm9kdWN0T3JTZXJ2aWNlKSB7DQogICAgICAgICAgICB0aGlzLiRzZXQoY29udHJhY3RvciwgJ3Nob3dDaGlsZHJlbicsICFjb250cmFjdG9yLnNob3dDaGlsZHJlbikNCiAgICAgICAgICAgIGlmIChjb250cmFjdG9yLnNob3dDaGlsZHJlbiAmJiAoIWNvbnRyYWN0b3IuY2hpbGRyZW4gfHwgIShjb250cmFjdG9yLmNoaWxkcmVuID8gY29udHJhY3Rvci5jaGlsZHJlbi5sZW5ndGggOiBjb250cmFjdG9yLmNoaWxkcmVuKSkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodHlwZVJvdy5pdGVtLCAnbG9hZGluZ0lubmVyRGF0YScsIHRydWUpDQogICAgICAgICAgICAgICAgaWYgKGlubikgew0KICAgICAgICAgICAgICAgICAgICBoZWxwZXJTZXJ2aWNlDQogICAgICAgICAgICAgICAgICAgICAgICAuc2VhcmNoUmVlc3RyQ29udHJhY3Rvckxpc3RCeVBhcmVudElkKGAke3RoaXMuaXNEb21pbmFudCA/IEFQUEVORF9BUElfVVJMX0RPTUlOQU5UIDogdGhpcy5pc05hdHVyYWwgPyBBUFBFTkRfQVBJX1VSTF9OQVRVUkFMIDogJyd9P3R5cGVJZD0ke3R5cGVSb3cuaXRlbS50eXBlSWR9JnBhcmVudENvbnRyYWN0b3JJZD0ke2NvbnRyYWN0b3IuY29udHJhY3RvcklkfSZwcm9kdWN0T3JTZXJ2aWNlSWQ9JHtwcm9kdWN0T3JTZXJ2aWNlLnByb2R1Y3RPclNlcnZpY2VJZH1gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChjb250cmFjdG9yLCAnY2hpbGRyZW4nLCByZXMuZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGNvbnRyYWN0b3IsICdjaGlsZHJlbicsIFtdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodHlwZVJvdy5pdGVtLCAnbG9hZGluZ0lubmVyRGF0YScsIGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBoZWxwZXJTZXJ2aWNlDQogICAgICAgICAgICAgICAgICAgICAgICAuc2VhcmNoUmVlc3RyQ29udHJhY3Rvckxpc3RCeUluZGl2aWR1YWxzR3JvdXBJZChgJHt0aGlzLmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IHRoaXMuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnfT90eXBlSWQ9JHt0eXBlUm93Lml0ZW0udHlwZUlkfSZncm91cE9mSW5kaXZpZHVhbHNJZD0ke2NvbnRyYWN0b3IuY29udHJhY3RvcklkfSZwcm9kdWN0T3JTZXJ2aWNlSWQ9JHtwcm9kdWN0T3JTZXJ2aWNlLnByb2R1Y3RPclNlcnZpY2VJZH1gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChjb250cmFjdG9yLCAnY2hpbGRyZW4nLCByZXMuZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGNvbnRyYWN0b3IsICdjaGlsZHJlbicsIFtdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodHlwZVJvdy5pdGVtLCAnbG9hZGluZ0lubmVyRGF0YScsIGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHR5cGVPcGVuQ2xvc2VIYW5kbGVyICh0eXBlSWQsIGZvckNsb3NlKSB7DQogICAgICAgICAgICBsZXQgZm91bmRJbmRleCA9IHRoaXMubG9jYWxNYWluUGFnZVN0b3JlZERhdGEub3BlbmVkVHlwZUlkcy5maW5kSW5kZXgoZWwgPT4gZWwgPT0gdHlwZUlkKQ0KICAgICAgICAgICAgaWYgKGZvckNsb3NlICYmIGZvdW5kSW5kZXggPiAtMSkgew0KICAgICAgICAgICAgICAgIHRoaXMubG9jYWxNYWluUGFnZVN0b3JlZERhdGEub3BlbmVkVHlwZUlkcy5zcGxpY2UoZm91bmRJbmRleCwgMSkNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWZvckNsb3NlICYmIGZvdW5kSW5kZXggPCAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5vcGVuZWRUeXBlSWRzLnB1c2godHlwZUlkKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IHNhdmVkT3BlbmVkVHlwZUlkcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5vcGVuZWRUeXBlSWRzKSkNCiAgICAgICAgICAgIHRoaXMubG9jYWxNYWluUGFnZVN0b3JlZERhdGEub3BlbmVkVHlwZUlkcyA9IFtdDQogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YSwgJ29wZW5lZFR5cGVJZHMnLCBzYXZlZE9wZW5lZFR5cGVJZHMpDQogICAgICAgIH0sDQogICAgICAgIHJvd0NsaWNrZWQgKGl0ZW0sIGluZGV4LCBlLCBmcm9tQ3JlYXRlZCA9IGZhbHNlKSB7DQogICAgICAgICAgICBpZiAoIWZyb21DcmVhdGVkKSB7DQogICAgICAgICAgICAgICAgdGhpcy50eXBlT3BlbkNsb3NlSGFuZGxlcihpdGVtLnR5cGVJZCwgaXRlbS5fc2hvd0RldGFpbHMpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ19zaG93RGV0YWlscycsICFpdGVtLl9zaG93RGV0YWlscykNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hSZWVzdHJEb2NzQnlUeXBlSWQoaXRlbS50eXBlSWQsIGluZGV4KQ0KICAgICAgICB9LA0KICAgICAgICBmZXRjaFJlZXN0ckRvY3NCeVR5cGVJZCAodHlwZUlkLCBpbmRleCkgew0KICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdsb2FkaW5nSW5uZXJEYXRhJywgdHJ1ZSkNCiAgICAgICAgICAgIGlmICh0aGlzLmxvY2FsTWFpblBhZ2VTdG9yZWREYXRhLmlzUmVwdWJsaWMpIHsNCiAgICAgICAgICAgICAgICBoZWxwZXJTZXJ2aWNlDQogICAgICAgICAgICAgICAgICAgIC5zZWFyY2hSZWVzdHJMaXN0QnlSZXB1YmxpYyhgJHt0aGlzLmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IHRoaXMuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnfT8mdHlwZUlkPSR7dHlwZUlkfWApDQogICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhYmxlSXRlbXNbaW5kZXhdLCAncmVlc3RyJywgcmVzLmRhdGEpDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhYmxlSXRlbXNbaW5kZXhdLCAncmVlc3RyJywgW10pDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhYmxlSXRlbXNbaW5kZXhdLCAnbG9hZGluZ0lubmVyRGF0YScsIGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlDQogICAgICAgICAgICAgICAgICAgIC5zZWFyY2hMaXN0KE1BSU5fQVBJX1VSTCwgbnVsbCwgYCR7dGhpcy5pc0RvbWluYW50ID8gQVBQRU5EX0FQSV9VUkxfRE9NSU5BTlQgOiB0aGlzLmlzTmF0dXJhbCA/IEFQUEVORF9BUElfVVJMX05BVFVSQUwgOiAnJ30/cmVnaW9uSWQ9JHt0aGlzLmxvY2FsTWFpblBhZ2VTdG9yZWREYXRhLnJlZ2lvbklkfSZ0eXBlSWQ9JHt0eXBlSWR9YCkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdyZWVzdHInLCByZXMuZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdyZWVzdHInLCBbXSkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdsb2FkaW5nSW5uZXJEYXRhJywgZmFsc2UpDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGN1c3RvbUxhYmVsUmVnaW9uIChvcHQpIHsNCiAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMucmVnaW9ucy5maW5kKGUgPT4gZS5yZWdpb25JZCA9PSAob3B0LnJlZ2lvbklkID8gb3B0LnJlZ2lvbklkIDogb3B0KSk7DQogICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5nZXROYW1lKHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5yZWdpb25OYW1lUnUsDQogICAgICAgICAgICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQucmVnaW9uTmFtZUx0LA0KICAgICAgICAgICAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLnJlZ2lvbk5hbWVVeiwNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB9YA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGBgOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyByZWdpb25TZWxlY3RlZCAoJGV2ZW50KSB7DQogICAgICAgICAgICBpZiAoJGV2ZW50KSB7DQogICAgICAgICAgICAgICAgdGhpcy5mZXRjaFRhYmxlSXRlbXMoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvcGVuU3RvcmVkVHlwZXMgKCkgew0KICAgICAgICAgICAgdGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5vcGVuZWRUeXBlSWRzLmZvckVhY2godHlwZUlkID0+IHsNCiAgICAgICAgICAgICAgICBsZXQgZm91bmRJbmRleCA9IHRoaXMudGFibGVJdGVtcy5maW5kSW5kZXgoZWwgPT4gZWwudHlwZUlkID09IHR5cGVJZCkNCiAgICAgICAgICAgICAgICBpZiAoZm91bmRJbmRleCA+IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucm93Q2xpY2tlZCh0aGlzLnRhYmxlSXRlbXNbZm91bmRJbmRleF0sIGZvdW5kSW5kZXgsIG51bGwsIHRydWUpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgZmV0Y2hUYWJsZUl0ZW1zICgpIHsNCiAgICAgICAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSB0cnVlDQogICAgICAgICAgICBpZiAodGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5pc1JlcHVibGljKSB7DQogICAgICAgICAgICAgICAgaGVscGVyU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAuZ2V0UmVlc3RyQnlSZXB1YmxpYyh0aGlzLmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IHRoaXMuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSByZXMuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlblN0b3JlZFR5cGVzKCkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gW107DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxvY2FsTWFpblBhZ2VTdG9yZWREYXRhLnJlZ2lvbklkKSB7DQogICAgICAgICAgICAgICAgaGVscGVyU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAuZ2V0UmVlc3RyQnlSZWdpb25JZCh0aGlzLmxvY2FsTWFpblBhZ2VTdG9yZWREYXRhLnJlZ2lvbklkLCB0aGlzLmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IHRoaXMuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSByZXMuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlblN0b3JlZFR5cGVzKCkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gW107DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSBbXTsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdUYWJsZUl0ZW1zID0gZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9LA0KICAgIC8qIENSRUFURUQgKi8NCiAgICBjcmVhdGVkICgpIHsNCiAgICAgICAgaWYgKHRoaXMuaXNEb21pbmFudCkgew0KICAgICAgICAgICAgdGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMubWFpblBhZ2VTdG9yZWREYXRhRm9yRG9taW5hbnQpDQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc05hdHVyYWwpIHsNCiAgICAgICAgICAgIHRoaXMubG9jYWxNYWluUGFnZVN0b3JlZERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm1haW5QYWdlU3RvcmVkRGF0YUZvck5hdHVyYWwpDQogICAgICAgIH0NCiAgICAgICAgLy8gTUFLRSBJU19SRVBVQkxJQyBDSEVDS0VEDQogICAgICAgIGlmICghdGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5yZWdpb25JZCAmJiB0aGlzLiRjYW4oJ3JlcHVibGljJywgJ2ZvciByZWVzdHInKSkgew0KICAgICAgICAgICAgdGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5pc1JlcHVibGljID0gdHJ1ZQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gR0VUIFJFR0lPTlMNCiAgICAgICAgaGVscGVyU2VydmljZS5mZXRjaFJlZ2lvbnNGb3JDb250cmFjdG9yUmVlc3RyQnlDdXJyZW50VXNlcklkKCkNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5yZWdpb25zID0gcmVzLmRhdGENCiAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5yZWdpb25JZCAmJiAhdGhpcy5sb2NhbE1haW5QYWdlU3RvcmVkRGF0YS5pc1JlcHVibGljKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hUYWJsZUl0ZW1zKCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICB9KQ0KICAgIH0sDQogICAgLyoNCiAgICBXQVRDSCAqLw0KICAgIHdhdGNoOiB7DQogICAgICAgIGNvbXB1dGVkTG9jYWxNYWluUGFnZVN0b3JlZERhdGE6IHsNCiAgICAgICAgICAgIGRlZXA6IHRydWUsDQogICAgICAgICAgICBoYW5kbGVyIChuLCBvKSB7DQogICAgICAgICAgICAgICAgbGV0IG5ld1ZhbCA9IEpTT04ucGFyc2UobikNCiAgICAgICAgICAgICAgICBsZXQgb2xkVmFsID0gSlNPTi5wYXJzZShvKQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0TWFpblBhZ2VTdG9yZWREYXRhKHsgZGF0YTogbmV3VmFsLCByZWVzdHJUeXBlOiB0aGlzLmlzRG9taW5hbnQgPyAnZG9taW5hbnQnIDogdGhpcy5pc05hdHVyYWwgPyAnbmF0dXJhbCcgOiAnJyB9KQ0KICAgICAgICAgICAgICAgIGlmIChuZXdWYWwuaXNSZXB1YmxpYyAhPSBvbGRWYWwuaXNSZXB1YmxpYykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkTA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/modules/reestr-contractors/modules/natural","sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"col-md-12 text-center\">\r\n            <div v-if=\"isNatural\" class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.reestr_contractors.natural_reestr_title') }}</div>\r\n            <div v-else class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.reestr_contractors.dominant_reestr_title') }}</div>\r\n          </div>\r\n            <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"row mb-2 align-items-center\">\r\n                        <div class=\"col-sm-4\">\r\n                            <!-- REGIONS -->\r\n                            <!-- DISABLED STATE -->\r\n                            <BaseMultiselectWithValidation\r\n                                v-if=\"localMainPageStoredData.isRepublic && $can('republic', 'for reestr')\"\r\n                                not-required\r\n                                disabled\r\n                                :value=\"null\"\r\n                                :options=\"regions.map(e => e.regionId)\"\r\n                                only-form-element\r\n                                :custom-label=\"customLabelRegion\"\r\n                                :placeholder=\"$t('column.region')\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                            <BaseMultiselectWithValidation\r\n                                v-else\r\n                                class=\"required\"\r\n                                rules=\"required\"\r\n                                v-model=\"localMainPageStoredData.regionId\"\r\n                                :options=\"regions.map(e => e.regionId)\"\r\n                                @input=\"regionSelected\"\r\n                                only-form-element\r\n                                :allow-empty=\"false\"\r\n                                :custom-label=\"customLabelRegion\"\r\n                                :placeholder=\"$t('column.region')\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                        </div>\r\n                        <!-- IS_REPUBLIC CHECKBOX -->\r\n                        <div\r\n                            v-if=\"$can('republic', 'for reestr')\"\r\n                            class=\"col-sm-2\"\r\n                        >\r\n                            <div class=\"form-check form-check-right\">\r\n                                <input\r\n                                    v-model=\"localMainPageStoredData.isRepublic\"\r\n                                    class=\"form-check-input\"\r\n                                    type=\"checkbox\"\r\n                                    id=\"formCheckIsLegal\"\r\n                                />\r\n                                <label\r\n                                    class=\"form-check-label font-weight-normal\"\r\n                                    for=\"formCheckIsLegal\"\r\n                                >\r\n                                    {{ $t('column.is_republic') }}\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div :class=\"$can('republic', 'for reestr') ? 'col-sm-6' : 'col-sm-8'\">\r\n                            <div class=\"text-sm-end\">\r\n                                <b-btn\r\n                                    v-if=\"canAddToReestr\"\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-success btn-rounded mb-2 me-2\"\r\n                                    :to=\"isNatural ? {name: 'CreateNaturalContractorReestr'} : isDominant ? {name: 'CreateDominantContractorReestr'} : '#'\"\r\n                                >\r\n                                    <i class=\"mdi mdi-plus me-1\"></i> {{ $t('actions.add_to_reestr') }}\r\n                                </b-btn>\r\n\r\n                                <b-btn\r\n                                    v-if=\"canRemoveFromReestr\"\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-danger btn-rounded mb-2 me-2\"\r\n                                    :to=\"isNatural ? {name: 'CreateRemoveDocNaturalContractorReestr'} : isDominant ? {name: 'CreateRemoveDocDominantContractorReestr'} : '#'\"\r\n                                >\r\n                                    <i class=\"mdi mdi-delete me-1\"></i> {{ $t('actions.remove_from_reestr') }}\r\n                                </b-btn>\r\n                            </div>\r\n                        </div>\r\n                        <!-- end col-->\r\n                    </div>\r\n                    <!-- Table data -->\r\n                    <b-table\r\n                        :items=\"tableItems\"\r\n                        :fields=\"tableFields\"\r\n                        @row-clicked=\"rowClicked\"\r\n                        :busy=\"loadingTableItems\"\r\n                        id=\"my-table\"\r\n                        class=\"custom-b-table\"\r\n                        responsive\r\n                        striped\r\n                        bordered\r\n                        small\r\n                        hover\r\n                        show-empty\r\n                    >\r\n                        <!-- NUMBER OF ITEM -->\r\n                        <template #cell(index)=\"data\">\r\n                            <strong>{{ data.index + 1 }}</strong>\r\n                        </template>\r\n\r\n                        <!-- STATUS -->\r\n                        <template #cell(product_or_service_type)=\"data\">\r\n                            <strong>{{\r\n                                getName({\r\n                                    nameRu: data.item.typeNameRu,\r\n                                    nameLt: data.item.typeNameLt,\r\n                                    nameUz: data.item.typeNameUz,\r\n                                })\r\n                            }}</strong>\r\n                        </template>\r\n\r\n                        <!-- INNER TABLE FOR REESTR -->\r\n                        <template #row-details=\"row\">\r\n                            <b-table\r\n                                :items=\"row.item.reestr ? row.item.reestr : []\"\r\n                                :fields=\"reestrTableFields\"\r\n                                :busy=\"row.item.loadingInnerData\"\r\n                                bordered\r\n                                small\r\n                                hover\r\n                                show-empty\r\n                                striped\r\n                            >\r\n\r\n                                <!-- NUMBER OF ITEM -->\r\n                                <template #cell(index)=\"innerData\">\r\n                                    {{\r\n                                        innerData.index + 1\r\n                                    }}\r\n                                </template>\r\n\r\n                                <template #cell(contractorFullName)=\"innerData\">\r\n                                    <div class=\"d-flex align-items-center flex-wrap\">\r\n                                        <ul style=\"width: 100%;\">\r\n                                            <li\r\n                                                v-for=\"(el, index) in innerData.item.contractorsByDistrict\"\r\n                                                :key=\"`product-or-service-${index}`\"\r\n                                            >\r\n                                                <router-link\r\n                                                    v-if=\"!el.childCount\"\r\n                                                    :to=\"{name: (isNatural && localMainPageStoredData.isRepublic) ? 'ReestrHistoryForRepublicContractorNatural' : isNatural ? 'ReestrHistoryForContractorNatural' : (isDominant && localMainPageStoredData.isRepublic) ? 'ReestrHistoryForRepublicContractorDominant' : isDominant ? 'ReestrHistoryForContractorDominant' : '#', params: {id: el.contractorId}}\"\r\n                                                    class=\"a-tag-underline-hover\"\r\n                                                >\r\n                                                    <b-row class=\"my-1\">\r\n                                                        <b-col cols=\"8\">\r\n                                                            <strong>{{\r\n                                                                el.contractorFullName\r\n                                                            }} - <i>{{ el.contractorInn }}</i></strong>\r\n                                                        </b-col>\r\n                                                        <b-col\r\n                                                            cols=\"4\"\r\n                                                            v-if=\"el.docStatusCode == 'PENDING'\"\r\n                                                        >\r\n                                                            <b-badge\r\n                                                                style=\"font-size: .7rem\"\r\n                                                                class=\"ml-5 a-tag-underline-hover\"\r\n                                                                :variant=\"el.docStatusCode == 'PENDING' ? 'warning' : el.docStatusCode == 'READY' ? 'success' : ''\"\r\n                                                            >\r\n                                                                {{ \r\n                                                                    getName({\r\n                                                                        nameRu: el.docStatusNameRu,\r\n                                                                        nameLt: el.docStatusNameLt,\r\n                                                                        nameUz: el.docStatusNameUz,\r\n                                                                    })\r\n                                                                }}\r\n                                                            </b-badge>\r\n                                                        </b-col>\r\n                                                    </b-row>\r\n                                                </router-link>\r\n                                                <span\r\n                                                    v-else\r\n                                                    @click=\"parentContractorClicked(el, el.contractorInn, row, innerData.item)\"\r\n                                                    class=\"cursorPointer\"\r\n                                                >\r\n                                                    <strong v-if=\"isDominant\">\r\n                                                        {{ $t('column.group_of_individuals') }}:\r\n                                                    </strong>\r\n                                                    {{\r\n                                                    el.contractorFullName\r\n                                                }} - <i>{{ el.contractorInn }}</i>\r\n                                                    <strong>({{el.childCount}})</strong>\r\n                                                </span>\r\n                                                <div\r\n                                                    v-if=\"el.showChildren\"\r\n                                                    class=\"d-flex align-items-center flex-wrap\"\r\n                                                >\r\n                                                    <ul style=\"width: 100%;\">\r\n                                                        <li\r\n                                                            v-for=\"(el2, index2) in el.children\"\r\n                                                            :key=\"`contractor-children-${index2}`\"\r\n                                                        >\r\n                                                            <router-link\r\n                                                                :to=\"{name: (isNatural && localMainPageStoredData.isRepublic) ? 'ReestrHistoryForRepublicContractorNatural' : isNatural ? 'ReestrHistoryForContractorNatural' : (isDominant && localMainPageStoredData.isRepublic) ? 'ReestrHistoryForRepublicContractorDominant' : isDominant ? 'ReestrHistoryForContractorDominant' : '#', params: {id: el2.id}}\"\r\n                                                                class=\"a-tag-underline-hover\"\r\n                                                            >\r\n                                                                <b-row class=\"my-1\">\r\n                                                                    <b-col cols=\"8\">\r\n                                                                        <strong>{{\r\n                                                                    el2.name\r\n                                                                }} - <i>{{ el2.inn }}</i></strong>\r\n                                                                    </b-col>\r\n                                                                    <b-col\r\n                                                                        cols=\"4\"\r\n                                                                        v-if=\"el2.docStatusCode == 'PENDING'\"\r\n                                                                    >\r\n                                                                        <b-badge\r\n                                                                            class=\"ml-5 a-tag-underline-hover\"\r\n                                                                            style=\"font-size: .7rem\"\r\n                                                                            :variant=\"el2.docStatusCode == 'PENDING' ? 'warning' : el2.docStatusCode == 'READY' ? 'success' : ''\"\r\n                                                                        >\r\n                                                                            {{ \r\n                                                                                getName({\r\n                                                                                    nameRu: el2.docStatusNameRu,\r\n                                                                                    nameLt: el2.docStatusNameLt,\r\n                                                                                    nameUz: el2.docStatusNameUz,\r\n                                                                                })\r\n                                                                            }}\r\n                                                                        </b-badge>\r\n                                                                    </b-col>\r\n                                                                </b-row>\r\n                                                            </router-link>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                                <div\r\n                                                    v-if=\"!localMainPageStoredData.isRepublic\"\r\n                                                    class=\"d-flex align-items-center flex-wrap\"\r\n                                                >\r\n                                                    <ul>\r\n                                                        <li\r\n                                                            v-for=\"(el2, index2) in el.districts\"\r\n                                                            :key=\"`product-or-service-district-${index2}`\"\r\n                                                        >{{\r\n                                                            getName({\r\n                                                            nameRu: el2.districtNameRu,\r\n                                                            nameLt: el2.districtNameLt,\r\n                                                            nameUz: el2.districtNameUz,\r\n                                                            })\r\n                                                        }}</li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </template>\r\n\r\n                                <template #cell(productOrServices)=\"innerData\">\r\n                                    <strong>{{\r\n                                            getName({\r\n                                                nameRu: innerData.item.productOrServiceNameRu,\r\n                                                nameLt: innerData.item.productOrServiceNameLt,\r\n                                                nameUz: innerData.item.productOrServiceNameUz,\r\n                                                })\r\n                                        }}</strong>\r\n                                </template>\r\n\r\n                                <!-- EMPTY SLOT -->\r\n                                <template #empty=\"\">\r\n                                    <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                                </template>\r\n\r\n                                <!-- TABLE_BUSY SLOT -->\r\n                                <template #table-busy>\r\n                                    <div class=\"text-center my-2\">\r\n                                        <b-spinner\r\n                                            variant=\"primary\"\r\n                                            class=\"align-middle\"\r\n                                        ></b-spinner>\r\n                                    </div>\r\n                                </template>\r\n                            </b-table>\r\n                        </template>\r\n\r\n                        <!-- EMPTY SLOT -->\r\n                        <template #empty=\"\">\r\n                            <h4 class=\"text-center\">{{ ((localMainPageStoredData.regionId && !localMainPageStoredData.isRepublic) || localMainPageStoredData.isRepublic) ? $t('messages.data_not_found') : $t('messages.please_select_region') }}</h4>\r\n                        </template>\r\n\r\n                        <!-- TABLE_BUSY SLOT -->\r\n                        <template #table-busy>\r\n                            <div class=\"text-center my-2\">\r\n                                <b-spinner\r\n                                    variant=\"primary\"\r\n                                    class=\"align-middle\"\r\n                                ></b-spinner>\r\n                            </div>\r\n                        </template>\r\n                    </b-table>\r\n                    <!-- end table -->\r\n                </div>\r\n                <!-- end card-body -->\r\n            </div>\r\n            <!-- end card -->\r\n        </div>\r\n        <!-- end col -->\r\n    </div>\r\n    <!-- end row -->\r\n</template>\r\n\r\n<script>\r\nconst MAIN_API_URL = 'reestr/contractor-reestr-documents'\r\nconst APPEND_API_URL_DOMINANT = 'daminiriushiy'\r\nconst APPEND_API_URL_NATURAL = 'estestveniy'\r\nimport crudAndListsService from '@/shared/services/crud_and_list.service'\r\nimport helperService from '@/shared/services/helper.service'\r\nimport { mapMutations, mapState } from 'vuex'\r\n\r\nexport default {\r\n    components: {},\r\n    data () {\r\n        return {\r\n            loadingTableItems: false,\r\n            regions: [],\r\n            tableItems: [],\r\n            tableFields: [\r\n                {\r\n                    label: \"#\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false,\r\n                    key: \"index\",\r\n                },\r\n                { label: this.$t('column.product_or_service_type'), tdClass: \"cursorPointer\", key: \"product_or_service_type\" },\r\n                { label: this.$t('column.product_or_services_count'), key: \"productOrServiceCount\" },\r\n                { label: this.$t('column.contractors_count'), key: \"contractorCount\" },\r\n            ],\r\n            reestrTableFields: [\r\n                {\r\n                    label: \"#\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false,\r\n                    key: \"index\",\r\n                },\r\n                { label: this.$t('submodules.product_or_services.title'), key: \"productOrServices\" },\r\n                { label: this.$t('column.business_entity'), key: \"contractorFullName\" },\r\n            ],\r\n            localMainPageStoredData: {\r\n                regionId: null,\r\n                isRepublic: false,\r\n                openedTypeIds: []\r\n            }\r\n        };\r\n    },\r\n    /*\r\n    COMPUTED */\r\n    computed: {\r\n        ...mapState('reestrContractors', ['mainPageStoredDataForDominant', 'mainPageStoredDataForNatural']),\r\n        computedLocalMainPageStoredData () {\r\n            return JSON.stringify(this.localMainPageStoredData)\r\n        },\r\n        isDominant () {\r\n            return this.$route.name === 'DominantReestrContractors' || this.$route.name === 'DominantReestrContractorsMain'\r\n        },\r\n        isNatural () {\r\n            return this.$route.name === 'NaturalReestrContractors' || this.$route.name === 'NaturalReestrContractorsMain'\r\n        },\r\n        canAddToReestr () {\r\n            if (this.isDominant) {\r\n                return this.$can('create', 'contractor reestr document for acceptance daminiriushiy')\r\n            } else if (this.isNatural) {\r\n                return this.$can('create', 'contractor reestr document for acceptance estestveniy')\r\n            }\r\n            return false\r\n        },\r\n        canRemoveFromReestr () {\r\n            if (this.isDominant) {\r\n                return this.$can('create', 'contractor reestr document for close daminiriushiy')\r\n            } else if (this.isNatural) {\r\n                return this.$can('create', 'contractor reestr document for close estestveniy')\r\n            }\r\n            return false\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations('reestrContractors', ['setMainPageStoredData']),\r\n\r\n        parentContractorClicked (contractor, inn, typeRow, productOrService) {\r\n            this.$set(contractor, 'showChildren', !contractor.showChildren)\r\n            if (contractor.showChildren && (!contractor.children || !(contractor.children ? contractor.children.length : contractor.children))) {\r\n                this.$set(typeRow.item, 'loadingInnerData', true)\r\n                if (inn) {\r\n                    helperService\r\n                        .searchReestrContractorListByParentId(`${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?typeId=${typeRow.item.typeId}&parentContractorId=${contractor.contractorId}&productOrServiceId=${productOrService.productOrServiceId}`)\r\n                        .then((res) => {\r\n                            this.$set(contractor, 'children', res.data)\r\n                        })\r\n                        .catch(e => {\r\n                            this.$set(contractor, 'children', [])\r\n                        })\r\n                        .finally(() => {\r\n                            this.$set(typeRow.item, 'loadingInnerData', false)\r\n                        })\r\n                } else {\r\n                    helperService\r\n                        .searchReestrContractorListByIndividualsGroupId(`${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?typeId=${typeRow.item.typeId}&groupOfIndividualsId=${contractor.contractorId}&productOrServiceId=${productOrService.productOrServiceId}`)\r\n                        .then((res) => {\r\n                            this.$set(contractor, 'children', res.data)\r\n                        })\r\n                        .catch(e => {\r\n                            this.$set(contractor, 'children', [])\r\n                        })\r\n                        .finally(() => {\r\n                            this.$set(typeRow.item, 'loadingInnerData', false)\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        typeOpenCloseHandler (typeId, forClose) {\r\n            let foundIndex = this.localMainPageStoredData.openedTypeIds.findIndex(el => el == typeId)\r\n            if (forClose && foundIndex > -1) {\r\n                this.localMainPageStoredData.openedTypeIds.splice(foundIndex, 1)\r\n            } else if (!forClose && foundIndex < 0) {\r\n                this.localMainPageStoredData.openedTypeIds.push(typeId)\r\n            }\r\n            let savedOpenedTypeIds = JSON.parse(JSON.stringify(this.localMainPageStoredData.openedTypeIds))\r\n            this.localMainPageStoredData.openedTypeIds = []\r\n            this.$set(this.localMainPageStoredData, 'openedTypeIds', savedOpenedTypeIds)\r\n        },\r\n        rowClicked (item, index, e, fromCreated = false) {\r\n            if (!fromCreated) {\r\n                this.typeOpenCloseHandler(item.typeId, item._showDetails)\r\n            }\r\n            this.$set(item, '_showDetails', !item._showDetails)\r\n            this.fetchReestrDocsByTypeId(item.typeId, index)\r\n        },\r\n        fetchReestrDocsByTypeId (typeId, index) {\r\n            this.$set(this.tableItems[index], 'loadingInnerData', true)\r\n            if (this.localMainPageStoredData.isRepublic) {\r\n                helperService\r\n                    .searchReestrListByRepublic(`${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?&typeId=${typeId}`)\r\n                    .then((res) => {\r\n                        this.$set(this.tableItems[index], 'reestr', res.data)\r\n                    })\r\n                    .catch(e => {\r\n                        this.$set(this.tableItems[index], 'reestr', [])\r\n                    })\r\n                    .finally(() => {\r\n                        this.$set(this.tableItems[index], 'loadingInnerData', false)\r\n                    })\r\n            } else {\r\n                crudAndListsService\r\n                    .searchList(MAIN_API_URL, null, `${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?regionId=${this.localMainPageStoredData.regionId}&typeId=${typeId}`)\r\n                    .then((res) => {\r\n                        this.$set(this.tableItems[index], 'reestr', res.data)\r\n                    })\r\n                    .catch(e => {\r\n                        this.$set(this.tableItems[index], 'reestr', [])\r\n                    })\r\n                    .finally(() => {\r\n                        this.$set(this.tableItems[index], 'loadingInnerData', false)\r\n                    })\r\n            }\r\n        },\r\n        customLabelRegion (opt) {\r\n            let selected = this.regions.find(e => e.regionId == (opt.regionId ? opt.regionId : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.regionNameRu,\r\n                    nameLt: selected.regionNameLt,\r\n                    nameUz: selected.regionNameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        async regionSelected ($event) {\r\n            if ($event) {\r\n                this.fetchTableItems()\r\n            }\r\n        },\r\n        openStoredTypes () {\r\n            this.localMainPageStoredData.openedTypeIds.forEach(typeId => {\r\n                let foundIndex = this.tableItems.findIndex(el => el.typeId == typeId)\r\n                if (foundIndex > -1) {\r\n                    this.rowClicked(this.tableItems[foundIndex], foundIndex, null, true)\r\n                }\r\n            })\r\n        },\r\n        async fetchTableItems () {\r\n            this.loadingTableItems = true\r\n            if (this.localMainPageStoredData.isRepublic) {\r\n                helperService\r\n                    .getReestrByRepublic(this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : '')\r\n                    .then((res) => {\r\n                        this.tableItems = res.data;\r\n                        this.openStoredTypes()\r\n                    })\r\n                    .catch(e => {\r\n                        this.tableItems = [];\r\n                    })\r\n                    .finally(() => {\r\n                        this.loadingTableItems = false\r\n                    })\r\n            } else if (this.localMainPageStoredData.regionId) {\r\n                helperService\r\n                    .getReestrByRegionId(this.localMainPageStoredData.regionId, this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : '')\r\n                    .then((res) => {\r\n                        this.tableItems = res.data;\r\n                        this.openStoredTypes()\r\n                    })\r\n                    .catch(e => {\r\n                        this.tableItems = [];\r\n                    })\r\n                    .finally(() => {\r\n                        this.loadingTableItems = false\r\n                    })\r\n            } else {\r\n                this.tableItems = [];\r\n                this.loadingTableItems = false\r\n            }\r\n        },\r\n    },\r\n    /* CREATED */\r\n    created () {\r\n        if (this.isDominant) {\r\n            this.localMainPageStoredData = Object.assign({}, this.mainPageStoredDataForDominant)\r\n        } else if (this.isNatural) {\r\n            this.localMainPageStoredData = Object.assign({}, this.mainPageStoredDataForNatural)\r\n        }\r\n        // MAKE IS_REPUBLIC CHECKED\r\n        if (!this.localMainPageStoredData.regionId && this.$can('republic', 'for reestr')) {\r\n            this.localMainPageStoredData.isRepublic = true\r\n        }\r\n\r\n        // GET REGIONS\r\n        helperService.fetchRegionsForContractorReestrByCurrentUserId()\r\n            .then(res => {\r\n                this.regions = res.data\r\n                if (this.localMainPageStoredData.regionId && !this.localMainPageStoredData.isRepublic) {\r\n                    this.fetchTableItems()\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n    },\r\n    /*\r\n    WATCH */\r\n    watch: {\r\n        computedLocalMainPageStoredData: {\r\n            deep: true,\r\n            handler (n, o) {\r\n                let newVal = JSON.parse(n)\r\n                let oldVal = JSON.parse(o)\r\n                this.setMainPageStoredData({ data: newVal, reestrType: this.isDominant ? 'dominant' : this.isNatural ? 'natural' : '' })\r\n                if (newVal.isRepublic != oldVal.isRepublic) {\r\n                    this.fetchTableItems()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n::v-deep .cursorPointer {\r\n    cursor: pointer;\r\n    &:hover {\r\n        strong {\r\n            text-decoration: underline;\r\n        }\r\n        text-decoration: underline;\r\n    }\r\n}\r\n.a-tag-underline-hover {\r\n    &:hover {\r\n        * {\r\n            text-decoration: underline !important;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}