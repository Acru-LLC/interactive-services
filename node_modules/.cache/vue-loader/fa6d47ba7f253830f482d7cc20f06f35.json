{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\chat\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\chat\\Index.vue","mtime":1667352074413},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVnVlRWFzeUxpZ2h0Ym94IGZyb20gInZ1ZS1lYXN5LWxpZ2h0Ym94IjsNCmltcG9ydCBMYXlvdXQgZnJvbSAiQC9yb3V0ZXIvbGF5b3V0cy9tYWluIjsNCmltcG9ydCBhcHBDb25maWcgZnJvbSAiQC9hcHAuY29uZmlnIjsNCi8vIGltcG9ydCBQYWdlSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9wYWdlLWhlYWRlciI7DQoNCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7DQoNCmltcG9ydCBtZXNzZW5nZXJTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL21lc3NlbmdlclNlcnZpY2UiOw0KaW1wb3J0IHsgVG9rZW5TZXJ2aWNlIH0gZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlIg0KDQppbXBvcnQgZmlsZVVwbG9hZCBmcm9tICIuL2ZpbGUtdXBsb2FkIjsNCmltcG9ydCBDaGF0cyBmcm9tICIuL2NoYXRzIjsNCmltcG9ydCBDb250YWN0cyBmcm9tICIuL2NvbnRhY3RzIjsNCmltcG9ydCBHcm91cHMgZnJvbSAiLi9ncm91cHMiOw0KaW1wb3J0IEVkaXQgZnJvbSAiLi9lZGl0IjsNCmltcG9ydCBNZXNzYWdlcyBmcm9tICIuL21lc3NhZ2VzIjsNCmltcG9ydCBHcm91cE1lbWJlcnMgZnJvbSAiLi9ncm91cE1lbWJlcnMiOw0KaW1wb3J0IEFkZEdyb3VwTWVtYmVycyBmcm9tICIuL2FkZE5ld01lbWJlcnNUb0dyb3VwLnZ1ZSI7DQppbXBvcnQgRWRpdEdyb3VwIGZyb20gIi4vZWRpdEdyb3VwLnZ1ZSI7DQovKioNCiAqIENoYXQgQ29tcG9uZW50DQogKi8NCmltcG9ydCBpMThuIGZyb20gIkAvaTE4biI7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgd2F0Y2g6IHsNCiAgICAgICAgaW5uZXJXaWR0aDogew0KICAgICAgICAgICAgaGFuZGxlciAodikgew0KICAgICAgICAgICAgICAgIHRoaXMuc2V0V2luZG93V2lkdGhQcml2aXRlKHYpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgaW5kZXggKHYpIHsNCiAgICAgICAgICAgIGlmICh2ID09IDIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNvbnRhY3RDb21wb25lbnQuZ2V0Q2xpY2tUYWIoew0KICAgICAgICAgICAgICAgICAgICBwYWdlOiAwLA0KICAgICAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IDEwLA0KICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoQ29udGFjdCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodiA9PSAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5jaGF0Q29tcG9uZW50LmdldENsaWNrVGFiKHsNCiAgICAgICAgICAgICAgICAgICAgcGFnZTogMCwNCiAgICAgICAgICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiAxMCwNCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaENoYXQsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHYgPT0gMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZ3JvdXBDb21wb25lbnQuZ2V0Q2xpY2tUYWIoew0KICAgICAgICAgICAgICAgICAgICBwYWdlOiAwLA0KICAgICAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IDEwLA0KICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoR3JvdXAsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGZpbGU6IHsNCiAgICAgICAgICAgIGhhbmRsZXIgKHYpIHsNCiAgICAgICAgICAgICAgICBpZiAodikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVNb2RhbCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5maWxlQ29tcG9uZW50LnNldE5hbWVTaXplKHYubmFtZSwgdi5zaXplKTsNCiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZpbGVDb21wb25lbnQuc2V0TmFtZVNpemUobnVsbCwgbnVsbCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgc2VhcmNoR3JvdXAgKHYpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmdyb3VwQ29tcG9uZW50LmdldENsaWNrVGFiKHsNCiAgICAgICAgICAgICAgICAgICAgcGFnZTogMCwNCiAgICAgICAgICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiAxMCwNCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaEdyb3VwLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIHNlYXJjaENoYXQgKHYpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNoYXRDb21wb25lbnQuZ2V0Q2xpY2tUYWIoew0KICAgICAgICAgICAgICAgICAgICBwYWdlOiAwLA0KICAgICAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IDEwLA0KICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoQ2hhdCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2VhcmNoQ29udGFjdCAodikgew0KICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gMikgew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuY29udGFjdENvbXBvbmVudC5nZXRDbGlja1RhYih7DQogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDAsDQogICAgICAgICAgICAgICAgICAgIGl0ZW1zUGVyUGFnZTogMTAsDQogICAgICAgICAgICAgICAgICAgIHNlYXJjaDogdGhpcy5zZWFyY2hDb250YWN0LA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgcGFnZTogew0KICAgICAgICB0aXRsZTogaTE4bi50KCJjaGF0LmNoYXQiKSwNCiAgICAgICAgbWV0YTogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsDQogICAgICAgICAgICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICB9LA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgTGF5b3V0LA0KICAgICAgICAvLyBQYWdlSGVhZGVyLA0KICAgICAgICBmaWxlVXBsb2FkLA0KICAgICAgICBDaGF0cywNCiAgICAgICAgQ29udGFjdHMsDQogICAgICAgIEdyb3VwcywNCiAgICAgICAgRWRpdCwNCiAgICAgICAgTWVzc2FnZXMsDQogICAgICAgIFZ1ZUVhc3lMaWdodGJveCwNCiAgICAgICAgR3JvdXBNZW1iZXJzLA0KICAgICAgICBBZGRHcm91cE1lbWJlcnMsDQogICAgICAgIEVkaXRHcm91cCwNCiAgICB9LA0KICAgIGRhdGEgKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgcHVibGljUGF0aDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsDQogICAgICAgICAgICBsb2NhbFVzZXJBdmF0YXJVcmw6IG51bGwsDQogICAgICAgICAgICB1c2VyQXZhdGFyTG9hZGluZzogZmFsc2UsDQogICAgICAgICAgICBpbm5lcldpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwNCiAgICAgICAgICAgIHVzZXJGdWxsTmFtZTogVG9rZW5TZXJ2aWNlLmdldEZ1bGxOYW1lKCksDQogICAgICAgICAgICB1c2VySWQ6IFRva2VuU2VydmljZS5nZXRVc2VySWQoKSwNCiAgICAgICAgICAgIGJhc2VVcmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMLA0KICAgICAgICAgICAgbG9hZGVyRWRpdDogZmFsc2UsDQogICAgICAgICAgICBlZGl0R3JvdXBNb2RhbDogZmFsc2UsDQogICAgICAgICAgICB0b3RhbEdyb3VwTWVtYmVyOiAwLA0KICAgICAgICAgICAgc2VhcmNoR3JvdXBNZW1iZXJzOiAiIiwNCiAgICAgICAgICAgIGdyb3VwTWVtYmVyc01vZGFsOiBmYWxzZSwNCiAgICAgICAgICAgIHBhZzogeyBwYWdlOiAwLCBpdGVtc1BlclBhZ2U6IDEwIH0sDQogICAgICAgICAgICBsb2FkZXJGaWxlOiBmYWxzZSwNCiAgICAgICAgICAgIGNoYXRJZDogbnVsbCwNCiAgICAgICAgICAgIHVwbG9hZFBhdGg6IG51bGwsDQogICAgICAgICAgICBpbWFnZVZpZXc6IGZhbHNlLA0KICAgICAgICAgICAgZW1vamllczogWw0KICAgICAgICAgICAgICAgICLwn5iAIiwNCiAgICAgICAgICAgICAgICAi8J+YgyIsDQogICAgICAgICAgICAgICAgIvCfmIQiLA0KICAgICAgICAgICAgICAgICLwn5iBIiwNCiAgICAgICAgICAgICAgICAi8J+YhiIsDQogICAgICAgICAgICAgICAgIvCfmIUiLA0KICAgICAgICAgICAgICAgICLwn5iCIiwNCiAgICAgICAgICAgICAgICAi8J+koyIsDQogICAgICAgICAgICAgICAgIvCfmIoiLA0KICAgICAgICAgICAgICAgICLwn5iHIiwNCiAgICAgICAgICAgICAgICAi8J+ZgiIsDQogICAgICAgICAgICAgICAgIvCfmYMiLA0KICAgICAgICAgICAgICAgICLwn5iJIiwNCiAgICAgICAgICAgICAgICAi8J+YjCIsDQogICAgICAgICAgICAgICAgIvCfmI0iLA0KICAgICAgICAgICAgICAgICLwn6WwIiwNCiAgICAgICAgICAgICAgICAi8J+YmCIsDQogICAgICAgICAgICAgICAgIvCfmJciLA0KICAgICAgICAgICAgICAgICLwn5iZIiwNCiAgICAgICAgICAgICAgICAi8J+YmiIsDQogICAgICAgICAgICAgICAgIvCfmIsiLA0KICAgICAgICAgICAgICAgICLwn5ibIiwNCiAgICAgICAgICAgICAgICAi8J+YnSIsDQogICAgICAgICAgICAgICAgIvCfmJwiLA0KICAgICAgICAgICAgICAgICLwn6SqIiwNCiAgICAgICAgICAgICAgICAi8J+kqCIsDQogICAgICAgICAgICAgICAgIvCfp5AiLA0KICAgICAgICAgICAgICAgICLwn6STIiwNCiAgICAgICAgICAgICAgICAi8J+YjiIsDQogICAgICAgICAgICAgICAgIvCfpKkiLA0KICAgICAgICAgICAgICAgICLwn6WzIiwNCiAgICAgICAgICAgICAgICAi8J+YjyIsDQogICAgICAgICAgICAgICAgIvCfmJIiLA0KICAgICAgICAgICAgICAgICLwn5ieIiwNCiAgICAgICAgICAgICAgICAi8J+YlCIsDQogICAgICAgICAgICAgICAgIvCfmJ8iLA0KICAgICAgICAgICAgICAgICLwn5iVIiwNCiAgICAgICAgICAgICAgICAi8J+ZgSIsDQogICAgICAgICAgICAgICAgIuKYue+4jyIsDQogICAgICAgICAgICAgICAgIvCfmKMiLA0KICAgICAgICAgICAgICAgICLwn5iWIiwNCiAgICAgICAgICAgICAgICAi8J+YqyIsDQogICAgICAgICAgICAgICAgIvCfmKkiLA0KICAgICAgICAgICAgICAgICLwn6W6IiwNCiAgICAgICAgICAgICAgICAi8J+YoiIsDQogICAgICAgICAgICAgICAgIvCfmK0iLA0KICAgICAgICAgICAgICAgICLwn5ikIiwNCiAgICAgICAgICAgICAgICAi8J+YoCIsDQogICAgICAgICAgICAgICAgIvCfmKEiLA0KICAgICAgICAgICAgICAgICLwn6SsIiwNCiAgICAgICAgICAgICAgICAi8J+kryIsDQogICAgICAgICAgICAgICAgIvCfmLMiLA0KICAgICAgICAgICAgICAgICLwn6W1IiwNCiAgICAgICAgICAgICAgICAi8J+ltiIsDQogICAgICAgICAgICAgICAgIvCfmLEiLA0KICAgICAgICAgICAgICAgICLwn5ioIiwNCiAgICAgICAgICAgICAgICAi8J+YsCIsDQogICAgICAgICAgICAgICAgIvCfmKUiLA0KICAgICAgICAgICAgICAgICLwn5iTIiwNCiAgICAgICAgICAgICAgICAi8J+klyIsDQogICAgICAgICAgICAgICAgIvCfpJQiLA0KICAgICAgICAgICAgICAgICLwn6StIiwNCiAgICAgICAgICAgICAgICAi8J+kqyIsDQogICAgICAgICAgICAgICAgIvCfpKUiLA0KICAgICAgICAgICAgICAgICLwn5i2IiwNCiAgICAgICAgICAgICAgICAi8J+YkCIsDQogICAgICAgICAgICAgICAgIvCfmJEiLA0KICAgICAgICAgICAgICAgICLwn5isIiwNCiAgICAgICAgICAgICAgICAi8J+ZhCIsDQogICAgICAgICAgICAgICAgIvCfmK8iLA0KICAgICAgICAgICAgICAgICLwn5imIiwNCiAgICAgICAgICAgICAgICAi8J+YpyIsDQogICAgICAgICAgICAgICAgIvCfmK4iLA0KICAgICAgICAgICAgICAgICLwn5iyIiwNCiAgICAgICAgICAgICAgICAi8J+lsSIsDQogICAgICAgICAgICAgICAgIvCfmLQiLA0KICAgICAgICAgICAgICAgICLwn6SkIiwNCiAgICAgICAgICAgICAgICAi8J+YqiIsDQogICAgICAgICAgICAgICAgIvCfmLUiLA0KICAgICAgICAgICAgICAgICLwn6SQIiwNCiAgICAgICAgICAgICAgICAi8J+ltCIsDQogICAgICAgICAgICAgICAgIvCfpKIiLA0KICAgICAgICAgICAgICAgICLwn6SuIiwNCiAgICAgICAgICAgICAgICAi8J+kpyIsDQogICAgICAgICAgICAgICAgIvCfmLciLA0KICAgICAgICAgICAgICAgICLwn6SVIiwNCiAgICAgICAgICAgICAgICAi8J+kkSIsDQogICAgICAgICAgICAgICAgIvCfpKAiLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlzRWRpdDogZmFsc2UsDQogICAgICAgICAgICBzZWFyY2hWYWx1ZTogIiIsDQogICAgICAgICAgICBncm91cE1vZGFsOiBmYWxzZSwNCiAgICAgICAgICAgIGZpbGVNb2RhbDogZmFsc2UsDQogICAgICAgICAgICBmaWxlOiBudWxsLA0KICAgICAgICAgICAgZmlsZUZvclVzZXJBdmF0YXI6IG51bGwsDQoNCiAgICAgICAgICAgIGNoYXREYXRhOiBbXSwNCiAgICAgICAgICAgIGluZGV4OiAwLA0KICAgICAgICAgICAgaXNTaWRlYmFyQ2hhdDogZmFsc2UsDQoNCiAgICAgICAgICAgIG5vTXNnOiBmYWxzZSwNCiAgICAgICAgICAgIENIQVQ6IG51bGwsDQogICAgICAgICAgICBsb2FkZXI6IGZhbHNlLA0KICAgICAgICAgICAgc3VibWl0dGVkOiBmYWxzZSwNCg0KICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoImNoYXQuY2hhdCIpLA0KICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHQoImNoYXQuY2hhdCIpLA0KICAgICAgICAgICAgaXRlbXM6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoIm1lbnUiKSwNCiAgICAgICAgICAgICAgICAgICAgaHJlZjogIi8iLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCJjaGF0LmNoYXQiKSwNCiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgY2hhdFR5cGU6ICJjaGF0IiwNCg0KICAgICAgICAgICAgLy8gRk9SQ0hBVE1FU1NBR0VTDQogICAgICAgICAgICBwYWdlOiAwLA0KDQogICAgICAgICAgICBncm91cENoYXRJZDogbnVsbCwNCiAgICAgICAgICAgIHNlYXJjaENoYXQ6ICIiLA0KICAgICAgICAgICAgc2VhcmNoQ29udGFjdDogIiIsDQogICAgICAgICAgICBzZWFyY2hHcm91cDogIiIsDQogICAgICAgICAgICBtb2JpbGVDaGF0OiBmYWxzZSwNCiAgICAgICAgICAgIGFkZEdyb3VwTWVtYmVyc01vZGFsOiBmYWxzZSwNCiAgICAgICAgICAgIHNlYXJjaEdyb3VwTWVtYmVyc0FkZDogIiIsDQogICAgICAgIH07DQogICAgfSwNCiAgICBjcmVhdGVkICgpIHsNCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuaW5uZXJXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5zZXRXaW5kb3dXaWR0aFByaXZpdGUodGhpcy5pbm5lcldpZHRoKTsNCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIC4uLm1hcFN0YXRlKCJtZXNzZW5nZXIiLCBbDQogICAgICAgICAgICAiY2hhdExpc3RNZXNzYWdlcyIsDQogICAgICAgICAgICAiY2hhdFRvdGFsTWVzc2FnZXMiLA0KICAgICAgICAgICAgImdyb3VwQ2hhdExpc3RNZXNzYWdlcyIsDQogICAgICAgIF0pLA0KICAgICAgICAvLyAuLi5tYXBTdGF0ZSgiZW1wbG95ZWUiLCBbInVzZXIiXSksDQogICAgICAgIG1lc3NhZ2VzICgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmNoYXRUeXBlID09ICJncm91cCIpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncm91cENoYXRMaXN0TWVzc2FnZXM7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRMaXN0TWVzc2FnZXM7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHVzZXJBdmF0YXJVcmxGcm9tU3RvcmFnZSAoKSB7DQogICAgICAgICAgICBsZXQgdHJpZ2dlckZvclVybCA9IHRoaXMubG9jYWxVc2VyQXZhdGFyVXJsDQogICAgICAgICAgICByZXR1cm4gVG9rZW5TZXJ2aWNlLmdldFVzZXJBdmF0YXJVcmwoKQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC4uLm1hcEFjdGlvbnMoIm1lc3NlbmdlciIsIFsNCiAgICAgICAgICAgICJnZXRCeUNoYXRJZCIsDQogICAgICAgICAgICAic2VuZE1lc3NhZ2UiLA0KICAgICAgICAgICAgImdldEJ5R3JvdXBDaGF0SWQiLA0KICAgICAgICAgICAgInNlbmRNZXNzYWdlR3JvdXAiLA0KICAgICAgICBdKSwNCiAgICAgICAgcmVzZXRNZXNzYWdlc0NvbXBvbmVudFByb3BzICgpIHsNCiAgICAgICAgICAgIHRoaXMuQ0hBVCA9IG51bGwNCiAgICAgICAgICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLiR0KCJjaGF0LmNoYXQiKQ0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtZXNzZW5nZXIvc2V0TGlzdEdyb3VwQ2hhdE1lc3NlZ2VzJywgeyBsaXN0OiBbXSwgdG90YWw6IDAgfSkNCiAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMubm9Nc2cgPSBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICB1cGRhdGVVc2VyQXZhdGFyICgpIHsNCiAgICAgICAgICAgIHRoaXMudXNlckF2YXRhckxvYWRpbmcgPSB0cnVlDQogICAgICAgICAgICBtZXNzZW5nZXJTZXJ2aWNlDQogICAgICAgICAgICAgICAgLmNoYW5nZVVzZXJBdmF0YXIodGhpcy5maWxlRm9yVXNlckF2YXRhciwgdGhpcy51c2VySWQpDQogICAgICAgICAgICAgICAgLnRoZW4oKHJzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckF2YXRhckxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICBpZiAocnMuZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFVzZXJBdmF0YXJVcmwgPSBycy5kYXRhDQogICAgICAgICAgICAgICAgICAgICAgICBUb2tlblNlcnZpY2Uuc2V0VXNlckF2YXRhclVybChycy5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyQXZhdGFyTG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgdXNlckF2YXRhckNsaWNrZWQgKCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy51c2VyQXZhdGFyRmlsZVJlZi4kZWwuZmlyc3RDaGlsZC5jbGljaygpDQogICAgICAgIH0sDQogICAgICAgIGNsb3NlTW9kYWxBZGRNZW1iZXIgKCkgew0KICAgICAgICAgICAgdGhpcy5hZGRHcm91cE1lbWJlcnNNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hHcm91cE1lbWJlcnNBZGQgPSAiIjsNCiAgICAgICAgICAgIGlmICh0aGlzLmdyb3VwTWVtYmVyc01vZGFsICYmIHRoaXMuJHJlZnMuZ3JvdXBNZW1iZXJSZWYpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmdyb3VwTWVtYmVyUmVmLnJlc2V0KHRoaXMuc2VhcmNoR3JvdXBNZW1iZXJzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYWRkTWVtYmVyRnJvbU1vZGFsICgpIHsNCiAgICAgICAgICAgIHRoaXMuYWRkTWVtYmVyc1RvR3JvdXAoKTsNCiAgICAgICAgfSwNCiAgICAgICAgc2F2ZUVkaXRlZERhdGEgKCkgew0KICAgICAgICAgICAgdGhpcy5sb2FkZXJFZGl0ID0gdHJ1ZTsNCiAgICAgICAgICAgIGxldCB7IGZpbGUsIG5hbWUgfSA9IHRoaXMuJHJlZnMuZWRpdEdyb3VwUmVmOw0KICAgICAgICAgICAgbWVzc2VuZ2VyU2VydmljZQ0KICAgICAgICAgICAgICAgIC5lZGl0R3JvdXAoZmlsZSwgbmFtZSwgdGhpcy5DSEFULmlkKQ0KICAgICAgICAgICAgICAgIC50aGVuKChycykgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocnMuZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZ3JvdXBDb21wb25lbnQuZ2V0Q2xpY2tUYWIoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IDEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoR3JvdXAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRHcm91cE1vZGFsID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFVzZXJuYW1lKHJzLmRhdGEuZ3JvdXBOYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoRXJyKGUpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlckVkaXQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgZWRpdEdyb3VwICgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdEdyb3VwTW9kYWwgPSB0cnVlOw0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5lZGl0R3JvdXBSZWYuc2V0RWRpdGVkRGF0YSgNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5DSEFULmdyb3VwTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS8ke3RoaXMuQ0hBVC51cGxvYWRQYXRofWANCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSwgMzAwKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlR3JvdXAgKCkgew0KICAgICAgICAgICAgdGhpcy4kYnZNb2RhbC5tc2dCb3hDb25maXJtKHRoaXMuJHQoJ21lc3NhZ2VzLmRlbGV0ZV90aXRsZScpLCB7DQogICAgICAgICAgICAgICAgb2tUaXRsZTogdGhpcy4kdCgnYWN0aW9ucy5jb25maXJtJyksDQogICAgICAgICAgICAgICAgY2FuY2VsVGl0bGU6IHRoaXMuJHQoJ2FjdGlvbnMuY2FuY2VsJykNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLnRoZW4odmFsdWUgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NlbmdlclNlcnZpY2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGVsZXRlR3JvdXAodGhpcy5DSEFULmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChycykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbmRleCA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmdyb3VwQ29tcG9uZW50LmdldENsaWNrVGFiKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zUGVyUGFnZTogMTAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaEdyb3VwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldE1lc3NhZ2VzQ29tcG9uZW50UHJvcHMoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBBbiBlcnJvciBvY2N1cnJlZA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGFkZE1lbWJlcnNUb0dyb3VwICgpIHsNCiAgICAgICAgICAgIHRoaXMuYWRkR3JvdXBNZW1iZXJzTW9kYWwgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hHcm91cE1lbWJlcnNBZGQgPSAiIjsNCg0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5hZGRHcm91cE1lbWJlclJlZi5yZXNldCh0aGlzLnNlYXJjaEdyb3VwTWVtYmVyc0FkZCk7DQogICAgICAgICAgICB9LCAzMDApOw0KICAgICAgICB9LA0KICAgICAgICBzZXRUb3RhbEZvckdyb3VwTWVtYmVyICh2KSB7DQogICAgICAgICAgICB0aGlzLnRvdGFsR3JvdXBNZW1iZXIgPSB2LnRvdGFsOw0KICAgICAgICB9LA0KICAgICAgICB2aWV3R3JvdXBNZW1iZXJzICgpIHsNCiAgICAgICAgICAgIHRoaXMuZ3JvdXBNZW1iZXJzTW9kYWwgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hHcm91cE1lbWJlcnMgPSAiIjsNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZ3JvdXBNZW1iZXJSZWYucmVzZXQodGhpcy5zZWFyY2hHcm91cE1lbWJlcnMpOw0KICAgICAgICAgICAgfSwgMzAwKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy9NRVNTQUdFIFNFQVJDSElORyBDSEFUIEFORCBHUk9VUA0KICAgICAgICBhc3luYyBzZWFyY2hNc2cgKHYpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLkNIQVQuaWQpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSB7DQogICAgICAgICAgICAgICAgICAgIHBhZzogdGhpcy5wYWcsDQogICAgICAgICAgICAgICAgICAgIGNoYXRJZDogdGhpcy5DSEFULmlkLA0KICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHYsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGF0VHlwZSA9PSAiZ3JvdXAiKSB7DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QnlHcm91cENoYXRJZChhcmcpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QnlDaGF0SWQoYXJnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vRU5EDQoNCiAgICAgICAgdmlld0ltYWdlRnJvbU1lc3NhZ2VzIChwYXRoKSB7DQogICAgICAgICAgICB0aGlzLmltYWdlVmlldyA9IHRydWU7DQogICAgICAgICAgICB0aGlzLnVwbG9hZFBhdGggPSBwYXRoOw0KICAgICAgICB9LA0KICAgICAgICBzZXRXaW5kb3dXaWR0aFByaXZpdGUgKHYpIHsNCiAgICAgICAgICAgIGlmICh2IDwgOTkyKSB7DQogICAgICAgICAgICAgICAgdGhpcy5tb2JpbGVDaGF0ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5tb2JpbGVDaGF0ID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNlbGVjdEVtb2ppIChlKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLm1lc3NhZ2VSZWYuZm9ybS5tZXNzYWdlID0gU3RyaW5nKA0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMubWVzc2FnZVJlZi5mb3JtLm1lc3NhZ2UuY29uY2F0KGUpDQogICAgICAgICAgICApOw0KICAgICAgICB9LA0KDQogICAgICAgIC8vREVMRVRFIE1FU1NBR0UNCiAgICAgICAgZGVsZXRlTXNnIChpZCwgZ3JvdXBDaGF0SWQsIGNoYXRJZCkgew0KICAgICAgICAgICAgY29uc3QgZGVsZXRlQXBpID0gKGFwaSwgYXJnKSA9PiB7DQogICAgICAgICAgICAgICAgYXBpKGFyZykNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ2RlbGV0ZWQnKSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoRXJyKGVycikNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgaWYgKHRoaXMuY2hhdFR5cGUgPT0gImdyb3VwIikgew0KICAgICAgICAgICAgICAgIGRlbGV0ZUFwaShtZXNzZW5nZXJTZXJ2aWNlLmdyb3VwQ2hhdE1lc3NhZ2VEZWxldGUsIHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIGdyb3VwQ2hhdElkLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBkZWxldGVBcGkobWVzc2VuZ2VyU2VydmljZS5jaGF0TWVzc2FnZURlbGV0ZSwgeyBpZCwgY2hhdElkIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIHNhdmVFZGl0ICh7IG1lc3NhZ2UsIGZpbGUgfSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuY2hhdFR5cGUgPT0gImdyb3VwIikgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyb3VwQ2hhdElkKSB7DQogICAgICAgICAgICAgICAgICAgIG1lc3NlbmdlclNlcnZpY2UNCiAgICAgICAgICAgICAgICAgICAgICAgIC5ncm91cENoYXRNZXNzYWdlVXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5ncm91cENoYXRJZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2F0Y2hFcnIoZXJyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbWVzc2VuZ2VyU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAuY2hhdE1lc3NhZ2VVcGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuY2hhdElkLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4geyB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2F0Y2hFcnIoZXJyKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHVwZGF0ZU1zZyAoeyBpZCwgbWVzc2FnZSwgdXBsb2FkUGF0aCwgZmlsZU5hbWUgfSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuY2hhdFR5cGUgPT0gImdyb3VwIikgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLmdyb3VwQ2hhdElkID0gaWQ7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZWRpdFJlZi5zZXRNc2cobWVzc2FnZSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZWRpdFJlZi5zZXRGaWxlKGZpbGVOYW1lLCB1cGxvYWRQYXRoKTsNCiAgICAgICAgICAgICAgICB9LCAyMDApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzRWRpdCA9IHRydWU7DQogICAgICAgICAgICAgICAgdGhpcy5jaGF0SWQgPSBpZDsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5lZGl0UmVmLnNldE1zZyhtZXNzYWdlKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5lZGl0UmVmLnNldEZpbGUoZmlsZU5hbWUsIHVwbG9hZFBhdGgpOw0KICAgICAgICAgICAgICAgIH0sIDIwMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGZpbmlzaFNlbmRGaWxlIChtZXNzYWdlLCBpZCwgZW1wbG95ZWVJZCwgZmlsZSkgew0KICAgICAgICAgICAgdGhpcy5sb2FkZXJGaWxlID0gdHJ1ZTsNCiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VSZWYgPSB0aGlzLiRyZWZzLm1lc3NhZ2VSZWY7DQogICAgICAgICAgICBsZXQgeyB0b2FzdERhdGEsIHRvYXN0U3RhdHVzIH0gPSBtZXNzYWdlUmVmOw0KICAgICAgICAgICAgaWYgKHRvYXN0U3RhdHVzID09ICJyZXBseSIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNhbGxBcGkoDQogICAgICAgICAgICAgICAgICAgIG1lc3NlbmdlclNlcnZpY2UucmVwbHlDaGF0LA0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGF0SWQ6IGlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUsDQogICAgICAgICAgICAgICAgICAgICAgICBpZDogdG9hc3REYXRhLmlkLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZpbGVDb21wb25lbnQucmVzZXQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZSA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJGaWxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgIGNoYXRJZDogaWQgfHwgZW1wbG95ZWVJZCwNCiAgICAgICAgICAgICAgICAgICAgb3duZXJJZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcl9pZCIpKSwNCiAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZSwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgbWVzc2VuZ2VyU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAuc2VuZEZpbGUoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZpbGVDb21wb25lbnQucmVzZXQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZSA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJGaWxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbCgpOw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2F0Y2hFcnIoZXJyKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VuZEZpbGUgKG1lc3NhZ2UsIGZpbGUpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmNoYXRUeXBlID09ICJjaGF0Iikgew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgaWQsIG93bmVySWQsIGVtcGxveWVlSWQgfSA9IHRoaXMuQ0hBVDsNCiAgICAgICAgICAgICAgICBpZiAob3duZXJJZCB8fCBpZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaFNlbmRGaWxlKG1lc3NhZ2UsIGlkLCBlbXBsb3llZUlkLCBmaWxlKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaFNlbmRGaWxlRnJvbUNvbnRhY3QoZmlsZSwgbWVzc2FnZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaFNlbmRGaWxlR3JvdXAobWVzc2FnZSwgdGhpcy5DSEFULmlkLCBmaWxlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZmluaXNoU2VuZEZpbGVGcm9tQ29udGFjdCAoZmlsZSwgbWVzc2FnZSkgew0KICAgICAgICAgICAgbWVzc2VuZ2VyU2VydmljZQ0KICAgICAgICAgICAgICAgIC5jcmVhdGVDaGF0KHRoaXMuQ0hBVC5lbXBsb3llZUlkKQ0KICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIChycykgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGlkLCBlbXBsb3llZUlkIH0gPSBycy5kYXRhOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QnlDaGF0SWQoeyBwYWc6IHRoaXMucGFnLCBjaGF0SWQ6IGlkIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5maW5pc2hTZW5kRmlsZShtZXNzYWdlLCBpZCwgZW1wbG95ZWVJZCwgZmlsZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoRXJyKGVycik7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGZpbmlzaFNlbmRGaWxlR3JvdXAgKG1lc3NhZ2UsIGdyb3VwSWQsIGZpbGUpIHsNCiAgICAgICAgICAgIHRoaXMubG9hZGVyRmlsZSA9IHRydWU7DQogICAgICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBncm91cENoYXRJZDogZ3JvdXBJZCwNCiAgICAgICAgICAgICAgICBvd25lcklkOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyX2lkIikpLA0KICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBtZXNzZW5nZXJTZXJ2aWNlLnNlbmRJbWFnZUdyb3VwKGRhdGEpLnRoZW4oKHJzKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5maWxlQ29tcG9uZW50LnJlc2V0KCk7DQogICAgICAgICAgICAgICAgdGhpcy5maWxlID0gbnVsbDsNCiAgICAgICAgICAgICAgICB0aGlzLmZpbGVNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyRmlsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgZmlsZVVwbG9hZCAoKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLmZpbGVSZWYuJGVsLmZpcnN0Q2hpbGQuY2xpY2soKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRNZXNzYWdlc0J5Q2hhdElkIChjbXApIHsNCiAgICAgICAgICAgIGlmICh0aGlzLkNIQVQuaWQpIHsNCiAgICAgICAgICAgICAgICBtZXNzZW5nZXJTZXJ2aWNlDQogICAgICAgICAgICAgICAgICAgIC5nZXRCeUNoYXRJZCh7DQogICAgICAgICAgICAgICAgICAgICAgICBwYWc6IHsgcGFnZTogKHRoaXMucGFnZSArPSAxKSwgaXRlbXNQZXJQYWdlOiAxMCB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhdElkOiB0aGlzLkNIQVQuaWQsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jICh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJtZXNzZW5nZXIvcHVzaEl0ZW1zIiwgZGF0YS5saXN0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpc3QubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtcC5zY3JvbGxUb3AgPSA4MDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub01zZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vTXNnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgKyAtMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoRXJyKGVycik7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldE1lc3NhZ2VzQnlHcm91cElkIChjbXApIHsNCiAgICAgICAgICAgIG1lc3NlbmdlclNlcnZpY2UNCiAgICAgICAgICAgICAgICAuZ2V0QnlHcm91cENoYXRJZCh7DQogICAgICAgICAgICAgICAgICAgIHBhZzogeyBwYWdlOiAodGhpcy5wYWdlICs9IDEpLCBpdGVtc1BlclBhZ2U6IDEwIH0sDQogICAgICAgICAgICAgICAgICAgIGNoYXRJZDogdGhpcy5DSEFULmlkLA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHsgZGF0YSB9KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpc3QubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY21wLnNjcm9sbFRvcCA9IDE1MDA7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm1lc3Nlbmdlci9wdXNoR3JvdXBJdGVtcyIsIGRhdGEubGlzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vTXNnID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vTXNnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZSArIC0xOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEdldCB0aGUgbmFtZSBvZiB1c2VyDQogICAgICAgICAqLw0KICAgICAgICBzZXRVc2VybmFtZSAobmFtZSkgew0KICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9IG5hbWU7DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGNoYXRVc2VybmFtZSAoY29udGFjdCkgew0KICAgICAgICAgICAgdGhpcy5jaGF0VHlwZSA9ICJjaGF0IjsNCiAgICAgICAgICAgIHRoaXMubm9Nc2cgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMucGFnZSA9IDA7DQoNCiAgICAgICAgICAgIHRoaXMuQ0hBVCA9IGNvbnRhY3Q7DQogICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5jb21taXQoIm1lc3Nlbmdlci9zZXRDdXJyZW50Q2hhdCIsIGNvbnRhY3QpOw0KICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRVc2VybmFtZShjb250YWN0Lm15TmFtZSk7DQogICAgICAgICAgICBhd2FpdCB0aGlzLmdldEJ5Q2hhdElkKHsNCiAgICAgICAgICAgICAgICBwYWc6IHsgcGFnZTogMCwgaXRlbXNQZXJQYWdlOiAxMCB9LA0KICAgICAgICAgICAgICAgIGNoYXRJZDogY29udGFjdC5pZCwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRNb2JpbGVDaGF0KCk7DQogICAgICAgIH0sDQogICAgICAgIHNldE1vYmlsZUNoYXQgKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMubW9iaWxlQ2hhdCkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNTaWRlYmFyQ2hhdCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGdyb3VwVXNlcm5hbWUgKGdyb3VwKSB7DQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5ub01zZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMucGFnZSA9IDA7DQogICAgICAgICAgICAgICAgdGhpcy5jaGF0VHlwZSA9ICJncm91cCI7DQogICAgICAgICAgICAgICAgdGhpcy5DSEFUID0gZ3JvdXA7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmNvbW1pdCgibWVzc2VuZ2VyL3NldEN1cnJlbnRDaGF0IiwgZ3JvdXApOw0KICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRVc2VybmFtZShncm91cC5ncm91cE5hbWUpOw0KICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRCeUdyb3VwQ2hhdElkKHsNCiAgICAgICAgICAgICAgICBwYWc6IHsgcGFnZTogMCwgaXRlbXNQZXJQYWdlOiAxMCB9LA0KICAgICAgICAgICAgICAgIGNoYXRJZDogZ3JvdXAuaWQsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0TW9iaWxlQ2hhdCgpOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBjb250YWN0VXNlcm5hbWUgKGNvbnRhY3QpIHsNCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLm5vTXNnID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy5DSEFUID0gY29udGFjdDsNCiAgICAgICAgICAgICAgICB0aGlzLmNoYXRUeXBlID0gImNoYXQiOw0KICAgICAgICAgICAgICAgIHRoaXMucGFnZSA9IDA7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmNvbW1pdCgibWVzc2VuZ2VyL3NldEN1cnJlbnRDaGF0IiwgY29udGFjdCk7DQogICAgICAgICAgICBhd2FpdCB0aGlzLnNldFVzZXJuYW1lKA0KICAgICAgICAgICAgICAgIGAgJHtjb250YWN0Lmxhc3ROYW1lfSAke2NvbnRhY3QuZmlyc3ROYW1lfSAke2NvbnRhY3QubWlkZGxlTmFtZX1gDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgaWYgKGNvbnRhY3QuaWQpIHsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldEJ5Q2hhdElkKHsNCiAgICAgICAgICAgICAgICAgICAgcGFnOiB7IHBhZ2U6IDAsIGl0ZW1zUGVyUGFnZTogMTAgfSwNCiAgICAgICAgICAgICAgICAgICAgY2hhdElkOiBjb250YWN0LmlkLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5jb21taXQoIm1lc3Nlbmdlci9zZXRMaXN0Q2hhdE1lc3NlZ2VzIiwgew0KICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgICAgICAgICAgICAgbGlzdDogW10sDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0TW9iaWxlQ2hhdCgpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBDaGFyIGZvcm0gU3VibWl0DQogICAgICAgICAqLw0KICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMNCiAgICAgICAgc2VuZE1zZ0dyb3VwIChtZXNzYWdlKSB7DQogICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlR3JvdXAoDQogICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLA0KICAgICAgICAgICAgICAgICAgICBncm91cENoYXRJZDogdGhpcy5DSEFULmlkLA0KICAgICAgICAgICAgICAgICAgICBvd25lcklkOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyX2lkIikpLA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgLy8gdGhpcy5mb3JtLm1lc3NhZ2UgPSAiIjsNCiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsKCk7DQogICAgICAgIH0sDQogICAgICAgIHNlbmRNc2dBcGkgKG1zZywgY2hhdElkKSB7DQogICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKA0KICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnLA0KICAgICAgICAgICAgICAgICAgICBjaGF0SWQ6IGNoYXRJZCB8fCBlbXBJZCwNCiAgICAgICAgICAgICAgICAgICAgb3duZXJJZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcl9pZCIpKSwNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgc2VuZE1zZyAobWVzc2FnZSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuQ0hBVC5vd25lcklkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZW5kTXNnQXBpKG1lc3NhZ2UsIHRoaXMuQ0hBVC5pZCB8fCB0aGlzLkNIQVQuZW1wbG95ZWVJZCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLkNIQVQuaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kTXNnQXBpKG1lc3NhZ2UsIHRoaXMuQ0hBVC5pZCB8fCB0aGlzLkNIQVQuZW1wbG95ZWVJZCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2VuZ2VyU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUNoYXQodGhpcy5DSEFULmVtcGxveWVlSWQpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihhc3luYyAocnMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnMuZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldEJ5Q2hhdElkKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZzogeyBwYWdlOiAwLCBpdGVtc1BlclBhZ2U6IDEwIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGF0SWQ6IHJzLmRhdGEuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNc2dBcGkobWVzc2FnZSwgcnMuZGF0YS5pZCB8fCBycy5kYXRhLmVtcGxveWVlSWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2lkZWJhckNoYXQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYXRjaEVycihlcnIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGwoKTsNCiAgICAgICAgfSwNCiAgICAgICAgY2FsbEFwaSAoYXBpLCBhcmcsIGZ1bmMgPSBudWxsKSB7DQogICAgICAgICAgICBjb25zdCBtZXNzYWdlUmVmID0gdGhpcy4kcmVmcy5tZXNzYWdlUmVmOw0KICAgICAgICAgICAgY29uc3QgaGlkZVRvYXN0ID0gKCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlUmVmKSBtZXNzYWdlUmVmLnJlcGx5TXNnKG51bGwsICJoaWRkZW4iKTsNCiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbCgpOw0KICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7DQogICAgICAgICAgICAgICAgICAgIGZ1bmMoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgYXBpKGFyZykNCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBoaWRlVG9hc3QoKSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gY2F0Y2hFcnIoZSkNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy9NRVNTQUdFIFNFTkQgQVBJDQogICAgICAgIGFzeW5jIGZvcm1TdWJtaXQgKGUpIHsNCiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VSZWYgPSB0aGlzLiRyZWZzLm1lc3NhZ2VSZWY7DQoNCiAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIGxldCB7IHRvYXN0RGF0YSwgdG9hc3RTdGF0dXMgfSA9IG1lc3NhZ2VSZWY7DQoNCiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlUmVmLmZvcm0ubWVzc2FnZTsNCiAgICAgICAgICAgIC8vIHN0b3AgaGVyZSBpZiBmb3JtIGlzIGludmFsaWQNCiAgICAgICAgICAgIGlmICgoIW1lc3NhZ2UgfHwgbWVzc2FnZS50cmltKCkubGVuZ3RoID09IDApICYmIHRvYXN0U3RhdHVzICE9ICdmb3J3YXJkJykgew0KICAgICAgICAgICAgICAgIG1lc3NhZ2VSZWYuJHJlZnMubXNnSW5wdXQuJGVsLmZvY3VzKCkNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxldCBwYXlsb2FkID0gew0KICAgICAgICAgICAgICAgICAgICBpZDogdG9hc3REYXRhID8gdG9hc3REYXRhLmlkIDogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHN3aXRjaCAodG9hc3RTdGF0dXMpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZWRpdCI6DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGF0VHlwZSA9PSAiZ3JvdXAiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsQXBpKG1lc3NlbmdlclNlcnZpY2UuZ3JvdXBDaGF0TWVzc2FnZVVwZGF0ZSwgcGF5bG9hZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbEFwaShtZXNzZW5nZXJTZXJ2aWNlLmNoYXRNZXNzYWdlVXBkYXRlLCBwYXlsb2FkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgICAgICAgICAgICAgIGNhc2UgImZvcndhcmQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGlkLCBlbXBsb3llZUlkIH0gPSB0aGlzLkNIQVQ7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGF0VHlwZSA9PSAiZ3JvdXAiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsQXBpKG1lc3NlbmdlclNlcnZpY2UuZ3JvdXBDaGF0TWVzc2FnZVVwZGF0ZSwgcGF5bG9hZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxBcGkobWVzc2VuZ2VyU2VydmljZS5mb3J3YXJkQ2hhdCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhdElkOiBpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBheWxvYWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NlbmdlclNlcnZpY2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jcmVhdGVDaGF0KGVtcGxveWVlSWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocnMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxBcGkobWVzc2VuZ2VyU2VydmljZS5mb3J3YXJkQ2hhdCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGF0SWQ6IHJzLmRhdGEuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBheWxvYWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYXRjaEVycihlcnIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgInJlcGx5IjoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXRUeXBlID09ICJncm91cCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxBcGkobWVzc2VuZ2VyU2VydmljZS5ncm91cENoYXRNZXNzYWdlVXBkYXRlLCBwYXlsb2FkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuQ0hBVC5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxBcGkobWVzc2VuZ2VyU2VydmljZS5yZXBseUNoYXQsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRJZDogdGhpcy5DSEFULmlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXRUeXBlID09ICJjaGF0Iikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VuZE1zZyhtZXNzYWdlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kTXNnR3JvdXAobWVzc2FnZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgLy8gfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2VSZWYuZm9ybS5tZXNzYWdlID0gIiI7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gMikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNoYXRDb21wb25lbnQuZ2V0Q2xpY2tUYWIoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiAxMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoQ2hhdCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DSEFUID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLiR0KCJjaGF0LmNoYXQiKTsNCiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgaGFuZGxlU2Nyb2xsICgpIHsNCiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VSZWYgPSB0aGlzLiRyZWZzLm1lc3NhZ2VSZWY7DQogICAgICAgICAgICBpZiAobWVzc2FnZVJlZi4kcmVmcy5jdXJyZW50LiRlbCkgew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlUmVmLiRyZWZzLmN1cnJlbnQuU2ltcGxlQmFyLmdldFNjcm9sbEVsZW1lbnQoKS5zY3JvbGxUb3AgPQ0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVJlZi4kcmVmcy5jdXJyZW50LlNpbXBsZUJhci5nZXRTY3JvbGxFbGVtZW50KCkuc2Nyb2xsSGVpZ2h0ICsNCiAgICAgICAgICAgICAgICAgICAgICAgIDE1MDA7DQogICAgICAgICAgICAgICAgfSwgNTAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9LA0KfTsNCg=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+dA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/modules/chat","sourcesContent":["\r\n<template>\r\n    <Layout>\r\n      <div class=\"col-md-12 text-center\">\r\n        <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.chat.title') }}</div>\r\n      </div>\r\n        <!-- <PageHeader :title=\"title\" :items=\"items\" /> -->\r\n        <div>\r\n            <vue-easy-lightbox\r\n                :visible=\"imageView\"\r\n                :imgs=\"`${baseUrl}${uploadPath}`\"\r\n                @hide=\"imageView = false\"\r\n            ></vue-easy-lightbox>\r\n            <b-modal\r\n                v-model=\"fileModal\"\r\n                size=\"md\"\r\n                :no-close-on-backdrop=\"true\"\r\n                hide-header\r\n                hide-footer\r\n                centered\r\n                body-class=\"p-0\"\r\n            >\r\n                <b-overlay\r\n                    :opacity=\"0.1\"\r\n                    :show=\"loaderFile\"\r\n                    rounded=\"sm\"\r\n                >\r\n                    <file-upload\r\n                        ref=\"fileComponent\"\r\n                        v-if=\"file\"\r\n                        @cancel=\"\r\n              () => {\r\n                fileModal = false;\r\n                file = null;\r\n              }\r\n            \"\r\n                        :file=\"file\"\r\n                        @sendFile=\"sendFile\"\r\n                    />\r\n                </b-overlay>\r\n            </b-modal>\r\n        </div>\r\n        <b-form-file\r\n            ref=\"fileRef\"\r\n            style=\"display: none\"\r\n            v-model=\"file\"\r\n        ></b-form-file>\r\n        <!-- THIS UPLOADER IS FOR USER AVATAR -->\r\n        <b-form-file\r\n            ref=\"userAvatarFileRef\"\r\n            style=\"display: none\"\r\n            v-model=\"fileForUserAvatar\"\r\n            @input=\"updateUserAvatar\"\r\n        ></b-form-file>\r\n        <div class=\"d-lg-flex\">\r\n            <div class=\"chat-leftsidebar mr-lg-4\">\r\n                <div class>\r\n                    <div class=\"py-4\">\r\n                        <div class=\"media align-items-center\">\r\n                            <div class=\"align-self-center mr-3\">\r\n                                <!-- <img\r\n                                    :src=\"require('@/assets/images/acru-logo-with-name.svg')\"\r\n                                    class=\"avatar-sm rounded-circle\"\r\n                                    alt\r\n                                /> -->\r\n                                <!-- <div\r\n                                    class=\"d-flex\"\r\n                                    style=\"justify-content: center\"\r\n                                >\r\n                                    <div class=\"position-relative\">\r\n                                        <img\r\n                                            class=\"rounded-circle bg-light avatar-md p-2\"\r\n                                            :src=\"`${imgUrl ? imgUrl : require('@/assets/images/acru-logo-with-name.svg')}`\"\r\n                                        />\r\n                                        <div\r\n                                            @click=\"changeImage\"\r\n                                            class=\"\r\n                                                avatar-edit-pencil\r\n                                                d-flex\r\n                                                align-items-center\r\n                                                justify-content-center\r\n                                                bg-primary\r\n                                            \"\r\n                                        >\r\n                                            <i\r\n                                                class=\"bx bx-pencil text-white\"\r\n                                                style=\"font-size: 1rem;\"\r\n                                            ></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div> -->\r\n                                <div class=\"avatar-container\">\r\n                                    <b-spinner\r\n                                        v-if=\"userAvatarLoading\"\r\n                                        variant=\"primary\"\r\n                                        label=\"Loading\"\r\n                                    ></b-spinner>\r\n                                    <img\r\n                                        v-else\r\n                                        class=\"rounded-circle bg-light p-2 image\"\r\n                                        :src=\"`${userAvatarUrlFromStorage ? publicPath+userAvatarUrlFromStorage : require('@/assets/images/users/default-avatar.png')}`\"\r\n                                    />\r\n                                    <div class=\"overlay\">\r\n                                        <div\r\n                                            @click=\"userAvatarClicked\"\r\n                                            class=\"\r\n                                                avatar-edit-pencil\r\n                                                d-flex\r\n                                                align-items-center\r\n                                                justify-content-center\r\n                                                bg-primary\r\n                                            \"\r\n                                        >\r\n                                            <i\r\n                                                class=\"mdi mdi-camera-plus-outline text-white\"\r\n                                                style=\"font-size: 2rem;\"\r\n                                            ></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"media-body\">\r\n                                <h5 class=\"font-size-15 mt-0 mb-1\">\r\n                                    {{ `${userFullName}` }}\r\n                                </h5>\r\n                                <p class=\"text-muted mb-0\">\r\n                                    <i class=\"mdi mdi-circle text-success align-middle mr-1\"></i>\r\n                                    {{ $t(\"active\") }}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"chat-leftsidebar-nav mt-0\">\r\n                    <b-tabs\r\n                        pills\r\n                        fill\r\n                        content-class=\"my-2\"\r\n                        v-model=\"index\"\r\n                    >\r\n                        <b-tab\r\n                            title=\"Tab 1\"\r\n                            active\r\n                        >\r\n                            <template v-slot:title>\r\n                                <i class=\"bx bx-chat font-size-20 d-sm-none\"></i>\r\n                                <span class=\"d-none d-sm-block\">{{ $t(\"chat.chat\") }}</span>\r\n                            </template>\r\n                            <div class=\"search-box chat-search-box py-2 mb-2\">\r\n                                <div class=\"position-relative\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        class=\"form-control\"\r\n                                        v-model=\"searchChat\"\r\n                                        :placeholder=\"$t('actions.filter')\"\r\n                                    />\r\n                                    <i class=\"bx bx-search-alt search-icon\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <Chats\r\n                                ref=\"chatComponent\"\r\n                                :username=\"username\"\r\n                                @chatClick=\"chatUsername\"\r\n                                :ch=\"CHAT\"\r\n                            />\r\n                        </b-tab>\r\n                        <b-tab>\r\n                            <template v-slot:title>\r\n                                <i class=\"bx bx-group font-size-20 d-sm-none\"></i>\r\n                                <span class=\"d-none d-sm-block\">{{ $t(\"chat.groups\") }}</span>\r\n                            </template>\r\n                            <div class=\"search-box chat-search-box py-2 mb-2\">\r\n                                <div class=\"position-relative\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        class=\"form-control\"\r\n                                        v-model=\"searchGroup\"\r\n                                        :placeholder=\"$t('actions.filter')\"\r\n                                    />\r\n                                    <i class=\"bx bx-search-alt search-icon\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <Groups\r\n                                :group=\"CHAT\"\r\n                                :username=\"username\"\r\n                                @groupClick=\"groupUsername\"\r\n                                ref=\"groupComponent\"\r\n                            />\r\n                        </b-tab>\r\n                        <b-tab>\r\n                            <template v-slot:title>\r\n                                <i class=\"bx bx-book-content font-size-20 d-sm-none\"></i>\r\n                                <span class=\"d-none d-sm-block\">{{ $t(\"chat.contacts\") }}</span>\r\n                            </template>\r\n                            <b-card-text>\r\n                                <div class=\"search-box chat-search-box py-2 mb-2\">\r\n                                    <div class=\"position-relative\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            class=\"form-control\"\r\n                                            v-model=\"searchContact\"\r\n                                            :placeholder=\"$t('actions.filter')\"\r\n                                        />\r\n                                        <i class=\"bx bx-search-alt search-icon\"></i>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <Contacts\r\n                                    :username=\"username\"\r\n                                    ref=\"contactComponent\"\r\n                                    @contactUsername=\"contactUsername\"\r\n                                />\r\n                            </b-card-text>\r\n                        </b-tab>\r\n                    </b-tabs>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"mobileChat\">\r\n                <b-sidebar\r\n                    class=\"sidebar-chat\"\r\n                    shadow\r\n                    sidebar-class=\"p-0\"\r\n                    :no-header=\"true\"\r\n                    right\r\n                    v-model=\"isSidebarChat\"\r\n                >\r\n                    <Messages\r\n                        @editGroup=\"editGroup\"\r\n                        @deleteGroup=\"deleteGroup\"\r\n                        @addMembersToGroup=\"addMembersToGroup\"\r\n                        @viewGroupMembers=\"viewGroupMembers\"\r\n                        @contactUsername=\"contactUsername\"\r\n                        @searchMsg=\"searchMsg\"\r\n                        @back=\"isSidebarChat = false\"\r\n                        ref=\"messageRef\"\r\n                        @viewImageFromMessages=\"viewImageFromMessages\"\r\n                        @getMessagesByGroupId=\"getMessagesByGroupId\"\r\n                        @getMessagesByChatId=\"getMessagesByChatId\"\r\n                        @fileUpload=\"fileUpload\"\r\n                        @selectEmoji=\"selectEmoji\"\r\n                        @formSubmit=\"formSubmit\"\r\n                        @deleteMsg=\"deleteMsg\"\r\n                        :currentContact=\"CHAT\"\r\n                        :username=\"username\"\r\n                        :messages=\"messages\"\r\n                        :emojies=\"emojies\"\r\n                        :submitted=\"submitted\"\r\n                        :noMsg=\"noMsg\"\r\n                        :chatType=\"chatType\"\r\n                        :mobileChat=\"mobileChat\"\r\n                    />\r\n                </b-sidebar>\r\n            </div>\r\n\r\n            <Messages\r\n                v-else\r\n                @editGroup=\"editGroup\"\r\n                @deleteGroup=\"deleteGroup\"\r\n                @addMembersToGroup=\"addMembersToGroup\"\r\n                @viewGroupMembers=\"viewGroupMembers\"\r\n                @contactUsername=\"contactUsername\"\r\n                @searchMsg=\"searchMsg\"\r\n                ref=\"messageRef\"\r\n                @fileUpload=\"fileUpload\"\r\n                @viewImageFromMessages=\"viewImageFromMessages\"\r\n                @getMessagesByGroupId=\"getMessagesByGroupId\"\r\n                @getMessagesByChatId=\"getMessagesByChatId\"\r\n                @selectEmoji=\"selectEmoji\"\r\n                @formSubmit=\"formSubmit\"\r\n                @deleteMsg=\"deleteMsg\"\r\n                :currentContact=\"CHAT\"\r\n                :username=\"username\"\r\n                :messages=\"messages\"\r\n                :emojies=\"emojies\"\r\n                :submitted=\"submitted\"\r\n                :noMsg=\"noMsg\"\r\n                :chatType=\"chatType\"\r\n                :mobileChat=\"mobileChat\"\r\n            />\r\n        </div>\r\n        <b-modal\r\n            v-model=\"isEdit\"\r\n            size=\"lg\"\r\n            :no-close-on-backdrop=\"true\"\r\n            hide-header\r\n            hide-footer\r\n            body-class=\"p-0\"\r\n        >\r\n            <Edit\r\n                ref=\"editRef\"\r\n                :emojies=\"emojies\"\r\n                @cancel=\"isEdit = false\"\r\n                @save=\"saveEdit\"\r\n            />\r\n        </b-modal>\r\n\r\n        <!-- GROUP MEMBERS -->\r\n        <b-modal\r\n            v-model=\"groupMembersModal\"\r\n            size=\"lg\"\r\n            hide-footer\r\n            body-class=\"p-0\"\r\n            :no-close-on-backdrop=\"true\"\r\n        >\r\n            <div>\r\n                <div class=\"pl-5 pr-5 pb-2 pt-2\">\r\n                    <div class=\"search-box\">\r\n                        <div class=\"position-relative\">\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                v-model=\"searchGroupMembers\"\r\n                                :placeholder=\"$t('actions.filter')\"\r\n                            />\r\n                            <i class=\"bx bx-search-alt search-icon\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <GroupMembers\r\n                        @setTotalForGroupMember=\"setTotalForGroupMember\"\r\n                        @close=\"groupMembersModal = false\"\r\n                        :searchValue=\"searchGroupMembers\"\r\n                        :group=\"CHAT\"\r\n                        ref=\"groupMemberRef\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <template v-slot:modal-header>\r\n                <div\r\n                    style=\"width: 100%\"\r\n                    class=\"d-flex justify-content-between align-items-center\"\r\n                >\r\n                    <div class=\"d-flex\">\r\n                        <h5 class=\"pre\">{{ CHAT.groupName }}</h5>\r\n                    </div>\r\n                    <div>\r\n                        <b-button\r\n                            variant=\"white\"\r\n                            class=\"btn-label\"\r\n                        >\r\n                            {{ `${$t(\"chat.group_members\")}` }}\r\n                            <b-badge\r\n                                class=\"ml-1\"\r\n                                variant=\"primary\"\r\n                            >{{\r\n                `${totalGroupMember}`\r\n              }}</b-badge>\r\n                        </b-button>\r\n\r\n                        <div class=\"float-right\">\r\n                            <b-button\r\n                                class=\"mr-1\"\r\n                                variant=\"light\"\r\n                                @click=\"addMemberFromModal\"\r\n                            >\r\n                                <i class=\"fa fa-user-plus\"></i>\r\n                            </b-button>\r\n\r\n                            <b-button\r\n                                variant=\"light\"\r\n                                @click=\"groupMembersModal = false\"\r\n                            >\r\n                                <i class=\"fa fa-times\"></i>\r\n                            </b-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </b-modal>\r\n\r\n        <!-- ADD GROUP MEMBERS -->\r\n        <b-modal\r\n            v-model=\"addGroupMembersModal\"\r\n            size=\"lg\"\r\n            hide-footer\r\n            body-class=\"p-0\"\r\n            :no-close-on-backdrop=\"true\"\r\n        >\r\n            <div>\r\n                <div class=\"pl-5 pr-5 pb-2 pt-2\">\r\n                    <div class=\"search-box\">\r\n                        <div class=\"position-relative\">\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                v-model=\"searchGroupMembersAdd\"\r\n                                :placeholder=\"$t('actions.filter')\"\r\n                            />\r\n                            <i class=\"bx bx-search-alt search-icon\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <AddGroupMembers\r\n                        @close=\"closeModalAddMember\"\r\n                        :searchValue=\"searchGroupMembersAdd\"\r\n                        :group=\"CHAT\"\r\n                        ref=\"addGroupMemberRef\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <template v-slot:modal-header>\r\n                <div style=\"width: 100%\">\r\n                    <b-button\r\n                        class=\"float-right\"\r\n                        variant=\"light\"\r\n                        @click=\"addGroupMembersModal = false\"\r\n                    >\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </b-button>\r\n                    <div class=\"d-flex\">\r\n                        <h5 class=\"pre\">{{ CHAT.groupName }}</h5>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </b-modal>\r\n\r\n        <!-- GROUP EDIT -->\r\n\r\n        <b-modal\r\n            v-model=\"editGroupModal\"\r\n            size=\"lg\"\r\n            body-class=\"p-0\"\r\n            :no-close-on-backdrop=\"true\"\r\n        >\r\n            <div>\r\n                <div>\r\n                    <EditGroup\r\n                        @close=\"editGroupModal = false\"\r\n                        :group=\"CHAT\"\r\n                        ref=\"editGroupRef\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <template v-slot:modal-header>\r\n                <div style=\"width: 100%\">\r\n                    <b-button\r\n                        class=\"float-right\"\r\n                        variant=\"light\"\r\n                        @click=\"editGroupModal = false\"\r\n                    >\r\n                        <i class=\"fa fa-times\"></i>\r\n                    </b-button>\r\n                </div>\r\n            </template>\r\n\r\n            <template v-slot:modal-footer>\r\n                <div style=\"width: 100%\">\r\n                    <b-button\r\n                        size=\"lg\"\r\n                        class=\"float-right\"\r\n                        variant=\"success\"\r\n                        @click=\"saveEditedData\"\r\n                    >\r\n                        <b-overlay\r\n                            :opacity=\"0.1\"\r\n                            :show=\"loaderEdit\"\r\n                            rounded=\"sm\"\r\n                        >\r\n                            <i class=\"fa fa-save\"></i>\r\n                            {{ $t(\"actions.save\") }}\r\n                        </b-overlay>\r\n                    </b-button>\r\n                </div>\r\n            </template>\r\n        </b-modal>\r\n        <!-- end row -->\r\n    </Layout>\r\n</template>\r\n<style scoped>\r\n.emoji:hover {\r\n    cursor: pointer;\r\n    background: black;\r\n    border-radius: 5px;\r\n}\r\n</style>\r\n<script>\r\nimport VueEasyLightbox from \"vue-easy-lightbox\";\r\nimport Layout from \"@/router/layouts/main\";\r\nimport appConfig from \"@/app.config\";\r\n// import PageHeader from \"@/components/page-header\";\r\n\r\nimport { mapActions, mapState } from \"vuex\";\r\n\r\nimport messengerService from \"@/shared/services/messengerService\";\r\nimport { TokenService } from \"@/shared/services/storage.service\"\r\n\r\nimport fileUpload from \"./file-upload\";\r\nimport Chats from \"./chats\";\r\nimport Contacts from \"./contacts\";\r\nimport Groups from \"./groups\";\r\nimport Edit from \"./edit\";\r\nimport Messages from \"./messages\";\r\nimport GroupMembers from \"./groupMembers\";\r\nimport AddGroupMembers from \"./addNewMembersToGroup.vue\";\r\nimport EditGroup from \"./editGroup.vue\";\r\n/**\r\n * Chat Component\r\n */\r\nimport i18n from \"@/i18n\";\r\nexport default {\r\n    watch: {\r\n        innerWidth: {\r\n            handler (v) {\r\n                this.setWindowWidthPrivite(v);\r\n            },\r\n        },\r\n        index (v) {\r\n            if (v == 2) {\r\n                this.$refs.contactComponent.getClickTab({\r\n                    page: 0,\r\n                    itemsPerPage: 10,\r\n                    search: this.searchContact,\r\n                });\r\n            } else if (v == 0) {\r\n                this.$refs.chatComponent.getClickTab({\r\n                    page: 0,\r\n                    itemsPerPage: 10,\r\n                    search: this.searchChat,\r\n                });\r\n            } else if (v == 1) {\r\n                this.$refs.groupComponent.getClickTab({\r\n                    page: 0,\r\n                    itemsPerPage: 10,\r\n                    search: this.searchGroup,\r\n                });\r\n            }\r\n        },\r\n        file: {\r\n            handler (v) {\r\n                if (v) {\r\n                    this.fileModal = true;\r\n                    setTimeout(() => {\r\n                        this.$refs.fileComponent.setNameSize(v.name, v.size);\r\n                    }, 300);\r\n                } else {\r\n                    this.$refs.fileComponent.setNameSize(null, null);\r\n                }\r\n            },\r\n        },\r\n        searchGroup (v) {\r\n            if (this.index == 1) {\r\n                this.$refs.groupComponent.getClickTab({\r\n                    page: 0,\r\n                    itemsPerPage: 10,\r\n                    search: this.searchGroup,\r\n                });\r\n            }\r\n        },\r\n\r\n        searchChat (v) {\r\n            if (this.index == 0) {\r\n                this.$refs.chatComponent.getClickTab({\r\n                    page: 0,\r\n                    itemsPerPage: 10,\r\n                    search: this.searchChat,\r\n                });\r\n            }\r\n        },\r\n        searchContact (v) {\r\n            if (this.index == 2) {\r\n                this.$refs.contactComponent.getClickTab({\r\n                    page: 0,\r\n                    itemsPerPage: 10,\r\n                    search: this.searchContact,\r\n                });\r\n            }\r\n        },\r\n    },\r\n    page: {\r\n        title: i18n.t(\"chat.chat\"),\r\n        meta: [\r\n            {\r\n                name: \"description\",\r\n                content: appConfig.description,\r\n            },\r\n        ],\r\n    },\r\n    components: {\r\n        Layout,\r\n        // PageHeader,\r\n        fileUpload,\r\n        Chats,\r\n        Contacts,\r\n        Groups,\r\n        Edit,\r\n        Messages,\r\n        VueEasyLightbox,\r\n        GroupMembers,\r\n        AddGroupMembers,\r\n        EditGroup,\r\n    },\r\n    data () {\r\n        return {\r\n            publicPath: process.env.BASE_URL,\r\n            localUserAvatarUrl: null,\r\n            userAvatarLoading: false,\r\n            innerWidth: window.innerWidth,\r\n            userFullName: TokenService.getFullName(),\r\n            userId: TokenService.getUserId(),\r\n            baseUrl: process.env.BASE_URL,\r\n            loaderEdit: false,\r\n            editGroupModal: false,\r\n            totalGroupMember: 0,\r\n            searchGroupMembers: \"\",\r\n            groupMembersModal: false,\r\n            pag: { page: 0, itemsPerPage: 10 },\r\n            loaderFile: false,\r\n            chatId: null,\r\n            uploadPath: null,\r\n            imageView: false,\r\n            emojies: [\r\n                \"😀\",\r\n                \"😃\",\r\n                \"😄\",\r\n                \"😁\",\r\n                \"😆\",\r\n                \"😅\",\r\n                \"😂\",\r\n                \"🤣\",\r\n                \"😊\",\r\n                \"😇\",\r\n                \"🙂\",\r\n                \"🙃\",\r\n                \"😉\",\r\n                \"😌\",\r\n                \"😍\",\r\n                \"🥰\",\r\n                \"😘\",\r\n                \"😗\",\r\n                \"😙\",\r\n                \"😚\",\r\n                \"😋\",\r\n                \"😛\",\r\n                \"😝\",\r\n                \"😜\",\r\n                \"🤪\",\r\n                \"🤨\",\r\n                \"🧐\",\r\n                \"🤓\",\r\n                \"😎\",\r\n                \"🤩\",\r\n                \"🥳\",\r\n                \"😏\",\r\n                \"😒\",\r\n                \"😞\",\r\n                \"😔\",\r\n                \"😟\",\r\n                \"😕\",\r\n                \"🙁\",\r\n                \"☹️\",\r\n                \"😣\",\r\n                \"😖\",\r\n                \"😫\",\r\n                \"😩\",\r\n                \"🥺\",\r\n                \"😢\",\r\n                \"😭\",\r\n                \"😤\",\r\n                \"😠\",\r\n                \"😡\",\r\n                \"🤬\",\r\n                \"🤯\",\r\n                \"😳\",\r\n                \"🥵\",\r\n                \"🥶\",\r\n                \"😱\",\r\n                \"😨\",\r\n                \"😰\",\r\n                \"😥\",\r\n                \"😓\",\r\n                \"🤗\",\r\n                \"🤔\",\r\n                \"🤭\",\r\n                \"🤫\",\r\n                \"🤥\",\r\n                \"😶\",\r\n                \"😐\",\r\n                \"😑\",\r\n                \"😬\",\r\n                \"🙄\",\r\n                \"😯\",\r\n                \"😦\",\r\n                \"😧\",\r\n                \"😮\",\r\n                \"😲\",\r\n                \"🥱\",\r\n                \"😴\",\r\n                \"🤤\",\r\n                \"😪\",\r\n                \"😵\",\r\n                \"🤐\",\r\n                \"🥴\",\r\n                \"🤢\",\r\n                \"🤮\",\r\n                \"🤧\",\r\n                \"😷\",\r\n                \"🤕\",\r\n                \"🤑\",\r\n                \"🤠\",\r\n            ],\r\n            isEdit: false,\r\n            searchValue: \"\",\r\n            groupModal: false,\r\n            fileModal: false,\r\n            file: null,\r\n            fileForUserAvatar: null,\r\n\r\n            chatData: [],\r\n            index: 0,\r\n            isSidebarChat: false,\r\n\r\n            noMsg: false,\r\n            CHAT: null,\r\n            loader: false,\r\n            submitted: false,\r\n\r\n            title: this.$t(\"chat.chat\"),\r\n            username: this.$t(\"chat.chat\"),\r\n            items: [\r\n                {\r\n                    text: this.$t(\"menu\"),\r\n                    href: \"/\",\r\n                },\r\n                {\r\n                    text: this.$t(\"chat.chat\"),\r\n                    active: true,\r\n                },\r\n            ],\r\n            chatType: \"chat\",\r\n\r\n            // FORCHATMESSAGES\r\n            page: 0,\r\n\r\n            groupChatId: null,\r\n            searchChat: \"\",\r\n            searchContact: \"\",\r\n            searchGroup: \"\",\r\n            mobileChat: false,\r\n            addGroupMembersModal: false,\r\n            searchGroupMembersAdd: \"\",\r\n        };\r\n    },\r\n    created () {\r\n        window.addEventListener(\"resize\", () => {\r\n            this.innerWidth = window.innerWidth;\r\n        });\r\n        this.setWindowWidthPrivite(this.innerWidth);\r\n    },\r\n    computed: {\r\n        ...mapState(\"messenger\", [\r\n            \"chatListMessages\",\r\n            \"chatTotalMessages\",\r\n            \"groupChatListMessages\",\r\n        ]),\r\n        // ...mapState(\"employee\", [\"user\"]),\r\n        messages () {\r\n            if (this.chatType == \"group\") {\r\n                return this.groupChatListMessages;\r\n            } else {\r\n                return this.chatListMessages;\r\n            }\r\n        },\r\n        userAvatarUrlFromStorage () {\r\n            let triggerForUrl = this.localUserAvatarUrl\r\n            return TokenService.getUserAvatarUrl()\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(\"messenger\", [\r\n            \"getByChatId\",\r\n            \"sendMessage\",\r\n            \"getByGroupChatId\",\r\n            \"sendMessageGroup\",\r\n        ]),\r\n        resetMessagesComponentProps () {\r\n            this.CHAT = null\r\n            this.username = this.$t(\"chat.chat\")\r\n            this.$store.commit('messenger/setListGroupChatMesseges', { list: [], total: 0 })\r\n            this.submitted = false\r\n            this.noMsg = false\r\n        },\r\n        updateUserAvatar () {\r\n            this.userAvatarLoading = true\r\n            messengerService\r\n                .changeUserAvatar(this.fileForUserAvatar, this.userId)\r\n                .then((rs) => {\r\n                    this.userAvatarLoading = false\r\n                    if (rs.data) {\r\n                        this.localUserAvatarUrl = rs.data\r\n                        TokenService.setUserAvatarUrl(rs.data)\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    console.log(e)\r\n                    this.userAvatarLoading = false\r\n                })\r\n        },\r\n        userAvatarClicked () {\r\n            this.$refs.userAvatarFileRef.$el.firstChild.click()\r\n        },\r\n        closeModalAddMember () {\r\n            this.addGroupMembersModal = false;\r\n            this.searchGroupMembersAdd = \"\";\r\n            if (this.groupMembersModal && this.$refs.groupMemberRef) {\r\n                this.$refs.groupMemberRef.reset(this.searchGroupMembers);\r\n            }\r\n        },\r\n        addMemberFromModal () {\r\n            this.addMembersToGroup();\r\n        },\r\n        saveEditedData () {\r\n            this.loaderEdit = true;\r\n            let { file, name } = this.$refs.editGroupRef;\r\n            messengerService\r\n                .editGroup(file, name, this.CHAT.id)\r\n                .then((rs) => {\r\n                    if (rs.data) {\r\n                        if (this.index == 1) {\r\n                            this.$refs.groupComponent.getClickTab({\r\n                                page: 0,\r\n                                itemsPerPage: 10,\r\n                                search: this.searchGroup,\r\n                            });\r\n                        }\r\n                        this.editGroupModal = false;\r\n                        this.setUsername(rs.data.groupName);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    // catchErr(e);\r\n                })\r\n                .finally(() => {\r\n                    this.loaderEdit = false;\r\n                });\r\n        },\r\n        editGroup () {\r\n            this.editGroupModal = true;\r\n            setTimeout(() => {\r\n                this.$refs.editGroupRef.setEditedData(\r\n                    this.CHAT.groupName,\r\n                    `${this.baseUrl}/${this.CHAT.uploadPath}`\r\n                );\r\n            }, 300);\r\n        },\r\n        deleteGroup () {\r\n            this.$bvModal.msgBoxConfirm(this.$t('messages.delete_title'), {\r\n                okTitle: this.$t('actions.confirm'),\r\n                cancelTitle: this.$t('actions.cancel')\r\n            })\r\n                .then(value => {\r\n                    if (value) {\r\n                        messengerService\r\n                            .deleteGroup(this.CHAT.id)\r\n                            .then((rs) => {\r\n                                if (this.index == 1) {\r\n                                    this.$refs.groupComponent.getClickTab({\r\n                                        page: 0,\r\n                                        itemsPerPage: 10,\r\n                                        search: this.searchGroup,\r\n                                    });\r\n                                }\r\n                                this.resetMessagesComponentProps()\r\n                            })\r\n                            .catch(e => {\r\n                                console.log(e)\r\n                            })\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    // An error occurred\r\n                })\r\n        },\r\n        addMembersToGroup () {\r\n            this.addGroupMembersModal = true;\r\n            this.searchGroupMembersAdd = \"\";\r\n\r\n            setTimeout(() => {\r\n                this.$refs.addGroupMemberRef.reset(this.searchGroupMembersAdd);\r\n            }, 300);\r\n        },\r\n        setTotalForGroupMember (v) {\r\n            this.totalGroupMember = v.total;\r\n        },\r\n        viewGroupMembers () {\r\n            this.groupMembersModal = true;\r\n            this.searchGroupMembers = \"\";\r\n            setTimeout(() => {\r\n                this.$refs.groupMemberRef.reset(this.searchGroupMembers);\r\n            }, 300);\r\n        },\r\n        //MESSAGE SEARCHING CHAT AND GROUP\r\n        async searchMsg (v) {\r\n            if (this.CHAT.id) {\r\n                const arg = {\r\n                    pag: this.pag,\r\n                    chatId: this.CHAT.id,\r\n                    search: v,\r\n                };\r\n                if (this.chatType == \"group\") {\r\n                    await this.getByGroupChatId(arg);\r\n                } else {\r\n                    await this.getByChatId(arg);\r\n                }\r\n            }\r\n        },\r\n        //END\r\n\r\n        viewImageFromMessages (path) {\r\n            this.imageView = true;\r\n            this.uploadPath = path;\r\n        },\r\n        setWindowWidthPrivite (v) {\r\n            if (v < 992) {\r\n                this.mobileChat = true;\r\n            } else {\r\n                this.mobileChat = false;\r\n            }\r\n        },\r\n        selectEmoji (e) {\r\n            this.$refs.messageRef.form.message = String(\r\n                this.$refs.messageRef.form.message.concat(e)\r\n            );\r\n        },\r\n\r\n        //DELETE MESSAGE\r\n        deleteMsg (id, groupChatId, chatId) {\r\n            const deleteApi = (api, arg) => {\r\n                api(arg)\r\n                    .then(() => console.log('deleted'))\r\n                    .catch((err) => {\r\n                        // catchErr(err)\r\n                    });\r\n            };\r\n            if (this.chatType == \"group\") {\r\n                deleteApi(messengerService.groupChatMessageDelete, {\r\n                    id,\r\n                    groupChatId,\r\n                });\r\n            } else {\r\n                deleteApi(messengerService.chatMessageDelete, { id, chatId });\r\n            }\r\n        },\r\n\r\n        saveEdit ({ message, file }) {\r\n            if (this.chatType == \"group\") {\r\n                if (this.groupChatId) {\r\n                    messengerService\r\n                        .groupChatMessageUpdate({\r\n                            id: this.groupChatId,\r\n                            message: message,\r\n                        })\r\n                        .then((res) => { })\r\n                        .catch((err) => {\r\n                            // catchErr(err);\r\n                        });\r\n                }\r\n            } else {\r\n                messengerService\r\n                    .chatMessageUpdate({\r\n                        id: this.chatId,\r\n                        message: message,\r\n                    })\r\n                    .then((res) => { })\r\n                    .catch((err) => {\r\n                        // catchErr(err);\r\n                    });\r\n            }\r\n        },\r\n        updateMsg ({ id, message, uploadPath, fileName }) {\r\n            if (this.chatType == \"group\") {\r\n                this.isEdit = true;\r\n                this.groupChatId = id;\r\n                setTimeout(() => {\r\n                    this.$refs.editRef.setMsg(message);\r\n                    this.$refs.editRef.setFile(fileName, uploadPath);\r\n                }, 200);\r\n            } else {\r\n                this.isEdit = true;\r\n                this.chatId = id;\r\n                setTimeout(() => {\r\n                    this.$refs.editRef.setMsg(message);\r\n                    this.$refs.editRef.setFile(fileName, uploadPath);\r\n                }, 200);\r\n            }\r\n        },\r\n        finishSendFile (message, id, employeeId, file) {\r\n            this.loaderFile = true;\r\n            const messageRef = this.$refs.messageRef;\r\n            let { toastData, toastStatus } = messageRef;\r\n            if (toastStatus == \"reply\") {\r\n                this.callApi(\r\n                    messengerService.replyChat,\r\n                    {\r\n                        chatId: id,\r\n                        message: message,\r\n                        file: file,\r\n                        id: toastData.id,\r\n                    },\r\n                    () => {\r\n                        this.$refs.fileComponent.reset();\r\n                        this.file = null;\r\n                        this.fileModal = false;\r\n                        this.loaderFile = false;\r\n                        this.handleScroll();\r\n                    }\r\n                );\r\n            } else {\r\n                let data = {\r\n                    chatId: id || employeeId,\r\n                    ownerId: JSON.parse(localStorage.getItem(\"user_id\")),\r\n                    file: file,\r\n                    message: message,\r\n                };\r\n\r\n                messengerService\r\n                    .sendFile(data)\r\n                    .then((rs) => {\r\n                        this.$refs.fileComponent.reset();\r\n                        this.file = null;\r\n                        this.fileModal = false;\r\n                        this.loaderFile = false;\r\n                        this.handleScroll();\r\n                    })\r\n                    .catch((err) => {\r\n                        // catchErr(err);\r\n                    });\r\n            }\r\n        },\r\n\r\n        sendFile (message, file) {\r\n            if (this.chatType == \"chat\") {\r\n                const { id, ownerId, employeeId } = this.CHAT;\r\n                if (ownerId || id) {\r\n                    this.finishSendFile(message, id, employeeId, file);\r\n                } else {\r\n                    this.finishSendFileFromContact(file, message);\r\n                }\r\n            } else {\r\n                this.finishSendFileGroup(message, this.CHAT.id, file);\r\n            }\r\n        },\r\n        finishSendFileFromContact (file, message) {\r\n            messengerService\r\n                .createChat(this.CHAT.employeeId)\r\n                .then(async (rs) => {\r\n                    const { id, employeeId } = rs.data;\r\n                    if (id) {\r\n                        await this.getByChatId({ pag: this.pag, chatId: id });\r\n                        await this.finishSendFile(message, id, employeeId, file);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    // catchErr(err);\r\n                });\r\n        },\r\n        finishSendFileGroup (message, groupId, file) {\r\n            this.loaderFile = true;\r\n            let data = {\r\n                groupChatId: groupId,\r\n                ownerId: JSON.parse(localStorage.getItem(\"user_id\")),\r\n                file: file,\r\n                message: message,\r\n            };\r\n            messengerService.sendImageGroup(data).then((rs) => {\r\n                this.$refs.fileComponent.reset();\r\n                this.file = null;\r\n                this.fileModal = false;\r\n                this.loaderFile = false;\r\n                this.handleScroll();\r\n            });\r\n        },\r\n        fileUpload () {\r\n            this.$refs.fileRef.$el.firstChild.click();\r\n        },\r\n\r\n        getMessagesByChatId (cmp) {\r\n            if (this.CHAT.id) {\r\n                messengerService\r\n                    .getByChatId({\r\n                        pag: { page: (this.page += 1), itemsPerPage: 10 },\r\n                        chatId: this.CHAT.id,\r\n                    })\r\n                    .then(async ({ data }) => {\r\n                        this.$store.commit(\"messenger/pushItems\", data.list);\r\n                        if (data.list.length > 0) {\r\n                            cmp.scrollTop = 800;\r\n                            this.noMsg = false;\r\n                        } else {\r\n                            this.noMsg = true;\r\n                            this.page + -1;\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        // catchErr(err);\r\n                    });\r\n                this.handleScroll();\r\n            }\r\n        },\r\n        getMessagesByGroupId (cmp) {\r\n            messengerService\r\n                .getByGroupChatId({\r\n                    pag: { page: (this.page += 1), itemsPerPage: 10 },\r\n                    chatId: this.CHAT.id,\r\n                })\r\n                .then(async ({ data }) => {\r\n                    if (data.list.length > 0) {\r\n                        cmp.scrollTop = 1500;\r\n                        this.$store.commit(\"messenger/pushGroupItems\", data.list);\r\n                        this.noMsg = false;\r\n                    } else {\r\n                        this.noMsg = true;\r\n                        this.page + -1;\r\n                    }\r\n                });\r\n        },\r\n\r\n        /**\r\n         * Get the name of user\r\n         */\r\n        setUsername (name) {\r\n            this.username = name;\r\n        },\r\n        async chatUsername (contact) {\r\n            this.chatType = \"chat\";\r\n            this.noMsg = false;\r\n            this.page = 0;\r\n\r\n            this.CHAT = contact;\r\n            await this.$store.commit(\"messenger/setCurrentChat\", contact);\r\n            await this.setUsername(contact.myName);\r\n            await this.getByChatId({\r\n                pag: { page: 0, itemsPerPage: 10 },\r\n                chatId: contact.id,\r\n            });\r\n            await this.setMobileChat();\r\n        },\r\n        setMobileChat () {\r\n            if (this.mobileChat) {\r\n                this.isSidebarChat = true;\r\n            }\r\n        },\r\n        async groupUsername (group) {\r\n            this.$nextTick(() => {\r\n                this.noMsg = false;\r\n                this.page = 0;\r\n                this.chatType = \"group\";\r\n                this.CHAT = group;\r\n            });\r\n            await this.$store.commit(\"messenger/setCurrentChat\", group);\r\n            await this.setUsername(group.groupName);\r\n            await this.getByGroupChatId({\r\n                pag: { page: 0, itemsPerPage: 10 },\r\n                chatId: group.id,\r\n            });\r\n            await this.setMobileChat();\r\n        },\r\n        async contactUsername (contact) {\r\n            this.$nextTick(() => {\r\n                this.noMsg = false;\r\n                this.CHAT = contact;\r\n                this.chatType = \"chat\";\r\n                this.page = 0;\r\n            });\r\n            await this.$store.commit(\"messenger/setCurrentChat\", contact);\r\n            await this.setUsername(\r\n                ` ${contact.lastName} ${contact.firstName} ${contact.middleName}`\r\n            );\r\n            if (contact.id) {\r\n                await this.getByChatId({\r\n                    pag: { page: 0, itemsPerPage: 10 },\r\n                    chatId: contact.id,\r\n                });\r\n            } else {\r\n                await this.$store.commit(\"messenger/setListChatMesseges\", {\r\n                    total: 0,\r\n                    list: [],\r\n                });\r\n            }\r\n\r\n            await this.setMobileChat();\r\n        },\r\n\r\n        /**\r\n         * Char form Submit\r\n         */\r\n        // eslint-disable-next-line no-unused-vars\r\n        sendMsgGroup (message) {\r\n            this.sendMessageGroup(\r\n                JSON.stringify({\r\n                    message: message,\r\n                    groupChatId: this.CHAT.id,\r\n                    ownerId: JSON.parse(localStorage.getItem(\"user_id\")),\r\n                })\r\n            );\r\n            // this.form.message = \"\";\r\n            this.handleScroll();\r\n        },\r\n        sendMsgApi (msg, chatId) {\r\n            this.sendMessage(\r\n                JSON.stringify({\r\n                    message: msg,\r\n                    chatId: chatId || empId,\r\n                    ownerId: JSON.parse(localStorage.getItem(\"user_id\")),\r\n                })\r\n            );\r\n        },\r\n        async sendMsg (message) {\r\n            if (this.CHAT.ownerId) {\r\n                this.sendMsgApi(message, this.CHAT.id || this.CHAT.employeeId);\r\n            } else {\r\n                if (this.CHAT.id) {\r\n                    await this.sendMsgApi(message, this.CHAT.id || this.CHAT.employeeId);\r\n                } else {\r\n                    messengerService\r\n                        .createChat(this.CHAT.employeeId)\r\n                        .then(async (rs) => {\r\n                            if (rs.data) {\r\n                                await this.getByChatId({\r\n                                    pag: { page: 0, itemsPerPage: 10 },\r\n                                    chatId: rs.data.id,\r\n                                });\r\n                                this.sendMsgApi(message, rs.data.id || rs.data.employeeId);\r\n                                this.isSidebarChat = false;\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            // catchErr(err);\r\n                        });\r\n                }\r\n            }\r\n            this.handleScroll();\r\n        },\r\n        callApi (api, arg, func = null) {\r\n            const messageRef = this.$refs.messageRef;\r\n            const hideToast = () => {\r\n                if (messageRef) messageRef.replyMsg(null, \"hidden\");\r\n                this.handleScroll();\r\n                if (func) {\r\n                    func();\r\n                }\r\n            };\r\n            api(arg)\r\n                .then(() => hideToast())\r\n                .catch((e) => {\r\n                    // catchErr(e)\r\n                });\r\n        },\r\n        //MESSAGE SEND API\r\n        async formSubmit (e) {\r\n            const messageRef = this.$refs.messageRef;\r\n\r\n            this.submitted = true;\r\n            let { toastData, toastStatus } = messageRef;\r\n\r\n            const message = messageRef.form.message;\r\n            // stop here if form is invalid\r\n            if ((!message || message.trim().length == 0) && toastStatus != 'forward') {\r\n                messageRef.$refs.msgInput.$el.focus()\r\n                return;\r\n            } else {\r\n                let payload = {\r\n                    id: toastData ? toastData.id : null,\r\n                    message: message,\r\n                };\r\n                switch (toastStatus) {\r\n                    case \"edit\":\r\n                        if (this.chatType == \"group\") {\r\n                            this.callApi(messengerService.groupChatMessageUpdate, payload);\r\n                        } else {\r\n                            this.callApi(messengerService.chatMessageUpdate, payload);\r\n                        }\r\n                        break;\r\n\r\n                    case \"forward\":\r\n                        // eslint-disable-next-line no-case-declarations\r\n                        const { id, employeeId } = this.CHAT;\r\n                        if (this.chatType == \"group\") {\r\n                            this.callApi(messengerService.groupChatMessageUpdate, payload);\r\n                        } else {\r\n                            if (id) {\r\n                                this.callApi(messengerService.forwardChat, {\r\n                                    chatId: id,\r\n                                    ...payload,\r\n                                });\r\n                            } else {\r\n                                messengerService\r\n                                    .createChat(employeeId)\r\n                                    .then((rs) => {\r\n                                        this.callApi(messengerService.forwardChat, {\r\n                                            chatId: rs.data.id,\r\n                                            ...payload,\r\n                                        });\r\n                                    })\r\n                                    .catch((err) => {\r\n                                        // catchErr(err);\r\n                                    });\r\n                            }\r\n                        }\r\n                        break;\r\n                    case \"reply\":\r\n                        if (this.chatType == \"group\") {\r\n                            this.callApi(messengerService.groupChatMessageUpdate, payload);\r\n                        } else {\r\n                            if (this.CHAT.id) {\r\n                                this.callApi(messengerService.replyChat, {\r\n                                    chatId: this.CHAT.id,\r\n                                    ...payload,\r\n                                });\r\n                            }\r\n                        }\r\n                        break;\r\n\r\n                    default:\r\n                        if (this.chatType == \"chat\") {\r\n                            await this.sendMsg(message);\r\n                        } else {\r\n                            await this.sendMsgGroup(message);\r\n                        }\r\n                        break;\r\n                    // }\r\n                }\r\n                this.submitted = false;\r\n                messageRef.form.message = \"\";\r\n                if (this.index == 2) {\r\n                    this.index = 0;\r\n                    setTimeout(() => {\r\n                        this.$refs.chatComponent.getClickTab({\r\n                            page: 0,\r\n                            itemsPerPage: 10,\r\n                            search: this.searchChat,\r\n                        });\r\n                        this.CHAT = null;\r\n                        this.username = this.$t(\"chat.chat\");\r\n                    }, 300);\r\n                }\r\n            }\r\n        },\r\n\r\n        handleScroll () {\r\n            const messageRef = this.$refs.messageRef;\r\n            if (messageRef.$refs.current.$el) {\r\n                setTimeout(() => {\r\n                    messageRef.$refs.current.SimpleBar.getScrollElement().scrollTop =\r\n                        messageRef.$refs.current.SimpleBar.getScrollElement().scrollHeight +\r\n                        1500;\r\n                }, 500);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep.sidebar-chat {\r\n    .b-sidebar {\r\n        width: 100vw;\r\n        background: white;\r\n    }\r\n}\r\n::v-deep.avatar-edit-pencil {\r\n    width: 100%;\r\n    height: 100%;\r\n    transition: all 0.5s ease;\r\n    box-shadow: 5px 5px 5px #eee;\r\n    border-radius: 50px;\r\n    border: 3px solid white;\r\n    cursor: pointer;\r\n    /* background: #556ee6; */\r\n}\r\n::v-deep.avatar-container {\r\n    position: relative;\r\n    width: 5rem;\r\n    height: 5rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n::v-deep.image {\r\n    display: block;\r\n    width: 5rem;\r\n    height: 5rem;\r\n}\r\n\r\n::v-deep.overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    opacity: 0;\r\n    transition: 0.3s ease;\r\n}\r\n\r\n::v-deep.avatar-container:hover .overlay {\r\n    opacity: 1;\r\n}\r\n\r\n::v-deep.icon {\r\n    color: white;\r\n    font-size: 100px;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    -ms-transform: translate(-50%, -50%);\r\n    text-align: center;\r\n}\r\n\r\n::v-deep.fa-user:hover {\r\n    color: #eee;\r\n}\r\n</style>\r\n"]}]}