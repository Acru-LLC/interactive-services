{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\projects\\page-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\projects\\page-header.vue","mtime":1674799497691},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcHJvamVjdFNlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvcHJvamVjdFNlcnZpY2UiOw0KaW1wb3J0IE1lbWJlcnMgZnJvbSAiLi9tZW1iZXJzIjsNCmltcG9ydCB7IHJlcGxhY2VEYXRlIH0gZnJvbSAiQC9oZWxwZXIiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgTWVtYmVycywNCiAgICB9LA0KICAgIGNyZWF0ZWQgKCkgew0KICAgICAgICB0aGlzLmxpc3RNZW1iZXJzKCk7DQogICAgfSwNCiAgICAvKiANCiAgICAgIENPTVBVVEVEICovDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgcHJvamVjdFR5cGUgKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT0gJ0NvbW1pc3Npb25Qcm9qZWN0cycgPyAnQ09NTUlTU0lPTicgOiAnQkVGT1JFX0NPTU1JU1NJT04nDQogICAgICAgIH0sDQogICAgICAgIGlzQ29tbWlzc2lvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0VHlwZSA9PSAnQ09NTUlTU0lPTicNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGRhdGEgKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgdXBsb2FkUGF0aDogIiIsDQogICAgICAgICAgICBzaW5nbGVJbWFnZTogZmFsc2UsDQogICAgICAgICAgICBtZW1iZXJzOiBbXSwNCiAgICAgICAgICAgIGlzTW9kYWw6IGZhbHNlLA0KICAgICAgICAgICAgcHJvamVjdDoge30sDQogICAgICAgICAgICBpc01lbWJlcnM6IGZhbHNlLA0KICAgICAgICAgICAgcmVwbGFjZURhdGU6IHJlcGxhY2VEYXRlLA0KICAgICAgICB9Ow0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICB2aWV3TWVtYmVycyAoKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMuaXNNZW1iZXJzKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc01lbWJlcnMgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTWVtYmVycykgew0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMubVJlZi5yZWNhbGN1bGF0ZSgpOw0KICAgICAgICAgICAgICAgICAgICB9LCAyMDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbGlzdE1lbWJlcnMgKCkgew0KICAgICAgICAgICAgbGV0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7DQogICAgICAgICAgICBpZiAoaWQpIHsNCiAgICAgICAgICAgICAgICBwcm9qZWN0U2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAuZ2V0QnlJZChpZCwgdGhpcy5wcm9qZWN0VHlwZSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJzZXRQcm9qIiwgcnMuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbWJlcnMgPSBycy5kYXRhLmVtcGxveWVlc0R0bzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdCA9IHJzLmRhdGE7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGVycik7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgcHJvcHM6IHsNCiAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIGRlZmF1bHQ6ICIiLA0KICAgICAgICB9LA0KICAgICAgICBpdGVtczogew0KICAgICAgICAgICAgdHlwZTogQXJyYXksDQogICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgbW9iaWxlOiB7DQogICAgICAgICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgICAgIH0sDQogICAgfSwNCn07DQo="},{"version":3,"sources":["page-header.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"page-header.vue","sourceRoot":"src/modules/projects","sourcesContent":["<script>\r\nimport projectService from \"@/shared/services/projectService\";\r\nimport Members from \"./members\";\r\nimport { replaceDate } from \"@/helper\";\r\nexport default {\r\n    components: {\r\n        Members,\r\n    },\r\n    created () {\r\n        this.listMembers();\r\n    },\r\n    /* \r\n      COMPUTED */\r\n    computed: {\r\n        projectType () {\r\n            return this.$route.name == 'CommissionProjects' ? 'COMMISSION' : 'BEFORE_COMMISSION'\r\n        },\r\n        isCommission () {\r\n            return this.projectType == 'COMMISSION'\r\n        },\r\n    },\r\n    data () {\r\n        return {\r\n            uploadPath: \"\",\r\n            singleImage: false,\r\n            members: [],\r\n            isModal: false,\r\n            project: {},\r\n            isMembers: false,\r\n            replaceDate: replaceDate,\r\n        };\r\n    },\r\n    methods: {\r\n        viewMembers () {\r\n            if (!this.isMembers) {\r\n                this.isMembers = true;\r\n                if (this.isMembers) {\r\n                    setTimeout(() => {\r\n                        this.$refs.mRef.recalculate();\r\n                    }, 200);\r\n                }\r\n            }\r\n        },\r\n        listMembers () {\r\n            let id = this.$route.query.id;\r\n            if (id) {\r\n                projectService\r\n                    .getById(id, this.projectType)\r\n                    .then((rs) => {\r\n                        this.$emit(\"setProj\", rs.data);\r\n                        this.members = rs.data.employeesDto;\r\n                        this.project = rs.data;\r\n                    })\r\n                    .catch((err) => {\r\n                        // this.catchErr(err);\r\n                    });\r\n            } else {\r\n                this.$router.go(-1);\r\n            }\r\n        },\r\n    },\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: \"\",\r\n        },\r\n        items: {\r\n            type: Array,\r\n            default: () => {\r\n                return [];\r\n            },\r\n        },\r\n        mobile: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<template>\r\n    <b-card\r\n        no-body\r\n        class=\"p-3\"\r\n    >\r\n        <!-- start page title -->\r\n        <div class=\"row\">\r\n            <b-sidebar\r\n                backdrop-variant=\"dark\"\r\n                class=\"sidebar1\"\r\n                shadow\r\n                backdrop\r\n                sidebar-class=\"p-0\"\r\n                :no-header=\"true\"\r\n                right\r\n                v-model=\"isMembers\"\r\n            >\r\n                <div class=\"p-2\">\r\n                    <members\r\n                        :isMembers=\"isMembers\"\r\n                        ref=\"mRef\"\r\n                        @success=\"listMembers\"\r\n                        :close=\"true\"\r\n                        @close=\"isMembers = false\"\r\n                        :heightProp=\"heightWindow - 200\"\r\n                    />\r\n                </div>\r\n            </b-sidebar>\r\n\r\n            <div\r\n                class=\"col-12\"\r\n                v-if=\"project.id\"\r\n            >\r\n                <div class=\"d-flex align-items-center justify-content-between\">\r\n                    <div>\r\n                        <h5>{{ project.name }}</h5>\r\n                        <span>{{ project.description }}</span>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    style=\"flex-wrap: wrap !important\"\r\n                    class=\"mt-3 d-flex justify-content-between align-items-center\"\r\n                >\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <div class=\"mr-3\">\r\n                            <b-button\r\n                                size=\"sm\"\r\n                                @click=\"$router.go(-1)\"\r\n                                variant=\"primary\"\r\n                            >\r\n                                <i class=\"fa fa-arrow-left\"></i>\r\n                                <!-- <span v-if=\"!mobile\"> {{ $t(\"actions.back\") }}</span> -->\r\n                            </b-button>\r\n                        </div>\r\n                        <div>\r\n                            <span v-if=\"!isCommission\" class=\"text-muted font-size-11\">{{\r\n                $t(\"projectType\")\r\n              }}</span>\r\n                            <p class=\"m-0\">\r\n                                <span class=\"text-dark font-weight-bold\">{{\r\n                  getName(project)\r\n                }}</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <span class=\"text-muted font-size-11\">{{ $t(\"ownerProj\") }}</span>\r\n                        <p class=\"m-0\">\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                {{\r\n                  `${project.ownerLastName} ${project.ownerFirstName} ${project.ownerMiddleName}`\r\n                }}</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <span class=\"text-muted font-size-11\">{{\r\n              $t(\"column.on_date\")\r\n            }}</span>\r\n                        <p class=\"m-0\">\r\n                            <i class=\"bx bx-calendar mr-1 text-primary\"></i>\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                {{\r\n                  replaceDate(project.start)\r\n                    ? replaceDate(project.start).daym_shortyyyy()\r\n                    : \"\"\r\n                }}</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <span class=\"text-muted font-size-11\">{{\r\n              $t(\"column.finishing_date\")\r\n            }}</span>\r\n                        <p class=\"m-0\">\r\n                            <i class=\"bx bx-calendar mr-1 text-primary\"></i>\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                {{\r\n                  replaceDate(project.end)\r\n                    ? replaceDate(project.end).daym_shortyyyy()\r\n                    : \"\"\r\n                }}</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div\r\n                        @click=\"viewMembers\"\r\n                        class=\"p_cursor\"\r\n                    >\r\n                        <span class=\"text-muted font-size-11\">\r\n                            <i class=\"fa fa-users\"></i>\r\n                            <span v-if=\"!mobile\"> {{ $t(\"members\") }}</span></span>\r\n                        <p class=\"m-0\">\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                <b-avatar\r\n                                    size=\"25px\"\r\n                                    v-show=\"members.length == 1\"\r\n                                    variant=\"primary\"\r\n                                    :src=\"\r\n                    m.photoUploadPath ? `${hrUrl}/${m.photoUploadPath}` : ''\r\n                  \"\r\n                                    :badge=\"`${m.lastName.charAt(0)}${m.firstName.charAt(0)}`\"\r\n                                    v-for=\"m in members\"\r\n                                    :key=\"m.id + 'MM'\"\r\n                                ></b-avatar>\r\n                                <b-avatar-group\r\n                                    size=\"25px\"\r\n                                    v-if=\"members.length > 1\"\r\n                                >\r\n                                    <b-avatar\r\n                                        variant=\"info\"\r\n                                        :src=\"\r\n                      m.photoUploadPath ? `${hrUrl}/${m.photoUploadPath}` : ''\r\n                    \"\r\n                                        :badge=\"`${m.lastName.charAt(0)}${m.firstName.charAt(0)}`\"\r\n                                        v-for=\"m in members\"\r\n                                        :key=\"m.id + 'MMMMMM'\"\r\n                                    ></b-avatar>\r\n                                </b-avatar-group>\r\n                            </span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class=\"d-flex align-items-center justify-content-center\">\r\n                        <div\r\n                            class=\"card-footer bg-white p-0\"\r\n                            v-if=\"project.isAdmin\"\r\n                        >\r\n                            <a\r\n                                href=\"#\"\r\n                                @click=\"$emit('addBoard')\"\r\n                                class=\"btn btn-primary btn-block\"\r\n                            >\r\n                                <i class=\"mdi mdi-plus mr-1\"></i>\r\n                                <span v-if=\"!mobile\"> {{ $t(\"actions.add\") }}</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- end page title -->\r\n    </b-card>\r\n</template>\r\n"]}]}