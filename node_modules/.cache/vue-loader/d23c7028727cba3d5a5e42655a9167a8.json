{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\CreateOrUpdate.vue?vue&type=style&index=0&id=64dc24c3&scoped=true&lang=css&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\CreateOrUpdate.vue","mtime":1674799496876},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1667355376309},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1667355356565},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1667355363746},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5iYXNlLWZvcm0tY29tcG9uZW50IHsNCiAgZGlzcGxheTogYmxvY2s7DQp9DQouYmFzZS1mb3JtLWNvbXBvbmVudF9fbGFiZWwgew0KICBwYWRkaW5nOiAxMHB4IDA7DQp9DQo="},{"version":3,"sources":["CreateOrUpdate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA","file":"CreateOrUpdate.vue","sourceRoot":"src/modules/integration/modules/e-auction-info","sourcesContent":["<template>\r\n  <base-create-or-update-wrapper\r\n      :custom-title=\"isModeCreate ? $t('actions.create') : $t('actions.update')\"\r\n      has-save-suspend\r\n      @save=\"save\"\r\n  >\r\n    <ValidationObserver ref=\"observer\" v-slot=\"{}\">\r\n      <b-row class=\"mb-3\">\r\n        <b-col lg=\"4\" md=\"6\" sm=\"12\">\r\n          <BaseDatePickerWithValidation\r\n              rules=\"required\"\r\n              required\r\n              format=\"DD.MM.YYYY\"\r\n              :label=\"$t('submodules.integration.e_auction_info.date')\"\r\n              :placeholder=\"$t('submodules.integration.e_auction_info.date')\"\r\n              v-model=\"data.auction_date\"\r\n          />\r\n        </b-col>\r\n        <b-col lg=\"4\" md=\"6\" sm=\"12\">\r\n          <BaseSelectWithValidation\r\n            v-model=\"data.soato\"\r\n            class=\"required\"\r\n            rules=\"required\"\r\n            :label=\"$t('submodules.integration.e_auction_info.region_saoto')\"\r\n            value-field=\"id\"\r\n          >\r\n            <template #first>\r\n                <b-form-select-option\r\n                    :value=\"null\"\r\n                    disabled\r\n                >{{ $t('submodules.integration.e_auction_info.region_saoto') }}</b-form-select-option>\r\n            </template>\r\n            <b-form-select-option v-for=\"(region, index) in regions\" \r\n            :key=\"`${region}-${index}`\" \r\n            :value=\"region\" >{{\r\n                getName({\r\n                  nameRu: region.nameRu,\r\n                  nameLt: region.nameLt,\r\n                  nameUz: region.nameUz,\r\n                })\r\n              }} ({{region.soato}})\r\n            </b-form-select-option>\r\n          </BaseSelectWithValidation>\r\n        </b-col>\r\n        <b-col lg=\"4\" md=\"6\" sm=\"12\">\r\n          <BaseSelectWithValidation\r\n            v-model=\"data.area_soato\"\r\n            :label=\"$t('submodules.integration.e_auction_info.district_saoto')\"\r\n            value-field=\"id\"\r\n          >\r\n            <template #first>\r\n                <b-form-select-option\r\n                    :value=\"null\"\r\n                    disabled\r\n                >{{ $t('submodules.integration.e_auction_info.district_saoto') }}</b-form-select-option>\r\n            </template>\r\n            <b-form-select-option v-for=\"(district, index) in districts\" :key=\"`${district}-${index}`\" :value=\"district.soato\">{{\r\n                getName({\r\n                  nameRu: district.nameRu,\r\n                  nameLt: district.nameLt,\r\n                  nameUz: district.nameUz,\r\n                })\r\n              }} ({{district.soato}})\r\n            </b-form-select-option>\r\n          </BaseSelectWithValidation>\r\n        </b-col>\r\n      </b-row>\r\n    </ValidationObserver>\r\n  </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'e-auction-info'\r\nimport BaseSelectWithValidation from \"../../../../components/base/BaseSelectWithValidation.vue\";\r\nimport apiService from \"../../../../shared/services/api.service\";\r\nimport statisticsService from \"@/shared/services/integration/statistics.service.js\"\r\nexport default {\r\n    name: \"CreateOrUpdate\",\r\n    data() {\r\n        return {\r\n            data: {\r\n                auction_date: null,\r\n                soato: null,\r\n                area_soato: \"\"\r\n            },\r\n            districts: [],\r\n            regions: []\r\n        };\r\n    },\r\n    computed: {\r\n        isModeCreate() {\r\n            return this.$route.name === \"IntegrationEAuctionInfoCreate\";\r\n        },\r\n        computedObserver() {\r\n            return this.$refs.observer;\r\n        }\r\n    },\r\n    watch: {\r\n      'data.soato': {\r\n        handler(e) {\r\n          this.getDistrictsWithSoatos(e.id)\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n        save() {\r\n            this.computedObserver.validate().then(valid => {\r\n                if (valid) {\r\n                    apiService.post(MAIN_API_URL + `/deploy-information?auction_date=${this.data.auction_date}&soato=${this.data.soato.soato}&area_soato=${this.data.area_soato}`, null, true).then(res => {\r\n                        this.computedObserver.reset();\r\n                        this.editingItem = Object.assign({}, {});\r\n                        this.$router.go(-1);\r\n                        this.$toast(this.$t(\"messages.saved_successfully\"), { type: \"success\" });\r\n                    });\r\n                }\r\n                else {\r\n                    this.$toast(this.$t(\"messages.fill_required_fields\"), { type: \"error\" });\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * Get RegionList\r\n         */\r\n        getRegionsWithSoatos() {\r\n          statisticsService.getGeograficalRegionsWithSoatos().then(res => {\r\n            this.regions = res.data\r\n          })\r\n        },\r\n        getDistrictsWithSoatos(parentId) {\r\n          statisticsService.getGeograficalDistrictsWithSoatos(parentId).then(res => {\r\n            this.districts = res.data\r\n          })\r\n        }\r\n    },\r\n    created() {\r\n        this.var_default_search_payload.itemsPerPage = 500;\r\n        this.getRegionsWithSoatos()\r\n    },\r\n    components: { BaseSelectWithValidation }\r\n}\r\n</script>\r\n<style scoped>\r\n.base-form-component {\r\n  display: block;\r\n}\r\n.base-form-component__label {\r\n  padding: 10px 0;\r\n}\r\n</style>"]}]}