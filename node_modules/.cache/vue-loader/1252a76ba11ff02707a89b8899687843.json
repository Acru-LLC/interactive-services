{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\report\\organizitional\\components\\gatherViewReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\report\\organizitional\\components\\gatherViewReport.vue","mtime":1667352074562},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgU2VydmljZSBmcm9tICJAL21vZHVsZXMvcmVwb3J0L3JlcG9ydFNlcnZpY2UiOw0KLy8gaW1wb3J0IHsgZ2V0TmFtZSwgZGVjIH0gZnJvbSAiQC9oZWxwZXIiOw0KaW1wb3J0IFhMU1ggZnJvbSAieGxzeCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvYWRlclByaW50OiBmYWxzZSwNCiAgICAgIGxvYWRlckV4Y2VsOiBmYWxzZSwNCiAgICAgIGxvYWRlclFyY29kZTogZmFsc2UsDQogICAgICBmMUlkczogW10sDQogICAgICBmMklkczogW10sDQogICAgICBmUm93SWQ6IG51bGwsDQogICAgICB0YWJsZUlkOiBudWxsLA0KICAgICAgcmVwb3J0SWQ6IG51bGwsDQogICAgICAvLyBnZXROYW1lOiBnZXROYW1lLA0KICAgICAgc2VsZWN0ZWRDb2x1bW5zOiBbXSwNCiAgICAgIHNlbGVjdGVkUm93czogW10sDQoNCiAgICAgIGZpcnN0Q29sdW1uczogW10sDQogICAgICBzZWNvbmRDb2x1bW5zOiBbXSwNCiAgICAgIHRoaXJkQ29sdW1uczogW10sDQoNCiAgICAgIHRoaXJkVHJJZERhdGE6IFtdLA0KICAgICAgbG9hZGVyOiBmYWxzZSwNCiAgICAgIHJlcG9ydDoge30sDQogICAgICB0YWJsZToge30sDQogICAgICBmb3JtdWxhczogW10sDQogICAgICBjdXJyZW50UG9zaXRpb246IHsNCiAgICAgICAgcm93SW5kZXg6IG51bGwsDQogICAgICAgIGNvbHVtbkluZGV4OiBudWxsLA0KICAgICAgICByb3dJZDogbnVsbCwNCiAgICAgICAgY29sdW1uSWQ6IG51bGwsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBwcmludCgpIHsNCiAgICAgIHRoaXMubG9hZGVyUHJpbnQgPSB0cnVlOw0KICAgICAgbGV0IHZtID0gdGhpczsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICBsZXQgbXl3aW5kb3cgPSB3aW5kb3cub3BlbigiIiwgIlBSSU5UIiwgImhlaWdodD04MDAsd2lkdGg9MTAwMCIpOw0KICAgICAgICAvLyBHZXQgYWxsIHN0eWxlc2hlZXRzIEhUTUwNCiAgICAgICAgbGV0IHN0eWxlc0h0bWwgPSAiIjsNCiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIFsNCiAgICAgICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW3JlbD0ic3R5bGVzaGVldCJdLCBzdHlsZScpLA0KICAgICAgICBdKSB7DQogICAgICAgICAgc3R5bGVzSHRtbCArPSBub2RlLm91dGVySFRNTDsNCiAgICAgICAgfQ0KDQogICAgICAgIG15d2luZG93LmRvY3VtZW50LndyaXRlKGA8aHRtbD48aGVhZD4gPHRpdGxlPiAgUmVwb3J0IDwvdGl0bGU+YCk7DQogICAgICAgIG15d2luZG93LmRvY3VtZW50LndyaXRlKGA8L2hlYWQ+PGJvZHk+PHN0eWxlPg0KICAgICAgQHBhZ2Ugew0KICAgICAgICBzaXplOiBBNCAhaW1wb3J0YW50Ow0KICAgICAgICBtYXJnaW46IDFjbSAhaW1wb3J0YW50Ow0KICAgICAgfQ0KICAgICAgdGFibGV7DQogICAgICAgICAgZm9udC1zaXplOjEuMXZ3DQogICAgICB9DQoNCg0KICAgICAgI25vbmUtZHNwIHsNCiAgICAgICAgZGlzcGxheTpub25lICFpbXBvcnRhbnQNCiAgICAgIH0NCiAgICAgICNvdmVyIHsNCiAgICAgICAgb3ZlcmZsb3c6dmlzaWJsZSAhaW1wb3J0YW50DQogICAgICB9DQogICAgICA8L3N0eWxlPg0KICAgICAgJHtzdHlsZXNIdG1sfWApOw0KICAgICAgICBteXdpbmRvdy5kb2N1bWVudC53cml0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJpbnRJZCIpLmlubmVySFRNTCk7DQoNCiAgICAgICAgbXl3aW5kb3cuZG9jdW1lbnQud3JpdGUoIjwvYm9keT48L2h0bWw+Iik7DQoNCiAgICAgICAgbXl3aW5kb3cuZG9jdW1lbnQuY2xvc2UoKTsgLy8gbmVjZXNzYXJ5IGZvciBJRSA+PSAxMA0KICAgICAgICBteXdpbmRvdy5mb2N1cygpOyAvLyBuZWNlc3NhcnkgZm9yIElFID49IDEwKi8NCg0KICAgICAgICBteXdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgbXl3aW5kb3cucHJpbnQoKTsNCiAgICAgICAgICBteXdpbmRvdy5jbG9zZSgpOw0KICAgICAgICAgIHZtLmxvYWRlclByaW50ID0gZmFsc2U7DQogICAgICAgIH07DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSwgMzAwKTsNCiAgICB9LA0KICAgIGV4Y2VsRXhwb3J0KCkgew0KICAgICAgdGhpcy5sb2FkZXJFeGNlbCA9IHRydWU7DQogICAgICBsZXQgZmlsZU5hbWUgPSBgUmVwb3J0YDsNCiAgICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXBvcnRUYWJsZUlkIik7DQogICAgICBsZXQgd2IgPSBYTFNYLnV0aWxzLnRhYmxlX3RvX2Jvb2sodGFibGUsIHsgc2hlZXQ6ICJzaGVldDEiIH0pOw0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMubG9hZGVyRXhjZWwgPSBmYWxzZTsNCiAgICAgIH0sIDUwMCk7DQogICAgICByZXR1cm4gWExTWC53cml0ZUZpbGUod2IsIGAke2ZpbGVOYW1lfS54bHN4YCwge30pOw0KICAgIH0sDQogICAgY2xlYXJBbGwoKSB7DQogICAgICB0aGlzLnNlbGVjdGVkQ29sdW1ucyA9IFtdOw0KICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSBbXTsNCiAgICAgIHRoaXMuZmlyc3RDb2x1bW5zID0gW107DQogICAgICB0aGlzLnNlY29uZENvbHVtbnMgPSBbXTsNCiAgICAgIHRoaXMudGhpcmRDb2x1bW5zID0gW107DQogICAgICB0aGlzLnRoaXJkVHJJZERhdGEgPSBbXTsNCiAgICAgIHRoaXMuZm9ybXVsYXMgPSBbXTsNCiAgICAgIHRoaXMudGFibGUgPSBbXTsNCiAgICAgIHRoaXMuZjFJZHMgPSBbXTsNCiAgICAgIHRoaXMuZjJJZHMgPSBbXTsNCiAgICB9LA0KICAgIHNldEVycm9yKGYxLCBmMiwgZnJvd0lkKSB7DQogICAgICB0aGlzLmYxSWRzID0gZjE7DQogICAgICB0aGlzLmYySWRzID0gZjI7DQogICAgICB0aGlzLmZSb3dJZCA9IGZyb3dJZDsNCiAgICB9LA0KDQogICAgZ2V0Rm9ybXVsYXNfMigpIHsNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHsNCiAgICAgICAgaWYgKHRoaXMudGFibGVJZCkgew0KICAgICAgICAgIFNlcnZpY2UuZm9ybXVsYXNCeVRhYmxlSWRfMih0aGlzLnRhYmxlSWQpDQogICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtdWxhcyA9IGRhdGE7DQogICAgICAgICAgICAgIHJlcyhkYXRhKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IHJlaihlKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmVqKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0RGF0YUJ5SWQoZm9ybSkgew0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4gew0KICAgICAgICBTZXJ2aWNlLmdldEdhdGhlcihmb3JtKQ0KICAgICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgICAgbGV0IHJlc2RhdGEgPSB7DQogICAgICAgICAgICAgIGRhdGE6IGRhdGEuZGF0YUxpc3QsDQogICAgICAgICAgICAgIHJlcG9ydDogZGF0YS5yZXBvcnRMaXN0LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHJlcyhyZXNkYXRhKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZSkgPT4gcmVqKGUpKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2V0VmFsdWUocm93SWQsIHZhbHVlLCByb3dJbmRleCwgaW5kZXgsIGlkLCB0eXBlQ29kZSkgew0KICAgICAgdGhpcy50aGlyZFRySWREYXRhW2luZGV4XS52YWx1ZVtyb3dJbmRleF0gPSB7DQogICAgICAgIHJvd0lkOiByb3dJZCA/IHJvd0lkIDogbnVsbCwNCiAgICAgICAgdmFsdWU6IHZhbHVlLA0KICAgICAgICB0eXBlQ29kZTogdHlwZUNvZGUsDQogICAgICAgIGNvbHVtbklkOiBpZCwNCiAgICAgIH07DQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJub19lbnRlcl92YWx1ZV8yIikuZm9yRWFjaCgoaW5wdXQpID0+IHsNCiAgICAgICAgaWYgKEpTT04ucGFyc2UoaW5wdXQuaWQpLnJvd0lkKSB7DQogICAgICAgICAgdGhpcy5mb3JtdWxhcy5mb3JFYWNoKChlKSA9PiB7DQogICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgIGUuZjIuaW5kZXhPZihpZC50b1N0cmluZygpKSA+IC0xICYmDQogICAgICAgICAgICAgIGUuZjEuaW5kZXhPZihKU09OLnBhcnNlKGlucHV0LmlkKS5jb2x1bW5JZCkgPiAtMSAmJg0KICAgICAgICAgICAgICBKU09OLnBhcnNlKGlucHV0LmlkKS5yb3dJZCA9PSByb3dJZA0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIGxldCBhbGxWYWwgPSAwOw0KICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpbnB1dF92YWwiKS5mb3JFYWNoKCh2SW5wdXQpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICBlLmYyLmluZGV4T2YocGFyc2VGbG9hdChKU09OLnBhcnNlKHZJbnB1dC5pZCkuY29sdW1uSWQpKSA+DQogICAgICAgICAgICAgICAgICAgIC0xICYmDQogICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKHZJbnB1dC5pZCkucm93SWQgPT0gcm93SWQNCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lbXB0eSh2SW5wdXQuaW5uZXJUZXh0KSkgew0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgYWxsVmFsICs9IHBhcnNlRmxvYXQodklucHV0LmlubmVyVGV4dCk7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNldChpbnB1dCwgImlubmVyVGV4dCIsIHBhcnNlRmxvYXQoYWxsVmFsKSk7DQogICAgICAgICAgICAgICAgbGV0IGZvdW5kSW5kZXggPSB0aGlzLnRoaXJkVHJJZERhdGEuZmluZEluZGV4KA0KICAgICAgICAgICAgICAgICAgKGUpID0+IGUuY29sdW1uSWQgPT0gSlNPTi5wYXJzZShpbnB1dC5pZCkuY29sdW1uSWQNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHRoaXMudGhpcmRUcklkRGF0YVtmb3VuZEluZGV4XS52YWx1ZVtyb3dJbmRleF0gPSB7DQogICAgICAgICAgICAgICAgICByb3dJZDogcm93SWQgPyByb3dJZCA6IG51bGwsDQogICAgICAgICAgICAgICAgICB2YWx1ZTogYWxsVmFsLA0KICAgICAgICAgICAgICAgICAgdHlwZUNvZGU6IHR5cGVDb2RlLA0KICAgICAgICAgICAgICAgICAgY29sdW1uSWQ6IEpTT04ucGFyc2UoaW5wdXQuaWQpLmNvbHVtbklkLA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZm9ybXVsYXMuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICBlLmYyLmluZGV4T2YoaWQudG9TdHJpbmcoKSkgPiAtMSAmJg0KICAgICAgICAgICAgICBlLmYxLmluZGV4T2YoSlNPTi5wYXJzZShpbnB1dC5pZCkuY29sdW1uSWQpID4gLTENCiAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICBsZXQgYWxsVmFsID0gMDsNCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaW5wdXRfdmFsIikuZm9yRWFjaCgodklucHV0KSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICAgZS5mMi5pbmRleE9mKHBhcnNlRmxvYXQoSlNPTi5wYXJzZSh2SW5wdXQuaWQpLmNvbHVtbklkKSkgPiAtMQ0KICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VtcHR5KHZJbnB1dC5pbm5lclRleHQpKSB7DQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBhbGxWYWwgKz0gcGFyc2VGbG9hdCh2SW5wdXQudmFsdWUpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaW5wdXQsICJpbm5lclRleHQiLCBwYXJzZUZsb2F0KGFsbFZhbCkpOw0KICAgICAgICAgICAgICAgIGxldCBmb3VuZEluZGV4ID0gdGhpcy50aGlyZFRySWREYXRhLmZpbmRJbmRleCgNCiAgICAgICAgICAgICAgICAgIChlKSA9PiBlLmNvbHVtbklkID09IEpTT04ucGFyc2UoaW5wdXQuaWQpLmNvbHVtbklkDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB0aGlzLnRoaXJkVHJJZERhdGFbZm91bmRJbmRleF0udmFsdWVbMF0gPSB7DQogICAgICAgICAgICAgICAgICByb3dJZDogbnVsbCwNCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBhbGxWYWwsDQogICAgICAgICAgICAgICAgICB0eXBlQ29kZTogdHlwZUNvZGUsDQogICAgICAgICAgICAgICAgICBjb2x1bW5JZDogSlNPTi5wYXJzZShpbnB1dC5pZCkuY29sdW1uSWQsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KDQogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOw0KICAgIH0sDQogICAgZ2V0QnlJZChpZCwgZm9ybSkgew0KICAgICAgdGhpcy5jbGVhckFsbCgpOw0KICAgICAgdGhpcy50YWJsZUlkID0gaWQ7DQogICAgICAvLyAgIHRoaXMucmVwb3J0SWQgPSByZXBvcnRJZDsNCiAgICAgIHRoaXMubG9hZGVyID0gdHJ1ZTsNCg0KICAgICAgLy8gICBTZXJ2aWNlLnJlcG9ydEdldEJ5SWQocmVwb3J0SWQpLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAvLyAgICAgdGhpcy5yZXBvcnQgPSBkYXRhOw0KICAgICAgLy8gICB9KTsNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHsNCiAgICAgICAgU2VydmljZS5nZXRCeUlkVGFibGUoaWQpDQogICAgICAgICAgLnRoZW4oKHJzKSA9PiB7DQogICAgICAgICAgICBpZiAocnMuZGF0YSkgew0KICAgICAgICAgICAgICB0aGlzLnNldENvbHVtbnMocnMuZGF0YS5jb2x1bW5zKTsNCiAgICAgICAgICAgICAgdGhpcy5zZXRSb3cocnMuZGF0YS5yb3dzKTsNCiAgICAgICAgICAgICAgdGhpcy50YWJsZSA9IHJzLmRhdGEudGFibGU7DQogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUJ5SWQoZm9ybSksDQogICAgICAgICAgICAgICAgICB0aGlzLmdldEZvcm11bGFzXzIoKSwNCiAgICAgICAgICAgICAgICBdKS50aGVuKChbeyBkYXRhLCByZXBvcnQgfSwgZm9ybXVsYXNdKSA9PiB7DQogICAgICAgICAgICAgICAgICBkb2N1bWVudA0KICAgICAgICAgICAgICAgICAgICAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaW5wdXRfdmFsIikNCiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGlucHV0KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgZm9ybXVsYXMuZm9yRWFjaCgoZWxlbWVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4X1YgPSBKU09OLnBhcnNlKGVsZW1lbnQuZjEpLmZpbmRJbmRleCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgKGUpID0+IGUgPT0gSlNPTi5wYXJzZShpbnB1dC5pZCkuY29sdW1uSWQNCiAgICAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhfViA+IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJHNldChpbnB1dCwgImRpc2FibGVkIiwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChpbnB1dC5zdHlsZSwgImJvcmRlciIsICJub25lIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoIm5vX2VudGVyX3ZhbHVlXzIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChKU09OLnBhcnNlKGlucHV0LmlkKS5yb3dJZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChKU09OLnBhcnNlKGlucHV0LmlkKS5jb2x1bW5JZCkgPT0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoZS5jb2x1bW5JZCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KEpTT04ucGFyc2UoaW5wdXQuaWQpLnJvd0lkKSA9PQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChlLnJvd0lkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaW5wdXQsICJpbm5lclRleHQiLCBlLnZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoSlNPTi5wYXJzZShpbnB1dC5pZCkuY29sdW1uSWQpID09DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChlLmNvbHVtbklkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaW5wdXQsICJpbm5lclRleHQiLCBlLnZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgIHJlcyh7IHJlcG9ydDogcmVwb3J0LCBkYXRhOiBkYXRhIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9LCA1MDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRlciA9IGZhbHNlOw0KICAgICAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlKTsNCiAgICAgICAgICAgIHJlaigiZXJyb3IiKTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0QnlXaXRoUmVwb3J0SWQoaWQsIGZvcm0pIHsNCiAgICAgIHRoaXMuY2xlYXJBbGwoKTsNCiAgICAgIHRoaXMudGFibGVJZCA9IGlkOw0KICAgICAgLy8gICB0aGlzLnJlcG9ydElkID0gcmVwb3J0SWQ7DQogICAgICB0aGlzLmxvYWRlciA9IHRydWU7DQoNCiAgICAgIC8vICAgU2VydmljZS5yZXBvcnRHZXRCeUlkKHJlcG9ydElkKS50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgLy8gICAgIHRoaXMucmVwb3J0ID0gZGF0YTsNCiAgICAgIC8vICAgfSk7DQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7DQogICAgICAgIFNlcnZpY2UuZ2V0QnlJZFRhYmxlV2l0aFJlcG9ydElkKGlkLCBmb3JtLnRhYmxlSWQuaWQpDQogICAgICAgICAgICAudGhlbigocnMpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJzLmRhdGEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNldENvbHVtbnMocnMuZGF0YS5jb2x1bW5zKTsNCiAgICAgICAgICAgICAgICB0aGlzLnNldFJvdyhycy5kYXRhLnJvd3MpOw0KICAgICAgICAgICAgICAgIHRoaXMudGFibGUgPSBycy5kYXRhLnRhYmxlOw0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGFCeUlkKGZvcm0pLA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZvcm11bGFzXzIoKSwNCiAgICAgICAgICAgICAgICAgIF0pLnRoZW4oKFt7IGRhdGEsIHJlcG9ydCB9LCBmb3JtdWxhc10pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQNCiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpbnB1dF92YWwiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGlucHV0KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFzLmZvckVhY2goKGVsZW1lbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXhfViA9IEpTT04ucGFyc2UoZWxlbWVudC5mMSkuZmluZEluZGV4KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZSkgPT4gZSA9PSBKU09OLnBhcnNlKGlucHV0LmlkKS5jb2x1bW5JZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4X1YgPiAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kc2V0KGlucHV0LCAiZGlzYWJsZWQiLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChpbnB1dC5zdHlsZSwgImJvcmRlciIsICJub25lIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCJub19lbnRlcl92YWx1ZV8yIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5mb250V2VpZ2h0ID0gImJvbGQiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChKU09OLnBhcnNlKGlucHV0LmlkKS5yb3dJZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoSlNPTi5wYXJzZShpbnB1dC5pZCkuY29sdW1uSWQpID09DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChlLmNvbHVtbklkKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoSlNPTi5wYXJzZShpbnB1dC5pZCkucm93SWQpID09DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChlLnJvd0lkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChpbnB1dCwgImlubmVyVGV4dCIsIGUudmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChKU09OLnBhcnNlKGlucHV0LmlkKS5jb2x1bW5JZCkgPT0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGUuY29sdW1uSWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGlucHV0LCAiaW5uZXJUZXh0IiwgZS52YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIHJlcyh7IHJlcG9ydDogcmVwb3J0LCBkYXRhOiBkYXRhIH0pOw0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSwgNTAwKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gew0KICAgICAgICAgICAgICB0aGlzLmxvYWRlciA9IGZhbHNlOw0KICAgICAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGUpOw0KICAgICAgICAgICAgICByZWooImVycm9yIik7DQogICAgICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBzZXRDb2x1bW5zKHYpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRDb2x1bW5zID0gdjsNCiAgICAgIHRoaXMuZmlyc3RDb2x1bW5zID0gW107DQogICAgICB0aGlzLnNlY29uZENvbHVtbnMgPSBbXTsNCiAgICAgIHRoaXMudGhpcmRDb2x1bW5zID0gW107DQogICAgICB2LmZvckVhY2goKGVsMSkgPT4gew0KICAgICAgICB0aGlzLmZpcnN0Q29sdW1ucy5wdXNoKGVsMSk7DQogICAgICAgIGVsMS5jaGlsZHJlbi5mb3JFYWNoKChlbDIpID0+IHsNCiAgICAgICAgICB0aGlzLnNlY29uZENvbHVtbnMucHVzaChlbDIpOw0KICAgICAgICAgIGVsMi5jaGlsZHJlbi5mb3JFYWNoKChlbDMpID0+IHsNCiAgICAgICAgICAgIHRoaXMudGhpcmRDb2x1bW5zLnB1c2goeyAuLi5lbDMsIGZJZDogZWwxLmlkIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KDQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgLy8gdGhpcy50aGlyZFRySWREYXRhID0gQXJyYXkucHJvdG90eXBlLnNsaWNlDQogICAgICAgIC8vICAgLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGhpcmRUcklkXzIiKSkNCiAgICAgICAgLy8gICAubWFwKChlKSA9PiB7DQogICAgICAgIC8vICAgICBsZXQgYXJyYXkgPSBlLmlkLnNwbGl0KCIsIik7DQogICAgICAgIC8vICAgICByZXR1cm4gew0KICAgICAgICAvLyAgICAgICBjb2x1bW5JZDogYXJyYXlbMF0sDQogICAgICAgIC8vICAgICAgIHR5cGVDb2RlOiBhcnJheVsxXSwNCiAgICAgICAgLy8gICAgICAgcm93SWQ6IFtdLA0KICAgICAgICAvLyAgICAgICB2YWx1ZTogW10sDQogICAgICAgIC8vICAgICB9Ow0KICAgICAgICAvLyAgIH0pOw0KICAgICAgICBsZXQgZmlyc3RUclRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZmlyc3RUclRoXzIiKTsNCiAgICAgICAgbGV0IHNlY29uZFRyVGggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJzZWNvbmRUclRoXzIiKTsNCiAgICAgICAgbGV0IHRoaXJkVHJUaCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRoaXJkVHJUaF8yIik7DQogICAgICAgIGxldCBjb3VudGVyMiA9IDAsDQogICAgICAgICAgY291bnRlcjMgPSAwOw0KICAgICAgICBmaXJzdFRyVGguZm9yRWFjaCgodGgpID0+IHsNCiAgICAgICAgICBpZiAodGguY29sU3BhbiA+IDEpIHsNCiAgICAgICAgICAgIGZvciAobGV0IGluZGV4MiA9IDA7IGluZGV4MiA8IHRoLmNvbFNwYW47IGluZGV4MisrKSB7DQogICAgICAgICAgICAgIGlmIChzZWNvbmRUclRoW2NvdW50ZXIyXSAmJiBzZWNvbmRUclRoW2NvdW50ZXIyXS5jb2xTcGFuID4gMSkgew0KICAgICAgICAgICAgICAgIGZvciAoDQogICAgICAgICAgICAgICAgICBsZXQgaW5kZXgzID0gMDsNCiAgICAgICAgICAgICAgICAgIGluZGV4MyA8IHNlY29uZFRyVGhbY291bnRlcjJdLmNvbFNwYW47DQogICAgICAgICAgICAgICAgICBpbmRleDMrKw0KICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gdGhpcmRUclRoW2NvdW50ZXIzXS5pZC5zcGxpdCgiLCIpOw0KICAgICAgICAgICAgICAgICAgbGV0IHRtcCA9IHsNCiAgICAgICAgICAgICAgICAgICAgY29sdW1uSWQ6IGFycmF5WzBdLA0KICAgICAgICAgICAgICAgICAgICB0eXBlQ29kZTogYXJyYXlbMV0sDQogICAgICAgICAgICAgICAgICAgIHJvd0lkOiBbXSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFtdLA0KICAgICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgICAgdGhpcy50aGlyZFRySWREYXRhLnB1c2godG1wKTsNCiAgICAgICAgICAgICAgICAgIGNvdW50ZXIzKys7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvdW50ZXIyKys7DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICAgc2Vjb25kVHJUaFtjb3VudGVyMl0gJiYNCiAgICAgICAgICAgICAgICAgIHNlY29uZFRyVGhbY291bnRlcjJdLmNsYXNzTGlzdC5jb250YWlucygidGhpcmRUcklkXzIiKQ0KICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gc2Vjb25kVHJUaFtjb3VudGVyMl0uaWQuc3BsaXQoIiwiKTsNCiAgICAgICAgICAgICAgICAgIGxldCB0bXAgPSB7DQogICAgICAgICAgICAgICAgICAgIGNvbHVtbklkOiBhcnJheVswXSwNCiAgICAgICAgICAgICAgICAgICAgdHlwZUNvZGU6IGFycmF5WzFdLA0KICAgICAgICAgICAgICAgICAgICByb3dJZDogW10sDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBbXSwNCiAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgIHRoaXMudGhpcmRUcklkRGF0YS5wdXNoKHRtcCk7DQogICAgICAgICAgICAgICAgICBjb3VudGVyMisrOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICBpZiAoc2Vjb25kVHJUaFtjb3VudGVyMl0pIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICgNCiAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXgzID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICBpbmRleDMgPCBzZWNvbmRUclRoW2NvdW50ZXIyXS5jb2xTcGFuOw0KICAgICAgICAgICAgICAgICAgICAgIGluZGV4MysrDQogICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgIGxldCBhcnJheSA9IHRoaXJkVHJUaFtjb3VudGVyM10uaWQuc3BsaXQoIiwiKTsNCiAgICAgICAgICAgICAgICAgICAgICBsZXQgdG1wID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uSWQ6IGFycmF5WzBdLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNvZGU6IGFycmF5WzFdLA0KICAgICAgICAgICAgICAgICAgICAgICAgcm93SWQ6IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFtdLA0KICAgICAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRoaXJkVHJJZERhdGEucHVzaCh0bXApOw0KICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXIzKys7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBjb3VudGVyMisrOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAodGguY2xhc3NMaXN0LmNvbnRhaW5zKCJ0aGlyZFRySWRfMiIpKSB7DQogICAgICAgICAgICAgIGxldCBhcnJheSA9IHRoLmlkLnNwbGl0KCIsIik7DQogICAgICAgICAgICAgIGxldCB0bXAgPSB7DQogICAgICAgICAgICAgICAgY29sdW1uSWQ6IGFycmF5WzBdLA0KICAgICAgICAgICAgICAgIHR5cGVDb2RlOiBhcnJheVsxXSwNCiAgICAgICAgICAgICAgICByb3dJZDogW10sDQogICAgICAgICAgICAgICAgdmFsdWU6IFtdLA0KICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgIHRoaXMudGhpcmRUcklkRGF0YS5wdXNoKHRtcCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleDIgPSAwOyBpbmRleDIgPCB0aC5jb2xTcGFuOyBpbmRleDIrKykgew0KICAgICAgICAgICAgICAgIGlmIChzZWNvbmRUclRoW2NvdW50ZXIyXS5jb2xTcGFuID4gMSkgew0KICAgICAgICAgICAgICAgICAgZm9yICgNCiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4MyA9IDA7DQogICAgICAgICAgICAgICAgICAgIGluZGV4MyA8IHNlY29uZFRyVGhbY291bnRlcjJdLmNvbFNwYW47DQogICAgICAgICAgICAgICAgICAgIGluZGV4MysrDQogICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gdGhpcmRUclRoW2NvdW50ZXIzXS5pZC5zcGxpdCgiLCIpOw0KICAgICAgICAgICAgICAgICAgICBsZXQgdG1wID0gew0KICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbklkOiBhcnJheVswXSwNCiAgICAgICAgICAgICAgICAgICAgICB0eXBlQ29kZTogYXJyYXlbMV0sDQogICAgICAgICAgICAgICAgICAgICAgcm93SWQ6IFtdLA0KICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBbXSwNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aGlyZFRySWREYXRhLnB1c2godG1wKTsNCiAgICAgICAgICAgICAgICAgICAgY291bnRlcjMrKzsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIGNvdW50ZXIyKys7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgc2Vjb25kVHJUaFtjb3VudGVyMl0gJiYNCiAgICAgICAgICAgICAgICAgICAgc2Vjb25kVHJUaFtjb3VudGVyMl0uY2xhc3NMaXN0LmNvbnRhaW5zKCJ0aGlyZFRySWRfMiIpDQogICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gc2Vjb25kVHJUaFtjb3VudGVyMl0uaWQuc3BsaXQoIiwiKTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHRtcCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5JZDogYXJyYXlbMF0sDQogICAgICAgICAgICAgICAgICAgICAgdHlwZUNvZGU6IGFycmF5WzFdLA0KICAgICAgICAgICAgICAgICAgICAgIHJvd0lkOiBbXSwNCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogW10sDQogICAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aGlyZFRySWREYXRhLnB1c2godG1wKTsNCiAgICAgICAgICAgICAgICAgICAgY291bnRlcjIrKzsNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChzZWNvbmRUclRoW2NvdW50ZXIyXSkgew0KICAgICAgICAgICAgICAgICAgICAgIGZvciAoDQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXgzID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4MyA8IHNlY29uZFRyVGhbY291bnRlcjJdLmNvbFNwYW47DQogICAgICAgICAgICAgICAgICAgICAgICBpbmRleDMrKw0KICAgICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gdGhpcmRUclRoW2NvdW50ZXIzXS5pZC5zcGxpdCgiLCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRtcCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uSWQ6IGFycmF5WzBdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQ29kZTogYXJyYXlbMV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0lkOiBbXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhpcmRUcklkRGF0YS5wdXNoKHRtcCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyMysrOw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyMisrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0sIDMwMCk7DQogICAgfSwNCiAgICBzZXRSb3codikgew0KICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSB2Ow0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gW3t9XTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgcm93c3BhbkZpcnN0KGVsKSB7DQogICAgICByZXR1cm4gZWwuY2hpbGRyZW4ubGVuZ3RoID4gMA0KICAgICAgICA/IDENCiAgICAgICAgOiBlbC5jaGlsZHJlbi5sZW5ndGggPiAwICYmIHRoaXMudGhpcmRDb2x1bW5zLmxlbmd0aCA+IDANCiAgICAgICAgPyAzDQogICAgICAgIDogMzsNCiAgICB9LA0KICAgIGNvbHNwYW5GaXJzdChlbCkgew0KICAgICAgbGV0IGZvdW5kID0gdGhpcy50aGlyZENvbHVtbnMuZmlsdGVyKChpKSA9PiBpLmZJZCA9PT0gZWwuaWQpOw0KICAgICAgbGV0IHRvdGFsTm90Q2hpbGQgPSBlbC5jaGlsZHJlbi5maWx0ZXIoKGQpID0+IGQuY2hpbGRyZW4ubGVuZ3RoID09IDApOw0KICAgICAgcmV0dXJuIGVsLmNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgZm91bmQubGVuZ3RoID09IDANCiAgICAgICAgPyBlbC5jaGlsZHJlbi5sZW5ndGgNCiAgICAgICAgOiBlbC5jaGlsZHJlbi5sZW5ndGggPiAwICYmIGZvdW5kLmxlbmd0aCA+IDANCiAgICAgICAgPyB0b3RhbE5vdENoaWxkLmxlbmd0aCArIGZvdW5kLmxlbmd0aA0KICAgICAgICA6IDE7DQogICAgfSwNCg0KICAgIHJvd3NwYW5TZWNvbmQoZWwpIHsNCiAgICAgIHJldHVybiBlbC5jaGlsZHJlbi5sZW5ndGggPT0gMCAmJiB0aGlzLnRoaXJkQ29sdW1ucy5sZW5ndGggPT0gMA0KICAgICAgICA/IDENCiAgICAgICAgOiBlbC5jaGlsZHJlbi5sZW5ndGggPT0gMCAmJiB0aGlzLnRoaXJkQ29sdW1ucy5sZW5ndGggPiAwDQogICAgICAgID8gMg0KICAgICAgICA6IDE7DQogICAgfSwNCiAgICBjb2xzcGFuU2Vjb25kKGVsKSB7DQogICAgICByZXR1cm4gZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCA/IGVsLmNoaWxkcmVuLmxlbmd0aCA6IDE7DQogICAgfSwNCg0KICAgIHJvd3NwYW5GaXJzdENsYXNzKGVsKSB7DQogICAgICByZXR1cm4gZWwuY2hpbGRyZW4ubGVuZ3RoID4gMA0KICAgICAgICA/ICIiDQogICAgICAgIDogZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiB0aGlzLnRoaXJkQ29sdW1ucy5sZW5ndGggPiAwDQogICAgICAgID8gInRoaXJkVHJJZF8yIg0KICAgICAgICA6ICJ0aGlyZFRySWRfMiI7DQogICAgfSwNCiAgICByb3dzcGFuU2Vjb25kQ2xhc3MoZWwpIHsNCiAgICAgIHJldHVybiBlbC5jaGlsZHJlbi5sZW5ndGggPT0gMCAmJiB0aGlzLnRoaXJkQ29sdW1ucy5sZW5ndGggPT0gMA0KICAgICAgICA/ICJ0aGlyZFRySWRfMiINCiAgICAgICAgOiBlbC5jaGlsZHJlbi5sZW5ndGggPT0gMCAmJiB0aGlzLnRoaXJkQ29sdW1ucy5sZW5ndGggPiAwDQogICAgICAgID8gInRoaXJkVHJJZF8yIg0KICAgICAgICA6ICIiOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["gatherViewReport.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gatherViewReport.vue","sourceRoot":"src/modules/report/organizitional/components","sourcesContent":["<script>\r\nimport Service from \"@/modules/report/reportService\";\r\n// import { getName, dec } from \"@/helper\";\r\nimport XLSX from \"xlsx\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      loaderPrint: false,\r\n      loaderExcel: false,\r\n      loaderQrcode: false,\r\n      f1Ids: [],\r\n      f2Ids: [],\r\n      fRowId: null,\r\n      tableId: null,\r\n      reportId: null,\r\n      // getName: getName,\r\n      selectedColumns: [],\r\n      selectedRows: [],\r\n\r\n      firstColumns: [],\r\n      secondColumns: [],\r\n      thirdColumns: [],\r\n\r\n      thirdTrIdData: [],\r\n      loader: false,\r\n      report: {},\r\n      table: {},\r\n      formulas: [],\r\n      currentPosition: {\r\n        rowIndex: null,\r\n        columnIndex: null,\r\n        rowId: null,\r\n        columnId: null,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    print() {\r\n      this.loaderPrint = true;\r\n      let vm = this;\r\n      setTimeout(() => {\r\n        let mywindow = window.open(\"\", \"PRINT\", \"height=800,width=1000\");\r\n        // Get all stylesheets HTML\r\n        let stylesHtml = \"\";\r\n        for (const node of [\r\n          ...document.querySelectorAll('link[rel=\"stylesheet\"], style'),\r\n        ]) {\r\n          stylesHtml += node.outerHTML;\r\n        }\r\n\r\n        mywindow.document.write(`<html><head> <title>  Report </title>`);\r\n        mywindow.document.write(`</head><body><style>\r\n      @page {\r\n        size: A4 !important;\r\n        margin: 1cm !important;\r\n      }\r\n      table{\r\n          font-size:1.1vw\r\n      }\r\n\r\n\r\n      #none-dsp {\r\n        display:none !important\r\n      }\r\n      #over {\r\n        overflow:visible !important\r\n      }\r\n      </style>\r\n      ${stylesHtml}`);\r\n        mywindow.document.write(document.getElementById(\"printId\").innerHTML);\r\n\r\n        mywindow.document.write(\"</body></html>\");\r\n\r\n        mywindow.document.close(); // necessary for IE >= 10\r\n        mywindow.focus(); // necessary for IE >= 10*/\r\n\r\n        mywindow.onload = function () {\r\n          mywindow.print();\r\n          mywindow.close();\r\n          vm.loaderPrint = false;\r\n        };\r\n        return true;\r\n      }, 300);\r\n    },\r\n    excelExport() {\r\n      this.loaderExcel = true;\r\n      let fileName = `Report`;\r\n      let table = document.getElementById(\"reportTableId\");\r\n      let wb = XLSX.utils.table_to_book(table, { sheet: \"sheet1\" });\r\n      setTimeout(() => {\r\n        this.loaderExcel = false;\r\n      }, 500);\r\n      return XLSX.writeFile(wb, `${fileName}.xlsx`, {});\r\n    },\r\n    clearAll() {\r\n      this.selectedColumns = [];\r\n      this.selectedRows = [];\r\n      this.firstColumns = [];\r\n      this.secondColumns = [];\r\n      this.thirdColumns = [];\r\n      this.thirdTrIdData = [];\r\n      this.formulas = [];\r\n      this.table = [];\r\n      this.f1Ids = [];\r\n      this.f2Ids = [];\r\n    },\r\n    setError(f1, f2, frowId) {\r\n      this.f1Ids = f1;\r\n      this.f2Ids = f2;\r\n      this.fRowId = frowId;\r\n    },\r\n\r\n    getFormulas_2() {\r\n      return new Promise((res, rej) => {\r\n        if (this.tableId) {\r\n          Service.formulasByTableId_2(this.tableId)\r\n            .then(({ data }) => {\r\n              this.formulas = data;\r\n              res(data);\r\n            })\r\n            .catch((e) => rej(e));\r\n        } else {\r\n          rej();\r\n        }\r\n      });\r\n    },\r\n    getDataById(form) {\r\n      return new Promise((res, rej) => {\r\n        Service.getGather(form)\r\n          .then(({ data }) => {\r\n            let resdata = {\r\n              data: data.dataList,\r\n              report: data.reportList,\r\n            };\r\n            res(resdata);\r\n          })\r\n          .catch((e) => rej(e));\r\n      });\r\n    },\r\n    setValue(rowId, value, rowIndex, index, id, typeCode) {\r\n      this.thirdTrIdData[index].value[rowIndex] = {\r\n        rowId: rowId ? rowId : null,\r\n        value: value,\r\n        typeCode: typeCode,\r\n        columnId: id,\r\n      };\r\n      document.getElementsByClassName(\"no_enter_value_2\").forEach((input) => {\r\n        if (JSON.parse(input.id).rowId) {\r\n          this.formulas.forEach((e) => {\r\n            if (\r\n              e.f2.indexOf(id.toString()) > -1 &&\r\n              e.f1.indexOf(JSON.parse(input.id).columnId) > -1 &&\r\n              JSON.parse(input.id).rowId == rowId\r\n            ) {\r\n              let allVal = 0;\r\n              document.getElementsByClassName(\"input_val\").forEach((vInput) => {\r\n                if (\r\n                  e.f2.indexOf(parseFloat(JSON.parse(vInput.id).columnId)) >\r\n                    -1 &&\r\n                  JSON.parse(vInput.id).rowId == rowId\r\n                ) {\r\n                  if (this._empty(vInput.innerText)) {\r\n                  } else {\r\n                    allVal += parseFloat(vInput.innerText);\r\n                  }\r\n                }\r\n                this.$set(input, \"innerText\", parseFloat(allVal));\r\n                let foundIndex = this.thirdTrIdData.findIndex(\r\n                  (e) => e.columnId == JSON.parse(input.id).columnId\r\n                );\r\n                this.thirdTrIdData[foundIndex].value[rowIndex] = {\r\n                  rowId: rowId ? rowId : null,\r\n                  value: allVal,\r\n                  typeCode: typeCode,\r\n                  columnId: JSON.parse(input.id).columnId,\r\n                };\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          this.formulas.forEach((e) => {\r\n            if (\r\n              e.f2.indexOf(id.toString()) > -1 &&\r\n              e.f1.indexOf(JSON.parse(input.id).columnId) > -1\r\n            ) {\r\n              let allVal = 0;\r\n              document.getElementsByClassName(\"input_val\").forEach((vInput) => {\r\n                if (\r\n                  e.f2.indexOf(parseFloat(JSON.parse(vInput.id).columnId)) > -1\r\n                ) {\r\n                  if (this._empty(vInput.innerText)) {\r\n                  } else {\r\n                    allVal += parseFloat(vInput.value);\r\n                  }\r\n                }\r\n                this.$set(input, \"innerText\", parseFloat(allVal));\r\n                let foundIndex = this.thirdTrIdData.findIndex(\r\n                  (e) => e.columnId == JSON.parse(input.id).columnId\r\n                );\r\n                this.thirdTrIdData[foundIndex].value[0] = {\r\n                  rowId: null,\r\n                  value: allVal,\r\n                  typeCode: typeCode,\r\n                  columnId: JSON.parse(input.id).columnId,\r\n                };\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      this.$forceUpdate();\r\n    },\r\n    getById(id, form) {\r\n      this.clearAll();\r\n      this.tableId = id;\r\n      //   this.reportId = reportId;\r\n      this.loader = true;\r\n\r\n      //   Service.reportGetById(reportId).then(({ data }) => {\r\n      //     this.report = data;\r\n      //   });\r\n      return new Promise((res, rej) => {\r\n        Service.getByIdTable(id)\r\n          .then((rs) => {\r\n            if (rs.data) {\r\n              this.setColumns(rs.data.columns);\r\n              this.setRow(rs.data.rows);\r\n              this.table = rs.data.table;\r\n              setTimeout(() => {\r\n                Promise.all([\r\n                  this.getDataById(form),\r\n                  this.getFormulas_2(),\r\n                ]).then(([{ data, report }, formulas]) => {\r\n                  document\r\n                    .getElementsByClassName(\"input_val\")\r\n                    .forEach((input) => {\r\n                      formulas.forEach((element) => {\r\n                        let index_V = JSON.parse(element.f1).findIndex(\r\n                          (e) => e == JSON.parse(input.id).columnId\r\n                        );\r\n                        if (index_V > -1) {\r\n                          // this.$set(input, \"disabled\", true);\r\n                          this.$set(input.style, \"border\", \"none\");\r\n                          input.classList.add(\"no_enter_value_2\");\r\n                          input.style.fontWeight = \"bold\";\r\n                        }\r\n                      });\r\n                      data.forEach((e) => {\r\n                        if (JSON.parse(input.id).rowId) {\r\n                          if (\r\n                            parseFloat(JSON.parse(input.id).columnId) ==\r\n                              parseFloat(e.columnId) &&\r\n                            parseFloat(JSON.parse(input.id).rowId) ==\r\n                              parseFloat(e.rowId)\r\n                          ) {\r\n                            this.$set(input, \"innerText\", e.value);\r\n                          }\r\n                        } else {\r\n                          if (\r\n                            parseFloat(JSON.parse(input.id).columnId) ==\r\n                            parseFloat(e.columnId)\r\n                          ) {\r\n                            this.$set(input, \"innerText\", e.value);\r\n                          }\r\n                        }\r\n                      });\r\n                    });\r\n\r\n                  this.loader = false;\r\n                  res({ report: report, data: data });\r\n                });\r\n              }, 500);\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            this.loader = false;\r\n            // this.catchErr(e);\r\n            rej(\"error\");\r\n          });\r\n      });\r\n    },\r\n    getByWithReportId(id, form) {\r\n      this.clearAll();\r\n      this.tableId = id;\r\n      //   this.reportId = reportId;\r\n      this.loader = true;\r\n\r\n      //   Service.reportGetById(reportId).then(({ data }) => {\r\n      //     this.report = data;\r\n      //   });\r\n      return new Promise((res, rej) => {\r\n        Service.getByIdTableWithReportId(id, form.tableId.id)\r\n            .then((rs) => {\r\n              if (rs.data) {\r\n                this.setColumns(rs.data.columns);\r\n                this.setRow(rs.data.rows);\r\n                this.table = rs.data.table;\r\n                setTimeout(() => {\r\n                  Promise.all([\r\n                    this.getDataById(form),\r\n                    this.getFormulas_2(),\r\n                  ]).then(([{ data, report }, formulas]) => {\r\n                    document\r\n                        .getElementsByClassName(\"input_val\")\r\n                        .forEach((input) => {\r\n                          formulas.forEach((element) => {\r\n                            let index_V = JSON.parse(element.f1).findIndex(\r\n                                (e) => e == JSON.parse(input.id).columnId\r\n                            );\r\n                            if (index_V > -1) {\r\n                              // this.$set(input, \"disabled\", true);\r\n                              this.$set(input.style, \"border\", \"none\");\r\n                              input.classList.add(\"no_enter_value_2\");\r\n                              input.style.fontWeight = \"bold\";\r\n                            }\r\n                          });\r\n                          data.forEach((e) => {\r\n                            if (JSON.parse(input.id).rowId) {\r\n                              if (\r\n                                  parseFloat(JSON.parse(input.id).columnId) ==\r\n                                  parseFloat(e.columnId) &&\r\n                                  parseFloat(JSON.parse(input.id).rowId) ==\r\n                                  parseFloat(e.rowId)\r\n                              ) {\r\n                                this.$set(input, \"innerText\", e.value);\r\n                              }\r\n                            } else {\r\n                              if (\r\n                                  parseFloat(JSON.parse(input.id).columnId) ==\r\n                                  parseFloat(e.columnId)\r\n                              ) {\r\n                                this.$set(input, \"innerText\", e.value);\r\n                              }\r\n                            }\r\n                          });\r\n                        });\r\n\r\n                    this.loader = false;\r\n                    res({ report: report, data: data });\r\n                  });\r\n                }, 500);\r\n              }\r\n            })\r\n            .catch((e) => {\r\n              this.loader = false;\r\n              // this.catchErr(e);\r\n              rej(\"error\");\r\n            });\r\n      });\r\n    },\r\n\r\n    setColumns(v) {\r\n      this.selectedColumns = v;\r\n      this.firstColumns = [];\r\n      this.secondColumns = [];\r\n      this.thirdColumns = [];\r\n      v.forEach((el1) => {\r\n        this.firstColumns.push(el1);\r\n        el1.children.forEach((el2) => {\r\n          this.secondColumns.push(el2);\r\n          el2.children.forEach((el3) => {\r\n            this.thirdColumns.push({ ...el3, fId: el1.id });\r\n          });\r\n        });\r\n      });\r\n\r\n      setTimeout(() => {\r\n        // this.thirdTrIdData = Array.prototype.slice\r\n        //   .call(document.getElementsByClassName(\"thirdTrId_2\"))\r\n        //   .map((e) => {\r\n        //     let array = e.id.split(\",\");\r\n        //     return {\r\n        //       columnId: array[0],\r\n        //       typeCode: array[1],\r\n        //       rowId: [],\r\n        //       value: [],\r\n        //     };\r\n        //   });\r\n        let firstTrTh = document.getElementsByClassName(\"firstTrTh_2\");\r\n        let secondTrTh = document.getElementsByClassName(\"secondTrTh_2\");\r\n        let thirdTrTh = document.getElementsByClassName(\"thirdTrTh_2\");\r\n        let counter2 = 0,\r\n          counter3 = 0;\r\n        firstTrTh.forEach((th) => {\r\n          if (th.colSpan > 1) {\r\n            for (let index2 = 0; index2 < th.colSpan; index2++) {\r\n              if (secondTrTh[counter2] && secondTrTh[counter2].colSpan > 1) {\r\n                for (\r\n                  let index3 = 0;\r\n                  index3 < secondTrTh[counter2].colSpan;\r\n                  index3++\r\n                ) {\r\n                  let array = thirdTrTh[counter3].id.split(\",\");\r\n                  let tmp = {\r\n                    columnId: array[0],\r\n                    typeCode: array[1],\r\n                    rowId: [],\r\n                    value: [],\r\n                  };\r\n\r\n                  this.thirdTrIdData.push(tmp);\r\n                  counter3++;\r\n                }\r\n                counter2++;\r\n              } else {\r\n                if (\r\n                  secondTrTh[counter2] &&\r\n                  secondTrTh[counter2].classList.contains(\"thirdTrId_2\")\r\n                ) {\r\n                  let array = secondTrTh[counter2].id.split(\",\");\r\n                  let tmp = {\r\n                    columnId: array[0],\r\n                    typeCode: array[1],\r\n                    rowId: [],\r\n                    value: [],\r\n                  };\r\n\r\n                  this.thirdTrIdData.push(tmp);\r\n                  counter2++;\r\n                } else {\r\n                  if (secondTrTh[counter2]) {\r\n                    for (\r\n                      let index3 = 0;\r\n                      index3 < secondTrTh[counter2].colSpan;\r\n                      index3++\r\n                    ) {\r\n                      let array = thirdTrTh[counter3].id.split(\",\");\r\n                      let tmp = {\r\n                        columnId: array[0],\r\n                        typeCode: array[1],\r\n                        rowId: [],\r\n                        value: [],\r\n                      };\r\n\r\n                      this.thirdTrIdData.push(tmp);\r\n                      counter3++;\r\n                    }\r\n\r\n                    counter2++;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            if (th.classList.contains(\"thirdTrId_2\")) {\r\n              let array = th.id.split(\",\");\r\n              let tmp = {\r\n                columnId: array[0],\r\n                typeCode: array[1],\r\n                rowId: [],\r\n                value: [],\r\n              };\r\n\r\n              this.thirdTrIdData.push(tmp);\r\n            } else {\r\n              for (let index2 = 0; index2 < th.colSpan; index2++) {\r\n                if (secondTrTh[counter2].colSpan > 1) {\r\n                  for (\r\n                    let index3 = 0;\r\n                    index3 < secondTrTh[counter2].colSpan;\r\n                    index3++\r\n                  ) {\r\n                    let array = thirdTrTh[counter3].id.split(\",\");\r\n                    let tmp = {\r\n                      columnId: array[0],\r\n                      typeCode: array[1],\r\n                      rowId: [],\r\n                      value: [],\r\n                    };\r\n                    this.thirdTrIdData.push(tmp);\r\n                    counter3++;\r\n                  }\r\n                  counter2++;\r\n                } else {\r\n                  if (\r\n                    secondTrTh[counter2] &&\r\n                    secondTrTh[counter2].classList.contains(\"thirdTrId_2\")\r\n                  ) {\r\n                    let array = secondTrTh[counter2].id.split(\",\");\r\n                    let tmp = {\r\n                      columnId: array[0],\r\n                      typeCode: array[1],\r\n                      rowId: [],\r\n                      value: [],\r\n                    };\r\n\r\n                    this.thirdTrIdData.push(tmp);\r\n                    counter2++;\r\n                  } else {\r\n                    if (secondTrTh[counter2]) {\r\n                      for (\r\n                        let index3 = 0;\r\n                        index3 < secondTrTh[counter2].colSpan;\r\n                        index3++\r\n                      ) {\r\n                        let array = thirdTrTh[counter3].id.split(\",\");\r\n                        let tmp = {\r\n                          columnId: array[0],\r\n                          typeCode: array[1],\r\n                          rowId: [],\r\n                          value: [],\r\n                        };\r\n                        this.thirdTrIdData.push(tmp);\r\n                        counter3++;\r\n                      }\r\n                      counter2++;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }, 300);\r\n    },\r\n    setRow(v) {\r\n      this.selectedRows = v;\r\n      if (this.selectedRows.length == 0) {\r\n        this.selectedRows = [{}];\r\n      }\r\n    },\r\n\r\n    rowspanFirst(el) {\r\n      return el.children.length > 0\r\n        ? 1\r\n        : el.children.length > 0 && this.thirdColumns.length > 0\r\n        ? 3\r\n        : 3;\r\n    },\r\n    colspanFirst(el) {\r\n      let found = this.thirdColumns.filter((i) => i.fId === el.id);\r\n      let totalNotChild = el.children.filter((d) => d.children.length == 0);\r\n      return el.children.length > 0 && found.length == 0\r\n        ? el.children.length\r\n        : el.children.length > 0 && found.length > 0\r\n        ? totalNotChild.length + found.length\r\n        : 1;\r\n    },\r\n\r\n    rowspanSecond(el) {\r\n      return el.children.length == 0 && this.thirdColumns.length == 0\r\n        ? 1\r\n        : el.children.length == 0 && this.thirdColumns.length > 0\r\n        ? 2\r\n        : 1;\r\n    },\r\n    colspanSecond(el) {\r\n      return el.children.length > 0 ? el.children.length : 1;\r\n    },\r\n\r\n    rowspanFirstClass(el) {\r\n      return el.children.length > 0\r\n        ? \"\"\r\n        : el.children.length > 0 && this.thirdColumns.length > 0\r\n        ? \"thirdTrId_2\"\r\n        : \"thirdTrId_2\";\r\n    },\r\n    rowspanSecondClass(el) {\r\n      return el.children.length == 0 && this.thirdColumns.length == 0\r\n        ? \"thirdTrId_2\"\r\n        : el.children.length == 0 && this.thirdColumns.length > 0\r\n        ? \"thirdTrId_2\"\r\n        : \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div id=\"printId\">\r\n    <div>\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n          <h5 class=\"text-center mb-1\">\r\n            <strong>\r\n              {{ getName({ nameLt: table.titleLt, nameRu: table.titleRu, nameUz: table.titleUz }) }}\r\n            </strong>\r\n          </h5>\r\n          <p class=\"text-center m-0\">\r\n            {{\r\n              getName({\r\n                nameLt: table.conditionLt,\r\n                nameRu: table.conditionRu,\r\n                nameUz: table.conditionUz,\r\n              })\r\n            }}\r\n          </p>\r\n        </div>\r\n        <div class=\"col-lg-12\">\r\n          <div class=\"float-left pl-3\">\r\n            <b-button-group id=\"none-dsp\">\r\n              <b-button @click=\"excelExport\" variant=\"success\">\r\n                <b-overlay :show=\"loaderExcel\" opacity=\"0.1\" rounded=\"sm\">\r\n                  {{ $t(\"actions.excel\") }}\r\n                </b-overlay>\r\n              </b-button>\r\n              <b-button\r\n                :disabled=\"loaderPrint\"\r\n                @click=\"print\"\r\n                variant=\"primary\"\r\n              >\r\n                <b-overlay :show=\"loaderPrint\" opacity=\"0.1\" rounded=\"sm\">\r\n                  {{ $t(\"actions.print\") }}\r\n                </b-overlay>\r\n              </b-button>\r\n            </b-button-group>\r\n          </div>\r\n          <div class=\"pr-3 float-right\">\r\n            <strong>\r\n              {{ getName({ nameLt: table.nameLt, nameRu: table.nameRu, nameUz: table.nameUz }) }}\r\n            </strong>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-12\">\r\n          <b-overlay :opacity=\"0.1\" :show=\"loader\" rounded=\"sm\">\r\n            <div class=\"bg-white pl-3 pr-3 pt-1\" style=\"min-height: 60vh\">\r\n              <div id=\"over\" style=\"overflow: auto\" class=\"pb-5\">\r\n                <table\r\n                  id=\"reportTableId\"\r\n                  class=\"\r\n                    table table-centered table-nowrap table-custom-bordered\r\n                  \"\r\n                >\r\n                  <thead>\r\n                    <tr class=\"tr-text-center\">\r\n                      <th\r\n                        :id=\"[el.id, el.typeCode]\"\r\n                        :class=\"rowspanFirstClass(el, index)\"\r\n                        class=\"firstTrTh_2\"\r\n                        style=\"width: 3%\"\r\n                        :rowspan=\"rowspanFirst(el)\"\r\n                        :colspan=\"colspanFirst(el)\"\r\n                        v-for=\"(el, index) in firstColumns\"\r\n                        :key=\"index + 'first'\"\r\n                      >\r\n                        <div\r\n                            style=\"\r\n                        max-height: 200px;\r\n                          display: inline-block;\r\n                        \"\r\n                        >\r\n                          <div\r\n                            v-b-tooltip=\"{ variant: 'success' }\"\r\n                            :title=\"\r\n                              getName({ nameLt: el.nameLt, nameRu: el.nameRu, nameUz: el.nameUz })\r\n                            \"\r\n                            :class=\"\r\n                        (el.isVertical == 1 )\r\n                        ? 'rotate_text'\r\n                        : ''\r\n                        \"\r\n                          >\r\n                            {{\r\n                              getName({ nameLt: el.nameLt, nameRu: el.nameRu, nameUz: el.nameUz })\r\n                            }}\r\n                          </div>\r\n                        </div>\r\n                      </th>\r\n                    </tr>\r\n                    <tr class=\"tr-text-center\">\r\n                      <th\r\n                        style=\"width: 3%\"\r\n                        :id=\"[el.id, el.typeCode]\"\r\n                        :class=\"rowspanSecondClass(el)\"\r\n                        class=\"secondTrTh_2\"\r\n                        :rowspan=\"rowspanSecond(el)\"\r\n                        :colspan=\"colspanSecond(el)\"\r\n                        v-for=\"(el, index) in secondColumns\"\r\n                        :key=\"index + 'second'\"\r\n                      >\r\n                        <div\r\n                          style=\"\r\n                           max-height: 200px;\r\n                            position: relative;\r\n                            display: inline-block;\r\n                            cursor: pointer;\r\n                          \"\r\n                        >\r\n                          <div\r\n                            v-b-tooltip=\"{ variant: 'success' }\"\r\n                            :title=\"\r\n                              getName({ nameLt: el.nameLt, nameRu: el.nameRu, nameUz: el.nameUz })\r\n                            \"\r\n                            :class=\"(el.isVertical == 1 )  ? 'rotate_text' : ''\"\r\n                          >\r\n                            {{\r\n                              getName({ nameLt: el.nameLt, nameRu: el.nameRu, nameUz: el.nameUz })\r\n                            }}\r\n                          </div>\r\n                        </div>\r\n                      </th>\r\n                    </tr>\r\n\r\n                    <tr class=\"tr-text-center\">\r\n                      <th\r\n                        style=\"width: 3%\"\r\n                        :id=\"[el.id, el.typeCode]\"\r\n                        class=\"thirdTrId_2 thirdTrTh_2\"\r\n                        :colspan=\"\r\n                          el.children.length > 0 ? el.children.length : 1\r\n                        \"\r\n                        v-for=\"(el, index) in thirdColumns\"\r\n                        :key=\"index + 'third'\"\r\n                      >\r\n                        <div\r\n                          v-b-tooltip=\"{ variant: 'success' }\"\r\n                          :title=\"\r\n                            getName({ nameLt: el.nameLt, nameRu: el.nameRu, nameUz: el.nameUz })\r\n                          \"\r\n                          style=\"\r\n                            max-height: 200px;\r\n                            position: relative;\r\n                            display: inline-block;\r\n                            cursor: pointer;\r\n                          \"\r\n\r\n                        >\r\n                          <div :class=\"(el.isVertical == 1 )  ? 'rotate_text' : ''\">\r\n                            {{\r\n                              getName({ nameLt: el.nameLt, nameRu: el.nameRu, nameUz: el.nameUz })\r\n                            }}\r\n                          </div>\r\n                        </div>\r\n                      </th>\r\n                    </tr>\r\n\r\n                    <tr class=\"tr-text-center\">\r\n                      <td\r\n                        v-for=\"(item, index) of thirdTrIdData\"\r\n                        :key=\"index + 'I-1'\"\r\n                      >\r\n                        <strong v-if=\"selectedRows.length > 1\">\r\n                          {{\r\n                            selectedRows.length > 1 && index == 0 ? \"\" : index\r\n                          }}</strong\r\n                        >\r\n\r\n                        <strong v-else>\r\n                          {{ index + 1 }}\r\n                        </strong>\r\n                      </td>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      v-for=\"(data, index1) in selectedRows\"\r\n                      :key=\"index1 + 'MM'\"\r\n                    >\r\n                      <!-- <th>\r\n                        {{ getName({ ...data }) }}\r\n                      </th> -->\r\n\r\n                      <td\r\n                        :class=\"[\r\n                          f1Ids &&\r\n                          f1Ids.indexOf(i.columnId) > -1 &&\r\n                          selectedRows.length > 1 &&\r\n                          fRowId == data.id\r\n                            ? 'bg-success'\r\n                            : f1Ids &&\r\n                              f1Ids.indexOf(i.columnId) > -1 &&\r\n                              selectedRows.length <= 1\r\n                            ? 'bg-success'\r\n                            : '',\r\n                          f2Ids &&\r\n                          f2Ids.indexOf(i.columnId) > -1 &&\r\n                          length > 1 &&\r\n                          fRowId == data.id\r\n                            ? 'bg-primary'\r\n                            : f2Ids &&\r\n                              f2Ids.indexOf(i.columnId) > -1 &&\r\n                              selectedRows.length <= 1\r\n                            ? 'bg-primary'\r\n                            : '',\r\n                        ]\"\r\n                        v-for=\"(i, index) in thirdTrIdData\"\r\n                        :key=\"index + 'td'\"\r\n                        class=\"text-center p\"\r\n                      >\r\n                        <p class=\"m-0 p-2\" v-if=\"data.id && index == 0\">\r\n                          {{ getName(data) }}\r\n                        </p>\r\n\r\n                        <!-- FOR INTEGER -->\r\n\r\n                        <p\r\n                          style=\"min-height: 35px; line-height: 35px\"\r\n                          v-else\r\n                          :id=\"\r\n                            JSON.stringify({\r\n                              rowId: data.id,\r\n                              columnId: i.columnId,\r\n                            })\r\n                          \"\r\n                          class=\"m-0 input_val text-center\"\r\n                        >\r\n                          <!-- <b-form-input\r\n                            :disabled=\"true\"\r\n                            style=\"border: none !important'\r\n                            \"\r\n                            :id=\"\r\n                              JSON.stringify({\r\n                                rowId: data.id,\r\n                                columnId: i.columnId,\r\n                              })\r\n                            \"\r\n                            type=\"number\"\r\n                            class=\"text-center input_val border-none p-0\"\r\n                          >\r\n                          </b-form-input> -->\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </b-overlay>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\">\r\n.borderInput {\r\n  border: 2px solid green !important;\r\n}\r\n.check {\r\n  margin-top: 5px;\r\n  .m-chckbox--container {\r\n    margin: 0px !important;\r\n    width: 22px !important;\r\n  }\r\n  label {\r\n    margin: 0;\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.border-none {\r\n  border: 1px solid transparent !important;\r\n}\r\n/* Chrome, Safari, Edge, Opera */\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n\r\n/* Firefox */\r\ninput[type=\"number\"] {\r\n  -moz-appearance: textfield;\r\n}\r\n.rotate_text {\r\n  height: 100%;\r\n  word-break: normal;\r\n  writing-mode: vertical-rl;\r\n  -webkit-writing-mode: vertical-lr;\r\n  -ms-writing-mode: vertical-lr;\r\n  -webkit-transform: rotate(-180deg);\r\n  -moz-transform: rotate(-180deg);\r\n  -o-transform: rotate(-180deg);\r\n  transform: rotate(-180deg);\r\n  padding-bottom: 20px !important;\r\n  padding-top: 20px !important;\r\n}\r\n.no_enter_value_2 {\r\n  padding: 0px !important;\r\n  min-width: auto !important;\r\n}\r\n.no-border-table {\r\n  th,\r\n  td {\r\n    border: none !important;\r\n  }\r\n}\r\n</style>\r\n"]}]}