{"remainingRequest":"D:\\ACRU\\interactive-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ACRU\\interactive-services\\src\\modules\\price\\menu\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\ACRU\\interactive-services\\src\\modules\\price\\menu\\Index.vue","mtime":1709020148476},{"path":"D:\\ACRU\\interactive-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ACRU\\interactive-services\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\ACRU\\interactive-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ACRU\\interactive-services\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoNCmltcG9ydCB7bnJtfSBmcm9tICJAL2hlbHBlciI7DQovLyBpbXBvcnQgVHJlZXNlbGVjdCBmcm9tICJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCI7DQoNCi8vIGltcG9ydCB0aGUgc3R5bGVzDQppbXBvcnQgIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzIjsNCg0KDQpjb25zdCBSRUZfTkFNRSA9ICdjb3VydF9pbnN0YW50aW9ucycNCmltcG9ydCBBbGxMaXN0IGZyb20gIi4vTGlzdC52dWUiDQppbXBvcnQgYXBwQ29uZmlnIGZyb20gIkAvYXBwLmNvbmZpZyI7DQppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UnDQppbXBvcnQgU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlJw0KaW1wb3J0IEJhc2VTZWxlY3RXaXRoVmFsaWRhdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvYmFzZS9CYXNlU2VsZWN0V2l0aFZhbGlkYXRpb24udnVlIjsNCg0KY29uc3QgTUFJTl9BUElfVVJMID0gJ2NvbnRyYWN0b3ItYWR2ZXJ0aXNpbmctY29uc3RydWN0aW9uJw0KZXhwb3J0IGRlZmF1bHQgew0KICBwYWdlOiB7DQogICAgdGl0bGU6ICJQYXNzcG9ydCBpbmZvIiwNCiAgICBtZXRhOiBbe25hbWU6ICJkZXNjcmlwdGlvbiIsIGNvbnRlbnQ6IGFwcENvbmZpZy5kZXNjcmlwdGlvbn1dLA0KICB9LA0KICBjb21wb25lbnRzOiB7QmFzZVNlbGVjdFdpdGhWYWxpZGF0aW9uLCBBbGxMaXN0fSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc3VibWl0dGVkOiBmYWxzZSwNCiAgICAgIG5ybTogbnJtLA0KICAgICAgbG9hZGVyOiBmYWxzZSwNCiAgICAgIHNlYXJjaEtleXdvcmQ6ICcnLA0KICAgICAgZWRpdGluZ0l0ZW06IHt9LA0KICAgICAgcHJpY2VfbWFya2V0X3R5cGVJZDogbnVsbCwNCiAgICAgIHByaWNlX21hcmtldF90eXBlOiBbXSwNCiAgICAgIHByaWNlX21hcmtldDogW10sDQogICAgICBwcmljZV9wcm9kdWN0OiBbXSwNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgJ3ByaWNlX21hcmtldF90eXBlSWQnOiB7DQogICAgICBhc3luYyBoYW5kbGVyKCkgew0KICAgICAgICBhd2FpdCB0aGlzLmdldHByaWNlX21hcmtldCgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgJ2VkaXRpbmdJdGVtLm1heFByaWNlJzogew0KICAgICAgYXN5bmMgaGFuZGxlcihuZXdWYWx1ZSkgew0KICAgICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbS5tYXhQcmljZSkgew0KICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ld1ZhbHVlLnJlcGxhY2UoL1xEL2csICIiKQ0KICAgICAgICAgICAgICAucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgIiAiKTsNCiAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLm1heFByaWNlID0gcmVzdWx0DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgICdlZGl0aW5nSXRlbS5taW5QcmljZSc6IHsNCiAgICAgIGFzeW5jIGhhbmRsZXIobmV3VmFsdWUpIHsNCiAgICAgICAgaWYgKHRoaXMuZWRpdGluZ0l0ZW0ubWluUHJpY2UpIHsNCiAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXdWYWx1ZS5yZXBsYWNlKC9cRC9nLCAiIikNCiAgICAgICAgICAgICAgLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIgIik7DQogICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5taW5QcmljZSA9IHJlc3VsdA0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAnZWRpdGluZ0l0ZW0ubWlkZGxlU3VtJzogew0KICAgICAgYXN5bmMgaGFuZGxlcihuZXdWYWx1ZSkgew0KICAgICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbS5taWRkbGVTdW0pIHsNCiAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXdWYWx1ZS5yZXBsYWNlKC9cRC9nLCAiIikNCiAgICAgICAgICAgICAgLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIgIik7DQogICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5taWRkbGVTdW0gPSByZXN1bHQNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgYXdhaXQgdGhpcy5nZXRFbXB0eSgpOw0KICAgIGF3YWl0IHRoaXMuZ2V0cHJpY2VfbWFya2V0X3R5cGUoKTsNCiAgICBhd2FpdCB0aGlzLmdldHByaWNlX3Byb2R1Y3QoKTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjb21wdXRlZE9ic2VydmVyKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHJlZnMub2JzZXJ2ZXINCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzYXZlRGF0YSgpIHsNCiAgICAgIHRoaXMubG9hZGVyID0gdHJ1ZTsNCiAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4odmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLm1heFByaWNlID0gdGhpcy5lZGl0aW5nSXRlbS5tYXhQcmljZS5yZXBsYWNlQWxsKCcgJywgJycpDQogICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5taWRkbGVTdW0gPSB0aGlzLmVkaXRpbmdJdGVtLm1pZGRsZVN1bS5yZXBsYWNlQWxsKCcgJywgJycpDQogICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5taW5QcmljZSA9IHRoaXMuZWRpdGluZ0l0ZW0ubWluUHJpY2UucmVwbGFjZUFsbCgnICcsICcnKQ0KICAgICAgICAgIFNlcnZpY2Uuc2F2ZURhdGEodGhpcy5lZGl0aW5nSXRlbSkNCiAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3VjY2Vzc1NhdmVkKCk7DQogICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCkNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOw0KICAgICAgICAgICAgICAgIHRoaXMucHJpY2VfbWFya2V0X3R5cGVJZCA9IG51bGwNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLmFsbExpc3RSZWYuZmV0Y2hOb3RpZmljYXRpb25UYWJsZUl0ZW1zKCkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyID0gZmFsc2U7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMubG9hZGVyID0gZmFsc2U7DQogICAgICAgICAgdGhpcy4kdG9hc3QodGhpcy4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwge3R5cGU6ICdlcnJvcid9KTsNCiAgICAgICAgfQ0KICAgICAgfSkNCg0KDQogICAgfSwNCiAgICBub3JtYWxpemVyKG5vZGUpIHsNCiAgICAgIGlmICghbm9kZS5jaGlsZHJlbiB8fCBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICBkZWxldGUgbm9kZS5jaGlsZHJlbg0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIGlkOiBub2RlLmlkLA0KICAgICAgICAgIGxhYmVsOiB0aGlzLmdldE5hbWUoew0KICAgICAgICAgICAgbmFtZVJ1OiBub2RlLm5hbWVSdSwNCiAgICAgICAgICAgIG5hbWVMdDogbm9kZS5uYW1lTHQsDQogICAgICAgICAgICBuYW1lVXo6IG5vZGUubmFtZVV6LA0KICAgICAgICAgIH0pLA0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gew0KICAgICAgICBpZDogbm9kZS5pZCwNCiAgICAgICAgbGFiZWw6IHRoaXMuZ2V0TmFtZSh7DQogICAgICAgICAgbmFtZVJ1OiBub2RlLm5hbWVSdSwNCiAgICAgICAgICBuYW1lTHQ6IG5vZGUubmFtZUx0LA0KICAgICAgICAgIG5hbWVVejogbm9kZS5uYW1lVXosDQogICAgICAgIH0pLA0KICAgICAgICBjaGlsZHJlbjogbm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDAgPyBub2RlLmNoaWxkcmVuIDogW10sDQogICAgICB9DQogICAgfSwNCiAgICB0cmVlQ2xvc2VkKHZlZU5hbWUpIHsNCiAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlci5yZWZzW3ZlZU5hbWVdLnZhbGlkYXRlKCk7DQogICAgfSwNCiAgICBhc3luYyBnZXRFbXB0eSgpIHsNCiAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQua2V5d29yZCA9IHRoaXMuc2VhcmNoS2V5d29yZA0KICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSA1MDANCg0KICAgICAgYXdhaXQgY3J1ZEFuZExpc3RzU2VydmljZS5nZXRFbXB0eSgncHJpY2Vfc3VtJykNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbSA9IHJlcy5kYXRhDQogICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmRhdGUgPSB0aGlzLmdldERhdGVGb3JtYXQobmV3IERhdGUoKSwgJy0nKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgfSkNCiAgICB9LA0KDQogICAgYXN5bmMgZ2V0cHJpY2VfbWFya2V0X3R5cGUoKSB7DQogICAgICB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSA9IDUwMA0KICAgICAgYXdhaXQgY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0V2l0aEtleXdvcmQoInByaWNlX21hcmtldF90eXBlIiwgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCkNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5wcmljZV9tYXJrZXRfdHlwZSA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgfSkNCiAgICB9LA0KDQogICAgYXN5bmMgZ2V0cHJpY2VfbWFya2V0KCkgew0KICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSA1MDANCiAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQudHlwZSA9IHRoaXMucHJpY2VfbWFya2V0X3R5cGVJZA0KICAgICAgU2VydmljZQ0KICAgICAgICAgIC5zZWFyY2hMaXN0V2l0aEtleXdvcmQoJ3ByaWNlX21hcmtldCcsIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpDQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgdGhpcy5wcmljZV9tYXJrZXQgPSByZXMuZGF0YS5saXN0Ow0KICAgICAgICAgICAgdGhpcy50b3RhbEl0ZW1zID0gcmVzLmRhdGEudG90YWw7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSBbXTsNCiAgICAgICAgICAgIHRoaXMudG90YWxJdGVtcyA9IDA7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmdUYWJsZUl0ZW1zID0gZmFsc2UNCiAgICAgICAgICB9KQ0KICAgIH0sDQoNCiAgICBhc3luYyBnZXRwcmljZV9wcm9kdWN0KCkgew0KICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSA1MDANCiAgICAgIGF3YWl0IGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdFdpdGhLZXl3b3JkKHRoaXMuJGNhbigndmlldycsICdwcmljZS1lbnRlci1jb3N0JykgPyAicHJpY2VfcHJvZHVjdCIgOiAicHJpY2VfcHJvZHVjdC9vdXRlciIsIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpDQogICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMucHJpY2VfcHJvZHVjdCA9IHJlcy5kYXRhLmNoaWxkcmVuDQogICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLm1hcmtldElkID0gcmVzLmRhdGEubWFya2V0SWQNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgfSkNCiAgICB9LA0KICB9LA0KfQ0KY29uc3QgaTE4biA9IHJlcXVpcmUoIkAvaTE4biIpOw0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;AAyLA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/modules/price/menu","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"col-md-12 text-center\">\r\n      <div class=\"h3 mt-4 d-inline-block\" style=\"color: #2b675b; font-weight: 500\">{{ $t('fair_price.enter_cost') }}</div>\r\n    </div>\r\n    <b-card>\r\n      <b-container fluid=\"100%\">\r\n        <ValidationObserver\r\n            ref=\"observer\"\r\n            v-slot=\"{}\"\r\n        >\r\n          <b-row>\r\n            <b-col cols=\"3\" v-if=\"!$can('view', 'price-enter-cost')\">\r\n              <b-card\r\n                  style=\"border:1px solid #2b675b; border-radius: 5px; margin:15px; padding: 15px; margin-top:10px;\">\r\n                <div>\r\n                  <b-row>\r\n                    <b-col class=\"px-3 py-0\">\r\n                      <div\r\n                          style=\"font-size: 16px;  background: #2b675b; color: white; padding: 5px; width: 100%; margin-bottom: 12px; border-radius: 2px; font-weight: bold\">\r\n                        {{ $t('fair_price.info') }}\r\n                      </div>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col cols=\"12\" class=\"px-3\">\r\n                      <BaseSelectWithValidation\r\n                          rules=\"required\"\r\n                          class=\"required\"\r\n                          v-model=\"price_market_typeId\"\r\n                          :label=\"$t('fair_price.references.type_of_shopping')\"\r\n                          value-field=\"type\"\r\n                          label-on-top\r\n                      >\r\n                        <b-form-select-option v-for=\"(item, index) in price_market_type\"\r\n                                              :key=\"index\"\r\n                                              :value=\"item.type\">{{\r\n                            getName({\r\n                              nameRu: item.nameRu,\r\n                              nameLt: item.nameLt,\r\n                              nameUz: item.nameUz,\r\n                              nameEn: item.nameEn,\r\n                            })\r\n                          }}\r\n                        </b-form-select-option>\r\n                      </BaseSelectWithValidation>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" class=\"px-3 p-1\">\r\n                      <BaseSelectWithValidation\r\n                          rules=\"required\"\r\n                          class=\"required\"\r\n                          v-model=\"editingItem.marketId\"\r\n                          :label=\"$t('fair_price.references.priceMarkets')\"\r\n                          value-field=\"id\"\r\n                          label-on-top\r\n                      >\r\n                        <b-form-select-option v-for=\"(item, index) in price_market\"\r\n                                              :key=\"index\"\r\n                                              :value=\"item.id\">{{\r\n                            item.marketName\r\n                          }}\r\n                        </b-form-select-option>\r\n                      </BaseSelectWithValidation>\r\n                    </b-col>\r\n                  </b-row>\r\n                </div>\r\n              </b-card>\r\n            </b-col>\r\n            <b-col>\r\n              <b-card style=\"border:1px solid #2b675b; border-radius: 5px; margin:15px; padding: 15px;margin-top:10px;\">\r\n                <div>\r\n                  <b-row>\r\n                    <b-col cols=\"5\" class=\"px-3 py-0\">\r\n                      <div\r\n                          style=\"font-size: 16px;background: #2b675b; color: white; padding: 5px; width: 100%; margin-bottom: 20px; border-radius: 2px; font-weight: bold\">\r\n                        {{ $t('fair_price.info_product') }}\r\n                      </div>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col cols=\"12\" md=\"3\" class=\"px-3 py-0\">\r\n                      <div style=\"width: 100%\">\r\n                        <span style=\"color: #2b675b\">\r\n                        {{ $t('fair_price.type_product') }}\r\n                        </span>\r\n                        <BaseTreeselectWithValidation\r\n                            :searchable=\"true\"\r\n                            :clearable=\"true\"\r\n                            open-direction=\"bottom\"\r\n                            vee-name=\"parentDepVeeName\"\r\n                            rules=\"required\"\r\n                            class=\"required\"\r\n                            :placeholder=\"$t('')\"\r\n                            ref=\"parentDep\"\r\n                            only-form-element\r\n                            form-label=\"__none\"\r\n                            v-model=\"editingItem.productId\"\r\n                            :options=\"price_product\"\r\n                            :default-expand-level=\"1\"\r\n                            :normalizer=\"normalizer\"\r\n                            name=\"parentDep\"\r\n                            custom-styles=\"\"\r\n                            @close=\"treeClosed('parentDepVeeName')\"\r\n                        ></BaseTreeselectWithValidation>\r\n                      </div>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"3\" class=\"px-3\">\r\n                      <BaseInputWithValidation\r\n                          v-model=\"editingItem.minPrice\"\r\n                          :label=\"$t('fair_price.min')\"\r\n                          :placeholder=\"$t('')\"\r\n                          class=\"required\"\r\n                          rules=\"required\"\r\n                          label-on-top\r\n                      />\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"3\" class=\"px-3\">\r\n                      <BaseInputWithValidation\r\n                          v-model=\"editingItem.maxPrice\"\r\n                          :label=\"$t('fair_price.max')\"\r\n                          :placeholder=\"$t('')\"\r\n                          class=\"required\"\r\n                          rules=\"required\"\r\n                          label-on-top\r\n                      />\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"3\" class=\"px-3\" style=\"width: 100%\">\r\n                      <BaseInputWithValidation\r\n                          v-model=\"editingItem.middleSum\"\r\n                          :label=\"$t('fair_price.references.xaridorgir_narx')\"\r\n                          :placeholder=\"$t('')\"\r\n                          class=\"required\"\r\n                          rules=\"required\"\r\n                          label-on-top\r\n                      />\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row class=\"p-1\">\r\n                    <b-col cols=\"12\" md=\"9\"></b-col>\r\n                    <b-col cols=\"12\" md=\"3\" class=\"mt-3\">\r\n                      <b-overlay\r\n                          :show=\"loader\"\r\n                          rounded\r\n                          opacity=\"0.6\"\r\n                          spinner-small\r\n                          spinner-variant=\"primary\"\r\n                          class=\"px-3\"\r\n                      >\r\n                        <b-button\r\n                            :disabled=\"loader\"\r\n                            class=\"text-capitalize float-end p-1 ml-1\"\r\n                            @click=\"saveData\"\r\n                            block\r\n                            style=\"background: #2b675b; font-size: 16px\"\r\n                        >\r\n                          {{ $t(\"actions.save\") }}\r\n                        </b-button>\r\n                      </b-overlay>\r\n\r\n                      <!--                                        <b-button  @click=\"saveData\">-->\r\n                      <!--                                            <b-overlay :opacity=\"0.1\" :show=\"loader\">-->\r\n                      <!--                                                <i class=\"fa fa-save\"></i>-->\r\n                      <!--                                                {{ $t(\"actions.save\") }}-->\r\n                      <!--                                            </b-overlay>-->\r\n                      <!--                                        </b-button>-->\r\n                    </b-col>\r\n                  </b-row>\r\n                </div>\r\n              </b-card>\r\n            </b-col>\r\n          </b-row>\r\n        </ValidationObserver>\r\n      </b-container>\r\n    </b-card>\r\n\r\n    <b-card style=\"border:1px solid #2b675b; border-radius: 5px; padding: 15px; margin: 15px\">\r\n      <b-container fluid=\"100%\">\r\n        <AllList ref=\"allListRef\"></AllList>\r\n      </b-container>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {nrm} from \"@/helper\";\r\n// import Treeselect from \"@riophae/vue-treeselect\";\r\n\r\n// import the styles\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\n\r\n\r\nconst REF_NAME = 'court_instantions'\r\nimport AllList from \"./List.vue\"\r\nimport appConfig from \"@/app.config\";\r\nimport crudAndListsService from '@/shared/services/crud_and_list.service'\r\nimport Service from '../service'\r\nimport BaseSelectWithValidation from \"@/components/base/BaseSelectWithValidation.vue\";\r\n\r\nconst MAIN_API_URL = 'contractor-advertising-construction'\r\nexport default {\r\n  page: {\r\n    title: \"Passport info\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {BaseSelectWithValidation, AllList},\r\n  data() {\r\n    return {\r\n      submitted: false,\r\n      nrm: nrm,\r\n      loader: false,\r\n      searchKeyword: '',\r\n      editingItem: {},\r\n      price_market_typeId: null,\r\n      price_market_type: [],\r\n      price_market: [],\r\n      price_product: [],\r\n    }\r\n  },\r\n  watch: {\r\n    'price_market_typeId': {\r\n      async handler() {\r\n        await this.getprice_market();\r\n      }\r\n    },\r\n    'editingItem.maxPrice': {\r\n      async handler(newValue) {\r\n        if (this.editingItem.maxPrice) {\r\n          const result = newValue.replace(/\\D/g, \"\")\r\n              .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n          this.editingItem.maxPrice = result\r\n        }\r\n      }\r\n    },\r\n    'editingItem.minPrice': {\r\n      async handler(newValue) {\r\n        if (this.editingItem.minPrice) {\r\n          const result = newValue.replace(/\\D/g, \"\")\r\n              .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n          this.editingItem.minPrice = result\r\n        }\r\n      }\r\n    },\r\n    'editingItem.middleSum': {\r\n      async handler(newValue) {\r\n        if (this.editingItem.middleSum) {\r\n          const result = newValue.replace(/\\D/g, \"\")\r\n              .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n          this.editingItem.middleSum = result\r\n        }\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    await this.getEmpty();\r\n    await this.getprice_market_type();\r\n    await this.getprice_product();\r\n  },\r\n  computed: {\r\n    computedObserver() {\r\n      return this.$refs.observer\r\n    }\r\n  },\r\n  methods: {\r\n    saveData() {\r\n      this.loader = true;\r\n      this.computedObserver.validate().then(valid => {\r\n        if (valid) {\r\n          this.editingItem.maxPrice = this.editingItem.maxPrice.replaceAll(' ', '')\r\n          this.editingItem.middleSum = this.editingItem.middleSum.replaceAll(' ', '')\r\n          this.editingItem.minPrice = this.editingItem.minPrice.replaceAll(' ', '')\r\n          Service.saveData(this.editingItem)\r\n              .then(async () => {\r\n                await this.successSaved();\r\n                this.computedObserver.reset()\r\n                this.editingItem = Object.assign({}, {});\r\n                this.price_market_typeId = null\r\n                await this.$refs.allListRef.fetchNotificationTableItems()\r\n              })\r\n              .finally(() => {\r\n                this.loader = false;\r\n              });\r\n        } else {\r\n          this.loader = false;\r\n          this.$toast(this.$t('messages.fill_required_fields'), {type: 'error'});\r\n        }\r\n      })\r\n\r\n\r\n    },\r\n    normalizer(node) {\r\n      if (!node.children || node.children.length === 0) {\r\n        delete node.children\r\n        return {\r\n          id: node.id,\r\n          label: this.getName({\r\n            nameRu: node.nameRu,\r\n            nameLt: node.nameLt,\r\n            nameUz: node.nameUz,\r\n          }),\r\n        }\r\n      }\r\n      return {\r\n        id: node.id,\r\n        label: this.getName({\r\n          nameRu: node.nameRu,\r\n          nameLt: node.nameLt,\r\n          nameUz: node.nameUz,\r\n        }),\r\n        children: node.children && node.children.length > 0 ? node.children : [],\r\n      }\r\n    },\r\n    treeClosed(veeName) {\r\n      this.computedObserver.refs[veeName].validate();\r\n    },\r\n    async getEmpty() {\r\n      this.var_default_search_payload.keyword = this.searchKeyword\r\n      this.var_default_search_payload.itemsPerPage = 500\r\n\r\n      await crudAndListsService.getEmpty('price_sum')\r\n          .then(res => {\r\n            this.editingItem = res.data\r\n            this.editingItem.date = this.getDateFormat(new Date(), '-');\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n\r\n    async getprice_market_type() {\r\n      this.var_default_search_payload.itemsPerPage = 500\r\n      await crudAndListsService.searchListWithKeyword(\"price_market_type\", this.var_default_search_payload)\r\n          .then(res => {\r\n            this.price_market_type = res.data.list\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n\r\n    async getprice_market() {\r\n      this.var_default_search_payload.itemsPerPage = 500\r\n      this.var_default_search_payload.type = this.price_market_typeId\r\n      Service\r\n          .searchListWithKeyword('price_market', this.var_default_search_payload)\r\n          .then((res) => {\r\n            this.price_market = res.data.list;\r\n            this.totalItems = res.data.total;\r\n          })\r\n          .catch(e => {\r\n            this.tableItems = [];\r\n            this.totalItems = 0;\r\n          })\r\n          .finally(() => {\r\n            this.loadingTableItems = false\r\n          })\r\n    },\r\n\r\n    async getprice_product() {\r\n      this.var_default_search_payload.itemsPerPage = 500\r\n      await crudAndListsService.searchListWithKeyword(this.$can('view', 'price-enter-cost') ? \"price_product\" : \"price_product/outer\", this.var_default_search_payload)\r\n          .then(res => {\r\n            this.price_product = res.data.children\r\n            this.editingItem.marketId = res.data.marketId\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n  },\r\n}\r\nconst i18n = require(\"@/i18n\");\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n::v-deep .modal-title {\r\n  width: 97%;\r\n  padding: 2px 0px 0px 10px;\r\n  background-color: #2b675b;\r\n  color: white;\r\n}\r\n\r\ntable, td, th {\r\n  border: 1px solid #2b6c58;\r\n  color: #2b6c58;\r\n  text-align: center;\r\n  padding: 5px 2px;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n::v-deep label {\r\n  font-family: inherit !important;\r\n}\r\n\r\n::v-deep .base-form-component__label {\r\n  color: #88a59e;\r\n}\r\n\r\n::v-deep .custom-select {\r\n  border: 1px solid #2b675b;\r\n}\r\n\r\n::v-deep .form-control {\r\n  border: 1px solid #2b675b;\r\n}\r\n\r\n::v-deep .mx-input {\r\n  border: 1px solid #2b675b;\r\n}\r\n\r\n::v-deep .multiselect__tags {\r\n  border: 1px solid #2b675b;\r\n\r\n}\r\n\r\n::v-deep .base-form-component__date-picker {\r\n  border: 1px solid #2b675b;\r\n  border-radius: 5px;\r\n}\r\n\r\n::v-deep .vue-treeselect {\r\n  border: 1px solid #2b675b;\r\n  border-radius: 5px;\r\n}\r\n</style>\r\n"]}]}