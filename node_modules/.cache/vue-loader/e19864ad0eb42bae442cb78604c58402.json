{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\letter\\create\\MemberesSignature.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\letter\\create\\MemberesSignature.vue","mtime":1674799497986},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRW1wbG95ZWVTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2VtcGxveWVlU2VydmljZSI7DQppbXBvcnQgc2ltcGxlYmFyIGZyb20gInNpbXBsZWJhci12dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIG5vdEluOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBhc3luYzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgYXBwbGljYXRpb246IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSkNCiAgICB9LA0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgc2ltcGxlYmFyLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwNCiAgICAgIGNvbnRhY3RMaXN0OiBbXSwNCiAgICAgIGNvbnRhY3RQYWdlOiAwLA0KICAgICAgbWVtYmVyczogW10sDQogICAgICBvYmplY3RNZW1iZXJzOiB7fSwNCiAgICAgIGdyb3VwTW9kYWw6IGZhbHNlLA0KICAgICAgc2VhcmNoVmFsdWU6ICIiLA0KICAgICAgY21wS2V5OiAwLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMuY21wS2V5ICs9IDE7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5zY3JvbGxBY3RpdmUoKTsNCiAgICAgIH0sIDIwMCk7DQogICAgfSwNCiAgICBzY3JvbGxBY3RpdmUoKSB7DQogICAgICBpZiAodGhpcy4kcmVmcy5jb250YWN0c1JlZi5TaW1wbGVCYXIpIHsNCiAgICAgICAgdGhpcy4kcmVmcy5jb250YWN0c1JlZi5TaW1wbGVCYXIuZ2V0U2Nyb2xsRWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoDQogICAgICAgICAgInNjcm9sbCIsDQogICAgICAgICAgKGUpID0+IHsNCiAgICAgICAgICAgIGxldCB7IHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgfSA9IGV2ZW50LnRhcmdldDsNCiAgICAgICAgICAgIGNvbnN0IG9mZnNldEZvclRyaWdnZXIgPSAxOw0KICAgICAgICAgICAgaWYgKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCAtIG9mZnNldEZvclRyaWdnZXIgPCBzY3JvbGxUb3ApIHsNCiAgICAgICAgICAgICAgdGhpcy5sb2FkTW9yZUNvbnRhY3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICk7DQogICAgICB9DQogICAgfSwNCiAgICBzYXZlKCkgew0KICAgICAgdGhpcy4kZW1pdCgic2F2ZSIsIHRoaXMubWVtYmVycyk7DQogICAgICB0aGlzLm1lbWJlcnMgPSBbXTsNCiAgICAgIHRoaXMub2JqZWN0TWVtYmVycyA9IHt9Ow0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMuZ2V0Q29udGFjdHMoeyBwYWdlOiAwLCBpdGVtc1BlclBhZ2U6IDIwIH0pOw0KICAgICAgfSwgMzAwKTsNCiAgICB9LA0KICAgIHB1c2hNZW1iZXIodikgew0KICAgICAgaWYgKHYuaWQgPT0gdGhpcy5vYmplY3RNZW1iZXJzLmlkKSB7DQogICAgICAgIHRoaXMub2JqZWN0TWVtYmVycyA9IHt9Ow0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5vYmplY3RNZW1iZXJzID0gdjsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoZWNrKHYpIHsNCiAgICAgIGlmICh0aGlzLm9iamVjdE1lbWJlcnMuaWQgPT0gdi5pZCkgew0KICAgICAgICByZXR1cm4gWyJmb250LXdlaWdodC1ib2xkIiwgInRleHQtcHJpbWFyeSJdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0Q29udGFjdHModikgew0KICAgICAgaWYgKHRoaXMuYXBwbGljYXRpb24udHlwZSA9PT0gJ0ZST01fRFhBJyAmJiB0aGlzLmFwcGxpY2F0aW9uLmFwcGxpY2F0aW9uVHlwZUluUHJvamVjdCA9PT0gJ05PVF9CRUxPTkcnKSB7DQogICAgICAgIEVtcGxveWVlU2VydmljZS5nZXRBbGxJbk1hbmFnZW1lbnQoe30pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuY29udGFjdExpc3QgPSByZXMuZGF0YTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBFbXBsb3llZVNlcnZpY2UuZ2V0QnlZdXJEZXBGb3JTaWduKHsNCiAgICAgICAgICBwYXJhbXM6IHYsDQogICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaFZhbHVlLA0KICAgICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmNvbnRhY3RMaXN0ID0gcmVzLmRhdGEubGlzdDsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBsb2FkTW9yZUNvbnRhY3QoKSB7DQogICAgICBFbXBsb3llZVNlcnZpY2UuZ2V0QnlZdXJEZXBGb3JTaWduKHsNCiAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgcGFnZTogKHRoaXMuY29udGFjdFBhZ2UgKz0gMSksDQogICAgICAgICAgaXRlbXNQZXJQYWdlOiAyMCwNCiAgICAgICAgfSwNCiAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaFZhbHVlLA0KICAgICAgfSkudGhlbihhc3luYyAoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgaWYgKGRhdGEubGlzdC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5jb250YWN0TGlzdCA9IHRoaXMuY29udGFjdExpc3QuY29uY2F0KGRhdGEubGlzdCk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5jb250YWN0UGFnZSA9IHRoaXMuY29udGFjdFBhZ2UgLSAxOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHZhciBjb250YWluZXIzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigNCiAgICAgICIjY29udGFjdC1saXN0IC5zaW1wbGViYXItY29udGVudC13cmFwcGVyIg0KICAgICk7DQogICAgaWYgKGNvbnRhaW5lcjMpIHsNCiAgICAgIGNvbnRhaW5lcjMuc2Nyb2xsVG8oeyB0b3A6IDUwMCwgYmVoYXZpb3I6ICJzbW9vdGgiIH0pOw0KICAgIH0NCg0KICAgIC8vIENvbnRhY3QgbGlzdCBhY3Rpb25zDQoNCiAgICB0aGlzLnNjcm9sbEFjdGl2ZSgpOw0KICB9LA0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIGF3YWl0IHRoaXMuZ2V0Q29udGFjdHMoeyBwYWdlOiAwLCBpdGVtc1BlclBhZ2U6IDIwIH0pOw0KICB9LA0KICB3YXRjaDogew0KICAgIHNlYXJjaFZhbHVlOiB7DQogICAgICBhc3luYyBoYW5kbGVyKCkgew0KICAgICAgICBhd2FpdCB0aGlzLmdldENvbnRhY3RzKHsgcGFnZTogMCwgaXRlbXNQZXJQYWdlOiAyMCB9KTsNCiAgICAgIH0sDQogICAgfSwNCiAgICBvYmplY3RNZW1iZXJzOiB7DQogICAgICBhc3luYyBoYW5kbGVyKHYpIHsNCiAgICAgICAgaWYgKHRoaXMuYXN5bmMpIHsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJhc3luY1ZhbHVlIiwgdik7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["MemberesSignature.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MemberesSignature.vue","sourceRoot":"src/modules/letter/create","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"card mb-0\">\r\n      <div class=\"card-body\">\r\n        <div class=\"button-items d-flex\" style=\"justify-content: space-between\">\r\n          <b-button variant=\"primary\" class=\"btn-label\">\r\n            <i class=\"bx bx-smile label-icon\"></i>\r\n            {{ `(${members.length})` }}\r\n          </b-button>\r\n          <span>\r\n            <b-button variant=\"outline-danger\" @click=\"$emit('cancel')\">\r\n              <i class=\"fa fa-times\"></i>\r\n              {{ $t(\"actions.close\") }}</b-button\r\n            >\r\n            <b-button v-if=\"!async\" variant=\"success\" @click=\"save\">\r\n              <i class=\"fa fa-save\"></i>\r\n              {{ $t(\"actions.save\") }}\r\n            </b-button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div class=\"p-4\">\r\n          <div class=\"search-box mb-2\">\r\n            <div class=\"position-relative\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                v-model=\"searchValue\"\r\n                :placeholder=\"$t('actions.filter')\"\r\n              />\r\n              <i class=\"bx bx-search-alt search-icon\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <simplebar\r\n            :key=\"cmpKey + 'ADS'\"\r\n            data-simplebar-auto-hide=\"false\"\r\n            :style=\"`height:${heightWindow - 165}px`\"\r\n            id=\"contact-list\"\r\n            ref=\"contactsRef\"\r\n          >\r\n            <ul id=\"il\" class=\"list-unstyled chat-list\">\r\n              <li\r\n                :id=\"\r\n                  contactList[contactList.length - 1].id == data.id ? 'lid' : ''\r\n                \"\r\n                v-for=\"(data, index) in contactList\"\r\n                :key=\"data.id + 'EMPLOYEE' + index\"\r\n                @click=\"pushMember(data)\"\r\n              >\r\n                <a href=\"javascript: void(0);\">\r\n                  <div class=\"media d-flex\" style=\"align-items: center\">\r\n                    <div class=\"align-self-center mr-3\"></div>\r\n                    <div class=\"align-self-center mr-3\" v-if=\"data.photoUploadPath\">\r\n                      <img\r\n                        height=\"auto\"\r\n                        :src=\"`${publicPath}/${data.photoUploadPath}`\"\r\n                        class=\"rounded-circle avatar-sm\"\r\n                        alt\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      class=\"avatar-sm align-self-center mr-3\"\r\n                      v-if=\"!data.photoUploadPath\"\r\n                    >\r\n                      <span\r\n                        class=\"\r\n                          avatar-title\r\n                          rounded-circle\r\n                          bg-soft-primary\r\n                          text-primary\r\n                        \"\r\n                        >{{ data.firstName.charAt(0) }}</span\r\n                      >\r\n                    </div>\r\n\r\n                    <div class=\"media-body overflow-hidden\">\r\n                      <h5 :class=\"check(data)\" class=\"font-size-14 mb-1\">\r\n                        {{ `${data.firstName} ${data.lastName} ${data.middleName ? data.middleName : ''}` }}\r\n                      </h5>\r\n                      <p class=\"m-0\" :class=\"check(data)\">\r\n                        {{\r\n                          getName({\r\n                            nameLt: data.departmentNameLt,\r\n                            nameRu: data.departmentNameRu,\r\n                            nameUz: data.departmentNameUz,\r\n                          })\r\n                        }}\r\n                      </p>\r\n                      <p class=\"m-0\" :class=\"check(data)\">\r\n                        {{\r\n                          getName({\r\n                            nameLt: data.directoryPositionNameLt,\r\n                            nameRu: data.directoryPositionNameRu,\r\n                            nameUz: data.directoryPositionNameUz,\r\n                          })\r\n                        }}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <i\r\n                      v-if=\"check(data)\"\r\n                      class=\"fas fa-user-check font-size-18 text-primary\"\r\n                    ></i>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </simplebar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EmployeeService from \"@/shared/services/employeeService\";\r\nimport simplebar from \"simplebar-vue\";\r\nexport default {\r\n  props: {\r\n    notIn: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    async: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    application: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n  },\r\n  components: {\r\n    simplebar,\r\n  },\r\n  data() {\r\n    return {\r\n      publicPath: process.env.BASE_URL,\r\n      contactList: [],\r\n      contactPage: 0,\r\n      members: [],\r\n      objectMembers: {},\r\n      groupModal: false,\r\n      searchValue: \"\",\r\n      cmpKey: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.cmpKey += 1;\r\n      setTimeout(() => {\r\n        this.scrollActive();\r\n      }, 200);\r\n    },\r\n    scrollActive() {\r\n      if (this.$refs.contactsRef.SimpleBar) {\r\n        this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener(\r\n          \"scroll\",\r\n          (e) => {\r\n            let { scrollTop, scrollHeight, clientHeight } = event.target;\r\n            const offsetForTrigger = 1;\r\n            if (scrollHeight - clientHeight - offsetForTrigger < scrollTop) {\r\n              this.loadMoreContact();\r\n            }\r\n          }\r\n        );\r\n      }\r\n    },\r\n    save() {\r\n      this.$emit(\"save\", this.members);\r\n      this.members = [];\r\n      this.objectMembers = {};\r\n      setTimeout(() => {\r\n        this.getContacts({ page: 0, itemsPerPage: 20 });\r\n      }, 300);\r\n    },\r\n    pushMember(v) {\r\n      if (v.id == this.objectMembers.id) {\r\n        this.objectMembers = {};\r\n      } else {\r\n        this.objectMembers = v;\r\n      }\r\n    },\r\n    check(v) {\r\n      if (this.objectMembers.id == v.id) {\r\n        return [\"font-weight-bold\", \"text-primary\"];\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getContacts(v) {\r\n      if (this.application.type === 'FROM_DXA' && this.application.applicationTypeInProject === 'NOT_BELONG') {\r\n        EmployeeService.getAllInManagement({}).then((res) => {\r\n          this.$nextTick(() => {\r\n            this.contactList = res.data;\r\n          });\r\n        });\r\n      } else {\r\n        EmployeeService.getByYurDepForSign({\r\n          params: v,\r\n          search: this.searchValue,\r\n        }).then((res) => {\r\n          this.$nextTick(() => {\r\n            this.contactList = res.data.list;\r\n          });\r\n        });\r\n      }\r\n    },\r\n    loadMoreContact() {\r\n      EmployeeService.getByYurDepForSign({\r\n        params: {\r\n          page: (this.contactPage += 1),\r\n          itemsPerPage: 20,\r\n        },\r\n        search: this.searchValue,\r\n      }).then(async ({ data }) => {\r\n        if (data.list.length > 0) {\r\n          this.$nextTick(() => {\r\n            this.contactList = this.contactList.concat(data.list);\r\n          });\r\n        } else {\r\n          this.contactPage = this.contactPage - 1;\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    var container3 = document.querySelector(\r\n      \"#contact-list .simplebar-content-wrapper\"\r\n    );\r\n    if (container3) {\r\n      container3.scrollTo({ top: 500, behavior: \"smooth\" });\r\n    }\r\n\r\n    // Contact list actions\r\n\r\n    this.scrollActive();\r\n  },\r\n  async created() {\r\n    await this.getContacts({ page: 0, itemsPerPage: 20 });\r\n  },\r\n  watch: {\r\n    searchValue: {\r\n      async handler() {\r\n        await this.getContacts({ page: 0, itemsPerPage: 20 });\r\n      },\r\n    },\r\n    objectMembers: {\r\n      async handler(v) {\r\n        if (this.async) {\r\n          this.$emit(\"asyncValue\", v);\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}