{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\ReestrHistoryForContractor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\ReestrHistoryForContractor.vue","mtime":1671096848983},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBNQUlOX0FQSV9VUkwgPSAncmVlc3RyL2NvbnRyYWN0b3ItcmVlc3RyLWRvY3VtZW50cycNCmNvbnN0IEFQUEVORF9BUElfVVJMX05BVFVSQUwgPSAnZm9yLWNvbnRyYWN0b3IvZXN0ZXN0dmVuaXknDQpjb25zdCBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA9ICdmb3ItY29udHJhY3Rvci9kYW1pbmlyaXVzaGl5Jw0KaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlJw0KaW1wb3J0IGhlbHBlclNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvaGVscGVyLnNlcnZpY2UnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1JlZXN0ckhpc3RvcnlGb3JDb250cmFjdG9yTmF0dXJhbCcsDQogIGNvbXBvbmVudHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwNCiAgICAgIC8vIGFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3I6IDAsDQogICAgICAvLyBhY3RpdmVUYWJJZHhPZklubmVyVGFiczogMCwNCiAgICAgIGZvdW5kZXJUYWJzOiBbDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJsZWdhbCIsDQogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5sZWdhbF9lbnRpdHknKSwNCiAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgbGFiZWw6ICIjIiwNCiAgICAgICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLA0KICAgICAgICAgICAgICBrZXk6ICJpbmRleCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICduYW1lJywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5uYW1lJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICd0aW4nLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmlubicpLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAga2V5OiAnZm91bmRlclR5cGUnLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnR5cGUnKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2ZvdW5kZXJTaGFyZVBlcmNlbnQnLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3BlcmNlbnRhZ2UnKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2ZvdW5kZXJTaGFyZVN1bScsDQogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uc2hhcmVfc3VtJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogImluZGl2aWR1YWwiLA0KICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdjb2x1bW4uaW5kaXZpZHVhbCcpLA0KICAgICAgICAgIGZpZWxkczogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgIGtleTogImluZGV4IiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2Z1bGxOYW1lJywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5uYW1lJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICd0aW4nLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmlubicpLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAga2V5OiAncGluZmwnLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnBlcnNvbmFsX251bWJlcicpLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAga2V5OiAnZm91bmRlclR5cGUnLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnR5cGUnKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2ZvdW5kZXJTaGFyZVBlcmNlbnQnLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3BlcmNlbnRhZ2UnKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2ZvdW5kZXJTaGFyZVN1bScsDQogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uc2hhcmVfc3VtJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIGNvbnRyYWN0b3JUYWJzOiBbDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJnZW5lcmFsSW5mbyIsDQogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5nZW5lcmFsX2luZm8nKSwNCiAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgbGFiZWw6ICIjIiwNCiAgICAgICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLA0KICAgICAgICAgICAgICBrZXk6ICJpbmRleCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmZ1bGxfbmFtZScpLCBrZXk6ICJmdWxsTmFtZSIsIHRoU3R5bGU6IHsgJ21pbi13aWR0aCc6ICcxN3JlbScgfSB9LA0KICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnN1cGVyaW9yX3BhcmVudCcpLCBrZXk6ICJwYXJlbnQiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uc3RhdHVzJyksIGtleTogInN0YXR1cyIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ3N1Ym1vZHVsZXMuZm9ybV9vZl9vd25lcnNoaXAudGl0bGUnKSwga2V5OiAiZm9ybU9mT3duZXJzaGlwIiB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmNhbl9sb2dpbicpLCBrZXk6ICJjYW5SZWdpc3RlciIsIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmlubicpLCBrZXk6ICJpbm4iIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ub2tlZCcpLCBrZXk6ICJva2VkIiB9LA0KICAgICAgICAgICAgLy8geyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmRpcmVjdG9yJyksIGtleTogImRpcmVjdG9yIiB9LA0KICAgICAgICAgICAgLy8geyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFjY291bnRlcicpLCBrZXk6ICJhY2NvdW50ZXIiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubW9iaWxlX251bWJlcicpLCBrZXk6ICJtb2JpbGVOdW1iZXIiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucmVnaW9uJyksIGtleTogInJlZ2lvbk5hbWUiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZGlzdHJpY3QnKSwga2V5OiAiZGlzdHJpY3ROYW1lIiB9LA0KICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFkZHJlc3MnKSwga2V5OiAiYWRkcmVzcyIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5waG9uZV9udW1iZXInKSwga2V5OiAicGhvbmVOdW1iZXIiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubWFpbCcpLCBrZXk6ICJlbWFpbCIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5mYXhfbnVtYmVyJyksIGtleTogImZheE51bWJlciIgfQ0KICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogImRpcmVjdG9yIiwNCiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnY29sdW1uLmRpcmVjdG9yJyksDQogICAgICAgICAgZmllbGRzOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2luZGV4JywNCiAgICAgICAgICAgICAgbGFiZWw6ICcjJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAga2V5OiAnZGlyZWN0b3JPckFjY291bnRlckZ1bGxOYW1lJywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5uYW1lJykNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2lubicsDQogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uaW5uJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICdwbmZsJywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wZXJzb25hbF9udW1iZXInKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiYWNjb3VudGVyIiwNCiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnY29sdW1uLmFjY291bnRlcicpLA0KICAgICAgICAgIGZpZWxkczogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICdpbmRleCcsDQogICAgICAgICAgICAgIGxhYmVsOiAnIycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2RpcmVjdG9yT3JBY2NvdW50ZXJGdWxsTmFtZScsDQogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubmFtZScpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICdpbm4nLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmlubicpLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAga2V5OiAncG5mbCcsDQogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucGVyc29uYWxfbnVtYmVyJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogImZvdW5kZXJzIiwNCiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnY29sdW1uLmZvdW5kZXJzJyksDQogICAgICAgICAgZmllbGRzOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGxhYmVsOiAiIyIsDQogICAgICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgICAga2V5OiAiaW5kZXgiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAga2V5OiAnZnVsbE5hbWUnLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm5hbWUnKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2lubicsDQogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uaW5uJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICdwbmZsJywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wZXJzb25hbF9udW1iZXInKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGtleTogJ2ZvdW5kZXJUeXBlJywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi50eXBlJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICdmb3VuZGVyU2hhcmVQZXJjZW50JywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5zaGFyZV9wZXJjZW50YWdlJyksDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICdmb3VuZGVyU2hhcmVTdW0nLA0KICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3N1bScpLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICBdDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICB0YWJsZUlubmVyVGFiczogWw0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiY29udHJhY3RvciIsDQogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5idXNpbmVzc19lbnRpdHknKSwNCiAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAga2V5OiAnaW5kZXgnLA0KICAgICAgICAgICAgICBsYWJlbDogJyMnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBrZXk6ICduYW1lJywNCiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5uYW1lJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJwcmljZXMiLA0KICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdjb2x1bW4ucHJpY2VzJyksDQogICAgICAgICAgZmllbGRzOiBbDQogICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4ucHJpY2VfYXBwcm92YWxfYmFzaXMnKX0gJHt0aGlzLiR0KCdjb2x1bW4uZGF0ZScpfWAsIGtleTogInByaWNlQXBwcm92YWxEYXRlIiB9LA0KICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmVmZmVjdGl2ZV9kYXRlX3ByaWNlJyl9YCwga2V5OiAicHJpY2VFZmZlY3RpdmVEYXRlIiB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLnByaWNlX2FwcHJvdmFsX2Jhc2lzJyl9ICR7dGhpcy4kdCgnY29sdW1uLm51bWJlcicpfWAsDQogICAgICAgICAgICAgIGtleTogInByaWNlQXBwcm92YWxOdW1iZXIiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmN1cnJlbnRfcHJpY2Vfd2l0aF9kdXR5Jyl9YCwga2V5OiAiY3VycmVudFByaWNlV2l0aER1dHkiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4uY3VycmVudF9wcmljZV93aXRob3V0X2R1dHknKX1gLCBrZXk6ICJjdXJyZW50UHJpY2VXaXRob3V0RHV0eSIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IGAke3RoaXMuJHQoJ2NvbHVtbi5hZGRpdGlvbmFsX2luZm8nKX1gLCBrZXk6ICJhZGRpdGlvbmFsSW5mb3JtYXRpb24iIH0sDQogICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiYW5ub3VuY2VkTWVkaWEiLA0KICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdjb2x1bW4uYW5ub3VuY2VkX21lZGlhJyksDQogICAgICAgICAgZmllbGRzOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGxhYmVsOiAiIyIsDQogICAgICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgICAga2V5OiAiaW5kZXgiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5uYW1lJyksIGtleTogImFubm91bmNlZE1lZGlhTmFtZSIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5saW5rJyksIGtleTogImFubm91bmNlZE1lZGlhTGluayIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5kYXRlJyksIGtleTogImFubm91bmNlZE1lZGlhRGF0ZSIgfQ0KICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogImNvbWlzc2lvbiIsDQogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5jb21taXNzaW9uX2FwcGxpY2F0aW9ucycpLA0KICAgICAgICAgIGZpZWxkczogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgIGtleTogImluZGV4IiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubnVtYmVyJyksIGtleTogImNvbW1lbmNlbWVudE51bWJlciIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5kYXRlJyksIGtleTogImNvbW1lbmNlbWVudERhdGUiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uaW5pdGlhdG9yJyksIGtleTogImluaXRpYXRvck5hbWUiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZmluaXNoaW5nX3R5cGUnKSwga2V5OiAiY29tcGxldGlvbldvcmtUeXBlIiB9LA0KICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmZpbmlzaGluZ19kYXRlJyksIGtleTogImNvbXBsZXRpb25Xb3JrRGF0ZSIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5zaG93Y2FzZV9hbW91bnQnKSwga2V5OiAiaW5zdHJ1Y3Rpb25BbW91bnQiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucmVtYWluZGVyX2Ftb3VudCcpLCBrZXk6ICJyZXNpZHVlQW1vdW50IiB9DQogICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIHJlZ2lvbklkOiBudWxsLA0KICAgICAgbG9hZGluZ1RhYmxlSXRlbXM6IGZhbHNlLA0KICAgICAgcmVnaW9uczogW10sDQogICAgICBqc29uX2ZpZWxkczogew0KICAgICAgICAiT3JkZXIgTnVtYmVyIjogIm9yZGVyTnVtYmVyIiwNCiAgICAgICAgIlJlZXN0ciBBY2NlcHRlZCBEYXRlIjogInJlZXN0ckFjY2VwdGVkRGF0ZSIsDQogICAgICAgICJSZWVzdHIgQ2xvc2VkIERhdGUiOiAicmVlc3RyQ2xvc2VkRGF0ZSIsDQogICAgICAgICJDb250cmFjdG9yIEZ1bGxOYW1lIjogImNvbnRyYWN0b3JGdWxsTmFtZSIsDQogICAgICAgICJHb3Zlcm5tZW50IFBlcmNlbnRhZ2UiOiAiZ292ZXJubWVudFBlcmNlbnRhZ2UiLA0KICAgICAgICAiU3RhdHVzIjogInN0YXR1cyIsDQogICAgICAgICJQcm9kdWN0IG9yIFNlcnZpY2UgVHlwZSI6ICJwcm9kdWN0T3JTZXJ2aWNlVHlwZSIsDQogICAgICAgICJQcm9kdWN0IG9yIFNlcnZpY2VzIjogInByb2R1Y3RPclNlcnZpY2VzIiwNCiAgICAgICAgIlVuaXQiOiAidW5pdCIsDQogICAgICAgICJPa2VkIjogIm9rZWQiLA0KICAgICAgICAiU2twIjogInNrcCIsDQogICAgICAgICJUbnZlZCI6ICJ0bnZlZCIsDQogICAgICAgICJDb21tZW50IjogImNvbW1lbnQiLA0KICAgICAgfSwNCiAgICAgIGpzb25fZGF0YTogW10sDQogICAgICBqc29uX21ldGE6IFsNCiAgICAgICAgWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGtleTogImNoYXJzZXQiLA0KICAgICAgICAgICAgdmFsdWU6ICJ1dGYtOCIsDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgIF0sDQogICAgICBzZWFyY2hLZXl3b3JkOiAnJywNCiAgICAgIHNlbGVjdGVkOiAyMCwNCiAgICAgIG9wdGlvbnNUYWJsZTogWw0KICAgICAgICB7IHZhbHVlOiAyMCwgdGV4dDogMjAgfSwNCiAgICAgICAgeyB2YWx1ZTogNTAsIHRleHQ6IDUwIH0sDQogICAgICAgIHsgdmFsdWU6IDEwMCwgdGV4dDogMTAwIH0sDQogICAgICAgIHsgdmFsdWU6IDE1MCwgdGV4dDogMTUwIH0sDQogICAgICAgIHsgdmFsdWU6IDIwMCwgdGV4dDogMjAwIH0sDQogICAgICBdLA0KICAgICAgYWN0aXZlRGVwOiB7fSwNCiAgICAgIHRhYmxlSXRlbXM6IFtdLA0KICAgICAgdG90YWxJdGVtczogMCwNCiAgICAgIHRhYmxlRmllbGRzOiBbDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAga2V5OiAiaW5kZXgiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5hY3Rpb25zJyksDQogICAgICAgICAga2V5OiAiYWN0aW9ucyIsDQogICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ub3JkZXJfbnVtYmVyJyksIGtleTogIm9yZGVyTnVtYmVyIiB9LA0KICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uYWRkZWRfZGF0ZV90b19yZWVzdHInKSwga2V5OiAicmVlc3RyQWNjZXB0ZWREYXRlIiB9LA0KICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucmVtb3ZlZF9kYXRlX2Zyb21fcmVlc3RyJyksIGtleTogInJlZXN0ckNsb3NlZERhdGUiIH0sDQogICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5idXNpbmVzc19lbnRpdHknKSwga2V5OiAiY29udHJhY3RvckZ1bGxOYW1lIiB9LA0KICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucmVnaW9uJyksIGtleTogInJlZ2lvbiIgfSwNCiAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmdvdmVybm1lbnRfcGVyY2VudGFnZScpLCBrZXk6ICJnb3Zlcm5tZW50UGVyY2VudGFnZSIgfSwNCiAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmZvdW5kZXJzX3BlcmNlbnRhZ2UnKSwga2V5OiAiZm91bmRlcnNQZXJjZW50YWdlIiB9LA0KICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZG9jdW1lbnRfdHlwZScpLCBrZXk6ICJkb2N1bWVudFR5cGUiIH0sDQogICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5zdGF0dXMnKSwga2V5OiAic3RhdHVzIiB9LA0KICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucHJvZHVjdF9vcl9zZXJ2aWNlX3R5cGUnKSwga2V5OiAicHJvZHVjdE9yU2VydmljZVR5cGUiIH0sDQogICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ3N1Ym1vZHVsZXMucHJvZHVjdF9vcl9zZXJ2aWNlcy50aXRsZScpLCBrZXk6ICJwcm9kdWN0T3JTZXJ2aWNlcyIgfSwNCiAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnVuaXQnKSwga2V5OiAidW5pdCIgfSwNCiAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm9rZWQnKSwga2V5OiAib2tlZCIgfSwNCiAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmNvbW1lbnQnKSwga2V5OiAiY29tbWVudCIgfSwNCiAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmxhc3RfbW9kaWZpZWRfYnknKSwga2V5OiAibGFzdE1vZGlmaWVkQnkiIH0sDQogICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5hcHByb3ZlZF9ieScpLCBrZXk6ICJhcHByb3ZlZEJ5IiB9LA0KICAgICAgXSwNCiAgICAgIC8qIG1lZGlhVGFibGVGaWVsZHM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICAgIGxhYmVsOiAiIyIsDQogICAgICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgICAga2V5OiAiaW5kZXgiLA0KICAgICAgICAgIH0sDQogICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm5hbWUnKSwga2V5OiAiYW5ub3VuY2VkTWVkaWFOYW1lIiB9LA0KICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5saW5rJyksIGtleTogImFubm91bmNlZE1lZGlhTGluayIgfSwNCiAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZGF0ZScpLCBrZXk6ICJhbm5vdW5jZWRNZWRpYURhdGUiIH0NCiAgICAgIF0sDQogICAgICBjb21pc3Npb25UYWJsZUZpZWxkczogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgICAgbGFiZWw6ICIjIiwNCiAgICAgICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLA0KICAgICAgICAgICAgICBrZXk6ICJpbmRleCIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubnVtYmVyJyksIGtleTogImNvbW1lbmNlbWVudE51bWJlciIgfSwNCiAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZGF0ZScpLCBrZXk6ICJjb21tZW5jZW1lbnREYXRlIiB9LA0KICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5pbml0aWF0b3InKSwga2V5OiAiaW5pdGlhdG9yTmFtZSIgfSwNCiAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZmluaXNoaW5nX3R5cGUnKSwga2V5OiAiY29tcGxldGlvbldvcmtUeXBlIiB9LA0KICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5maW5pc2hpbmdfZGF0ZScpLCBrZXk6ICJjb21wbGV0aW9uV29ya0RhdGUiIH0sDQogICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNob3djYXNlX2Ftb3VudCcpLCBrZXk6ICJpbnN0cnVjdGlvbkFtb3VudCIgfSwNCiAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucmVtYWluZGVyX2Ftb3VudCcpLCBrZXk6ICJyZXNpZHVlQW1vdW50IiB9DQogICAgICBdICovDQogICAgfTsNCiAgfSwNCiAgLyoNCiAgQ09NUFVURUQgKi8NCiAgY29tcHV0ZWQ6IHsNCiAgICAvKiBhY3RpdmVJbm5lclRhYiAoKSB7DQogICAgICAgIHJldHVybiB0aGlzLnRhYmxlSW5uZXJUYWJzW3RoaXMuYWN0aXZlVGFiSWR4T2ZJbm5lclRhYnNdLmtleQ0KICAgIH0sDQogICAgYWN0aXZlQ29udHJhY3RvclRhYiAoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmNvbnRyYWN0b3JUYWJzW3RoaXMuYWN0aXZlVGFiSWR4Rm9yQ29udHJhY3Rvcl0ua2V5DQogICAgfSwgKi8NCiAgICBudW1iZXJPZlBhZ2VzKCkgew0KICAgICAgcmV0dXJuICghdGhpcy50b3RhbEl0ZW1zIHx8IHRoaXMudG90YWxJdGVtcyA8PSAwIHx8IHRoaXMudG90YWxJdGVtcyA8IHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlKSA/IDEgOiB0aGlzLnRvdGFsSXRlbXMgLyB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZQ0KICAgIH0sDQogICAgaXNEb21pbmFudCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnUmVlc3RySGlzdG9yeUZvckNvbnRyYWN0b3JEb21pbmFudCcNCiAgICB9LA0KICAgIGlzTmF0dXJhbCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnUmVlc3RySGlzdG9yeUZvckNvbnRyYWN0b3JOYXR1cmFsJw0KICAgIH0sDQogICAgaXNEb21pbmFudFJlcHVibGljKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT09ICdSZWVzdHJIaXN0b3J5Rm9yUmVwdWJsaWNDb250cmFjdG9yRG9taW5hbnQnDQogICAgfSwNCiAgICBpc05hdHVyYWxSZXB1YmxpYygpIHsNCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnUmVlc3RySGlzdG9yeUZvclJlcHVibGljQ29udHJhY3Rvck5hdHVyYWwnDQogICAgfSwNCiAgICBqc29uRmllbGRzQ29tcHV0ZWQoKSB7DQogICAgICBsZXQgdG1wID0ge30NCiAgICAgIHRoaXMudGFibGVGaWVsZHMuZm9yRWFjaCgoZmllbGQsIGluZGV4KSA9PiB7DQogICAgICAgIGlmIChpbmRleCAhPSAwICYmIGluZGV4ICE9IHRoaXMudGFibGVGaWVsZHMubGVuZ3RoIC0gMSkgew0KICAgICAgICAgIHRtcFtmaWVsZC5sYWJlbF0gPSBmaWVsZC5rZXkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiB0bXANCiAgICB9LA0KICAgIGNhblVwZGF0ZVJlZXN0cigpIHsNCiAgICAgIGlmICh0aGlzLmlzRG9taW5hbnQgfHwgdGhpcy5pc0RvbWluYW50UmVwdWJsaWMpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJGNhbigndXBkYXRlJywgJ2NvbnRyYWN0b3IgcmVlc3RyIGRvY3VtZW50IGZvciBhY2NlcHRhbmNlIGRhbWluaXJpdXNoaXknKQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTmF0dXJhbCB8fCB0aGlzLmlzTmF0dXJhbFJlcHVibGljKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRjYW4oJ3VwZGF0ZScsICdjb250cmFjdG9yIHJlZXN0ciBkb2N1bWVudCBmb3IgYWNjZXB0YW5jZSBlc3Rlc3R2ZW5peScpDQogICAgICB9DQogICAgICByZXR1cm4gZmFsc2UNCiAgICB9LA0KICAgIGNhbkFwcHJvdmVSZWVzdHIoKSB7DQogICAgICByZXR1cm4gdGhpcy4kY2FuKCdjb250cmFjdG9yJywgJ3JlZXN0ciBkb2N1bWVudCBjb25maXJtYXRpb24nKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFwcHJvdmVSZWVzdHJEb2MoZG9jKSB7DQogICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveENvbmZpcm0odGhpcy4kdCgnbWVzc2FnZXMueW91X3N1cmVfdGl0bGUnKSwgew0KICAgICAgICBva1RpdGxlOiB0aGlzLiR0KCdhY3Rpb25zLmNvbmZpcm0nKSwNCiAgICAgICAgY2FuY2VsVGl0bGU6IHRoaXMuJHQoJ2FjdGlvbnMuY2FuY2VsJykNCiAgICAgIH0pDQogICAgICAgICAgLnRoZW4odmFsdWUgPT4gew0KICAgICAgICAgICAgaWYgKHZhbHVlKSB7DQogICAgICAgICAgICAgIGhlbHBlclNlcnZpY2UNCiAgICAgICAgICAgICAgICAgIC5hcHByb3ZlUmVlc3RyRG9jKGRvYy5pZCkNCiAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaFRhYmxlSXRlbXMoKQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgIC8vIEFuIGVycm9yIG9jY3VycmVkDQogICAgICAgICAgfSkNCiAgICB9LA0KICAgIGFjdGl2ZUlubmVyVGFiKGFjdGl2ZVRhYklkeE9mSW5uZXJUYWJzKSB7DQogICAgICByZXR1cm4gdGhpcy50YWJsZUlubmVyVGFic1thY3RpdmVUYWJJZHhPZklubmVyVGFic10ua2V5DQogICAgfSwNCiAgICBhY3RpdmVDb250cmFjdG9yVGFiKGFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3IpIHsNCiAgICAgIHJldHVybiB0aGlzLmNvbnRyYWN0b3JUYWJzW2FjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3JdLmtleQ0KICAgIH0sDQogICAgc2V0Um93c0lubmVyVGFic0RhdGEoaXRlbSwgaW5kZXgsIHNlbGVjdGVkVGFiSW5kZXgsIGlzRm9yQ29udHJhY3RvciA9IGZhbHNlLCBpc0ZvckZvdW5kZXJzID0gZmFsc2UsIGZvdW5kZXJUYWJJbmRleCA9IDApIHsNCiAgICAgIGlmICh0aGlzLnRhYmxlSW5uZXJUYWJzW3NlbGVjdGVkVGFiSW5kZXhdLmtleSA9PT0gJ2NvbnRyYWN0b3InIHx8IGlzRm9yQ29udHJhY3Rvcikgew0KICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2xvYWRpbmdJbm5lckRhdGEnLCB0cnVlKQ0KICAgICAgICBpZiAodGhpcy5jb250cmFjdG9yVGFic1tzZWxlY3RlZFRhYkluZGV4XS5rZXkgPT09ICdnZW5lcmFsSW5mbycpIHsNCiAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIFtpdGVtLmNvbnRyYWN0b3JEdG9dKQ0KICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnbG9hZGluZ0lubmVyRGF0YScsIGZhbHNlKQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJhY3RvclRhYnNbc2VsZWN0ZWRUYWJJbmRleF0ua2V5ID09PSAnZGlyZWN0b3InKSB7DQogICAgICAgICAgaGVscGVyU2VydmljZS5nZXRDb250cmFjdG9yRGlyZWN0b3IoaXRlbS5jb250cmFjdG9yRHRvLmlkKQ0KICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnY29udHJhY3RvclRhYkl0ZW1zJywgW3Jlcy5kYXRhXSkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnY29udHJhY3RvclRhYkl0ZW1zJywgW10pDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnbG9hZGluZ0lubmVyRGF0YScsIGZhbHNlKQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJhY3RvclRhYnNbc2VsZWN0ZWRUYWJJbmRleF0ua2V5ID09PSAnYWNjb3VudGVyJykgew0KICAgICAgICAgIGhlbHBlclNlcnZpY2UuZ2V0Q29udHJhY3RvckFjY291bnRlcihpdGVtLmNvbnRyYWN0b3JEdG8uaWQpDQogICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdjb250cmFjdG9yVGFiSXRlbXMnLCBbcmVzLmRhdGFdKQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdjb250cmFjdG9yVGFiSXRlbXMnLCBbXSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdsb2FkaW5nSW5uZXJEYXRhJywgZmFsc2UpDQogICAgICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250cmFjdG9yVGFic1tzZWxlY3RlZFRhYkluZGV4XS5rZXkgPT09ICdmb3VuZGVycycpIHsNCiAgICAgICAgICBpZiAoaXNGb3JGb3VuZGVycyAmJiBpdGVtLmZvdW5kZXJzRnVsbERhdGEpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kZXJUYWJzW2l0ZW0uYWN0aXZlVGFiSWR4Rm9yQ29udHJhY3RvckZvdW5kZXJdLmtleSA9PT0gJ2xlZ2FsJykgew0KICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIGl0ZW0uZm91bmRlcnNGdWxsRGF0YS5mb3VuZGVyTGVnYWxEdG8pDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZm91bmRlclRhYnNbaXRlbS5hY3RpdmVUYWJJZHhGb3JDb250cmFjdG9yRm91bmRlcl0ua2V5ID09PSAnaW5kaXZpZHVhbCcpIHsNCiAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdjb250cmFjdG9yVGFiSXRlbXMnLCBpdGVtLmZvdW5kZXJzRnVsbERhdGEuZm91bmRlckluZGl2aWR1YWxEdG8pDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2xvYWRpbmdJbm5lckRhdGEnLCBmYWxzZSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaGVscGVyU2VydmljZS5nZXRDb250cmFjdG9yRm91bmRlcnMoaXRlbS5jb250cmFjdG9yRHRvLmlkKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2ZvdW5kZXJzRnVsbERhdGEnLCByZXMuZGF0YSkNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kZXJUYWJzW2l0ZW0uYWN0aXZlVGFiSWR4Rm9yQ29udHJhY3RvckZvdW5kZXJdLmtleSA9PT0gJ2xlZ2FsJykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIHJlcy5kYXRhLmZvdW5kZXJMZWdhbER0bykNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3VuZGVyVGFic1tpdGVtLmFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3JGb3VuZGVyXS5rZXkgPT09ICdpbmRpdmlkdWFsJykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIHJlcy5kYXRhLmZvdW5kZXJJbmRpdmlkdWFsRHRvKQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdmb3VuZGVyc0Z1bGxEYXRhJywgbnVsbCkNCiAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnY29udHJhY3RvclRhYkl0ZW1zJywgW10pDQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdsb2FkaW5nSW5uZXJEYXRhJywgZmFsc2UpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJsZUlubmVyVGFic1tzZWxlY3RlZFRhYkluZGV4XS5rZXkgPT09ICdwcmljZXMnKSB7DQogICAgICAgIHRoaXMuJHNldChpdGVtLCAnaW5uZXJUYWJJdGVtcycsIGl0ZW0ucHJpY2VBcHByb3ZhbER0b3MpDQogICAgICB9IGVsc2UgaWYgKHRoaXMudGFibGVJbm5lclRhYnNbc2VsZWN0ZWRUYWJJbmRleF0ua2V5ID09PSAnYW5ub3VuY2VkTWVkaWEnKSB7DQogICAgICAgIHRoaXMuJHNldChpdGVtLCAnaW5uZXJUYWJJdGVtcycsIGl0ZW0uYW5ub3VuY2VkTWVkaWFEdG9zKQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlSW5uZXJUYWJzW3NlbGVjdGVkVGFiSW5kZXhdLmtleSA9PT0gJ2NvbWlzc2lvbicpIHsNCiAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdpbm5lclRhYkl0ZW1zJywgaXRlbS5jb21taXNzaW9uQXBwbGljYXRpb25EdG9zKQ0KICAgICAgfQ0KICAgIH0sDQogICAgcm93Q2xpY2tlZChpdGVtLCBpbmRleCkgew0KICAgICAgdGhpcy4kc2V0KGl0ZW0sICdfc2hvd0RldGFpbHMnLCAhaXRlbS5fc2hvd0RldGFpbHMpDQogICAgICBpZiAoIWl0ZW0uYWN0aXZlVGFiSWR4T2ZJbm5lclRhYnMpIHsNCiAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdhY3RpdmVUYWJJZHhPZklubmVyVGFicycsIDApDQogICAgICB9DQogICAgICBpZiAoIWl0ZW0uYWN0aXZlVGFiSWR4Rm9yQ29udHJhY3Rvcikgew0KICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2FjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3InLCAwKQ0KICAgICAgfQ0KICAgICAgaWYgKCFpdGVtLmFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3JGb3VuZGVyKSB7DQogICAgICAgIHRoaXMuJHNldChpdGVtLCAnYWN0aXZlVGFiSWR4Rm9yQ29udHJhY3RvckZvdW5kZXInLCAwKQ0KICAgICAgfQ0KICAgICAgdGhpcy5zZXRSb3dzSW5uZXJUYWJzRGF0YShpdGVtLCBpbmRleCwgMCwgdHJ1ZSkNCiAgICAgIC8vIHRoaXMuZmV0Y2hSZWVzdHJEb2NzQnlUeXBlSWQobnVsbCwgaXRlbS50eXBlSWQsIGluZGV4KQ0KICAgIH0sDQogICAgZmV0Y2hSZWVzdHJEb2NzQnlUeXBlSWQodG9nZ2xlRGV0YWlscywgdHlwZUlkLCBpbmRleCkgew0KICAgICAgaWYgKHRvZ2dsZURldGFpbHMpIHsNCiAgICAgICAgdG9nZ2xlRGV0YWlscygpDQogICAgICB9DQogICAgICB0aGlzLiRzZXQodGhpcy50YWJsZUl0ZW1zW2luZGV4XSwgJ2xvYWRpbmdJbm5lckRhdGEnLCB0cnVlKQ0KICAgICAgY3J1ZEFuZExpc3RzU2VydmljZQ0KICAgICAgICAgIC5zZWFyY2hMaXN0KE1BSU5fQVBJX1VSTCwgbnVsbCwgYCR7dGhpcy5pc0RvbWluYW50ID8gQVBQRU5EX0FQSV9VUkxfRE9NSU5BTlQgOiB0aGlzLmlzTmF0dXJhbCA/IEFQUEVORF9BUElfVVJMX05BVFVSQUwgOiAnJ30/cmVnaW9uSWQ9JHt0aGlzLnJlZ2lvbklkfSZ0eXBlSWQ9JHt0eXBlSWR9YCkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy50YWJsZUl0ZW1zW2luZGV4XSwgJ3JlZXN0cicsIHJlcy5kYXRhKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdyZWVzdHInLCBbXSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhYmxlSXRlbXNbaW5kZXhdLCAnbG9hZGluZ0lubmVyRGF0YScsIGZhbHNlKQ0KICAgICAgICAgIH0pDQogICAgfSwNCiAgICBhc3luYyByZWdpb25TZWxlY3RlZCgkZXZlbnQsIGRvbnRSZXNldERpc3RyaWN0ID0gZmFsc2UpIHsNCiAgICAgIGlmICgkZXZlbnQpIHsNCiAgICAgICAgdGhpcy5mZXRjaFRhYmxlSXRlbXMoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZG93bmxvYWRFeGNlbCgpIHsNCiAgICAgIHRoaXMuanNvbl9kYXRhID0gW10NCiAgICAgIHRoaXMudGFibGVJdGVtcy5mb3JFYWNoKHJlcyA9PiB7DQogICAgICAgIGxldCBvYmogPSB7fQ0KICAgICAgICBvYmoub3JkZXJOdW1iZXIgPSByZXMub3JkZXJOdW1iZXINCiAgICAgICAgb2JqLnJlZXN0ckFjY2VwdGVkRGF0ZSA9IHJlcy5yZWVzdHJBY2NlcHRlZERhdGUNCiAgICAgICAgb2JqLnJlZXN0ckNsb3NlZERhdGUgPSByZXMucmVlc3RyQ2xvc2VkRGF0ZQ0KICAgICAgICBvYmouY29udHJhY3RvckZ1bGxOYW1lID0gcmVzLmNvbnRyYWN0b3JEdG8uZnVsbE5hbWUgKyAnLScgKyByZXMuY29udHJhY3RvckR0by5pbm4NCiAgICAgICAgb2JqLmdvdmVybm1lbnRQZXJjZW50YWdlID0gcmVzLmdvdmVybm1lbnRQZXJjZW50YWdlDQogICAgICAgIG9iai5kb2N1bWVudFR5cGUgPSByZXMuZG9jdW1lbnRUeXBlDQogICAgICAgIG9iai5zdGF0dXMgPSB0aGlzLmdldE5hbWUoew0KICAgICAgICAgIG5hbWVMdDogcmVzLmRvY3VtZW50U3RhdHVzTmFtZUx0LA0KICAgICAgICAgIG5hbWVVejogcmVzLmRvY3VtZW50U3RhdHVzTmFtZVV6LA0KICAgICAgICAgIG5hbWVSdTogcmVzLmRvY3VtZW50U3RhdHVzTmFtZVJ1DQogICAgICAgIH0pDQogICAgICAgIG9iai5wcm9kdWN0T3JTZXJ2aWNlVHlwZSA9IHRoaXMuZ2V0TmFtZSh7DQogICAgICAgICAgbmFtZUx0OiByZXMuZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZVR5cGVEdG8ubmFtZUx0LA0KICAgICAgICAgIG5hbWVVejogcmVzLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VUeXBlRHRvLm5hbWVVeiwNCiAgICAgICAgICBuYW1lUnU6IHJlcy5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUR0by5uYW1lUnUNCiAgICAgICAgfSkNCiAgICAgICAgb2JqLnByb2R1Y3RPclNlcnZpY2VzID0gdGhpcy5nZXROYW1lKHsNCiAgICAgICAgICBuYW1lTHQ6IHJlcy5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlRHRvLm5hbWVMdCwNCiAgICAgICAgICBuYW1lVXo6IHJlcy5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlRHRvLm5hbWVVeiwNCiAgICAgICAgICBuYW1lUnU6IHJlcy5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlRHRvLm5hbWVSdQ0KICAgICAgICB9KQ0KICAgICAgICBvYmoudW5pdCA9IHRoaXMuZ2V0TmFtZSh7IG5hbWVMdDogcmVzLnVuaXROYW1lTHQsIG5hbWVVejogcmVzLnVuaXROYW1lVXosIG5hbWVSdTogcmVzLnVuaXROYW1lUnUgfSkNCiAgICAgICAgb2JqLnNrcCA9IHJlcy5pbmZvU0tQRHRvID8gcmVzLmluZm9TS1BEdG8uY29kZSArICctJyArIHRoaXMuZ2V0TmFtZSh7DQogICAgICAgICAgbmFtZUx0OiByZXMuaW5mb1NLUER0by5uYW1lTHQsDQogICAgICAgICAgbmFtZVV6OiByZXMuaW5mb1NLUER0by5uYW1lVXosDQogICAgICAgICAgbmFtZVJ1OiByZXMuaW5mb1NLUER0by5uYW1lUnUNCiAgICAgICAgfSkgOiAnJw0KICAgICAgICBvYmoub2tlZCA9IHJlcy5pbmZvT2tlZER0byA/IHJlcy5pbmZvT2tlZER0by5jb2RlICsgJy0nICsgdGhpcy5nZXROYW1lKHsNCiAgICAgICAgICBuYW1lTHQ6IHJlcy5pbmZvT2tlZER0by5uYW1lTHQsDQogICAgICAgICAgbmFtZVV6OiByZXMuaW5mb09rZWREdG8ubmFtZVV6LA0KICAgICAgICAgIG5hbWVSdTogcmVzLmluZm9Pa2VkRHRvLm5hbWVSdQ0KICAgICAgICB9KSA6ICcnDQogICAgICAgIG9iai50bnZlZCA9IHJlcy5pbmZvVE5WRUREdG8gPyByZXMuaW5mb1ROVkVERHRvLmNvZGUgKyAnLScgKyB0aGlzLmdldE5hbWUoew0KICAgICAgICAgIG5hbWVMdDogcmVzLmluZm9UTlZFRER0by5uYW1lTHQsDQogICAgICAgICAgbmFtZVV6OiByZXMuaW5mb1ROVkVERHRvLm5hbWVVeiwNCiAgICAgICAgICBuYW1lUnU6IHJlcy5pbmZvVE5WRUREdG8ubmFtZVJ1DQogICAgICAgIH0pIDogJycNCiAgICAgICAgb2JqLmNvbW1lbnQgPSByZXMuY29tbWVudA0KICAgICAgICBvYmoubGFzdE1vZGlmaWVkQnkgPSBgJHtyZXMudXBkYXRlZEJ5RW1wbG95ZWVGdWxsTmFtZSA/IChyZXMudXBkYXRlZEJ5RW1wbG95ZWVGdWxsTmFtZSArICcgJyArIChyZXMudXBkYXRlZEJ5RGlyZWN0b3J5UG9zaXRpb25OYW1lVXogPyAoJygnICsgcmVzLnVwZGF0ZWRCeURpcmVjdG9yeVBvc2l0aW9uTmFtZVV6ICsgJywgJyArIHRoaXMuJHQoJ2F1dGgudXNlcm5hbWUnKSArICcgLSAnICsgcmVzLnVwZGF0ZWRCeVVzZXJOYW1lICsgJyknKSA6ICcnKSkgOiB0aGlzLiR0KCdhdXRoLnVzZXJuYW1lJykgKyAnIC0gJyArIHJlcy51cGRhdGVkQnlVc2VyTmFtZSArICcgJyArIChyZXMudXBkYXRlZEJ5RGF0ZSA/IHJlcy51cGRhdGVkQnlEYXRlIDogJycpfWANCiAgICAgICAgb2JqLmFwcHJvdmVkQnkgPSBgJHtyZXMuY29uZmlybWVkQnlFbXBsb3llZUZ1bGxOYW1lID8gKHJlcy5jb25maXJtZWRCeUVtcGxveWVlRnVsbE5hbWUgKyAnICcgKyAocmVzLmNvbmZpcm1lZEJ5RGlyZWN0b3J5UG9zaXRpb25OYW1lVXogPyAoJygnICsgcmVzLmNvbmZpcm1lZEJ5RGlyZWN0b3J5UG9zaXRpb25OYW1lVXogKyAnLCAnICsgdGhpcy4kdCgnYXV0aC51c2VybmFtZScpICsgJyAtICcgKyByZXMuY29uZmlybWVkQnlVc2VyTmFtZSArICcpJykgOiAnJykpIDogdGhpcy4kdCgnYXV0aC51c2VybmFtZScpICsgJyAtICcgKyByZXMuY29uZmlybWVkQnlVc2VyTmFtZSArICcgJyArIChyZXMuY29uZmlybWVkQnlEYXRlID8gcmVzLmNvbmZpcm1lZEJ5RGF0ZSA6ICcnKX1gDQogICAgICAgIG9iai5mb3VuZGVyc1BlcmNlbnRhZ2UgPSAnJw0KICAgICAgICByZXMuY29udHJhY3RvckR0by5mb3VuZGVyc0R0b3MuZm9yRWFjaChlbCA9PiB7DQogICAgICAgICAgb2JqLmZvdW5kZXJzUGVyY2VudGFnZSArPSBgJHtlbC5mb3VuZGVyTmFtZX0gKCR7ZWwucGVyY2VudGFnZX0pLCBgDQogICAgICAgIH0pDQogICAgICAgIG9iai5yZWdpb24gPSAnJw0KICAgICAgICByZXMucmVnaW9uRHRvcy5mb3JFYWNoKGVsID0+IHsNCiAgICAgICAgICBvYmoucmVnaW9uICs9IGAke3RoaXMuZ2V0TmFtZSh7IG5hbWVMdDogZWwubmFtZUx0LCBuYW1lVXo6IGVsLm5hbWVVeiwgbmFtZVJ1OiBlbC5uYW1lUnUgfSl9LCBgDQogICAgICAgIH0pDQogICAgICAgIGlmICh0aGlzLmlzRG9taW5hbnQgfHwgdGhpcy5pc05hdHVyYWwpIHsNCiAgICAgICAgICBvYmouZGlzdHJpY3QgPSAnJw0KICAgICAgICAgIHJlcy5kaXN0cmljdER0b3MuZm9yRWFjaChlbCA9PiB7DQogICAgICAgICAgICBvYmouZGlzdHJpY3QgKz0gYCR7dGhpcy5nZXROYW1lKHsgbmFtZUx0OiBlbC5uYW1lTHQsIG5hbWVVejogZWwubmFtZVV6LCBuYW1lUnU6IGVsLm5hbWVSdSB9KX0sIGANCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLmlzTmF0dXJhbCB8fCB0aGlzLmlzTmF0dXJhbFJlcHVibGljKSB7DQogICAgICAgICAgb2JqLnByaWNlQXBwcm92YWxEYXRlID0gcmVzLnByaWNlQXBwcm92YWxEYXRlDQogICAgICAgICAgb2JqLnByaWNlRWZmZWN0aXZlRGF0ZSA9IHJlcy5wcmljZUVmZmVjdGl2ZURhdGUNCiAgICAgICAgICBvYmoucHJpY2VBcHByb3ZhbE51bWJlciA9IHJlcy5wcmljZUFwcHJvdmFsTnVtYmVyDQogICAgICAgICAgb2JqLmN1cnJlbnRQcmljZVdpdGhEdXR5ID0gcmVzLmN1cnJlbnRQcmljZVdpdGhEdXR5DQogICAgICAgICAgb2JqLmN1cnJlbnRQcmljZVdpdGhvdXREdXR5ID0gcmVzLmN1cnJlbnRQcmljZVdpdGhvdXREdXR5DQogICAgICAgICAgb2JqLmFkZGl0aW9uYWxJbmZvcm1hdGlvbiA9IHJlcy5hZGRpdGlvbmFsSW5mb3JtYXRpb24NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmpzb25fZGF0YS5wdXNoKG9iaikNCiAgICAgIH0pDQogICAgfSwNCiAgICBzZWxlY3RMaXN0KCRldmVudCkgew0KICAgICAgaWYgKCRldmVudCA9PT0gJ2FsbCcpIHsNCiAgICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSB0aGlzLnRvdGFsSXRlbXMNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gJGV2ZW50DQogICAgICB9DQogICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpOw0KICAgIH0sDQogICAgYXN5bmMgZmV0Y2hUYWJsZUl0ZW1zKCkgew0KICAgICAgaWYgKHRoaXMuaXNEb21pbmFudFJlcHVibGljIHx8IHRoaXMuaXNOYXR1cmFsUmVwdWJsaWMpIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nVGFibGVJdGVtcyA9IHRydWUNCiAgICAgICAgaGVscGVyU2VydmljZQ0KICAgICAgICAgICAgLnNlYXJjaFJlZXN0ckhpc3RvcnlMaXN0QnlDb250cmFjdG9ySWQoYCR7dGhpcy5pc0RvbWluYW50UmVwdWJsaWMgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IHRoaXMuaXNOYXR1cmFsUmVwdWJsaWMgPyBBUFBFTkRfQVBJX1VSTF9OQVRVUkFMIDogJyd9P2NvbnRyYWN0b3JJZD0ke3RoaXMuJHJvdXRlLnBhcmFtcy5pZH1gLCB0cnVlKQ0KICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgIHRoaXMudGFibGVJdGVtcyA9IFtdOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGFibGVJdGVtcyA9IGZhbHNlDQogICAgICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nVGFibGVJdGVtcyA9IHRydWUNCiAgICAgICAgLy8gdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5rZXl3b3JkID0gdGhpcy5zZWFyY2hLZXl3b3JkDQogICAgICAgIC8qIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuc29ydERlc2MucHVzaChmYWxzZSkNCiAgICAgICAgaWYgKHRoaXMuJGkxOG4ubG9jYWxlID09PSAndXonKSB7DQogICAgICAgICAgICB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLnNvcnRCeS5wdXNoKCduYW1lTHQnKQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJGkxOG4ubG9jYWxlID09PSAncnUnKSB7DQogICAgICAgICAgICB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLnNvcnRCeS5wdXNoKCduYW1lUnUnKQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJGkxOG4ubG9jYWxlID09PSAndXpDeXJpbGxpYycpIHsNCiAgICAgICAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuc29ydEJ5LnB1c2goJ25hbWVVeicpDQogICAgICAgIH0gKi8NCiAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZQ0KICAgICAgICAgICAgLnNlYXJjaExpc3QoTUFJTl9BUElfVVJMLCB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLCBgJHt0aGlzLmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IHRoaXMuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnfT9jb250cmFjdG9ySWQ9JHt0aGlzLiRyb3V0ZS5wYXJhbXMuaWR9YCwgdHJ1ZSkNCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gcmVzLmRhdGE7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSBbXTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSBmYWxzZQ0KICAgICAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGVkaXRJdGVtKGl0ZW0pIHsNCiAgICAgIGlmIChpdGVtLmRvY3VtZW50VHlwZSA9PT0gJ0tJUklUSVNIJykgew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLmlzRG9taW5hbnQgfHwgdGhpcy5pc0RvbWluYW50UmVwdWJsaWMgPyB7DQogICAgICAgICAgbmFtZTogJ1VwZGF0ZURvbWluYW50Q29udHJhY3RvclJlZXN0cicsDQogICAgICAgICAgcGFyYW1zOiB7IGlkOiBpdGVtLmlkIH0NCiAgICAgICAgfSA6IHsgbmFtZTogJ1VwZGF0ZU5hdHVyYWxDb250cmFjdG9yUmVlc3RyJywgcGFyYW1zOiB7IGlkOiBpdGVtLmlkIH0gfSkNCiAgICAgIH0gZWxzZSBpZiAoaXRlbS5kb2N1bWVudFR5cGUgPT09ICdDSElRQVJJU0gnKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuaXNEb21pbmFudCB8fCB0aGlzLmlzRG9taW5hbnRSZXB1YmxpYyA/IHsNCiAgICAgICAgICBuYW1lOiAnVXBkYXRlUmVtb3ZlRG9jRG9taW5hbnRDb250cmFjdG9yUmVlc3RyJywNCiAgICAgICAgICBwYXJhbXM6IHsgaWQ6IGl0ZW0uaWQgfQ0KICAgICAgICB9IDogeyBuYW1lOiAnVXBkYXRlUmVtb3ZlRG9jTmF0dXJhbENvbnRyYWN0b3JSZWVzdHInLCBwYXJhbXM6IHsgaWQ6IGl0ZW0uaWQgfSB9KQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgLyogQ1JFQVRFRCAqLw0KICBjcmVhdGVkKCkgew0KICAgIGlmICh0aGlzLmlzRG9taW5hbnQgfHwgdGhpcy5pc0RvbWluYW50UmVwdWJsaWMpIHsNCiAgICAgIHRoaXMudGFibGVGaWVsZHMuc3BsaWNlKDEyLCAwLCB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uc2twX2NvZGUnKSwga2V5OiAic2twIiB9LA0KICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi50bnZlZF9jb2RlJyksIGtleTogInRudmVkIiB9KQ0KICAgIH0NCiAgICBpZiAodGhpcy5pc0RvbWluYW50IHx8IHRoaXMuaXNOYXR1cmFsKSB7DQogICAgICB0aGlzLnRhYmxlRmllbGRzLnNwbGljZSg2LCAwLCB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZGlzdHJpY3QnKSwga2V5OiAiZGlzdHJpY3QiIH0pDQogICAgfQ0KICAgIC8qIGlmICh0aGlzLmlzTmF0dXJhbCB8fCB0aGlzLmlzTmF0dXJhbFJlcHVibGljKSB7DQogICAgICAgIHRoaXMudGFibGVGaWVsZHMuc3BsaWNlKHRoaXMudGFibGVGaWVsZHMubGVuZ3RoIC0gMSwgMCwNCiAgICAgICAgICAgIHsgbGFiZWw6IGAke3RoaXMuJHQoJ2NvbHVtbi5wcmljZV9hcHByb3ZhbF9iYXNpcycpfSAke3RoaXMuJHQoJ2NvbHVtbi5kYXRlJyl9YCwga2V5OiAicHJpY2VBcHByb3ZhbERhdGUiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4uZWZmZWN0aXZlX2RhdGVfcHJpY2UnKX1gLCBrZXk6ICJwcmljZUVmZmVjdGl2ZURhdGUiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4ucHJpY2VfYXBwcm92YWxfYmFzaXMnKX0gJHt0aGlzLiR0KCdjb2x1bW4ubnVtYmVyJyl9YCwga2V5OiAicHJpY2VBcHByb3ZhbE51bWJlciIgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6IGAke3RoaXMuJHQoJ2NvbHVtbi5jdXJyZW50X3ByaWNlX3dpdGhfZHV0eScpfWAsIGtleTogImN1cnJlbnRQcmljZVdpdGhEdXR5IiB9LA0KICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmN1cnJlbnRfcHJpY2Vfd2l0aG91dF9kdXR5Jyl9YCwga2V5OiAiY3VycmVudFByaWNlV2l0aG91dER1dHkiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4uYWRkaXRpb25hbF9pbmZvJyl9YCwga2V5OiAiYWRkaXRpb25hbEluZm9ybWF0aW9uIiB9LA0KICAgICAgICApDQogICAgfSAqLw0KICAgIHRoaXMuZmV0Y2hUYWJsZUl0ZW1zKCkNCiAgfSwNCiAgLyoNCiAgV0FUQ0ggKi8NCiAgd2F0Y2g6IHsNCiAgICAvKiAndmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQucGFnZSc6IHsNCiAgICAgICAgaGFuZGxlciAoKSB7DQogICAgICAgICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpDQogICAgICAgIH0NCiAgICB9ICovDQogIH0NCn07DQo="},{"version":3,"sources":["ReestrHistoryForContractor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuqBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReestrHistoryForContractor.vue","sourceRoot":"src/modules/reestr-contractors/modules/natural","sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-2 align-items-center\">\r\n            <div class=\"col-2\">\r\n              <b-btn\r\n                  variant=\"warning\"\r\n                  class=\"text-capitalize\"\r\n                  @click=\"$router.go(-1)\"\r\n              >\r\n                {{ $t('actions.back') }}\r\n              </b-btn>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <h4\r\n                  class=\"text-center font-weight-bold m-0\"\r\n                  v-if=\"tableItems.length > 0\"\r\n              >{{ tableItems[0].contractorDto.fullName }}</h4>\r\n            </div>\r\n            <div class=\"col-2\">\r\n              <div\r\n                  class=\"text-sm-end\"\r\n                  v-if=\"tableItems.length\"\r\n              >\r\n                <download-excel\r\n                    :data=\"json_data\"\r\n                    :fields=\"jsonFieldsComputed\"\r\n                    :header=\"`${tableItems[0].contractorDto.fullName}`\"\r\n                    worksheet=\"My Worksheet\"\r\n                    :name=\"`${tableItems[0].contractorDto.fullName}.xls`\"\r\n                >\r\n                  <b-btn\r\n                      @click=\"downloadExcel\"\r\n                      type=\"button\"\r\n                      class=\"btn btn-rounded bg-primary mb-2\"\r\n                  >\r\n                    <i class=\"mdi mdi-microsoft-excel me-1\"></i> {{ $t('actions.download') }}\r\n                  </b-btn>\r\n                </download-excel>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- Table data -->\r\n          <b-table\r\n              :items=\"tableItems\"\r\n              :fields=\"tableFields\"\r\n              :busy=\"loadingTableItems\"\r\n              @row-clicked=\"rowClicked\"\r\n              id=\"my-table\"\r\n              class=\"custom-b-table\"\r\n              responsive\r\n              bordered\r\n              small\r\n              show-empty\r\n          >\r\n            <!-- NUMBER OF ITEM -->\r\n            <template #cell(index)=\"data\">\r\n              <strong>{{ data.index + 1 }}</strong>\r\n            </template>\r\n\r\n            <!-- STATUS -->\r\n            <template #cell(status)=\"data\">\r\n              <b-badge\r\n                  :variant=\"data.item.documentStatusCode === 'PENDING' ? 'warning' : data.item.documentStatusCode === 'READY' ? 'success' : ''\">\r\n                {{\r\n                  getName({\r\n                    nameRu: data.item.documentStatusNameRu,\r\n                    nameLt: data.item.documentStatusNameLt,\r\n                    nameUz: data.item.documentStatusNameUz,\r\n                  })\r\n                }}\r\n              </b-badge>\r\n            </template>\r\n\r\n            <!-- DOCUMENT_TYPE -->\r\n            <template #cell(documentType)=\"data\">\r\n              <b-badge\r\n                  :variant=\"data.item.documentType === 'KIRITISH' ? 'success' : data.item.documentType === 'CHIQARISH' ? 'danger' : ''\">\r\n                {{\r\n                  data.item.documentType\r\n                }}\r\n              </b-badge>\r\n            </template>\r\n\r\n            <!-- LAST_MODIFIED_BY -->\r\n            <template #cell(lastModifiedBy)=\"data\">\r\n              <template v-if=\"data.item.updatedByUserName\">\r\n                {{\r\n                  data.item.updatedByEmployeeFullName ? (data.item.updatedByEmployeeFullName + ' ' + (data.item.updatedByDirectoryPositionNameUz ? ('(' + data.item.updatedByDirectoryPositionNameUz + ', ' + $t('auth.username') + ' - ' + data.item.updatedByUserName + ')') : '')) : $t('auth.username') + ' - ' + data.item.updatedByUserName\r\n                }}\r\n                <br><i>{{ data.item.updatedByDate ? data.item.updatedByDate : '' }}</i>\r\n              </template>\r\n            </template>\r\n\r\n            <!-- APPROVED_BY -->\r\n            <template #cell(approvedBy)=\"data\">\r\n              <template v-if=\"data.item.confirmedByUserName\">\r\n                {{\r\n                  data.item.confirmedByEmployeeFullName ? (data.item.confirmedByEmployeeFullName + ' ' + (data.item.confirmedByDirectoryPositionNameUz ? ('(' + data.item.confirmedByDirectoryPositionNameUz + ', ' + $t('auth.username') + ' - ' + data.item.confirmedByUserName + ')') : '')) : $t('auth.username') + ' - ' + data.item.confirmedByUserName\r\n                }}\r\n                <br><i>{{ data.item.confirmedByDate ? data.item.confirmedByDate : '' }}</i>\r\n              </template>\r\n\r\n            </template>\r\n\r\n            <template #cell(contractorFullName)=\"data\">\r\n              {{ data.item.contractorDto.fullName }} - {{ data.item.contractorDto.inn }}\r\n            </template>\r\n\r\n            <!-- PRODUCTS_OR_SERVICES -->\r\n            <template #cell(productOrServices)=\"data\">\r\n              {{\r\n                getName({\r\n                  nameRu: data.item.directoryProductOrServiceDto.nameRu,\r\n                  nameLt: data.item.directoryProductOrServiceDto.nameLt,\r\n                  nameUz: data.item.directoryProductOrServiceDto.nameUz,\r\n                })\r\n              }}\r\n            </template>\r\n\r\n            <!-- OKEDS -->\r\n            <template #cell(oked)=\"data\">\r\n              <div v-if=\"data.item.infoOkedDto\">\r\n                <strong>{{ `${data.item.infoOkedDto.code} - ` }}</strong>\r\n                {{\r\n                  getName({\r\n                    nameRu: data.item.infoOkedDto.nameRu,\r\n                    nameLt: data.item.infoOkedDto.nameLt,\r\n                    nameUz: data.item.infoOkedDto.nameUz,\r\n                  })\r\n                }}\r\n              </div>\r\n            </template>\r\n\r\n            <!-- SKP -->\r\n            <template #cell(skp)=\"data\">\r\n              <div v-if=\"data.item.infoSKPDto\">\r\n                <strong>{{ `${data.item.infoSKPDto.code} - ` }}</strong>\r\n                {{\r\n                  getName({\r\n                    nameRu: data.item.infoSKPDto.nameRu,\r\n                    nameLt: data.item.infoSKPDto.nameLt,\r\n                    nameUz: data.item.infoSKPDto.nameUz,\r\n                  })\r\n                }}\r\n              </div>\r\n            </template>\r\n\r\n            <!-- TNVED -->\r\n            <template #cell(tnved)=\"data\">\r\n              <div v-if=\"data.item.infoTNVEDDto\">\r\n                <strong>{{ `${data.item.infoTNVEDDto.code} - ` }}</strong>\r\n                {{\r\n                  getName({\r\n                    nameRu: data.item.infoTNVEDDto.nameRu,\r\n                    nameLt: data.item.infoTNVEDDto.nameLt,\r\n                    nameUz: data.item.infoTNVEDDto.nameUz,\r\n                  })\r\n                }}\r\n              </div>\r\n            </template>\r\n\r\n            <!-- PRODUCT_OR_SERVICE_TYPE -->\r\n            <template #cell(productOrServiceType)=\"data\">\r\n              <strong v-if=\"data.item.directoryProductOrServiceTypeDto\">{{\r\n                  getName({\r\n                    nameRu: data.item.directoryProductOrServiceTypeDto.nameRu,\r\n                    nameLt: data.item.directoryProductOrServiceTypeDto.nameLt,\r\n                    nameUz: data.item.directoryProductOrServiceTypeDto.nameUz,\r\n                  })\r\n                }}</strong>\r\n            </template>\r\n\r\n            <!-- UNIT -->\r\n            <template #cell(unit)=\"data\">\r\n              <strong v-if=\"data.item.unitId\">{{\r\n                  getName({\r\n                    nameRu: data.item.unitNameRu,\r\n                    nameLt: data.item.unitNameLt,\r\n                    nameUz: data.item.unitNameUz,\r\n                  })\r\n                }}</strong>\r\n            </template>\r\n\r\n            <!-- FOUNDERS_PERCENTAGE -->\r\n            <template #cell(foundersPercentage)=\"data\">\r\n              <div class=\"d-flex align-items-center flex-wrap\">\r\n                <ul>\r\n                  <li\r\n                      v-for=\"(el, index) in data.item.contractorDto.foundersDtos\"\r\n                      :key=\"`founder-${el.id}-${index}`\"\r\n                  >{{\r\n                      el.founderName\r\n                    }} <strong>({{\r\n                        el.percentage\r\n                      }})</strong>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </template>\r\n\r\n            <!-- REGION -->\r\n            <template #cell(region)=\"data\">\r\n              <div class=\"d-flex align-items-center flex-wrap\">\r\n                <ul>\r\n                  <li\r\n                      v-for=\"(el, index) in data.item.regionDtos\"\r\n                      :key=\"`region-${index}`\"\r\n                  ><strong>{{\r\n                      getName({\r\n                        nameRu: el.nameRu,\r\n                        nameLt: el.nameLt,\r\n                        nameUz: el.nameUz,\r\n                      })\r\n                    }}</strong>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </template>\r\n\r\n            <!-- DISTRICT -->\r\n            <template #cell(district)=\"data\">\r\n              <div\r\n                  v-if=\"data.item.districtDtos\"\r\n                  class=\"d-flex align-items-center flex-wrap\"\r\n              >\r\n                <ul>\r\n                  <li\r\n                      v-for=\"(el, index) in data.item.districtDtos\"\r\n                      :key=\"`district-${index}`\"\r\n                  ><strong>{{\r\n                      getName({\r\n                        nameRu: el.nameRu,\r\n                        nameLt: el.nameLt,\r\n                        nameUz: el.nameUz,\r\n                      })\r\n                    }}</strong>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </template>\r\n            <!-- INNER TABLE FOR REESTR -->\r\n            <template #row-details=\"row\">\r\n              <b-row>\r\n                <b-col cols=\"12\">\r\n                  <b-tabs\r\n                      v-model=\"row.item.activeTabIdxOfInnerTabs\"\r\n                      @input=\"setRowsInnerTabsData(row.item, row.index, $event)\"\r\n                      card\r\n                  >\r\n                    <b-tab\r\n                        v-for=\"(t, index) in tableInnerTabs\"\r\n                        :key=\"`tableInnerTab-${index}`\"\r\n                        :title=\"t.title.toUpperCase()\"\r\n                    >\r\n                      <b-tabs\r\n                          v-if=\"t.key === 'contractor'\"\r\n                          v-model=\"row.item.activeTabIdxForContractor\"\r\n                          @input=\"setRowsInnerTabsData(row.item, row.index, $event, true)\"\r\n                      >\r\n                        <b-tab\r\n                            v-for=\"(tc, indexTc) in contractorTabs\"\r\n                            :key=\"`contractorTab-${indexTc}`\"\r\n                            :title=\"tc.title\"\r\n                        >\r\n                          <b-tabs\r\n                              card\r\n                              v-if=\"tc.key === 'founders'\"\r\n                              v-model=\"row.item.activeTabIdxForContractorFounder\"\r\n                              @input=\"setRowsInnerTabsData(row.item, row.index, indexTc, true, true, $event)\"\r\n                          >\r\n                            <b-tab\r\n                                v-for=\"(tcf, indexTcf) in founderTabs\"\r\n                                :key=\"`contractorFoundersTab-${indexTcf}`\"\r\n                                :title=\"tcf.title\"\r\n                            >\r\n                              <template #title>\r\n                                {{ tcf.title }}\r\n                                <b-badge\r\n                                    v-if=\"(tcf.key === 'legal' || tcf.key === 'individual') && row.item.foundersFullData\"\r\n                                    :variant=\"tcf.key === 'legal' ? 'primary' : 'success'\"\r\n                                    class=\"font-weight-bold\"\r\n                                    style=\"font-size: .7rem;\"\r\n                                >\r\n                                  {{ tcf.key === 'legal' ? row.item.foundersFullData.founderLegalCount : row.item.foundersFullData.founderIndividualCount\r\n                                  }}\r\n                                </b-badge>\r\n                              </template>\r\n                              <b-table\r\n                                  :items=\"row.item.contractorTabItems\"\r\n                                  :fields=\"tcf.fields\"\r\n                                  :busy=\"row.item.loadingInnerData\"\r\n                                  sticky-header=\"400px\"\r\n                                  bordered\r\n                                  small\r\n                                  hover\r\n                                  show-empty\r\n                                  striped\r\n                              >\r\n                                <!-- TABLE_BUSY SLOT -->\r\n                                <template #table-busy>\r\n                                  <div class=\"text-center my-2\">\r\n                                    <b-spinner\r\n                                        variant=\"primary\"\r\n                                        class=\"align-middle\"\r\n                                    ></b-spinner>\r\n\r\n                                  </div>\r\n                                </template>\r\n\r\n                                <template #cell(index)=\"data\">\r\n                                  {{\r\n                                    data.index + 1\r\n                                  }}\r\n                                </template>\r\n\r\n                                <!-- FULL_NAME -->\r\n                                <template #cell(fullName)=\"data\">\r\n                                  {{ data.item.firstName }} {{ data.item.lastName }}\r\n                                  {{ data.item.middleName ? data.item.middleName : '' }}\r\n                                </template>\r\n\r\n                                <!-- FOUNDER_SHARE_SUM -->\r\n                                <template #cell(founderShareSum)=\"data\">\r\n                                  {{ data.item.founderShareSum | toCurrency }}\r\n                                </template>\r\n\r\n                                <!-- FOUNDER_TYPE -->\r\n                                <template #cell(founderType)=\"\">\r\n                                  <b-badge\r\n                                      v-if=\"tcf.key === 'legal' || tcf.key === 'individual'\"\r\n                                      :variant=\"tcf.key === 'legal' ? 'primary' : 'success'\"\r\n                                      class=\"font-weight-bold\"\r\n                                      style=\"font-size: .7rem;\"\r\n                                  >{{ tcf.key === 'legal' ? $t('column.legal_entity') : $t('column.individual') }}\r\n                                  </b-badge>\r\n                                </template>\r\n\r\n                                <template #empty=\"\">\r\n                                  <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                                </template>\r\n\r\n                              </b-table>\r\n                            </b-tab>\r\n                          </b-tabs>\r\n                          <b-table\r\n                              v-else\r\n                              :items=\"row.item.contractorTabItems\"\r\n                              :fields=\"tc.fields\"\r\n                              :busy=\"row.item.loadingInnerData\"\r\n                              sticky-header=\"400px\"\r\n                              bordered\r\n                              small\r\n                              hover\r\n                              show-empty\r\n                              striped\r\n                          >\r\n                            <!-- TABLE_BUSY SLOT -->\r\n                            <template #table-busy>\r\n                              <div class=\"text-center my-2\">\r\n                                <b-spinner\r\n                                    variant=\"primary\"\r\n                                    class=\"align-middle\"\r\n                                ></b-spinner>\r\n\r\n                              </div>\r\n                            </template>\r\n\r\n                            <template #cell(index)=\"data\">\r\n                              {{\r\n                                data.index + 1\r\n                              }}\r\n                            </template>\r\n                            <!-- NAME -->\r\n                            <template #cell(name)=\"data\">\r\n                              <div class=\"d-flex justify-content-between\">\r\n                                <p\r\n                                    class=\"mb-0 d-flex align-items-center\"\r\n                                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                                ><span class=\"badge bg-primary\">ЎЗ</span> : <span> {{ data.item.nameUz }}</span></p>\r\n                                <p\r\n                                    class=\"mb-0 d-flex align-items-center\"\r\n                                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                                ><span class=\"badge bg-primary\">O'Z</span> : <span> {{ data.item.nameLt }}</span></p>\r\n                                <p\r\n                                    class=\"mb-0 d-flex align-items-center\"\r\n                                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                                ><span class=\"badge bg-primary\">РУ</span> : <span> {{ data.item.nameRu }}</span></p>\r\n                              </div>\r\n                            </template>\r\n\r\n                            <!-- FULL_NAME -->\r\n                            <template #cell(directorOrAccounterFullName)=\"data\">\r\n                              {{ data.item.firstName }} {{ data.item.lastName }}\r\n                              {{ data.item.middleName ? data.item.middleName : '' }}\r\n                            </template>\r\n\r\n                            <!-- STATUS -->\r\n                            <template #cell(status)=\"data\">\r\n                              <div class=\"d-flex justify-content-between\">\r\n                                <p>\r\n                                  {{\r\n                                    getName({\r\n                                      nameRu: data.item.statusNameRu,\r\n                                      nameLt: data.item.statusNameLt,\r\n                                      nameUz: data.item.statusNameUz,\r\n                                    })\r\n                                  }}\r\n                                </p>\r\n                              </div>\r\n                            </template>\r\n\r\n                            <!-- PARENT -->\r\n                            <template #cell(parent)=\"data\">\r\n                                                            <span v-if=\"data.item.parent\">\r\n                                                                {{ data.item.parent.fullName }}\r\n                                                            </span>\r\n                            </template>\r\n\r\n                            <!-- STATUS -->\r\n                            <template #cell(formOfOwnership)=\"data\">\r\n                              <div class=\"d-flex justify-content-between\">\r\n                                <p>\r\n                                  {{\r\n                                    getName({\r\n                                      nameRu: data.item.formOfOwnershipNameRu,\r\n                                      nameLt: data.item.formOfOwnershipNameLt,\r\n                                      nameUz: data.item.formOfOwnershipNameUz,\r\n                                    })\r\n                                  }}\r\n                                </p>\r\n                              </div>\r\n                            </template>\r\n\r\n                            <!-- REGION NAME -->\r\n                            <template #cell(regionName)=\"data\">\r\n                              <p v-if=\"data.item.addressDto\">\r\n                                {{\r\n                                  getName({\r\n                                    nameRu: data.item.addressDto.regionNameRu,\r\n                                    nameLt: data.item.addressDto.regionNameLt,\r\n                                    nameUz: data.item.addressDto.regionNameUz,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                            </template>\r\n\r\n                            <!-- DISTRICT NAME -->\r\n                            <template #cell(districtName)=\"data\">\r\n                              <p v-if=\"data.item.addressDto\">\r\n                                {{\r\n                                  getName({\r\n                                    nameRu: data.item.addressDto.districtNameRu,\r\n                                    nameLt: data.item.addressDto.districtNameLt,\r\n                                    nameUz: data.item.addressDto.districtNameUz,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                            </template>\r\n\r\n                            <!-- CAN REGISTER -->\r\n                            <template\r\n                                v-if=\"tc.key === 'generalInfo'\"\r\n                                #cell(canRegister)=\"data\"\r\n                            >\r\n                              <div class=\"d-flex justify-content-center\">\r\n                                                                <span\r\n                                                                    class=\"badge bg-success\"\r\n                                                                    v-if=\"data.item.canRegister === true\"\r\n                                                                >HA</span>\r\n                                <span\r\n                                    class=\"badge bg-warning\"\r\n                                    v-if=\"data.item.canRegister === false\"\r\n                                >YO'Q</span>\r\n                              </div>\r\n                            </template>\r\n\r\n                            <!-- FOUNDER_SHARE_SUM -->\r\n                            <template #cell(founderShareSum)=\"data\">\r\n                              {{ data.item.founderShareSum | toCurrency }}\r\n                            </template>\r\n\r\n                            <!-- FOUNDER_TYPE -->\r\n                            <template #cell(founderType)=\"data\">\r\n                              <b-badge\r\n                                  :variant=\"data.item.isLegal ? 'primary' : 'success'\"\r\n                                  class=\"font-weight-bold\"\r\n                                  style=\"font-size: .7rem;\"\r\n                              >{{ data.item.isLegal ? $t('column.legal_entity') : $t('column.individual') }}\r\n                              </b-badge>\r\n                            </template>\r\n\r\n                            <template #empty=\"\">\r\n                              <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                            </template>\r\n\r\n                          </b-table>\r\n                        </b-tab>\r\n                      </b-tabs>\r\n                      <b-table\r\n                          v-else\r\n                          :items=\"row.item.innerTabItems\"\r\n                          :fields=\"t.fields\"\r\n                          :busy=\"row.item.loadingInnerData\"\r\n                          sticky-header=\"400px\"\r\n                          bordered\r\n                          small\r\n                          hover\r\n                          show-empty\r\n                          striped\r\n                      >\r\n                        <!-- TABLE_BUSY SLOT -->\r\n                        <template #table-busy>\r\n                          <div class=\"text-center my-2\">\r\n                            <b-spinner\r\n                                variant=\"primary\"\r\n                                class=\"align-middle\"\r\n                            ></b-spinner>\r\n\r\n                          </div>\r\n                        </template>\r\n\r\n                        <template #cell(index)=\"innerData\">\r\n                          {{\r\n                            innerData.index + 1\r\n                          }}\r\n                        </template>\r\n\r\n                        <!-- PRICE_APPROVAL_CURRENT_PRICE_WITH_DUTY -->\r\n                        <template #cell(currentPriceWithDuty)=\"data\">\r\n                          {{ data.item.currentPriceWithDuty | toCurrency }}\r\n                        </template>\r\n                        <!-- PRICE_APPROVAL_CURRENT_PRICE_WITHOUT_DUTY -->\r\n                        <template #cell(currentPriceWithoutDuty)=\"data\">\r\n                          {{ data.item.currentPriceWithoutDuty | toCurrency }}\r\n                        </template>\r\n\r\n                        <!-- COMISSION_SHOWCASE_AMOUNT -->\r\n                        <template #cell(instructionAmount)=\"data\">\r\n                          {{ data.item.instructionAmount | toCurrency }}\r\n                        </template>\r\n                        <!-- COMISSION_REMAINDER_AMOUNT -->\r\n                        <template #cell(residueAmount)=\"data\">\r\n                          {{ data.item.residueAmount | toCurrency }}\r\n                        </template>\r\n\r\n                        <template #empty=\"\">\r\n                          <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                        </template>\r\n\r\n                      </b-table>\r\n                    </b-tab>\r\n                  </b-tabs>\r\n                </b-col>\r\n                <!-- <b-col\r\n                    v-if=\"isNatural || isNaturalRepublic\"\r\n                    sm=\"5\"\r\n                >\r\n                    <h4 class=\"text-center\">{{$t('column.announced_media')}}</h4>\r\n                    <b-table\r\n                        :items=\"row.item.announcedMediaDtos ? row.item.announcedMediaDtos : []\"\r\n                        :fields=\"mediaTableFields\"\r\n                        :busy=\"row.item.loadingInnerData\"\r\n                        bordered\r\n                        small\r\n                        hover\r\n                        show-empty\r\n                        striped\r\n                        table-variant=\"info\"\r\n                    >\r\n\r\n\r\n                        <template #cell(index)=\"innerData\">\r\n                            {{\r\n                        innerData.index + 1\r\n                    }}\r\n                        </template>\r\n\r\n                        <template #empty=\"\">\r\n                            <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                        </template>\r\n\r\n                    </b-table>\r\n                </b-col>\r\n                <b-col :sm=\"isNatural || isNaturalRepublic ? '7' : '12'\">\r\n                    <h4 class=\"text-center\">{{$t('column.commission_applications')}}</h4>\r\n                    <b-table\r\n                        :items=\"row.item.commissionApplicationDtos ? row.item.commissionApplicationDtos : []\"\r\n                        :fields=\"comissionTableFields\"\r\n                        :busy=\"row.item.loadingInnerData\"\r\n                        bordered\r\n                        small\r\n                        hover\r\n                        show-empty\r\n                        striped\r\n                        table-variant=\"warning\"\r\n                    >\r\n\r\n\r\n                        <template #cell(index)=\"innerData\">\r\n                            {{\r\n                        innerData.index + 1\r\n                    }}\r\n                        </template>\r\n\r\n                        <template #empty=\"\">\r\n                            <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                        </template>\r\n\r\n                    </b-table>\r\n                </b-col> -->\r\n              </b-row>\r\n            </template>\r\n            <!-- ACTIONS -->\r\n            <template #cell(actions)=\"data\">\r\n              <div class=\"general-table__actions d-flex justify-content-center\">\r\n                <b-btn\r\n                    v-if=\"canUpdateReestr && data.item.documentStatusCode === 'PENDING' && data.item.documentType === 'KIRITISH'\"\r\n                    variant=\"link\"\r\n                    v-b-popover.hover.bottom=\"{variant: 'dark', content: $t('actions.edit')}\"\r\n                    class=\"text-decoration-none p-0\"\r\n                    style=\"font-size: 1.2rem; margin-right: 1rem;\"\r\n                    @click=\"editItem(data.item)\"\r\n                >\r\n                  <i class=\"mdi mdi-circle-edit-outline edit\" />\r\n                </b-btn>\r\n                <a v-b-popover.hover.bottom=\"{variant: 'dark', content: $t('actions.download')}\"\r\n                   style=\"font-size: 1.2rem; margin-right: 1rem;\" :href=\"`${publicPath}${data.item.fileUrl}`\" target=\"_blank\" >\r\n                  <i class=\"mdi mdi-file-download\" />\r\n                </a>\r\n                <b-btn\r\n                    v-if=\"canApproveReestr && data.item.documentStatusCode === 'PENDING'\"\r\n                    v-b-popover.hover.bottom=\"{variant: 'dark', content: $t('actions.confirm')}\"\r\n                    variant=\"link\"\r\n                    class=\"text-decoration-none p-0\"\r\n                    style=\"font-size: 1.2rem; color: green;\"\r\n                >\r\n                  <i @click=\"approveReestrDoc(data.item)\" class=\"mdi mdi-check-circle-outline edit\" />\r\n                </b-btn>\r\n              </div>\r\n            </template>\r\n\r\n            <!-- EMPTY SLOT -->\r\n            <template #empty=\"\">\r\n              <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n            </template>\r\n\r\n            <!-- TABLE_BUSY SLOT -->\r\n            <template #table-busy>\r\n              <div class=\"text-center my-2\">\r\n                <b-spinner\r\n                    variant=\"primary\"\r\n                    class=\"align-middle\"\r\n                ></b-spinner>\r\n              </div>\r\n            </template>\r\n          </b-table>\r\n\r\n          <!-- end table -->\r\n          <!-- <b-pagination\r\n              v-model=\"var_default_search_payload.page\"\r\n              :total-rows=\"totalItems\"\r\n              :per-page=\"var_default_search_payload.itemsPerPage\"\r\n              aria-controls=\"my-table\"\r\n              class=\"justify-content-end\"\r\n          ></b-pagination> -->\r\n        </div>\r\n        <!-- end card-body -->\r\n      </div>\r\n      <!-- end card -->\r\n    </div>\r\n    <!-- end col -->\r\n  </div>\r\n  <!-- end row -->\r\n</template>\r\n\r\n<script>\r\nconst MAIN_API_URL = 'reestr/contractor-reestr-documents'\r\nconst APPEND_API_URL_NATURAL = 'for-contractor/estestveniy'\r\nconst APPEND_API_URL_DOMINANT = 'for-contractor/daminiriushiy'\r\nimport crudAndListsService from '@/shared/services/crud_and_list.service'\r\nimport helperService from '@/shared/services/helper.service'\r\n\r\nexport default {\r\n  name: 'ReestrHistoryForContractorNatural',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      publicPath: process.env.BASE_URL,\r\n      // activeTabIdxForContractor: 0,\r\n      // activeTabIdxOfInnerTabs: 0,\r\n      founderTabs: [\r\n        {\r\n          key: \"legal\",\r\n          title: this.$t('column.legal_entity'),\r\n          fields: [\r\n            {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n            },\r\n            {\r\n              key: 'name',\r\n              label: this.$t('column.name'),\r\n            },\r\n            {\r\n              key: 'tin',\r\n              label: this.$t('column.inn'),\r\n            },\r\n            {\r\n              key: 'founderType',\r\n              label: this.$t('column.type'),\r\n            },\r\n            {\r\n              key: 'founderSharePercent',\r\n              label: this.$t('column.share_percentage'),\r\n            },\r\n            {\r\n              key: 'founderShareSum',\r\n              label: this.$t('column.share_sum'),\r\n            },\r\n          ]\r\n        },\r\n        {\r\n          key: \"individual\",\r\n          title: this.$t('column.individual'),\r\n          fields: [\r\n            {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n            },\r\n            {\r\n              key: 'fullName',\r\n              label: this.$t('column.name'),\r\n            },\r\n            {\r\n              key: 'tin',\r\n              label: this.$t('column.inn'),\r\n            },\r\n            {\r\n              key: 'pinfl',\r\n              label: this.$t('column.personal_number'),\r\n            },\r\n            {\r\n              key: 'founderType',\r\n              label: this.$t('column.type'),\r\n            },\r\n            {\r\n              key: 'founderSharePercent',\r\n              label: this.$t('column.share_percentage'),\r\n            },\r\n            {\r\n              key: 'founderShareSum',\r\n              label: this.$t('column.share_sum'),\r\n            },\r\n          ]\r\n        }\r\n      ],\r\n      contractorTabs: [\r\n        {\r\n          key: \"generalInfo\",\r\n          title: this.$t('column.general_info'),\r\n          fields: [\r\n            {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n            },\r\n            { label: this.$t('column.full_name'), key: \"fullName\", thStyle: { 'min-width': '17rem' } },\r\n            { label: this.$t('column.superior_parent'), key: \"parent\" },\r\n            { label: this.$t('column.status'), key: \"status\" },\r\n            { label: this.$t('submodules.form_of_ownership.title'), key: \"formOfOwnership\" },\r\n            {\r\n              label: this.$t('column.can_login'), key: \"canRegister\", tdClass: \"text-center\",\r\n            },\r\n            { label: this.$t('column.inn'), key: \"inn\" },\r\n            { label: this.$t('column.oked'), key: \"oked\" },\r\n            // { label: this.$t('column.director'), key: \"director\" },\r\n            // { label: this.$t('column.accounter'), key: \"accounter\" },\r\n            { label: this.$t('column.mobile_number'), key: \"mobileNumber\" },\r\n            { label: this.$t('column.region'), key: \"regionName\" },\r\n            { label: this.$t('column.district'), key: \"districtName\" },\r\n            { label: this.$t('column.address'), key: \"address\" },\r\n            { label: this.$t('column.phone_number'), key: \"phoneNumber\" },\r\n            { label: this.$t('column.mail'), key: \"email\" },\r\n            { label: this.$t('column.fax_number'), key: \"faxNumber\" }\r\n          ]\r\n        },\r\n        {\r\n          key: \"director\",\r\n          title: this.$t('column.director'),\r\n          fields: [\r\n            {\r\n              key: 'index',\r\n              label: '#'\r\n            },\r\n            {\r\n              key: 'directorOrAccounterFullName',\r\n              label: this.$t('column.name')\r\n            },\r\n            {\r\n              key: 'inn',\r\n              label: this.$t('column.inn'),\r\n            },\r\n            {\r\n              key: 'pnfl',\r\n              label: this.$t('column.personal_number'),\r\n            },\r\n          ]\r\n        },\r\n        {\r\n          key: \"accounter\",\r\n          title: this.$t('column.accounter'),\r\n          fields: [\r\n            {\r\n              key: 'index',\r\n              label: '#'\r\n            },\r\n            {\r\n              key: 'directorOrAccounterFullName',\r\n              label: this.$t('column.name')\r\n            },\r\n            {\r\n              key: 'inn',\r\n              label: this.$t('column.inn'),\r\n            },\r\n            {\r\n              key: 'pnfl',\r\n              label: this.$t('column.personal_number'),\r\n            },\r\n          ]\r\n        },\r\n        {\r\n          key: \"founders\",\r\n          title: this.$t('column.founders'),\r\n          fields: [\r\n            {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n            },\r\n            {\r\n              key: 'fullName',\r\n              label: this.$t('column.name'),\r\n            },\r\n            {\r\n              key: 'inn',\r\n              label: this.$t('column.inn'),\r\n            },\r\n            {\r\n              key: 'pnfl',\r\n              label: this.$t('column.personal_number'),\r\n            },\r\n            {\r\n              key: 'founderType',\r\n              label: this.$t('column.type'),\r\n            },\r\n            {\r\n              key: 'founderSharePercent',\r\n              label: this.$t('column.share_percentage'),\r\n            },\r\n            {\r\n              key: 'founderShareSum',\r\n              label: this.$t('column.share_sum'),\r\n            },\r\n          ]\r\n        }\r\n      ],\r\n      tableInnerTabs: [\r\n        {\r\n          key: \"contractor\",\r\n          title: this.$t('column.business_entity'),\r\n          fields: [\r\n            {\r\n              key: 'index',\r\n              label: '#'\r\n            },\r\n            {\r\n              key: 'name',\r\n              label: this.$t('column.name')\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          key: \"prices\",\r\n          title: this.$t('column.prices'),\r\n          fields: [\r\n            { label: `${this.$t('column.price_approval_basis')} ${this.$t('column.date')}`, key: \"priceApprovalDate\" },\r\n            { label: `${this.$t('column.effective_date_price')}`, key: \"priceEffectiveDate\" },\r\n            {\r\n              label: `${this.$t('column.price_approval_basis')} ${this.$t('column.number')}`,\r\n              key: \"priceApprovalNumber\"\r\n            },\r\n            { label: `${this.$t('column.current_price_with_duty')}`, key: \"currentPriceWithDuty\" },\r\n            { label: `${this.$t('column.current_price_without_duty')}`, key: \"currentPriceWithoutDuty\" },\r\n            { label: `${this.$t('column.additional_info')}`, key: \"additionalInformation\" },\r\n          ]\r\n        },\r\n        {\r\n          key: \"announcedMedia\",\r\n          title: this.$t('column.announced_media'),\r\n          fields: [\r\n            {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n            },\r\n            { label: this.$t('column.name'), key: \"announcedMediaName\" },\r\n            { label: this.$t('column.link'), key: \"announcedMediaLink\" },\r\n            { label: this.$t('column.date'), key: \"announcedMediaDate\" }\r\n          ]\r\n        },\r\n        {\r\n          key: \"comission\",\r\n          title: this.$t('column.commission_applications'),\r\n          fields: [\r\n            {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n            },\r\n            { label: this.$t('column.number'), key: \"commencementNumber\" },\r\n            { label: this.$t('column.date'), key: \"commencementDate\" },\r\n            { label: this.$t('column.initiator'), key: \"initiatorName\" },\r\n            { label: this.$t('column.finishing_type'), key: \"completionWorkType\" },\r\n            { label: this.$t('column.finishing_date'), key: \"completionWorkDate\" },\r\n            { label: this.$t('column.showcase_amount'), key: \"instructionAmount\" },\r\n            { label: this.$t('column.remainder_amount'), key: \"residueAmount\" }\r\n          ]\r\n        },\r\n      ],\r\n      regionId: null,\r\n      loadingTableItems: false,\r\n      regions: [],\r\n      json_fields: {\r\n        \"Order Number\": \"orderNumber\",\r\n        \"Reestr Accepted Date\": \"reestrAcceptedDate\",\r\n        \"Reestr Closed Date\": \"reestrClosedDate\",\r\n        \"Contractor FullName\": \"contractorFullName\",\r\n        \"Government Percentage\": \"governmentPercentage\",\r\n        \"Status\": \"status\",\r\n        \"Product or Service Type\": \"productOrServiceType\",\r\n        \"Product or Services\": \"productOrServices\",\r\n        \"Unit\": \"unit\",\r\n        \"Oked\": \"oked\",\r\n        \"Skp\": \"skp\",\r\n        \"Tnved\": \"tnved\",\r\n        \"Comment\": \"comment\",\r\n      },\r\n      json_data: [],\r\n      json_meta: [\r\n        [\r\n          {\r\n            key: \"charset\",\r\n            value: \"utf-8\",\r\n          },\r\n        ],\r\n      ],\r\n      searchKeyword: '',\r\n      selected: 20,\r\n      optionsTable: [\r\n        { value: 20, text: 20 },\r\n        { value: 50, text: 50 },\r\n        { value: 100, text: 100 },\r\n        { value: 150, text: 150 },\r\n        { value: 200, text: 200 },\r\n      ],\r\n      activeDep: {},\r\n      tableItems: [],\r\n      totalItems: 0,\r\n      tableFields: [\r\n        {\r\n          label: \"#\",\r\n          thClass: \"text-center\",\r\n          tdClass: \"text-center\",\r\n          sortable: false,\r\n          key: \"index\",\r\n        },\r\n        {\r\n          label: this.$t('column.actions'),\r\n          key: \"actions\",\r\n          thClass: \"text-center\",\r\n          tdClass: \"text-center\",\r\n          sortable: false\r\n        },\r\n        { label: this.$t('column.order_number'), key: \"orderNumber\" },\r\n        { label: this.$t('column.added_date_to_reestr'), key: \"reestrAcceptedDate\" },\r\n        { label: this.$t('column.removed_date_from_reestr'), key: \"reestrClosedDate\" },\r\n        { label: this.$t('column.business_entity'), key: \"contractorFullName\" },\r\n        { label: this.$t('column.region'), key: \"region\" },\r\n        { label: this.$t('column.government_percentage'), key: \"governmentPercentage\" },\r\n        { label: this.$t('column.founders_percentage'), key: \"foundersPercentage\" },\r\n        { label: this.$t('column.document_type'), key: \"documentType\" },\r\n        { label: this.$t('column.status'), key: \"status\" },\r\n        { label: this.$t('column.product_or_service_type'), key: \"productOrServiceType\" },\r\n        { label: this.$t('submodules.product_or_services.title'), key: \"productOrServices\" },\r\n        { label: this.$t('column.unit'), key: \"unit\" },\r\n        { label: this.$t('column.oked'), key: \"oked\" },\r\n        { label: this.$t('column.comment'), key: \"comment\" },\r\n        { label: this.$t('column.last_modified_by'), key: \"lastModifiedBy\" },\r\n        { label: this.$t('column.approved_by'), key: \"approvedBy\" },\r\n      ],\r\n      /* mediaTableFields: [\r\n          {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n          },\r\n          { label: this.$t('column.name'), key: \"announcedMediaName\" },\r\n          { label: this.$t('column.link'), key: \"announcedMediaLink\" },\r\n          { label: this.$t('column.date'), key: \"announcedMediaDate\" }\r\n      ],\r\n      comissionTableFields: [\r\n          {\r\n              label: \"#\",\r\n              thClass: \"text-center\",\r\n              tdClass: \"text-center\",\r\n              sortable: false,\r\n              key: \"index\",\r\n          },\r\n          { label: this.$t('column.number'), key: \"commencementNumber\" },\r\n          { label: this.$t('column.date'), key: \"commencementDate\" },\r\n          { label: this.$t('column.initiator'), key: \"initiatorName\" },\r\n          { label: this.$t('column.finishing_type'), key: \"completionWorkType\" },\r\n          { label: this.$t('column.finishing_date'), key: \"completionWorkDate\" },\r\n          { label: this.$t('column.showcase_amount'), key: \"instructionAmount\" },\r\n          { label: this.$t('column.remainder_amount'), key: \"residueAmount\" }\r\n      ] */\r\n    };\r\n  },\r\n  /*\r\n  COMPUTED */\r\n  computed: {\r\n    /* activeInnerTab () {\r\n        return this.tableInnerTabs[this.activeTabIdxOfInnerTabs].key\r\n    },\r\n    activeContractorTab () {\r\n        return this.contractorTabs[this.activeTabIdxForContractor].key\r\n    }, */\r\n    numberOfPages() {\r\n      return (!this.totalItems || this.totalItems <= 0 || this.totalItems < this.var_default_search_payload.itemsPerPage) ? 1 : this.totalItems / this.var_default_search_payload.itemsPerPage\r\n    },\r\n    isDominant() {\r\n      return this.$route.name === 'ReestrHistoryForContractorDominant'\r\n    },\r\n    isNatural() {\r\n      return this.$route.name === 'ReestrHistoryForContractorNatural'\r\n    },\r\n    isDominantRepublic() {\r\n      return this.$route.name === 'ReestrHistoryForRepublicContractorDominant'\r\n    },\r\n    isNaturalRepublic() {\r\n      return this.$route.name === 'ReestrHistoryForRepublicContractorNatural'\r\n    },\r\n    jsonFieldsComputed() {\r\n      let tmp = {}\r\n      this.tableFields.forEach((field, index) => {\r\n        if (index != 0 && index != this.tableFields.length - 1) {\r\n          tmp[field.label] = field.key\r\n        }\r\n      })\r\n      return tmp\r\n    },\r\n    canUpdateReestr() {\r\n      if (this.isDominant || this.isDominantRepublic) {\r\n        return this.$can('update', 'contractor reestr document for acceptance daminiriushiy')\r\n      } else if (this.isNatural || this.isNaturalRepublic) {\r\n        return this.$can('update', 'contractor reestr document for acceptance estestveniy')\r\n      }\r\n      return false\r\n    },\r\n    canApproveReestr() {\r\n      return this.$can('contractor', 'reestr document confirmation')\r\n    }\r\n  },\r\n  methods: {\r\n    approveReestrDoc(doc) {\r\n      this.$bvModal.msgBoxConfirm(this.$t('messages.you_sure_title'), {\r\n        okTitle: this.$t('actions.confirm'),\r\n        cancelTitle: this.$t('actions.cancel')\r\n      })\r\n          .then(value => {\r\n            if (value) {\r\n              helperService\r\n                  .approveReestrDoc(doc.id)\r\n                  .then((res) => {\r\n                    this.fetchTableItems()\r\n                  })\r\n                  .catch(e => {\r\n                    console.log(e)\r\n                  })\r\n            }\r\n          })\r\n          .catch(err => {\r\n            // An error occurred\r\n          })\r\n    },\r\n    activeInnerTab(activeTabIdxOfInnerTabs) {\r\n      return this.tableInnerTabs[activeTabIdxOfInnerTabs].key\r\n    },\r\n    activeContractorTab(activeTabIdxForContractor) {\r\n      return this.contractorTabs[activeTabIdxForContractor].key\r\n    },\r\n    setRowsInnerTabsData(item, index, selectedTabIndex, isForContractor = false, isForFounders = false, founderTabIndex = 0) {\r\n      if (this.tableInnerTabs[selectedTabIndex].key === 'contractor' || isForContractor) {\r\n        this.$set(item, 'loadingInnerData', true)\r\n        if (this.contractorTabs[selectedTabIndex].key === 'generalInfo') {\r\n          this.$set(item, 'contractorTabItems', [item.contractorDto])\r\n          this.$set(item, 'loadingInnerData', false)\r\n        } else if (this.contractorTabs[selectedTabIndex].key === 'director') {\r\n          helperService.getContractorDirector(item.contractorDto.id)\r\n              .then(res => {\r\n                this.$set(item, 'contractorTabItems', [res.data])\r\n              })\r\n              .catch(e => {\r\n                this.$set(item, 'contractorTabItems', [])\r\n                console.log(e)\r\n              })\r\n              .finally(() => {\r\n                this.$set(item, 'loadingInnerData', false)\r\n              })\r\n        } else if (this.contractorTabs[selectedTabIndex].key === 'accounter') {\r\n          helperService.getContractorAccounter(item.contractorDto.id)\r\n              .then(res => {\r\n                this.$set(item, 'contractorTabItems', [res.data])\r\n              })\r\n              .catch(e => {\r\n                this.$set(item, 'contractorTabItems', [])\r\n                console.log(e)\r\n              })\r\n              .finally(() => {\r\n                this.$set(item, 'loadingInnerData', false)\r\n              })\r\n        } else if (this.contractorTabs[selectedTabIndex].key === 'founders') {\r\n          if (isForFounders && item.foundersFullData) {\r\n            if (this.founderTabs[item.activeTabIdxForContractorFounder].key === 'legal') {\r\n              this.$set(item, 'contractorTabItems', item.foundersFullData.founderLegalDto)\r\n            } else if (this.founderTabs[item.activeTabIdxForContractorFounder].key === 'individual') {\r\n              this.$set(item, 'contractorTabItems', item.foundersFullData.founderIndividualDto)\r\n            }\r\n            this.$set(item, 'loadingInnerData', false)\r\n          } else {\r\n            helperService.getContractorFounders(item.contractorDto.id)\r\n                .then(res => {\r\n                  this.$set(item, 'foundersFullData', res.data)\r\n                  if (this.founderTabs[item.activeTabIdxForContractorFounder].key === 'legal') {\r\n                    this.$set(item, 'contractorTabItems', res.data.founderLegalDto)\r\n                  } else if (this.founderTabs[item.activeTabIdxForContractorFounder].key === 'individual') {\r\n                    this.$set(item, 'contractorTabItems', res.data.founderIndividualDto)\r\n                  }\r\n                })\r\n                .catch(e => {\r\n                  this.$set(item, 'foundersFullData', null)\r\n                  this.$set(item, 'contractorTabItems', [])\r\n                  console.log(e)\r\n                })\r\n                .finally(() => {\r\n                  this.$set(item, 'loadingInnerData', false)\r\n                })\r\n          }\r\n        }\r\n      } else if (this.tableInnerTabs[selectedTabIndex].key === 'prices') {\r\n        this.$set(item, 'innerTabItems', item.priceApprovalDtos)\r\n      } else if (this.tableInnerTabs[selectedTabIndex].key === 'announcedMedia') {\r\n        this.$set(item, 'innerTabItems', item.announcedMediaDtos)\r\n      } else if (this.tableInnerTabs[selectedTabIndex].key === 'comission') {\r\n        this.$set(item, 'innerTabItems', item.commissionApplicationDtos)\r\n      }\r\n    },\r\n    rowClicked(item, index) {\r\n      this.$set(item, '_showDetails', !item._showDetails)\r\n      if (!item.activeTabIdxOfInnerTabs) {\r\n        this.$set(item, 'activeTabIdxOfInnerTabs', 0)\r\n      }\r\n      if (!item.activeTabIdxForContractor) {\r\n        this.$set(item, 'activeTabIdxForContractor', 0)\r\n      }\r\n      if (!item.activeTabIdxForContractorFounder) {\r\n        this.$set(item, 'activeTabIdxForContractorFounder', 0)\r\n      }\r\n      this.setRowsInnerTabsData(item, index, 0, true)\r\n      // this.fetchReestrDocsByTypeId(null, item.typeId, index)\r\n    },\r\n    fetchReestrDocsByTypeId(toggleDetails, typeId, index) {\r\n      if (toggleDetails) {\r\n        toggleDetails()\r\n      }\r\n      this.$set(this.tableItems[index], 'loadingInnerData', true)\r\n      crudAndListsService\r\n          .searchList(MAIN_API_URL, null, `${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?regionId=${this.regionId}&typeId=${typeId}`)\r\n          .then((res) => {\r\n            this.$set(this.tableItems[index], 'reestr', res.data)\r\n          })\r\n          .catch(e => {\r\n            this.$set(this.tableItems[index], 'reestr', [])\r\n          })\r\n          .finally(() => {\r\n            this.$set(this.tableItems[index], 'loadingInnerData', false)\r\n          })\r\n    },\r\n    async regionSelected($event, dontResetDistrict = false) {\r\n      if ($event) {\r\n        this.fetchTableItems()\r\n      }\r\n    },\r\n    downloadExcel() {\r\n      this.json_data = []\r\n      this.tableItems.forEach(res => {\r\n        let obj = {}\r\n        obj.orderNumber = res.orderNumber\r\n        obj.reestrAcceptedDate = res.reestrAcceptedDate\r\n        obj.reestrClosedDate = res.reestrClosedDate\r\n        obj.contractorFullName = res.contractorDto.fullName + '-' + res.contractorDto.inn\r\n        obj.governmentPercentage = res.governmentPercentage\r\n        obj.documentType = res.documentType\r\n        obj.status = this.getName({\r\n          nameLt: res.documentStatusNameLt,\r\n          nameUz: res.documentStatusNameUz,\r\n          nameRu: res.documentStatusNameRu\r\n        })\r\n        obj.productOrServiceType = this.getName({\r\n          nameLt: res.directoryProductOrServiceTypeDto.nameLt,\r\n          nameUz: res.directoryProductOrServiceTypeDto.nameUz,\r\n          nameRu: res.directoryProductOrServiceTypeDto.nameRu\r\n        })\r\n        obj.productOrServices = this.getName({\r\n          nameLt: res.directoryProductOrServiceDto.nameLt,\r\n          nameUz: res.directoryProductOrServiceDto.nameUz,\r\n          nameRu: res.directoryProductOrServiceDto.nameRu\r\n        })\r\n        obj.unit = this.getName({ nameLt: res.unitNameLt, nameUz: res.unitNameUz, nameRu: res.unitNameRu })\r\n        obj.skp = res.infoSKPDto ? res.infoSKPDto.code + '-' + this.getName({\r\n          nameLt: res.infoSKPDto.nameLt,\r\n          nameUz: res.infoSKPDto.nameUz,\r\n          nameRu: res.infoSKPDto.nameRu\r\n        }) : ''\r\n        obj.oked = res.infoOkedDto ? res.infoOkedDto.code + '-' + this.getName({\r\n          nameLt: res.infoOkedDto.nameLt,\r\n          nameUz: res.infoOkedDto.nameUz,\r\n          nameRu: res.infoOkedDto.nameRu\r\n        }) : ''\r\n        obj.tnved = res.infoTNVEDDto ? res.infoTNVEDDto.code + '-' + this.getName({\r\n          nameLt: res.infoTNVEDDto.nameLt,\r\n          nameUz: res.infoTNVEDDto.nameUz,\r\n          nameRu: res.infoTNVEDDto.nameRu\r\n        }) : ''\r\n        obj.comment = res.comment\r\n        obj.lastModifiedBy = `${res.updatedByEmployeeFullName ? (res.updatedByEmployeeFullName + ' ' + (res.updatedByDirectoryPositionNameUz ? ('(' + res.updatedByDirectoryPositionNameUz + ', ' + this.$t('auth.username') + ' - ' + res.updatedByUserName + ')') : '')) : this.$t('auth.username') + ' - ' + res.updatedByUserName + ' ' + (res.updatedByDate ? res.updatedByDate : '')}`\r\n        obj.approvedBy = `${res.confirmedByEmployeeFullName ? (res.confirmedByEmployeeFullName + ' ' + (res.confirmedByDirectoryPositionNameUz ? ('(' + res.confirmedByDirectoryPositionNameUz + ', ' + this.$t('auth.username') + ' - ' + res.confirmedByUserName + ')') : '')) : this.$t('auth.username') + ' - ' + res.confirmedByUserName + ' ' + (res.confirmedByDate ? res.confirmedByDate : '')}`\r\n        obj.foundersPercentage = ''\r\n        res.contractorDto.foundersDtos.forEach(el => {\r\n          obj.foundersPercentage += `${el.founderName} (${el.percentage}), `\r\n        })\r\n        obj.region = ''\r\n        res.regionDtos.forEach(el => {\r\n          obj.region += `${this.getName({ nameLt: el.nameLt, nameUz: el.nameUz, nameRu: el.nameRu })}, `\r\n        })\r\n        if (this.isDominant || this.isNatural) {\r\n          obj.district = ''\r\n          res.districtDtos.forEach(el => {\r\n            obj.district += `${this.getName({ nameLt: el.nameLt, nameUz: el.nameUz, nameRu: el.nameRu })}, `\r\n          })\r\n        }\r\n        if (this.isNatural || this.isNaturalRepublic) {\r\n          obj.priceApprovalDate = res.priceApprovalDate\r\n          obj.priceEffectiveDate = res.priceEffectiveDate\r\n          obj.priceApprovalNumber = res.priceApprovalNumber\r\n          obj.currentPriceWithDuty = res.currentPriceWithDuty\r\n          obj.currentPriceWithoutDuty = res.currentPriceWithoutDuty\r\n          obj.additionalInformation = res.additionalInformation\r\n        }\r\n        this.json_data.push(obj)\r\n      })\r\n    },\r\n    selectList($event) {\r\n      if ($event === 'all') {\r\n        this.var_default_search_payload.itemsPerPage = this.totalItems\r\n      } else {\r\n        this.var_default_search_payload.itemsPerPage = $event\r\n      }\r\n      this.fetchTableItems();\r\n    },\r\n    async fetchTableItems() {\r\n      if (this.isDominantRepublic || this.isNaturalRepublic) {\r\n        this.loadingTableItems = true\r\n        helperService\r\n            .searchReestrHistoryListByContractorId(`${this.isDominantRepublic ? APPEND_API_URL_DOMINANT : this.isNaturalRepublic ? APPEND_API_URL_NATURAL : ''}?contractorId=${this.$route.params.id}`, true)\r\n            .then((res) => {\r\n              this.tableItems = res.data;\r\n            })\r\n            .catch(e => {\r\n              this.tableItems = [];\r\n            })\r\n            .finally(() => {\r\n              this.loadingTableItems = false\r\n            })\r\n      } else {\r\n        this.loadingTableItems = true\r\n        // this.var_default_search_payload.keyword = this.searchKeyword\r\n        /* this.var_default_search_payload.sortDesc.push(false)\r\n        if (this.$i18n.locale === 'uz') {\r\n            this.var_default_search_payload.sortBy.push('nameLt')\r\n        } else if (this.$i18n.locale === 'ru') {\r\n            this.var_default_search_payload.sortBy.push('nameRu')\r\n        } else if (this.$i18n.locale === 'uzCyrillic') {\r\n            this.var_default_search_payload.sortBy.push('nameUz')\r\n        } */\r\n        crudAndListsService\r\n            .searchList(MAIN_API_URL, this.var_default_search_payload, `${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?contractorId=${this.$route.params.id}`, true)\r\n            .then((res) => {\r\n              this.tableItems = res.data;\r\n            })\r\n            .catch(e => {\r\n              this.tableItems = [];\r\n            })\r\n            .finally(() => {\r\n              this.loadingTableItems = false\r\n            })\r\n      }\r\n    },\r\n    editItem(item) {\r\n      if (item.documentType === 'KIRITISH') {\r\n        this.$router.push(this.isDominant || this.isDominantRepublic ? {\r\n          name: 'UpdateDominantContractorReestr',\r\n          params: { id: item.id }\r\n        } : { name: 'UpdateNaturalContractorReestr', params: { id: item.id } })\r\n      } else if (item.documentType === 'CHIQARISH') {\r\n        this.$router.push(this.isDominant || this.isDominantRepublic ? {\r\n          name: 'UpdateRemoveDocDominantContractorReestr',\r\n          params: { id: item.id }\r\n        } : { name: 'UpdateRemoveDocNaturalContractorReestr', params: { id: item.id } })\r\n      }\r\n    }\r\n  },\r\n  /* CREATED */\r\n  created() {\r\n    if (this.isDominant || this.isDominantRepublic) {\r\n      this.tableFields.splice(12, 0, { label: this.$t('column.skp_code'), key: \"skp\" },\r\n          { label: this.$t('column.tnved_code'), key: \"tnved\" })\r\n    }\r\n    if (this.isDominant || this.isNatural) {\r\n      this.tableFields.splice(6, 0, { label: this.$t('column.district'), key: \"district\" })\r\n    }\r\n    /* if (this.isNatural || this.isNaturalRepublic) {\r\n        this.tableFields.splice(this.tableFields.length - 1, 0,\r\n            { label: `${this.$t('column.price_approval_basis')} ${this.$t('column.date')}`, key: \"priceApprovalDate\" },\r\n            { label: `${this.$t('column.effective_date_price')}`, key: \"priceEffectiveDate\" },\r\n            { label: `${this.$t('column.price_approval_basis')} ${this.$t('column.number')}`, key: \"priceApprovalNumber\" },\r\n            { label: `${this.$t('column.current_price_with_duty')}`, key: \"currentPriceWithDuty\" },\r\n            { label: `${this.$t('column.current_price_without_duty')}`, key: \"currentPriceWithoutDuty\" },\r\n            { label: `${this.$t('column.additional_info')}`, key: \"additionalInformation\" },\r\n        )\r\n    } */\r\n    this.fetchTableItems()\r\n  },\r\n  /*\r\n  WATCH */\r\n  watch: {\r\n    /* 'var_default_search_payload.page': {\r\n        handler () {\r\n            this.fetchTableItems()\r\n        }\r\n    } */\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.a-tag-underline-hover {\r\n  :hover {\r\n    text-decoration: underline !important;\r\n  }\r\n}\r\n\r\nul {\r\n  padding-left: 20px;\r\n}\r\n</style>"]}]}