{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\advertisement\\modules\\e-auction-monitoring\\map\\VanillaLeaflet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\advertisement\\modules\\e-auction-monitoring\\map\\VanillaLeaflet.vue","mtime":1675054786257},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9BQ1JVIFBST0pFQ1QvRmFpciBUZWNoL2FjcnUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCB7IExNYXAgfSBmcm9tICJ2dWUyLWxlYWZsZXQiOwppbXBvcnQgaGVscGVyU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9oZWxwZXIuc2VydmljZSc7CmltcG9ydCBMIGZyb20gImxlYWZsZXQiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdGF0ZS9zdG9yZSI7CmltcG9ydCBMZWFmbGV0TWFya2VyY2x1c3RlciBmcm9tICJsZWFmbGV0Lm1hcmtlcmNsdXN0ZXIiOwppbXBvcnQgImxlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyI7CmltcG9ydCAibGVhZmxldC5tYXJrZXJjbHVzdGVyL2Rpc3QvTWFya2VyQ2x1c3Rlci5jc3MiOwppbXBvcnQgImxlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MiOwppbXBvcnQgTWFya2VySWNvbiBmcm9tICJsZWFmbGV0L2Rpc3QvaW1hZ2VzL21hcmtlci1pY29uLnBuZyI7CmltcG9ydCBQb3B1cCBmcm9tICIuL1BvcHVwIjsKaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlIjsKaW1wb3J0IGFkTW9uaXRvcmluZ1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvYWR2ZXJ0aXNlbWVudC9hZE1vbml0b3Jpbmcuc2VydmljZSI7CnZhciBNQUlOX0FQSV9VUkwgPSAnY29udHJhY3Rvci1hZHZlcnRpc2luZy1jb25zdHJ1Y3Rpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgInYtbWFwIjogTE1hcCwKICAgIFBvcHVwOiBQb3B1cAogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdE1hcCgpOwogICAgTGVhZmxldE1hcmtlcmNsdXN0ZXI7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsdGVyUGF5bG9hZDogewogICAgICAgIHBhc3Nwb3J0TnVtYmVyOiAnJywKICAgICAgICBkZXNpZ25UeXBlSWRzOiAnJywKICAgICAgICBjb250cmFjdG9ySWRzOiAnJywKICAgICAgICBkaXN0cmljdElkczogJycsCiAgICAgICAgcmVnaW9uSWRzOiAnJwogICAgICB9LAogICAgICBtYXA6IHsKICAgICAgICBzZWxmOiBudWxsLAogICAgICAgIG1heFpvb206IDE5LAogICAgICAgIG1pblpvb206IDYsCiAgICAgICAgaW5pdFpvb206IDYsCiAgICAgICAgdmlldzogWzQxLjUsIDY0LjVdLAogICAgICAgIGF0dHJpYnV0aW9uOiBbNDEuNSwgNjQuNV0sCiAgICAgICAgbWF4Qm91bmRzOiBbWzM3LCA1NV0sIFs0NiwgNzRdXSwKICAgICAgICBtYXJrZXJzOiBudWxsCiAgICAgIH0sCiAgICAgIGFkTWFya2VyczogW10sCiAgICAgIGFkTWFya2VyT2JqZWN0czogW10sCiAgICAgIHNlYXJjaFJlc3VsdE1hcmtlcjogbnVsbCwKICAgICAgc2xpZGU6IDAsCiAgICAgIHNsaWRpbmc6IG51bGwsCiAgICAgIGN1cnJlbnRBZERldGFpbHM6IHt9LAogICAgICBjdXJyZW50QWRJbWdzOiBbXSwKICAgICAgc3RyRm9ySW1nczogJycsCiAgICAgIHB1YmxpY1BhdGg6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogICAgICBkaXN0cmljdHM6IFtdLAogICAgICByZWdpb25zOiBbXSwKICAgICAgY29udHJhY3RvclNlYXJjaFBheWxvYWQ6IHt9LAogICAgICBoYXNOZXh0UGFnZUNvbnRyYWN0b3JzOiBmYWxzZSwKICAgICAgY29udHJhY3RvcnM6IFtdLAogICAgICBkZWJvdW5jZTogbnVsbCwKICAgICAgaXNMb2FkaW5nQ29udHJhY3RvcnM6IGZhbHNlLAogICAgICBpbml0aWFsRmlsdGVyUGF5bG9hZDogewogICAgICAgIHBhc3Nwb3J0TnVtYmVyOiAnJywKICAgICAgICBjb250cmFjdG9ySWRzOiBbXSwKICAgICAgICByZWdpb25JZHM6IFtdLAogICAgICAgIGRpc3RyaWN0SWRzOiBbXSwKICAgICAgICBkZXNpZ25UeXBlSWRzOiBbXQogICAgICB9LAogICAgICBtYXBQb3B1cDogewogICAgICAgIGlkOiAnbWFwLXBvcHVwJywKICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICBlbGVtZW50OiB7fQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBzdG9yZS5jb21taXQoIlNFVF9HTE9CQUxfTE9BRElORyIsIHRydWUpOwogICAgICAgICAgICBfdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkKTsKICAgICAgICAgICAgX3RoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gNTAwOwogICAgICAgICAgICBfdGhpcy5zZWFyY2goKTsKICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJTRVRfR0xPQkFMX0xPQURJTkciLCB0cnVlKTsKICAgICAgICAgICAgX3RoaXMuZmV0Y2hDb250cmFjdG9ycygpOwogICAgICAgICAgICBzdG9yZS5jb21taXQoIlNFVF9HTE9CQUxfTE9BRElORyIsIHRydWUpOwogICAgICAgICAgICBfdGhpcy5mZXRjaFJlZ2lvbnNGb3JBZHZlcnRpc2VtZW50QnlDdXJyZW50VXNlcklkKCk7CiAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgiU0VUX0dMT0JBTF9MT0FESU5HIiwgZmFsc2UpOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0TWFwOiBmdW5jdGlvbiBpbml0TWFwKCkgewogICAgICB2YXIgbWFwT2JqZWN0ID0gdGhpcy4kcmVmcy5tYXAubWFwT2JqZWN0OwogICAgICB0aGlzLm1hcC5zZWxmID0gbWFwT2JqZWN0OwogICAgICB2YXIgX3RoaXMkbWFwID0gdGhpcy5tYXAsCiAgICAgICAgc2VsZiA9IF90aGlzJG1hcC5zZWxmLAogICAgICAgIG1heFpvb20gPSBfdGhpcyRtYXAubWF4Wm9vbSwKICAgICAgICBtaW5ab29tID0gX3RoaXMkbWFwLm1pblpvb20sCiAgICAgICAgYXR0cmlidXRpb24gPSBfdGhpcyRtYXAuYXR0cmlidXRpb24sCiAgICAgICAgdmlldyA9IF90aGlzJG1hcC52aWV3LAogICAgICAgIGluaXRab29tID0gX3RoaXMkbWFwLmluaXRab29tLAogICAgICAgIG1heEJvdW5kcyA9IF90aGlzJG1hcC5tYXhCb3VuZHM7CiAgICAgIEwudGlsZUxheWVyKCdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsIHsKICAgICAgICBtYXhab29tOiBtYXhab29tLAogICAgICAgIG1pblpvb206IG1pblpvb20sCiAgICAgICAgYXR0cmlidXRpb246IGF0dHJpYnV0aW9uCiAgICAgIH0pLmFkZFRvKHNlbGYpOwogICAgICBzZWxmLnNldFZpZXcodmlldywgaW5pdFpvb20pOwogICAgICBzZWxmLnNldE1heEJvdW5kcyhtYXhCb3VuZHMpOwogICAgICB0aGlzLmhhbmRsZUFkZExheWVycygpOwogICAgfSwKICAgIGhhbmRsZUFkZExheWVyczogZnVuY3Rpb24gaGFuZGxlQWRkTGF5ZXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHNlbGY7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNlbGYgPSBfdGhpczIubWFwLnNlbGY7CiAgICAgICAgICAgICAgaWYgKF90aGlzMi5tYXAubWFya2VycykgewogICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVMYXllcihfdGhpczIubWFwLm1hcmtlcnMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczIubWFwLm1hcmtlcnMgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7CiAgICAgICAgICAgICAgICBpY29uQ3JlYXRlRnVuY3Rpb246IGZ1bmN0aW9uIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBMLmRpdkljb24oewogICAgICAgICAgICAgICAgICAgIGh0bWw6IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2NsdXN0ZXItYmFyJywKICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogTC5wb2ludCg0MCwgMzApCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzMi5tYXAubWFya2Vycy5hZGRMYXllcnMoX3RoaXMyLmFkTWFya2VyT2JqZWN0cyk7CiAgICAgICAgICAgICAgc2VsZi5hZGRMYXllcihfdGhpczIubWFwLm1hcmtlcnMpOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaFJlZ2lvbnNGb3JBZHZlcnRpc2VtZW50QnlDdXJyZW50VXNlcklkOiBmdW5jdGlvbiBmZXRjaFJlZ2lvbnNGb3JBZHZlcnRpc2VtZW50QnlDdXJyZW50VXNlcklkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gaGVscGVyU2VydmljZS5mZXRjaFJlZ2lvbnNGb3JBZHZlcnRpc2VtZW50QnlDdXJyZW50VXNlcklkKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpczMucmVnaW9ucyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZXRGaWx0ZXI6IGZ1bmN0aW9uIHJlc2V0RmlsdGVyKCkgewogICAgICB0aGlzLmZpbHRlclBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmluaXRpYWxGaWx0ZXJQYXlsb2FkKTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgdGhpcy5tYXAuc2VsZi5zZXRWaWV3KHRoaXMubWFwLnZpZXcsIHRoaXMubWFwLnpvb20pOwogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgaGVscGVyU2VydmljZS5nZXRBZENvbnN0cnVjdGlvbnNGb3JNYXBFQXVjdGlvbih0aGlzLmZpbHRlclBheWxvYWQsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC5hZE1hcmtlcnMgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczQuYWRNYXJrZXJPYmplY3RzID0gW107CiAgICAgICAgdmFyIGxpc3QgPSBbXTsKICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkgewogICAgICAgICAgaWYgKGVsZW1lbnQubGF0TnVtYmVyICYmIGVsZW1lbnQubG5nTnVtYmVyKSB7CiAgICAgICAgICAgIGxpc3QucHVzaChuZXcgTC5tYXJrZXIoW2VsZW1lbnQubGF0TnVtYmVyLCBlbGVtZW50LmxuZ051bWJlcl0sIHsKICAgICAgICAgICAgICBpY29uOiBMLmljb24oewogICAgICAgICAgICAgICAgaWNvblVybDogTWFya2VySWNvbiwKICAgICAgICAgICAgICAgIGljb25BbmNob3I6IG5ldyBMLlBvaW50KDEyLjUsIDQwKSwKICAgICAgICAgICAgICAgIGljb25TaXplOiBuZXcgTC5Qb2ludCgyNSwgNDEpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZ2V0QWREZXRhaWxzKF90aGlzNC5hZE1hcmtlcnNbaW5kZXhdLCBpbmRleCk7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBfdGhpczQuYWRNYXJrZXJPYmplY3RzID0gbGlzdDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkU2VhcmNoUmVzdWx0TWFya2VyOiBmdW5jdGlvbiBhZGRTZWFyY2hSZXN1bHRNYXJrZXIoZSkgewogICAgICBpZiAodGhpcy5zZWFyY2hSZXN1bHRNYXJrZXIpIHsKICAgICAgICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLnNlYXJjaFJlc3VsdE1hcmtlcik7CiAgICAgIH0KICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5zZWFyY2hSZXN1bHRNYXJrZXIgPSBuZXcgTC5NYXJrZXIoZS5sYXRsbmcsIHsKICAgICAgICBpY29uOiBuZXcgTXlDdXN0b21NYXJrZXJGb3JTZWFyY2goKQogICAgICB9KS5hZGRUbyh0aGlzLm1hcCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2bS5tYXAucmVtb3ZlTGF5ZXIodm0uc2VhcmNoUmVzdWx0TWFya2VyKTsKICAgICAgfSk7CiAgICB9LAogICAgb25TbGlkZVN0YXJ0OiBmdW5jdGlvbiBvblNsaWRlU3RhcnQoc2xpZGUpIHsKICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTsKICAgIH0sCiAgICBvblNsaWRlRW5kOiBmdW5jdGlvbiBvblNsaWRlRW5kKHNsaWRlKSB7CiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGdldEFkRGV0YWlsczogZnVuY3Rpb24gZ2V0QWREZXRhaWxzKGFkSW5mbywgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMubWFwUG9wdXAuc2hvdyA9IHRydWU7CiAgICAgIGFkTW9uaXRvcmluZ1NlcnZpY2UuZ2V0RUF1Y3Rpb25TaG9ydEluZm9CeUlkKGFkSW5mby5pZCkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIF90aGlzNS5jdXJyZW50QWREZXRhaWxzID0gZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAogICAgY3VzdG9tTGFiZWxEaXN0cmljdDogZnVuY3Rpb24gY3VzdG9tTGFiZWxEaXN0cmljdChvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5kaXN0cmljdHMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IG9wdDsKICAgICAgfSk7CiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLm5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgY3VzdG9tTGFiZWxSZWdpb246IGZ1bmN0aW9uIGN1c3RvbUxhYmVsUmVnaW9uKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnJlZ2lvbnMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLnJlZ2lvbklkID09IChvcHQucmVnaW9uSWQgPyBvcHQucmVnaW9uSWQgOiBvcHQpOwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5yZWdpb25OYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLnJlZ2lvbk5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQucmVnaW9uTmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICByZWdpb25TZWxlY3RlZDogZnVuY3Rpb24gcmVnaW9uU2VsZWN0ZWQoJGV2ZW50KSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgIF90aGlzNiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBkb250UmVzZXREaXN0cmljdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZG9udFJlc2V0RGlzdHJpY3QgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgICAgICAgICAgIGlmICghZG9udFJlc2V0RGlzdHJpY3QpIHsKICAgICAgICAgICAgICAgIF90aGlzNi5maWx0ZXJQYXlsb2FkLmRpc3RyaWN0SWRzID0gW107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghKCRldmVudCAmJiAkZXZlbnQubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gaGVscGVyU2VydmljZS5nZXRHZW9Mb2NhdGlvbnNCeU11bHRpcGxlUGFyZW50SWRzKCRldmVudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpczYuZGlzdHJpY3RzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjdXN0b21MYWJlbENvbnRyYWN0b3I6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsQ29udHJhY3RvcihvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5jb250cmFjdG9ycy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChzZWxlY3RlZC5mdWxsTmFtZSk7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGRlYm91bmNlU2VhcmNoQ29udHJhY3RvcnM6IGZ1bmN0aW9uIGRlYm91bmNlU2VhcmNoQ29udHJhY3RvcnMoc2VhcmNoVGV4dCkgewogICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHMsCiAgICAgICAgX3RoaXM3ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHNlbGVjdE5hbWU7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNlbGVjdE5hbWUgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlsxXSA6ICcnOwogICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpczcuZGVib3VuY2UpOwogICAgICAgICAgICAgIF90aGlzNy5kZWJvdW5jZSA9IHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZmV0Y2hDb250cmFjdG9yc1dpdGhLZXl3b3JkKHNlYXJjaFRleHQsIHNlbGVjdE5hbWUpOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgICAgICB9KSksIDEwMDApOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaENvbnRyYWN0b3JzV2l0aEtleXdvcmQ6IGZ1bmN0aW9uIGZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZChrZXl3b3JkLCBzZWxlY3ROYW1lKSB7CiAgICAgIHRoaXMuY29udHJhY3RvcnMgPSBbXTsKICAgICAgdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5wYWdlID0gMTsKICAgICAgdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5rZXl3b3JkID0ga2V5d29yZCA/IGtleXdvcmQgOiAnJzsKICAgICAgaWYgKHNlbGVjdE5hbWUgPT0gJ2NvbnRyYWN0b3InKSB7CiAgICAgICAgdGhpcy5mZXRjaENvbnRyYWN0b3JzKCk7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaENvbnRyYWN0b3JzOiBmdW5jdGlvbiBmZXRjaENvbnRyYWN0b3JzKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzOC5pc0xvYWRpbmdDb250cmFjdG9ycyA9IHRydWU7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3RXaXRoS2V5d29yZCgnY29udHJhY3RvcicsIF90aGlzOC5jb250cmFjdG9yU2VhcmNoUGF5bG9hZCwgJ2J5LWNvbnRyYWN0b3InKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpczgkY29udHJhY3RvcnM7CiAgICAgICAgICAgICAgICAoX3RoaXM4JGNvbnRyYWN0b3JzID0gX3RoaXM4LmNvbnRyYWN0b3JzKS5wdXNoLmFwcGx5KF90aGlzOCRjb250cmFjdG9ycywgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLmxpc3QpKTsKICAgICAgICAgICAgICAgIF90aGlzOC5oYXNOZXh0UGFnZUNvbnRyYWN0b3JzID0gcmVzLmRhdGEudG90YWwgLyBfdGhpczguY29udHJhY3RvclNlYXJjaFBheWxvYWQuaXRlbXNQZXJQYWdlID4gX3RoaXM4LmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnBhZ2U7CiAgICAgICAgICAgICAgICBfdGhpczguY29udHJhY3RvclNlYXJjaFBheWxvYWQucGFnZSArPSAxOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIF90aGlzOC5jb250cmFjdG9ycyA9IFtdOwogICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXM4LmlzTG9hZGluZ0NvbnRyYWN0b3JzID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNvbnRyYWN0b3JSZWFjaGVkRW5kT2ZMaXN0OiBmdW5jdGlvbiBjb250cmFjdG9yUmVhY2hlZEVuZE9mTGlzdChlKSB7CiAgICAgIHZhciBzZWxlY3ROYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKICAgICAgaWYgKGUpIHsKICAgICAgICB0aGlzLmZldGNoQ29udHJhY3RvcnMoKTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdmaWx0ZXJQYXlsb2FkLnJlZ2lvbklkcyc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwsIG9sZFZhbCkgewogICAgICAgIHRoaXMucmVnaW9uU2VsZWN0ZWQobmV3VmFsKTsKICAgICAgfQogICAgfSwKICAgICdtYXBQb3B1cC5zaG93JzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgaWYgKCFuZXdWYWwpIHsKICAgICAgICAgIHRoaXMuY3VycmVudEFkRGV0YWlscyA9IHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIGFkTWFya2VyT2JqZWN0czogZnVuY3Rpb24gYWRNYXJrZXJPYmplY3RzKCkgewogICAgICB0aGlzLmhhbmRsZUFkZExheWVycygpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;EACAA;IACA;IACAC;EACA;EACAC;IACA;IACAC;EACA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACA9B;QACAE;QACAE;QACAD;QACAF;MACA;MACA8B;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YACAC;YACA;YACA;YACA;YACAA;YACA;YACAA;YACA;YACAA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACAC;MACA;MACA;MACA;QAAAhC;QAAAC;QAAAC;QAAAG;QAAAD;QAAAD;QAAAG;MACA2B;QACAhC;QACAC;QACAG;MACA;MACAL;MACAA;MACA;IACA;IACAkC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cACAlC;cACA;gBACAA;cACA;cACA;gBACAmC;kBACA;oBACAC;oBACAC;oBACAC;kBACA;gBACA;cACA;cACA;cACAtC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAuC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAC,4DACAC;gBACA;cACA,GACAC;gBACAC;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MAAA;MACAL,yEACAC;QACA;QACA;QACA;QACAK;UACA;YACAC;cACAC;gBACAC;gBACAC;gBACAZ;cACA;YACA,GACAa;cAAA;YAAA;UACA;QACA;QACA;MACA,GACAT;QACAC;MACA;IACA;IACAS;MACA;QACA;MACA;MACA;MACA;QAAAJ;MAAA;QACAK;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACAC,wDACAhB;QAAA;QACA;MACA,GACAC;QACAC;MACA;IACA;IACAe;MACA;QAAA;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;UACAH;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAE;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAC;cACA;gBACA;cACA;cAAA,MACAC;gBAAA;gBAAA;cAAA;cAAA;cAAA,OAEAzB,yDACAC;gBACA;cACA,GACAC;gBACAC;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAEA;IACAuB;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAC;cACAC;cACA;gBAAA;kBAAA;oBAAA;sBAAA;sBAAA,OACA;oBAAA;oBAAA;sBAAA;kBAAA;gBAAA;cAAA,CACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cAAA;cAAA,OACAC,yGACA/B;gBAAA;gBACA;gBACA;gBACA;cACA,GACAC;gBACAC;gBACA;cACA,GACA8B;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;QACA;MACA;IACA;IACA;MACAA;QACA;UACA;QACA;MACA;MACAC;IACA;IACApE;MACA;IACA;EACA;AACA","names":["components","Popup","mounted","LeafletMarkercluster","data","filterPayload","passportNumber","designTypeIds","contractorIds","districtIds","regionIds","map","self","maxZoom","minZoom","initZoom","view","attribution","maxBounds","markers","adMarkers","adMarkerObjects","searchResultMarker","slide","sliding","currentAdDetails","currentAdImgs","strForImgs","publicPath","districts","regions","contractorSearchPayload","hasNextPageContractors","contractors","debounce","isLoadingContractors","initialFilterPayload","mapPopup","id","show","element","created","store","methods","initMap","L","handleAddLayers","iconCreateFunction","html","className","iconSize","fetchRegionsForAdvertisementByCurrentUserId","helperService","then","catch","console","resetFilter","search","res","list","icon","iconUrl","iconAnchor","on","addSearchResultMarker","vm","onSlideStart","onSlideEnd","getAdDetails","adMonitoringService","customLabelDistrict","nameRu","nameLt","nameUz","customLabelRegion","regionSelected","dontResetDistrict","$event","customLabelContractor","debounceSearchContractors","selectName","clearTimeout","fetchContractorsWithKeyword","fetchContractors","crudAndListsService","finally","contractorReachedEndOfList","watch","handler","deep"],"sourceRoot":"src/modules/advertisement/modules/e-auction-monitoring/map","sources":["VanillaLeaflet.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"col-md-12 text-center\">\r\n        <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.ad_monitoring.title') }}</div>\r\n      </div>\r\n      <div class=\"card\">\r\n        <div class=\"card-body p-0\">\r\n          <div class=\"row p-4\">\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-3 px-1 pb-2\">\r\n              <BaseInputWithValidation\r\n                  not-required\r\n                  label-on-top\r\n                  custom-styles=\"width: 100%;\"\r\n                  v-model=\"filterPayload.passportNumber\"\r\n                  :label=\"$t('column.ad_construction_passport_number')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-3 px-1 pb-2\">\r\n              <BaseMultiselectWithValidation\r\n                  not-required\r\n                  v-model=\"filterPayload.contractorIds\"\r\n                  multiple\r\n                  :has-next-page=\"hasNextPageContractors\"\r\n                  @reachedEndOfList=\"contractorReachedEndOfList\"\r\n                  @search-change=\"debounceSearchContractors\"\r\n                  :searchable=\"true\"\r\n                  preserve-search\r\n                  :clear-on-select=\"false\"\r\n                  :close-on-select=\"false\"\r\n                  :loading=\"isLoadingContractors\"\r\n                  :internal-search=\"false\"\r\n                  :options=\"contractors.map(e => e.id)\"\r\n                  :hide-selected=\"true\"\r\n                  :label=\"$t('submodules.contractor.title')\"\r\n                  label-on-top\r\n                  style=\"width: 100%;\"\r\n                  placeholder=\"\"\r\n                  :custom-label=\"customLabelContractor\"\r\n                  open-direction=\"bottom\"\r\n                  :max-height=\"600\"\r\n                  :show-labels=\"false\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 px-1 pb-2\">\r\n              <BaseMultiselectWithValidation\r\n                  not-required\r\n                  multiple\r\n                  v-model=\"filterPayload.regionIds\"\r\n                  :options=\"regions.map(e => e.regionId)\"\r\n                  :hide-selected=\"true\"\r\n                  :close-on-select=\"false\"\r\n                  :label=\"$t('column.region')\"\r\n                  label-on-top\r\n                  placeholder=\"\"\r\n                  :custom-label=\"customLabelRegion\"\r\n                  open-direction=\"bottom\"\r\n                  style=\"width: 100%;\"\r\n                  :max-height=\"600\"\r\n                  :show-labels=\"false\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 px-1 pb-2\">\r\n              <BaseMultiselectWithValidation\r\n                  not-required\r\n                  multiple\r\n                  v-model=\"filterPayload.districtIds\"\r\n                  :options=\"districts.map(e => e.id)\"\r\n                  :hide-selected=\"true\"\r\n                  :close-on-select=\"false\"\r\n                  :label=\"$t('column.district')\"\r\n                  label-on-top\r\n                  placeholder=\"\"\r\n                  :custom-label=\"customLabelDistrict\"\r\n                  open-direction=\"bottom\"\r\n                  style=\"width: 100%;\"\r\n                  :max-height=\"600\"\r\n                  :show-labels=\"false\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-12 col-md-8 col-lg-12 col-xl-2 text-right px-1 pb-2\">\r\n              <br class=\"d-none d-xl-block\">\r\n              <b-button variant=\"primary\" size=\"sm\" class=\"me-2\" @click=\"search\" >\r\n                <i class=\"mdi mdi-magnify font-size-20 align-middle\"></i>\r\n              </b-button>\r\n              <b-button variant=\"warning\" size=\"sm\" @click=\"resetFilter\" >\r\n                <i class=\"mdi mdi-refresh font-size-20 align-middle\"></i>\r\n              </b-button>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <v-map id=\"map\" ref=\"map\"></v-map>\r\n            </div>\r\n          </div>\r\n          <b-modal :id=\"mapPopup.id\" size=\"xl\" v-model=\"mapPopup.show\">\r\n            <template #modal-header v-if=\"!mapPopup.element.details\">\r\n              <h4 class=\"m-0\"><strong>{{ $t('submodules.ad_monitoring.ad_passport_details_title') }}</strong></h4>\r\n            </template>\r\n            <template #modal-title v-else>\r\n              <h4 class=\"m-0 mb-1 d-flex justify-content-between\">\r\n                <strong>{{ $t('submodules.ad_monitoring.ad_passport_details_title') }}</strong>\r\n                <strong v-if=\"currentAdDetails.isUzAvtoYul\" style=\"color: green;\">{{ $t('column.uzavtoyul') }}</strong>\r\n                <strong>{{ $t('column.number_sign') }}: {{ currentAdDetails.passportNumber }}</strong>\r\n              </h4>\r\n            </template>\r\n            <template #modal-footer>&nbsp;</template>\r\n            <popup\r\n                v-if=\"mapPopup.show\"\r\n                :currentAdDetails=\"currentAdDetails\"\r\n                :publicPath=\"publicPath\"\r\n                :onSlideStart=\"onSlideStart\"\r\n                :onSlideEnd=\"onSlideEnd\"\r\n            ></popup>\r\n          </b-modal>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { LMap } from \"vue2-leaflet\";\r\nimport helperService from '@/shared/services/helper.service'\r\nimport L from \"leaflet\";\r\nimport store from \"@/state/store\";\r\nimport LeafletMarkercluster from \"leaflet.markercluster\";\r\n\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"leaflet.markercluster/dist/MarkerCluster.css\";\r\nimport \"leaflet.markercluster/dist/MarkerCluster.Default.css\";\r\nimport MarkerIcon from \"leaflet/dist/images/marker-icon.png\";\r\nimport Popup from \"./Popup\";\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\";\r\nimport adMonitoringService from \"@/shared/services/advertisement/adMonitoring.service\";\r\n\r\nconst MAIN_API_URL = 'contractor-advertising-construction'\r\nexport default {\r\n  components: {\r\n    \"v-map\": LMap,\r\n    Popup\r\n  },\r\n  mounted() {\r\n    this.initMap();\r\n    LeafletMarkercluster;\r\n  },\r\n  data() {\r\n    return {\r\n      filterPayload: {\r\n        passportNumber: '',\r\n        designTypeIds: '',\r\n        contractorIds: '',\r\n        districtIds: '',\r\n        regionIds: '',\r\n      },\r\n      map: {\r\n        self: null,\r\n        maxZoom: 19,\r\n        minZoom: 6,\r\n        initZoom: 6,\r\n        view: [41.5, 64.5],\r\n        attribution: [41.5, 64.5],\r\n        maxBounds: [[37, 55], [46, 74]],\r\n        markers: null,\r\n      },\r\n      adMarkers: [],\r\n      adMarkerObjects: [],\r\n      searchResultMarker: null,\r\n      slide: 0,\r\n      sliding: null,\r\n      currentAdDetails: {},\r\n      currentAdImgs: [],\r\n      strForImgs: '',\r\n      publicPath: process.env.BASE_URL,\r\n      districts: [],\r\n      regions: [],\r\n      contractorSearchPayload: {},\r\n      hasNextPageContractors: false,\r\n      contractors: [],\r\n      debounce: null,\r\n      isLoadingContractors: false,\r\n      initialFilterPayload: {\r\n        passportNumber: '',\r\n        contractorIds: [],\r\n        regionIds: [],\r\n        districtIds: [],\r\n        designTypeIds: []\r\n      },\r\n      mapPopup: {\r\n        id: 'map-popup',\r\n        show: false,\r\n        element: {},\r\n      },\r\n    };\r\n  },\r\n  async created() {\r\n    store.commit(\"SET_GLOBAL_LOADING\", true);\r\n    this.contractorSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n    this.var_default_search_payload.itemsPerPage = 500;\r\n    this.search()\r\n    store.commit(\"SET_GLOBAL_LOADING\", true);\r\n    this.fetchContractors()\r\n    store.commit(\"SET_GLOBAL_LOADING\", true);\r\n    this.fetchRegionsForAdvertisementByCurrentUserId()\r\n    store.commit(\"SET_GLOBAL_LOADING\", false);\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      const { mapObject } = this.$refs.map;\r\n      this.map.self = mapObject\r\n      const { self, maxZoom, minZoom, attribution, view, initZoom, maxBounds } = this.map;\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        maxZoom: maxZoom,\r\n        minZoom: minZoom,\r\n        attribution: attribution,\r\n      }).addTo(self);\r\n      self.setView(view, initZoom);\r\n      self.setMaxBounds(maxBounds);\r\n      this.handleAddLayers();\r\n    },\r\n    async handleAddLayers() {\r\n      const { self } = this.map;\r\n      if (this.map.markers) {\r\n        self.removeLayer(this.map.markers);\r\n      }\r\n      this.map.markers = L.markerClusterGroup({\r\n        iconCreateFunction: (cluster) => {\r\n          return L.divIcon({\r\n            html: cluster.getAllChildMarkers().length,\r\n            className: 'cluster-bar',\r\n            iconSize: L.point(40, 30)\r\n          });\r\n        },\r\n      });\r\n      this.map.markers.addLayers(this.adMarkerObjects);\r\n      self.addLayer(this.map.markers);\r\n    },\r\n    async fetchRegionsForAdvertisementByCurrentUserId() {\r\n      await helperService.fetchRegionsForAdvertisementByCurrentUserId()\r\n          .then(res => {\r\n            this.regions = res.data\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    resetFilter() {\r\n      this.filterPayload = Object.assign({}, this.initialFilterPayload)\r\n      this.search()\r\n      this.map.self.setView(this.map.view, this.map.zoom);\r\n    },\r\n    search() {\r\n      helperService.getAdConstructionsForMapEAuction(this.filterPayload, true)\r\n          .then(res => {\r\n            this.adMarkers = res.data\r\n            this.adMarkerObjects = []\r\n            let list = [];\r\n            res.data.forEach((element, index) => {\r\n              if (element.latNumber && element.lngNumber) {\r\n                list.push(new L.marker([element.latNumber, element.lngNumber], {\r\n                  icon: L.icon({\r\n                    iconUrl: MarkerIcon,\r\n                    iconAnchor: new L.Point(12.5, 40),\r\n                    iconSize: new L.Point(25, 41),\r\n                  })\r\n                })\r\n                    .on('click', () => this.getAdDetails(this.adMarkers[index], index)))\r\n              }\r\n            });\r\n            this.adMarkerObjects = list;\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    addSearchResultMarker(e) {\r\n      if (this.searchResultMarker) {\r\n        this.map.removeLayer(this.searchResultMarker)\r\n      }\r\n      let vm = this\r\n      this.searchResultMarker = new L.Marker(e.latlng, { icon: new MyCustomMarkerForSearch() }).addTo(this.map).on('click', function (e) {\r\n        vm.map.removeLayer(vm.searchResultMarker)\r\n      });\r\n    },\r\n    onSlideStart(slide) {\r\n      this.sliding = true\r\n    },\r\n    onSlideEnd(slide) {\r\n      this.sliding = false\r\n    },\r\n    getAdDetails(adInfo, index) {\r\n      this.mapPopup.show = true\r\n      adMonitoringService.getEAuctionShortInfoById(adInfo.id)\r\n          .then(({ data }) => {\r\n            this.currentAdDetails = data\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    customLabelDistrict(opt) {\r\n      let selected = this.districts.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${this.getName({\r\n          nameRu: selected.nameRu,\r\n          nameLt: selected.nameLt,\r\n          nameUz: selected.nameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    customLabelRegion(opt) {\r\n      let selected = this.regions.find(e => e.regionId == (opt.regionId ? opt.regionId : opt));\r\n      if (selected) {\r\n        return `${this.getName({\r\n          nameRu: selected.regionNameRu,\r\n          nameLt: selected.regionNameLt,\r\n          nameUz: selected.regionNameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    async regionSelected($event, dontResetDistrict = false) {\r\n      if (!dontResetDistrict) {\r\n        this.filterPayload.districtIds = []\r\n      }\r\n      if ($event && $event.length) {\r\n        // GET DISTRICTS\r\n        await helperService.getGeoLocationsByMultipleParentIds($event)\r\n            .then(res => {\r\n              this.districts = res.data\r\n            })\r\n            .catch(e => {\r\n              console.log(e)\r\n            })\r\n      }\r\n    },\r\n    customLabelContractor(opt) {\r\n      let selected = this.contractors.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${selected.fullName}`\r\n      }\r\n      return ``;\r\n    },\r\n    async debounceSearchContractors(searchText, selectName = '') {\r\n      clearTimeout(this.debounce);\r\n      this.debounce = setTimeout(async () => {\r\n        await this.fetchContractorsWithKeyword(searchText, selectName);\r\n      }, 1000);\r\n    },\r\n    fetchContractorsWithKeyword(keyword, selectName) {\r\n      this.contractors = []\r\n      this.contractorSearchPayload.page = 1\r\n      this.contractorSearchPayload.keyword = keyword ? keyword : ''\r\n      if (selectName == 'contractor') {\r\n        this.fetchContractors()\r\n      }\r\n    },\r\n    async fetchContractors() {\r\n      this.isLoadingContractors = true\r\n      await crudAndListsService.searchListWithKeyword('contractor', this.contractorSearchPayload, 'by-contractor')\r\n          .then(res => {\r\n            this.contractors.push(...res.data.list)\r\n            this.hasNextPageContractors = res.data.total / this.contractorSearchPayload.itemsPerPage > this.contractorSearchPayload.page\r\n            this.contractorSearchPayload.page += 1\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n            this.contractors = []\r\n          })\r\n          .finally(() => {\r\n            this.isLoadingContractors = false\r\n          })\r\n    },\r\n    contractorReachedEndOfList(e, selectName = '') {\r\n      if (e) {\r\n        this.fetchContractors()\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    'filterPayload.regionIds': {\r\n      handler(newVal, oldVal) {\r\n        this.regionSelected(newVal);\r\n      },\r\n    },\r\n    'mapPopup.show': {\r\n      handler(newVal, oldVal) {\r\n        if (!newVal) {\r\n          this.currentAdDetails = {};\r\n        }\r\n      },\r\n      deep: true,\r\n    },\r\n    adMarkerObjects() {\r\n      this.handleAddLayers();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n#map {\r\n  height: calc(100vh - 300px);\r\n  z-index: 1;\r\n}\r\n</style>\r\n<style>\r\n.cluster-bar {\r\n  background: #efecec;\r\n  color: #283593;\r\n  border-radius: 10px;\r\n  outline: 1px solid #7d8acf;\r\n  text-align: center;\r\n  line-height: 30px;\r\n  box-shadow: 0 3px 5px #a5aac9;\r\n}\r\n\r\n.multiselect__content-wrapper {\r\n  z-index: 500 !important;\r\n}\r\n</style>"]}]}