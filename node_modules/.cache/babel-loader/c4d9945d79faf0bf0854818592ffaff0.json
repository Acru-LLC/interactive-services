{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\product\\CreateOrUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\product\\CreateOrUpdate.vue","mtime":1675054786283},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIE1BSU5fQVBJX1VSTCA9ICdwcmljZS9wcm9kdWN0JzsKLyoqIFlPVSBNVVNUIFNFTkQge3sgTUFJTl9BUElfVVJMIH19IFRPIENSVURfU0VSVklDRSAqLwoKaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlIjsKaW1wb3J0IHsgUHJvZHVjdFR5cGUsIFByb2R1Y3RQcm9kdWN0VHlwZSB9IGZyb20gJ0AvaGVscGVycy9jb25zdGFudHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgLyoqIERBVEEgKi8KICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdGluZ0l0ZW06IHt9LAogICAgICBzdGF0dXNlczogW10sCiAgICAgIHVuaXRzOiBbXQogICAgfTsKICB9LAoKICAvKiogQ09NUFVURUQgKi8KICBjb21wdXRlZDogewogICAgaXNNb2RlQ3JlYXRlOiBmdW5jdGlvbiBpc01vZGVDcmVhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnUmVmZXJlbmNlc1Byb2R1Y3RDcmVhdGUnOwogICAgfSwKICAgIGNvbXB1dGVkT2JzZXJ2ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkT2JzZXJ2ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyOwogICAgfSwKICAgIHByb2R1Y3RUeXBlOiBmdW5jdGlvbiBwcm9kdWN0VHlwZSgpIHsKICAgICAgcmV0dXJuIFByb2R1Y3RUeXBlOwogICAgfSwKICAgIHByb2R1Y3RQcm9kdWN0VHlwZTogZnVuY3Rpb24gcHJvZHVjdFByb2R1Y3RUeXBlKCkgewogICAgICByZXR1cm4gUHJvZHVjdFByb2R1Y3RUeXBlOwogICAgfQogIH0sCgogIC8qKiBNRVRIT0RTICovCiAgbWV0aG9kczogewogICAgdHJlZUNsb3NlZDogZnVuY3Rpb24gdHJlZUNsb3NlZCh2ZWVOYW1lKSB7CiAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlci5yZWZzW3ZlZU5hbWVdLnZhbGlkYXRlKCk7CiAgICB9LAogICAgY3VzdG9tTGFiZWxVbml0OiBmdW5jdGlvbiBjdXN0b21MYWJlbFVuaXQob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMudW5pdHMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IChvcHQuaWQgPyBvcHQuaWQgOiBvcHQpOwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5jb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpcy5lZGl0aW5nSXRlbS5pZCkgewogICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnVwZGF0ZShNQUlOX0FQSV9VUkwsIF90aGlzLmVkaXRpbmdJdGVtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpcy5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCk7CgogICAgICAgICAgICAgIF90aGlzLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLmdvKC0xKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0KF90aGlzLiR0KCdtZXNzYWdlcy5zYXZlZF9zdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5jcmVhdGUoTUFJTl9BUElfVVJMLCBfdGhpcy5lZGl0aW5nSXRlbSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZWRPYnNlcnZlci5yZXNldCgpOwoKICAgICAgICAgICAgICBfdGhpcy5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5nbygtMSk7CgogICAgICAgICAgICAgIF90aGlzLiR0b2FzdChfdGhpcy4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KF90aGlzLiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKCiAgLyoqIENSRUFURUQgKi8KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghX3RoaXMyLmlzTW9kZUNyZWF0ZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEVtcHR5KE1BSU5fQVBJX1VSTCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0gPSByZXMuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0QnlJZChNQUlOX0FQSV9VUkwsIF90aGlzMi4kcm91dGUucGFyYW1zLmlkLCBmYWxzZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0gPSByZXMuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdCgnZGlyZWN0b3J5L3VuaXRzJywgX3RoaXMyLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzMi51bml0cyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["CreateOrUpdate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <base-create-or-update-wrapper\r\n      @save=\"save\"\r\n      has-save-suspend\r\n      :custom-title=\"$t('actions.update')\"\r\n  >\r\n    <ValidationObserver ref=\"observer\" v-slot=\"{}\">\r\n      <b-row class=\"mb-3\">\r\n        <b-col sm=\"4\">\r\n          <BaseInputWithValidation\r\n              rules=\"required\"\r\n              class=\"required\"\r\n              v-model=\"editingItem.nameUz\"\r\n              label-on-top\r\n              :label=\"$t('column.name_uz')\"\r\n              :placeholder=\"''\"\r\n          />\r\n        </b-col>\r\n        <b-col sm=\"4\">\r\n          <BaseInputWithValidation\r\n              not-required\r\n              v-model=\"editingItem.nameLt\"\r\n              label-on-top\r\n              :label=\"$t('column.name_lt')\"\r\n              :placeholder=\"''\"\r\n          />\r\n        </b-col>\r\n        <b-col sm=\"4\">\r\n          <BaseInputWithValidation\r\n              not-required\r\n              v-model=\"editingItem.nameRu\"\r\n              label-on-top\r\n              :label=\"$t('column.name_ru')\"\r\n              :placeholder=\"''\"\r\n          />\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mb-3\">\r\n        <b-col sm=\"4\">\r\n          <BaseMultiselectWithValidation\r\n              not-required\r\n              v-model=\"editingItem.unitId\"\r\n              label-on-top\r\n              :options=\"units.map(el => el.id)\"\r\n              :label=\"$t('column.units')\"\r\n              :custom-label=\"customLabelUnit\"\r\n              :placeholder=\"''\"\r\n              open-direction=\"bottom\"\r\n              :max-height=\"600\"\r\n              :show-labels=\"false\"\r\n          />\r\n        </b-col>\r\n        <b-col sm=\"4\">\r\n          {{ $t('actions.export_import_type')}}\r\n          <b-form-select>\r\n            <b-form-select-option :value=\"key\" v-for=\"(value, key) in productType\" :key=\"key\">\r\n              {{ value }}\r\n            </b-form-select-option>\r\n          </b-form-select>\r\n        </b-col>\r\n        <b-col sm=\"4\">\r\n          {{ $t('actions.product_type')}}\r\n          <b-form-select>\r\n            <b-form-select-option :value=\"key\" v-for=\"(value, key) in productProductType\" :key=\"key\">\r\n              {{ value }}\r\n            </b-form-select-option>\r\n          </b-form-select>\r\n        </b-col>\r\n      </b-row>\r\n    </ValidationObserver>\r\n  </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'price/product'\r\n/** YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nimport {ProductType, ProductProductType} from '@/helpers/constants'\r\nexport default {\r\n  /** DATA */\r\n  data() {\r\n    return {\r\n      editingItem: {},\r\n      statuses: [],\r\n      units: [],\r\n    }\r\n  },\r\n  /** COMPUTED */\r\n  computed: {\r\n    isModeCreate() {\r\n      return this.$route.name === 'ReferencesProductCreate'\r\n    },\r\n    computedObserver() {\r\n      return this.$refs.observer\r\n    },\r\n    productType() {\r\n      return ProductType\r\n    },\r\n    productProductType() {\r\n      return ProductProductType\r\n    },\r\n  },\r\n  /** METHODS */\r\n  methods: {\r\n    treeClosed(veeName) {\r\n      this.computedObserver.refs[veeName].validate();\r\n    },\r\n    customLabelUnit (opt) {\r\n      let selected = this.units.find(e => e.id == (opt.id ? opt.id : opt));\r\n      if (selected) {\r\n        return this.getName({\r\n          nameRu: selected.nameRu,\r\n          nameLt: selected.nameLt,\r\n          nameUz: selected.nameUz,\r\n        })\r\n      }\r\n      return ``;\r\n    },\r\n    save() {\r\n      this.computedObserver.validate().then(valid => {\r\n        if (valid) {\r\n          if (this.editingItem.id) {\r\n            crudAndListsService.update(MAIN_API_URL, this.editingItem).then(res => {\r\n              this.computedObserver.reset()\r\n              this.editingItem = Object.assign({}, {});\r\n              this.$router.go(-1)\r\n              this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n            })\r\n          } else {\r\n            crudAndListsService.create(MAIN_API_URL, this.editingItem).then(res => {\r\n              this.computedObserver.reset()\r\n              this.editingItem = Object.assign({}, {});\r\n              this.$router.go(-1)\r\n              this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n            })\r\n          }\r\n        } else {\r\n          this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n        }\r\n      });\r\n    },\r\n  },\r\n  /** CREATED */\r\n  async created() {\r\n    if (this.isModeCreate) {\r\n      await crudAndListsService.getEmpty(MAIN_API_URL)\r\n          .then(res => {\r\n            this.editingItem = res.data\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    } else {\r\n      await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, false)\r\n          .then(res => {\r\n            this.editingItem = res.data\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    }\r\n    await crudAndListsService.searchList('directory/units', this.var_default_search_payload)\r\n        .then((res) => {\r\n          this.units = res.data.list;\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.col-form-label {\r\n  padding-top: 0;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n}\r\n</style>"],"sourceRoot":"src/modules/references/modules/product"}]}