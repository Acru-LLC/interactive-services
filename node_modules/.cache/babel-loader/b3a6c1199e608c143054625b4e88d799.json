{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\letterService.js","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\letterService.js","mtime":1676881249320},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1667355397815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYXBpLnNlcnZpY2UnOwppbXBvcnQgcHJvamVjdFNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvcHJvamVjdFNlcnZpY2UnOwovLyBpbXBvcnQge2N4b25maWd1cmV9IGZyb20gJ3ZlZS12YWxpZGF0ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBmZXRjaENoYXJ0RGF0YUFwcGxpY2F0aW9uc0J5U3RhdHVzZXNGb3JZZWFyRm9yRFhBOiBmdW5jdGlvbiBmZXRjaENoYXJ0RGF0YUFwcGxpY2F0aW9uc0J5U3RhdHVzZXNGb3JZZWFyRm9yRFhBKHllYXIpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiYXBwbGljYXRpb24tZHhhL2dldC1kYXRhLWZvci1jaGFydC1ieS1tb250aD95ZWFyPSIuY29uY2F0KHllYXIpKTsKICB9LAogIGdpdmVWaXNhRm9yRFhBOiBmdW5jdGlvbiBnaXZlVmlzYUZvckRYQShhcHBsaWNhdGlvbklkLCBwYXJhbXMpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImxldHRlci9nZXQtdmlzYS8iLmNvbmNhdChhcHBsaWNhdGlvbklkLCAiP2VtcGxveWVlSWQ9IikuY29uY2F0KHBhcmFtcy5pZCwgIiZjb21tZW50PSIpLmNvbmNhdChwYXJhbXMuY29tbWVudCkpOwogIH0sCiAgc2VuZFRvQ29tbWlzc2lvbkZyb21EeGE6IGZ1bmN0aW9uIHNlbmRUb0NvbW1pc3Npb25Gcm9tRHhhKGFwcGxpY2F0aW9uSWQsIGNvbW1pc3Npb25UeXBlSWQpIHsKICAgIHZhciBjb21tZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnJzsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImxldHRlci9zZW5kLXRvLWNvbW1pc3Npb24vZnJvbS1keGEvIi5jb25jYXQoYXBwbGljYXRpb25JZCwgIi8iKS5jb25jYXQoY29tbWlzc2lvblR5cGVJZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50KSk7CiAgfSwKICBTaWduYXR1cmVHaXZlVmlzYUZvckRYQTogZnVuY3Rpb24gU2lnbmF0dXJlR2l2ZVZpc2FGb3JEWEEoZGF0YSwgYm9keURhdGUpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImxldHRlci9hcHByb3ZlLXZpc2EvIi5jb25jYXQoZGF0YS5hcHBsaWNhdGlvbklkLCAiP2VtcGxveWVlSWQ9IikuY29uY2F0KGRhdGEuZW1wbG95ZWVJZCwgIiZsZXR0ZXJJZD0iKS5jb25jYXQoZGF0YS5sZXR0ZXJJZCwgIiZjb21tZW50PSIpLmNvbmNhdChib2R5RGF0ZS5jb21tZW50LCAiJmdpdmVWaXNhRGF0ZT0iKS5jb25jYXQoYm9keURhdGUuZ2l2ZVZpc2FEYXRlKSk7CiAgfSwKICBmZXRjaENoYXJ0RGF0YUN1cnJlbnRBcHBsaWNhdGlvblN0YXR1c2VzRm9yRFhBOiBmdW5jdGlvbiBmZXRjaENoYXJ0RGF0YUN1cnJlbnRBcHBsaWNhdGlvblN0YXR1c2VzRm9yRFhBKCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCJhcHBsaWNhdGlvbi1keGEvZ2V0LWRhdGEtZm9yLWNoYXJ0Iik7CiAgfSwKICBmZXRjaENoYXJ0RGF0YUFwcGxpY2F0aW9uc0J5U3RhdHVzZXNGb3JZZWFyOiBmdW5jdGlvbiBmZXRjaENoYXJ0RGF0YUFwcGxpY2F0aW9uc0J5U3RhdHVzZXNGb3JZZWFyKHllYXIpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiYmVmb3JlLWNvbW1pc3Npb24vYXBwbGljYXRpb24vZ2V0LWRhdGEtZm9yLWNoYXJ0LWJ5LW1vbnRoP3llYXI9Ii5jb25jYXQoeWVhcikpOwogIH0sCiAgZmV0Y2hDaGFydERhdGFDdXJyZW50QXBwbGljYXRpb25TdGF0dXNlczogZnVuY3Rpb24gZmV0Y2hDaGFydERhdGFDdXJyZW50QXBwbGljYXRpb25TdGF0dXNlcygpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiYmVmb3JlLWNvbW1pc3Npb24vYXBwbGljYXRpb24vZ2V0LWRhdGEtZm9yLWNoYXJ0Iik7CiAgfSwKICBsaXN0QXBwbGljYXRpb25zQnlTdGF0dXM6IGZ1bmN0aW9uIGxpc3RBcHBsaWNhdGlvbnNCeVN0YXR1cyhwYXlsb2FkKSB7CiAgICB2YXIgc3RhdHVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKICAgIHZhciBrZXl3b3JkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnJzsKICAgIHZhciBteVBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCBwYXlsb2FkKTsKICAgIG15UGF5bG9hZC5wYWdlIC09IDE7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJiZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9saXN0LXNlYXJjaC1ieS1hcHBsaWNhdGlvbi1zdGF0dXM/a2V5d29yZD0iLmNvbmNhdChrZXl3b3JkLCAiJnN0YXR1cz0iKS5jb25jYXQoc3RhdHVzID8gc3RhdHVzIDogJycpLCBteVBheWxvYWQpOwogIH0sCiAgbGlzdERYQV9BcHBsaWNhdGlvbnNCeVN0YXR1czogZnVuY3Rpb24gbGlzdERYQV9BcHBsaWNhdGlvbnNCeVN0YXR1cyhwYXlsb2FkKSB7CiAgICB2YXIgc3RhdHVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKICAgIHZhciBrZXl3b3JkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnJzsKICAgIHZhciBhY3RpdmVEWEFUYWIgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKICAgIHZhciBteVBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCBwYXlsb2FkKTsKICAgIG15UGF5bG9hZC5wYWdlIC09IDE7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJhcHBsaWNhdGlvbi1keGEvbGlzdC1zZWFyY2gvYnktc3RhdHVzP2tleXdvcmQ9Ii5jb25jYXQoa2V5d29yZCwgIiZzdGF0dXM9IikuY29uY2F0KHN0YXR1cyA/IHN0YXR1cyA6ICcnLCAiJmFwcGxpY2F0aW9uVHlwZT0iKS5jb25jYXQoYWN0aXZlRFhBVGFiID09ICdGT1JfU0FMRScgPyAnRk9SX1NBTEUnIDogJ0ZPUl9BREQnKSwgbXlQYXlsb2FkKTsKICB9LAogIGdldExpc3RNb25pdG9yOiBmdW5jdGlvbiBnZXRMaXN0TW9uaXRvcihfcmVmLCBhY3RpdmVEWEFUYWIpIHsKICAgIHZhciBwYXJhbXMgPSBfcmVmLnBhcmFtcywKICAgICAgc2VhcmNoID0gX3JlZi5zZWFyY2g7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvYXBwbGljYXRpb24tZHhhL2xpc3Qtc2VhcmNoL2JlZm9yZS1yZWdpc3Rlcj9rZXl3b3JkPSIuY29uY2F0KHNlYXJjaCwgIiZhcHBsaWNhdGlvblR5cGU9IikuY29uY2F0KGFjdGl2ZURYQVRhYiA9PSAnRk9SX1NBTEUnID8gJ0ZPUl9TQUxFJyA6ICdGT1JfQUREJyksIHBhcmFtcyk7CiAgfSwKICBnZXRSZWdpb25zOiBmdW5jdGlvbiBnZXRSZWdpb25zKCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2RlcGFydG1lbnQvbGlzdC1zZWFyY2gveXVyZGVwIik7CiAgfSwKICBhY2NlcHRBcHBpbGNhdGlvbjogZnVuY3Rpb24gYWNjZXB0QXBwaWxjYXRpb24oYXBwbGljYXRpb25faWQsIGRlcGFydG1lbnRfaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImFwcGxpY2F0aW9uLWR4YS9yZWNlaXZlP2lkPSIuY29uY2F0KGFwcGxpY2F0aW9uX2lkLCAiJmRlcGFydG1lbnRfaWQ9IikuY29uY2F0KGRlcGFydG1lbnRfaWQgPyBkZXBhcnRtZW50X2lkIDogJycpKTsKICB9LAogIGFjY2VwdFNlbmRlclJlZ2lvbjogZnVuY3Rpb24gYWNjZXB0U2VuZGVyUmVnaW9uKGFwcGxpY2F0aW9uX2lkLCBkZXBhcnRtZW50X2lkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJhcHBsaWNhdGlvbi1keGEvcmVjZWl2ZT9pZD0iLmNvbmNhdChhcHBsaWNhdGlvbl9pZCwgIiZkZXBhcnRtZW50X2lkPSIpLmNvbmNhdChkZXBhcnRtZW50X2lkID8gZGVwYXJ0bWVudF9pZCA6ICcnKSk7CiAgfSwKICBhcHBsaWNhdGlvblJldmlld05PVF9DT01QTEVURTogZnVuY3Rpb24gYXBwbGljYXRpb25SZXZpZXdOT1RfQ09NUExFVEUob2JqLCBJRCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2JlZm9yZS1jb21taXNzaW9uL2FwcGxpY2F0aW9uL2FwcGxpY2F0aW9uLXJldmlldy9ub3QtY29tcGxldGVkP2lkPSIuY29uY2F0KElEKSwgb2JqKTsKICB9LAogIGdldEJvZHk6IGZ1bmN0aW9uIGdldEJvZHkoaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9nZXRCb2R5QnlJZC8iLmNvbmNhdChpZCkpOwogIH0sCiAgdmlld1BkZkJ5TGV0dGVySWQ6IGZ1bmN0aW9uIHZpZXdQZGZCeUxldHRlcklkKGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbGV0dGVyVmlldy8iLmNvbmNhdChsZXR0ZXJJZCkpOwogIH0sCiAgc2F2ZUxldHRlckJvZHk6IGZ1bmN0aW9uIHNhdmVMZXR0ZXJCb2R5KGxldHRlcklkLCB0ZXh0LCBzaWduZXIpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbGV0dGVyU2F2ZT9sZXR0ZXJJZD0iLmNvbmNhdChsZXR0ZXJJZCwgIiZzaWduZXJJZD0iKS5jb25jYXQoc2lnbmVyID8gc2lnbmVyIDogJycpLCB7CiAgICAgIGJvZHk6IHRleHQKICAgIH0pOwogIH0sCiAgcmVtb3ZlTGV0dGVyOiBmdW5jdGlvbiByZW1vdmVMZXR0ZXIobGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmRlbGV0ZSgiL2xldHRlci9kZWxldGUvIi5jb25jYXQobGV0dGVySWQpKTsKICB9LAogIHJlbW92ZUZpbGU6IGZ1bmN0aW9uIHJlbW92ZUZpbGUobGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmRlbGV0ZSgiL2xldHRlckF0dGFjaGVkRmlsZS9kZWxldGUvIi5jb25jYXQobGV0dGVySWQpKTsKICB9LAogIGdldEF0dGFjaGVkRmlsZXNCeUlkOiBmdW5jdGlvbiBnZXRBdHRhY2hlZEZpbGVzQnlJZChsZXR0ZXJJZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyQXR0YWNoZWRGaWxlL2xpc3QvIi5jb25jYXQobGV0dGVySWQpKTsKICB9LAogIHByb2plY3RMZXR0ZXJzQnlMZXR0ZXJJZDogZnVuY3Rpb24gcHJvamVjdExldHRlcnNCeUxldHRlcklkKGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJsZXR0ZXIvcHJvamVjdC1sZXR0ZXJzL2J5LWxldHRlci1pZC8iLmNvbmNhdChsZXR0ZXJJZCkpOwogIH0sCiAgY3JlYXRlQXR0YWNoZWRGaWxlOiBmdW5jdGlvbiBjcmVhdGVBdHRhY2hlZEZpbGUobGV0dGVySWQsIGZpbGUpIHsKICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZSk7CiAgICByZXR1cm4gQXBpU2VydmljZS5mb3JtRGF0YSgiL2xldHRlckF0dGFjaGVkRmlsZS9jcmVhdGUvIi5jb25jYXQobGV0dGVySWQpLCBmb3JtRGF0YSk7CiAgfSwKICBnZXRMaXN0RG9jdW1lbnRUeXBlOiBmdW5jdGlvbiBnZXRMaXN0RG9jdW1lbnRUeXBlKF9yZWYyLCB2KSB7CiAgICB2YXIgcGFyYW1zID0gX3JlZjIucGFyYW1zLAogICAgICBzZWFyY2ggPSBfcmVmMi5zZWFyY2g7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvZG9jU2FtcGxlL2xpc3Q/c2VhcmNoPSIuY29uY2F0KHNlYXJjaCwgIiZjb2RlPSIpLmNvbmNhdCh2KSwgcGFyYW1zKTsKICB9LAogIGNvbnZlcnRUb1BkZkJ5QXBpOiBmdW5jdGlvbiBjb252ZXJ0VG9QZGZCeUFwaShjb25maWcpIHsKICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHdpdGhMb2FkZXI7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHdpdGhMb2FkZXIgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvY2FsbGJhY2s/dHlwZT1jb252ZXJ0IiwgY29uZmlnLCB3aXRoTG9hZGVyKSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoX3JlZjMpIHsKICAgIHZhciBwYXJhbXMgPSBfcmVmMy5wYXJhbXMsCiAgICAgIHNlYXJjaCA9IF9yZWYzLnNlYXJjaDsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9kb2N1bWVudC9saXN0IiwgcGFyYW1zKTsKICB9LAogIGdldEJ5SWQ6IGZ1bmN0aW9uIGdldEJ5SWQoaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2RvY3VtZW50L2dldC1ieS1pZC8iLmNvbmNhdChpZCkpOwogIH0sCiAgc2V0TGV0dGVyUmVqdE9yQWNjZXB0OiBmdW5jdGlvbiBzZXRMZXR0ZXJSZWp0T3JBY2NlcHQoaWQsIGJvb2wpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImxldHRlci9yZWplY3Qtb3ItYWNjZXB0LyIuY29uY2F0KGlkLCAiP2lzUmVqZWN0ZWQ9IikuY29uY2F0KGJvb2wpKTsKICB9LAogIHJlamVjdExldHRlclRvUmVqZWN0OiBmdW5jdGlvbiByZWplY3RMZXR0ZXJUb1JlamVjdChwYXlsb2FkLCBhc3NpZ25tZW50SWQsIHgsIHksIGN1cnJlbnRQYWdlLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQtcmVqZWN0LWxldHRlci90by1yZWplY3QvIi5jb25jYXQoYXNzaWdubWVudElkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBnZXRJbmNvbWVUb3RhbENvdW50OiBmdW5jdGlvbiBnZXRJbmNvbWVUb3RhbENvdW50KCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL3RvdGFsQ291bnQiKTsKICB9LAogIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGRhdGEpIHsKICAgIHZhciBxdWVyeV9kYXRhID0gIj9maWxlTmFtZT0iLmNvbmNhdChkYXRhLm5hbWUsICImcmVnTnVtYmVyPSIpLmNvbmNhdChkYXRhLnJlZ051bWJlciwgIiZkYXRlPSIpLmNvbmNhdChkYXRhLmRhdGUsICImZG9jU2FtcGxlSWQ9IikuY29uY2F0KGRhdGEuZG9jU2FtcGxlSWQgPT0gJ2JsYW5rJyA/ICcnIDogZGF0YS5kb2NTYW1wbGVJZCk7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL2xldHRlclNhdmUiLmNvbmNhdChxdWVyeV9kYXRhKSk7CiAgfSwKICBnZXRMaXN0TGV0dGVyOiBmdW5jdGlvbiBnZXRMaXN0TGV0dGVyKF9yZWY0KSB7CiAgICB2YXIgcGFyYW1zID0gX3JlZjQucGFyYW1zLAogICAgICBzZWFyY2ggPSBfcmVmNC5zZWFyY2g7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL2RyYWZ0TGlzdD9zZWFyY2g9Ii5jb25jYXQoc2VhcmNoKSwgcGFyYW1zKTsKICB9LAogIGdldExpc3RMZXR0ZXJJbmNvbWU6IGZ1bmN0aW9uIGdldExpc3RMZXR0ZXJJbmNvbWUoX3JlZjUsIGFjdGlvbikgewogICAgdmFyIHBhcmFtcyA9IF9yZWY1LnBhcmFtcywKICAgICAgc2VhcmNoID0gX3JlZjUuc2VhcmNoOwogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9pbmNvbWVMaXN0P3NlYXJjaD0iLmNvbmNhdChzZWFyY2gsICImYWN0aW9uPSIpLmNvbmNhdChhY3Rpb24pLCBwYXJhbXMpOwogIH0sCiAgZ2V0TGlzdExldHRlclZpc2E6IGZ1bmN0aW9uIGdldExpc3RMZXR0ZXJWaXNhKF9yZWY2LCBhY3Rpb24pIHsKICAgIHZhciBwYXJhbXMgPSBfcmVmNi5wYXJhbXMsCiAgICAgIHNlYXJjaCA9IF9yZWY2LnNlYXJjaDsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImxldHRlci9mb3JWaXNhTGlzdD9zZWFyY2g9Ii5jb25jYXQoc2VhcmNoLCAiJmFjdGlvbj0iKS5jb25jYXQoYWN0aW9uKSwgcGFyYW1zKTsKICB9LAogIGdldFZpc2FJbmZvOiBmdW5jdGlvbiBnZXRWaXNhSW5mbyhhcHBsaWNhdGlvbklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoImxldHRlci92aXNhLWluZm8vIi5jb25jYXQoYXBwbGljYXRpb25JZCkpOwogIH0sCiAgZ2V0TGlzdExldHRlclNlbmQ6IGZ1bmN0aW9uIGdldExpc3RMZXR0ZXJTZW5kKF9yZWY3KSB7CiAgICB2YXIgcGFyYW1zID0gX3JlZjcucGFyYW1zLAogICAgICBzZWFyY2ggPSBfcmVmNy5zZWFyY2g7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL3NlbmRMaXN0P3NlYXJjaD0iLmNvbmNhdChzZWFyY2gpLCBwYXJhbXMpOwogIH0sCiAgZ2V0QnlJZExldHRlcjogZnVuY3Rpb24gZ2V0QnlJZExldHRlcihpZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL2dldC1ieS1pZC8iLmNvbmNhdChpZCkpOwogIH0sCiAgZ2V0QnlJZFNlbmRUb1JhaXM6IGZ1bmN0aW9uIGdldEJ5SWRTZW5kVG9SYWlzKGlkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvZ2V0LWJ5LWlkL2J5LWFwcGxpY2F0aW9uLWlkLyIuY29uY2F0KGlkKSk7CiAgfSwKICBnZXRSZWplY3RMZXR0ZXI6IGZ1bmN0aW9uIGdldFJlamVjdExldHRlcihsZXR0ZXJJZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL2dldC1yZWplY3QtbGV0dGVyLyIuY29uY2F0KGxldHRlcklkKSk7CiAgfSwKICBzZW5kRG9jOiBmdW5jdGlvbiBzZW5kRG9jKGlkLCBwYXJhbXMpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvc2VuZC8iLmNvbmNhdChpZCksIHBhcmFtcyk7CiAgfSwKICBzZW5kUXVvcnVtOiBmdW5jdGlvbiBzZW5kUXVvcnVtKHByb2plY3RJZCwgcGFyYW1zKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wdXQoIi9wcm9qZWN0L25vLXF1b3J1bS8iLmNvbmNhdChwcm9qZWN0SWQsICI/ZGF0ZT0iKS5jb25jYXQocGFyYW1zLmRhdGUpLCBwYXJhbXMpOwogIH0sCiAgb25seURvY1NpZ246IGZ1bmN0aW9uIG9ubHlEb2NTaWduKHBheWxvYWQsIGlkLCB4LCB5LCBjdXJyZW50UGFnZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9tYWtlU2lnbmVkLyIuY29uY2F0KGlkLCAiP3g9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgc2lnbkRlY2lzaW9uOiBmdW5jdGlvbiBzaWduRGVjaXNpb24ocGF5bG9hZCwgaWQsIHgsIHksIGN1cnJlbnRQYWdlLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQvZGVjaXNpb24vIi5jb25jYXQoaWQsICI/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlLCAiJmNvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIG9ubHlEb2NTaWduU2VuZFRvUmFpczogZnVuY3Rpb24gb25seURvY1NpZ25TZW5kVG9SYWlzKHBheWxvYWQsIGlkLCB4LCB5LCBjdXJyZW50UGFnZSwgY29tbWlzc2lvblR5cGVJZCwgY29tbWlzc2lvbkNvbW1lbnQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC9mcm9tLWR4YS8iLmNvbmNhdChpZCwgIi8iKS5jb25jYXQoY29tbWlzc2lvblR5cGVJZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21taXNzaW9uQ29tbWVudCwgIiZ4PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIG9ubHlEb2NTaWduU2VuZFRvUmFpc09uSW5uZXI6IGZ1bmN0aW9uIG9ubHlEb2NTaWduU2VuZFRvUmFpc09uSW5uZXIocGF5bG9hZCwgaWQsIHgsIHksIGN1cnJlbnRQYWdlLCBtYW5hZ2VtZW50RW1wbG95ZWVJZCwgY29tbWVudCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9tYWtlU2lnbmVkL3RvLXNpZ24vIi5jb25jYXQoaWQsICIvIikuY29uY2F0KG1hbmFnZW1lbnRFbXBsb3llZUlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBvbmx5RG9jU2lnbkZPUk5vdEJlbG9uZzogZnVuY3Rpb24gb25seURvY1NpZ25GT1JOb3RCZWxvbmcocGF5bG9hZCwgaWQsIHgsIHksIGN1cnJlbnRQYWdlKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQvbm90LWJlbG9uZy8iLmNvbmNhdChpZCwgIj94PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIG9ubHlEb2NTaWduRm9yVG9SZXR1cm46IGZ1bmN0aW9uIG9ubHlEb2NTaWduRm9yVG9SZXR1cm4ocGF5bG9hZCwgaWQsIHgsIHksIGN1cnJlbnRQYWdlKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQvdG8tcmV0dXJuLyIuY29uY2F0KGlkLCAiP3g9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgb25seURvY01ha2VTaWduZWRUb1JlamVjdDogZnVuY3Rpb24gb25seURvY01ha2VTaWduZWRUb1JlamVjdChwYXlsb2FkLCBhc3NpZ25tZW50SWQsIGVtcGxveWVlSWQsIGNvbW1lbnQsIHgsIHksIGN1cnJlbnRQYWdlKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQtY29tcHJvbWlzZS1kZWNpc2lvbi90by1yZWplY3QvIi5jb25jYXQoYXNzaWdubWVudElkLCAiLyIpLmNvbmNhdChlbXBsb3llZUlkLCAiP3g9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSwgIiZjb21tZW50PSIpLmNvbmNhdChjb21tZW50KSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBvbmx5RG9jU2lnbkZPUkJlZm9yZVByb2plY3Q6IGZ1bmN0aW9uIG9ubHlEb2NTaWduRk9SQmVmb3JlUHJvamVjdChwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImxldHRlci9tYWtlU2lnbmVkL2Zyb20tZHhhL2Zvci1jb25maXJtLyIuY29uY2F0KGlkLCAiP3g9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgbWFrZVNpZ25lZEludm9rZUxldHRlcjogZnVuY3Rpb24gbWFrZVNpZ25lZEludm9rZUxldHRlcihwYXlsb2FkLCBwcm9qZWN0SWQsIGxldHRlcklkLCBlbXBsb3llZUlkLCBjb21tZW50LCB4LCB5LCBjdXJyZW50UGFnZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL21ha2VTaWduZWQtaW52b2tlLWxldHRlci8iLmNvbmNhdChwcm9qZWN0SWQsICIvIikuY29uY2F0KGxldHRlcklkLCAiLyIpLmNvbmNhdChlbXBsb3llZUlkLCAiLz94PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UsICImY29tbWVudD0iKS5jb25jYXQoY29tbWVudCksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgb25seURvY1NpZ25Ob3RCZWxvbmc6IGZ1bmN0aW9uIG9ubHlEb2NTaWduTm90QmVsb25nKHBheWxvYWQsIGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJiZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9hcHBsaWNhdGlvbi1yZXZpZXcvbm90LWJlbG9uZz9sZXR0ZXJJZD0iLmNvbmNhdChsZXR0ZXJJZCksIHBheWxvYWQpOwogIH0sCiAgb25seURvY1NpZ25Gb3JSZXZpc2lvbjogZnVuY3Rpb24gb25seURvY1NpZ25Gb3JSZXZpc2lvbihwYXlsb2FkLCBpZCwgY29tbWVudCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL2Zvci1yZXZpc2lvbi9mcm9tLWNvbW1pc3Npb24vIi5jb25jYXQoaWQsICI/Y29tbWVudD0iKS5jb25jYXQoY29tbWVudCksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgb25seURvY1NpZ25Gb3JSUmVqZWN0ZWRCeVJhaXM6IGZ1bmN0aW9uIG9ubHlEb2NTaWduRm9yUlJlamVjdGVkQnlSYWlzKHBheWxvYWQsIGxldHRlcklkLCBpZCwgY29tbWVudCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL2Zvci1yZXZpc2lvbi90by1jb21taXNzaW9uLyIuY29uY2F0KGxldHRlcklkLCAiLyIpLmNvbmNhdChpZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50KSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBsZXR0ZXJDYW5jZWxsZWQ6IGZ1bmN0aW9uIGxldHRlckNhbmNlbGxlZChwYXlsb2FkLCBsZXR0ZXJJZCwgYXNzaWdubWVudElkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL2NhbmNlbGxlZC8iLmNvbmNhdChsZXR0ZXJJZCwgIi8iKS5jb25jYXQoYXNzaWdubWVudElkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIHJlc3VsdEFwcGxpY2F0aW9uRm9yRFhBOiBmdW5jdGlvbiByZXN1bHRBcHBsaWNhdGlvbkZvckRYQShwYXlsb2FkLCBsZXR0ZXJJZCwgYXBwbGljYXRpb25EWEFJZCwgcGF5bWVudEFtb3VudCkgewogICAgdmFyIGZpbGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBbXTsKICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBmb3JtRGF0YS5hcHBlbmQoInBheW1lbnRGaWxlcyIsIGl0ZW0uZmlsZSk7CiAgICB9KTsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmZvcm1EYXRhRmlsZSgiL2JlZm9yZS1jb21taXNzaW9uL2FwcGxpY2F0aW9uL2FwcGxpY2F0aW9uLXJldmlldy9hY2NlcHRlZD9sZXR0ZXJJZD0iLmNvbmNhdChsZXR0ZXJJZCwgIiZhcHBsaWNhdGlvbkRYQUlkPSIpLmNvbmNhdChhcHBsaWNhdGlvbkRYQUlkLCAiJnBheW1lbnRBbW91bnQ9IikuY29uY2F0KHBheW1lbnRBbW91bnQpLCBmb3JtRGF0YSk7CiAgfSwKICByZXN1bHRBcHBsaWNhdGlvbkZvckRYQVJlamVjdGVkOiBmdW5jdGlvbiByZXN1bHRBcHBsaWNhdGlvbkZvckRYQVJlamVjdGVkKHBheWxvYWQsIGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJiZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9hcHBsaWNhdGlvbi1yZXZpZXcvcmVqZWN0ZWQ/bGV0dGVySWQ9Ii5jb25jYXQobGV0dGVySWQpLCBwYXlsb2FkKTsKICB9LAogIHVwbG9hZFJlamVjdExldHRlcjogZnVuY3Rpb24gdXBsb2FkUmVqZWN0TGV0dGVyKGxldHRlckFzc2lnbm1lbnRJZCwgbGV0dGVyVHlwZSkgewogICAgdmFyIGxldHRlck5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICJSYWQgZXRpc2ggeGF0aSI7CiAgICByZXR1cm4gQXBpU2VydmljZS5wdXQoIi9sZXR0ZXIvdXBsb2FkLXJlamVjdC1sZXR0ZXIvIi5jb25jYXQobGV0dGVyQXNzaWdubWVudElkLCAiP2xldHRlclR5cGU9IikuY29uY2F0KGxldHRlclR5cGUsICImbGV0dGVyTmFtZT0iKS5jb25jYXQobGV0dGVyTmFtZSksIG51bGwsIHRydWUpOwogIH0sCiAgc2lnbkRvYzogZnVuY3Rpb24gc2lnbkRvYyhwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UsIGNvbW1pc3Npb25UeXBlSWQsIGNvbW1pc3Npb25Db21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWROZXcvIi5jb25jYXQoaWQsICIvIikuY29uY2F0KGNvbW1pc3Npb25UeXBlSWQsICI/Y29tbWVudD0iKS5jb25jYXQoY29tbWlzc2lvbkNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBtYWtlU2lnbmVkTmV3V2l0aEhlYWRPZkRlcGFydG1lbnQ6IGZ1bmN0aW9uIG1ha2VTaWduZWROZXdXaXRoSGVhZE9mRGVwYXJ0bWVudChwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UsIGNvbW1pc3Npb25UeXBlSWQsIGNvbW1pc3Npb25Db21tZW50LCBoZWFkT2ZEZXBhcnRtZW50SWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZE5ldy93aXRoSGVhZE9mRGVwYXJ0bWVudC8iLmNvbmNhdChpZCwgIi8iKS5jb25jYXQoY29tbWlzc2lvblR5cGVJZCwgIj9oZWFkT2ZEZXBhcnRtZW50SWQ9IikuY29uY2F0KGhlYWRPZkRlcGFydG1lbnRJZCwgIiZjb21tZW50PSIpLmNvbmNhdChjb21taXNzaW9uQ29tbWVudCwgIiZ4PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIG1ha2VTaWduZWRUb0Nsb3NlZDogZnVuY3Rpb24gbWFrZVNpZ25lZFRvQ2xvc2VkKHBheWxvYWQsIGFzc2lnbm1lbnRJZCwgY29tbWVudCwgeCwgeSwgY3VycmVudFBhZ2UpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC10by1jbG9zZWQvIi5jb25jYXQoYXNzaWdubWVudElkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBzaWduRG9jVG9NYW5hZ2VtZW50OiBmdW5jdGlvbiBzaWduRG9jVG9NYW5hZ2VtZW50KHBheWxvYWQsIGxldHRlckFzc2lnbm1lbnRJZCwgeCwgeSwgY3VycmVudFBhZ2UsIG1hbmFnZW1lbnRFbXBsb3llZUlkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWROZXcvdG8tbWFuYWdlbWVudC8iLmNvbmNhdChsZXR0ZXJBc3NpZ25tZW50SWQsICIvIikuY29uY2F0KG1hbmFnZW1lbnRFbXBsb3llZUlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBnZXRSZWNlaXZlcnM6IGZ1bmN0aW9uIGdldFJlY2VpdmVycyhpZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL2xldHRlckluZm8vIi5jb25jYXQoaWQpKTsKICB9LAogIG1ha2VBZ3JlZTogZnVuY3Rpb24gbWFrZUFncmVlKGlkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbWFrZUFncmVlZC8iLmNvbmNhdChpZCkpOwogIH0sCiAgbWFrZVJldmlld0ZvckNvbW1pc3Npb246IGZ1bmN0aW9uIG1ha2VSZXZpZXdGb3JDb21taXNzaW9uKGlkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VWaWV3ZWRGb3JDb21taXNzaW9uUHJvamVjdC8iLmNvbmNhdChpZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50ID8gY29tbWVudCA6ICcnKSk7CiAgfSwKICBtYWtlUmV2aWV3Rm9yQ29tbWlzc2lvbk1hbmFnZW1lbnQ6IGZ1bmN0aW9uIG1ha2VSZXZpZXdGb3JDb21taXNzaW9uTWFuYWdlbWVudChsZXR0ZXJBc3NpZ25tZW50SWQsIGNvbW1pc3Npb25UeXBlSWQsIGNvbW1lbnQsIGNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9zZW5kLXRvLWNvbW1pc3Npb24vIi5jb25jYXQobGV0dGVyQXNzaWdubWVudElkLCAiLyIpLmNvbmNhdChjb21taXNzaW9uVHlwZUlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQgPyBjb21tZW50IDogJycsICImY29tcGxldGlvbkRhdGU9IikuY29uY2F0KGNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSA/IGNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSA6ICcnKSk7CiAgfSwKICBtYWtlTGV0dGVyU2VuZEZpbmlzaExldHRlclRvQ2hhaXJtYW46IGZ1bmN0aW9uIG1ha2VMZXR0ZXJTZW5kRmluaXNoTGV0dGVyVG9DaGFpcm1hbihhcHBsaWNhdGlvbklkLCBsZXR0ZXJJZCkgewogICAgdmFyIGNvbW1lbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnOwogICAgcmV0dXJuIEFwaVNlcnZpY2UucHV0KCIvbGV0dGVyL3NlbmQtZmluaXNoLWxldHRlci90by1jaGFpcm1hbi8iLmNvbmNhdChhcHBsaWNhdGlvbklkLCAiLyIpLmNvbmNhdChsZXR0ZXJJZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50KSk7CiAgfSwKICBtYWtlU2lnbmVkQmVmb3JlQ29tbWlzc2lvbjogZnVuY3Rpb24gbWFrZVNpZ25lZEJlZm9yZUNvbW1pc3Npb24ocGF5bG9hZCwgbGV0dGVyQXNzaWdubWVudElkLCBjb21tZW50LCB4LCB5LCBjdXJyZW50UGFnZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9tYWtlU2lnbmVkL2JlZm9yZS1jb21taXNzaW9uLyIuY29uY2F0KGxldHRlckFzc2lnbm1lbnRJZCwgIi8/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlLCAiJmNvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkKTsKICB9LAogIG1ha2VSZXZpZXc6IGZ1bmN0aW9uIG1ha2VSZXZpZXcoaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9tYWtlVmlld2VkLyIuY29uY2F0KGlkKSk7CiAgfSwKICBtYWtlQ29tcHJvbWlzZURlY2lzaW9uVmlld2VkOiBmdW5jdGlvbiBtYWtlQ29tcHJvbWlzZURlY2lzaW9uVmlld2VkKGlkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbWFrZS1jb21wcm9taXNlLWRlY2lzaW9uLXZpZXdlZC8iLmNvbmNhdChpZCkpOwogIH0sCiAgbWFrZUFncmVlZExldHRlclRvQ2xvc2VkOiBmdW5jdGlvbiBtYWtlQWdyZWVkTGV0dGVyVG9DbG9zZWQobGV0dGVyQXNzaWdubWVudElkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbWFrZVZpZXdlZC1sZXR0ZXIvdG8tY2xvc2VkLyIuY29uY2F0KGxldHRlckFzc2lnbm1lbnRJZCkpOwogIH0sCiAgbWFrZVZpZXdlZExldHRlclRvUmVqZWN0OiBmdW5jdGlvbiBtYWtlVmlld2VkTGV0dGVyVG9SZWplY3QobGV0dGVyQXNzaWdubWVudElkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbWFrZVZpZXdlZC1sZXR0ZXIvdG8tcmVqZWN0LyIuY29uY2F0KGxldHRlckFzc2lnbm1lbnRJZCkpOwogIH0sCiAgbWFrZVZpZXdlZExldHRlclRvRmluaXNoOiBmdW5jdGlvbiBtYWtlVmlld2VkTGV0dGVyVG9GaW5pc2gobGV0dGVyQXNzaWdubWVudElkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbWFrZVZpZXdlZC1sZXR0ZXIvdG8tZmluaXNoLyIuY29uY2F0KGxldHRlckFzc2lnbm1lbnRJZCkpOwogIH0sCiAgbWFrZUFncmVlZExldHRlcjogZnVuY3Rpb24gbWFrZUFncmVlZExldHRlcihhc3NpZ25tZW50SWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9tYWtlVmlld2VkLWxldHRlci8iLmNvbmNhdChhc3NpZ25tZW50SWQpKTsKICB9LAogIG1ha2VTaWduZWRGaW5pc2hMZXR0ZXI6IGZ1bmN0aW9uIG1ha2VTaWduZWRGaW5pc2hMZXR0ZXIoYXNzaWdubWVudElkLCBlbXBsb3llZUlkLCBjb21tZW50LCBwYXlsb2FkLCB4LCB5LCBjdXJyZW50UGFnZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9tYWtlU2lnbmVkLWZpbmlzaC1sZXR0ZXIvIi5jb25jYXQoYXNzaWdubWVudElkLCAiLyIpLmNvbmNhdChlbXBsb3llZUlkLCAiP3g9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSwgIiZjb21tZW50PSIpLmNvbmNhdChjb21tZW50KSwgcGF5bG9hZCk7CiAgfSwKICBzYXZlUmVqZWN0ZWQ6IGZ1bmN0aW9uIHNhdmVSZWplY3RlZChsZXR0ZXJJZCwgaWQsIGNvbW1lbnQsIHBheWxvYWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvY2FuY2VsbGVkLyIuY29uY2F0KGxldHRlcklkLCAiLyIpLmNvbmNhdChpZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50KSwgcGF5bG9hZCk7CiAgfSwKICBzYXZlUXJDb2RlOiBmdW5jdGlvbiBzYXZlUXJDb2RlKGxlZnQsIHRvcCwgcGFnZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL2xldHRlckFzUGRmP3g9Ii5jb25jYXQobGVmdCwgIiZ5PSIpLmNvbmNhdCh0b3AsICImcGFnZT0iKS5jb25jYXQocGFnZSAtIDEpKTsKICB9LAogIGhhbmRsZVNlbmRMZXR0ZXJUb0NoYWlybWFuOiBmdW5jdGlvbiBoYW5kbGVTZW5kTGV0dGVyVG9DaGFpcm1hbihsZXR0ZXJJZCwgY29tbWVudCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucHV0KCIvbGV0dGVyL3NlbmQtbGV0dGVyL3RvLWNoYWlybWFuLyIuY29uY2F0KGxldHRlcklkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpKTsKICB9LAogIGxldHRlclFSQ09ERTogZnVuY3Rpb24gbGV0dGVyUVJDT0RFKGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbGV0dGVyUVJDb2RlLyIuY29uY2F0KGxldHRlcklkKSk7CiAgfSwKICBsZXR0ZXJRUkNPREVTZW5kVG9SYWlzOiBmdW5jdGlvbiBsZXR0ZXJRUkNPREVTZW5kVG9SYWlzKGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbGV0dGVyUVJDb2RlL2Zyb20tZHhhLyIuY29uY2F0KGxldHRlcklkKSk7CiAgfSwKICBnZXREb2NQZGY6IGZ1bmN0aW9uIGdldERvY1BkZihsZXR0ZXJJZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL2NvbnZlcnRMZXR0ZXJUb1BkZi8iLmNvbmNhdChsZXR0ZXJJZCkpOwogIH0sCiAgY29udmVydDogZnVuY3Rpb24gY29udmVydChkYXRhKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL2xldHRlckNvbnZlcnQiLCB7CiAgICAgIGh0bWw6IGRhdGEKICAgIH0pOwogIH0sCiAgYXBwbGljYXRpb25SZXZpZXdOb1Blcm1pdFJlcXVpcmVkOiBmdW5jdGlvbiBhcHBsaWNhdGlvblJldmlld05vUGVybWl0UmVxdWlyZWQoYXBwbGljYXRpb25JZCwgZGVjaXNpb25UZXh0KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvYmVmb3JlLWNvbW1pc3Npb24vYXBwbGljYXRpb24vYXBwbGljYXRpb24tcmV2aWV3L25vLXBlcm1pdC1yZXF1aXJlZD9hcHBsaWNhdGlvbkRYQUlkPSIuY29uY2F0KGFwcGxpY2F0aW9uSWQpLCB7CiAgICAgIGRlY2lzaW9uX3RleHQ6IGRlY2lzaW9uVGV4dAogICAgfSwgdHJ1ZSk7CiAgfSwKICBhcHBsaWNhdGlvblJlb3BlblByb2plY3Q6IGZ1bmN0aW9uIGFwcGxpY2F0aW9uUmVvcGVuUHJvamVjdChhcHBsaWNhdGlvbklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvYmVmb3JlLWNvbW1pc3Npb24vYXBwbGljYXRpb24vcmVvcGVuLXByb2plY3Q/YXBwbGljYXRpb25JZD0iLmNvbmNhdChhcHBsaWNhdGlvbklkKSwgbnVsbCwgdHJ1ZSk7CiAgfSwKICByZXR1cm5BcHBsaWNhdGlvbkJ5UmVnaW9uOiBmdW5jdGlvbiByZXR1cm5BcHBsaWNhdGlvbkJ5UmVnaW9uKGFwcGxpY2F0aW9uRHhhSWQsIGlkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJiZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9yZXR1cm4tdG8tY2VudHJhbC1zZWN0aW9uP2FwcGxpY2F0aW9uRFhBSWQ9Ii5jb25jYXQoYXBwbGljYXRpb25EeGFJZCwgIiZpZD0iKS5jb25jYXQoaWQpKTsKICB9LAogIGdldEFsbE1hbmFnZW1lbnRFbXBsb3llZXM6IGZ1bmN0aW9uIGdldEFsbE1hbmFnZW1lbnRFbXBsb3llZXMoKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoImVtcGxveWVlL2dldC1hbGwtZW1wbG95ZWUvaW4tbWFuYWdlbWVudCIpOwogIH0sCiAgdXBsb2FkRmluaXNoTGV0dGVyOiBmdW5jdGlvbiB1cGxvYWRGaW5pc2hMZXR0ZXIoYXBwbGljYXRpb25JZCwgbGV0dGVyVHlwZSwgbGV0dGVyTmFtZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucHV0KCIvbGV0dGVyL3VwbG9hZC1maW5pc2gtbGV0dGVyLyIuY29uY2F0KGFwcGxpY2F0aW9uSWQsICI/bGV0dGVyVHlwZT0iKS5jb25jYXQobGV0dGVyVHlwZSwgIiZsZXR0ZXJOYW1lPSIpLmNvbmNhdChsZXR0ZXJOYW1lKSk7CiAgfSwKICBsZXR0ZXJHZXRGaW5pc2hMZXR0ZXI6IGZ1bmN0aW9uIGxldHRlckdldEZpbmlzaExldHRlcihhcHBsaWNhdGlvbklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoImxldHRlci9nZXQtZmluaXNoLWxldHRlci8iLmNvbmNhdChhcHBsaWNhdGlvbklkKSk7CiAgfSwKICBsZXR0ZXJHZXRGaW5pc2hMZXR0ZXJXaXRoU2lnbmVyOiBmdW5jdGlvbiBsZXR0ZXJHZXRGaW5pc2hMZXR0ZXJXaXRoU2lnbmVyKGFwcGxpY2F0aW9uSWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgibGV0dGVyL2dldC1maW5pc2gtbGV0dGVyL3dpdGgtc2lnbmVyLyIuY29uY2F0KGFwcGxpY2F0aW9uSWQpKTsKICB9LAogIHNlYXJjaExpc3Q6IGZ1bmN0aW9uIHNlYXJjaExpc3QobWFpblVybCwgcGF5bG9hZCwgYXBwZW5kVXJsKSB7CiAgICB2YXIgd2l0aExvYWRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7CiAgICB2YXIgbXlQYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgcGF5bG9hZCk7CiAgICBteVBheWxvYWQucGFnZSAtPSAxOwogICAgaWYgKGFwcGVuZFVybCkgewogICAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIiLmNvbmNhdChtYWluVXJsLCAiL2xpc3Qtc2VhcmNoLyIpLmNvbmNhdChhcHBlbmRVcmwpLCBwYXlsb2FkID8gbXlQYXlsb2FkIDogcGF5bG9hZCwgd2l0aExvYWRlcik7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIiLmNvbmNhdChtYWluVXJsLCAiL2xpc3Qtc2VhcmNoIiksIHBheWxvYWQgPyBteVBheWxvYWQgOiBwYXlsb2FkLCB3aXRoTG9hZGVyKTsKICAgIH0KICB9LAogIGR4YVZpc2FEYXRhR2V0RmlsZTogZnVuY3Rpb24gZHhhVmlzYURhdGFHZXRGaWxlKGFwcGxpY2F0aW9uSWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiZHhhLXZpc2EtZGF0YS9nZXQtZmlsZS8iLmNvbmNhdChhcHBsaWNhdGlvbklkKSk7CiAgfSwKICBwcm9qZWN0SW5mb3JtYXRpb25Db21wbGV0ZWQ6IGZ1bmN0aW9uIHByb2plY3RJbmZvcm1hdGlvbkNvbXBsZXRlZChwcm9qZWN0SWQsIGRhdGUpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoInByb2plY3QvaW5mb3JtYXRpb24tY29tcGxldGVkLyIuY29uY2F0KHByb2plY3RJZCwgIj9kYXRlPSIpLmNvbmNhdChkYXRlKSk7CiAgfSwKICBjaGFuZ2VTdGF0dXNTZXJ2aWNlOiBmdW5jdGlvbiBjaGFuZ2VTdGF0dXNTZXJ2aWNlKGNvbXBvbmVudCwgZ3JpZCkgewogICAgdmFyIHNlbGVjdGVkRmlsdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsOwogICAgY29tcG9uZW50LmNuZigpLnRoZW4oZnVuY3Rpb24gKHYpIHsKICAgICAgaWYgKHYudmFsdWUpIHsKICAgICAgICB2YXIgc3RhdHVzID0gJ1JFVklFV19GSU5JU0hFRCc7CiAgICAgICAgaWYgKGdyaWQucHJvamVjdFR5cGUgPT09ICdDT01NSVNTSU9OJyAmJiBncmlkLmFwcGxpY2F0aW9uVHlwZSAhPT0gIkZST01fRFhBIikgewogICAgICAgICAgc3dpdGNoIChncmlkLnJldHVyblR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnRk9SX0ZJTklTSF9XT1JLJzoKICAgICAgICAgICAgICBwcm9qZWN0U2VydmljZS5nZXRMZXR0ZXJzQnlJZChncmlkLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEgfHwgcmVzLmRhdGEubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX25vdF9leGlzdCcpLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBub3RQZGZEb2NzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkLmZpbGVUeXBlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3BkZicgJiYgWydERUNJU0lPTl9DT01NSVNTSU9OJywgJ1BST1RPQ09MX0NPTU1JU1NJT04nXS5pbmRleE9mKGQubGV0dGVyVHlwZSkgIT09IC0xOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkID0gbm90UGRmRG9jc1tpXTsKICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbnZlcnRUb1BkZihkKS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyLnVwbG9hZFBhdGgpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX2NvbnZlcnRfcGRmX2Vycm9yJyksIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghci51cGxvYWRQYXRoLmVuZHNXaXRoKCcucGRmJykpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX2NvbnZlcnRfcGRmX2Vycm9yJyksIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSBub3RQZGZEb2NzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jbG9zZVByb2plY3QoZ3JpZC5pZCwgc3RhdHVzLCBzZWxlY3RlZEZpbHRlcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub3RQZGZEb2NzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIF9sb29wKGkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnRk9SX1NVU1BFTkRfV09SSyc6CiAgICAgICAgICAgICAgcHJvamVjdFNlcnZpY2UuZ2V0TGV0dGVyc0J5SWQoZ3JpZC5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhIHx8IHJlcy5kYXRhLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19ub3RfZXhpc3QnKSwgewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgbm90UGRmRG9jcyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZC5maWxlVHlwZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgIT09ICdwZGYnICYmIFsnQ09NUFJPTUlTRV9ERUNJU0lPTl9TVVNQRU5EJywgJ1BST1RPQ09MX1NVU1BFTkQnXS5pbmRleE9mKGQubGV0dGVyVHlwZSkgIT09IC0xOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKGkpIHsKICAgICAgICAgICAgICAgICAgdmFyIGQgPSBub3RQZGZEb2NzW2ldOwogICAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udmVydFRvUGRmKGQpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXIudXBsb2FkUGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyLnVwbG9hZFBhdGguZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IG5vdFBkZkRvY3MubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vdFBkZkRvY3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgX2xvb3AyKGkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnRk9SX0RFTEFZX1dPUksnOgogICAgICAgICAgICAgIHByb2plY3RTZXJ2aWNlLmdldExldHRlcnNCeUlkKGdyaWQuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKCFyZXMuZGF0YSB8fCByZXMuZGF0YS5sZW5ndGggPD0gMCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfbm90X2V4aXN0JyksIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIG5vdFBkZkRvY3MgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZmlsZVR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpICE9PSAncGRmJyAmJiBbJ0NPTVBST01JU0VfREVDSVNJT05fREVMQVknLCAnUFJPVE9DT0xfREVMQVknXS5pbmRleE9mKGQubGV0dGVyVHlwZSkgIT09IC0xOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgX2xvb3AzID0gZnVuY3Rpb24gX2xvb3AzKGkpIHsKICAgICAgICAgICAgICAgICAgdmFyIGQgPSBub3RQZGZEb2NzW2ldOwogICAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udmVydFRvUGRmKGQpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXIudXBsb2FkUGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyLnVwbG9hZFBhdGguZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IG5vdFBkZkRvY3MubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vdFBkZkRvY3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgX2xvb3AzKGkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnRk9SX1JFU1VNRV9XT1JLJzoKICAgICAgICAgICAgICBwcm9qZWN0U2VydmljZS5nZXRMZXR0ZXJzQnlJZChncmlkLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEgfHwgcmVzLmRhdGEubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX25vdF9leGlzdCcpLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBub3RQZGZEb2NzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkLmZpbGVUeXBlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3BkZicgJiYgWydDT01QUk9NSVNFX0RFQ0lTSU9OX1JFU1VNRScsICdQUk9UT0NPTF9SRVNVTUUnXS5pbmRleE9mKGQubGV0dGVyVHlwZSkgIT09IC0xOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgX2xvb3A0ID0gZnVuY3Rpb24gX2xvb3A0KGkpIHsKICAgICAgICAgICAgICAgICAgdmFyIGQgPSBub3RQZGZEb2NzW2ldOwogICAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udmVydFRvUGRmKGQpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXIudXBsb2FkUGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyLnVwbG9hZFBhdGguZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IG5vdFBkZkRvY3MubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vdFBkZkRvY3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgX2xvb3A0KGkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsIHN0YXR1cywgc2VsZWN0ZWRGaWx0ZXIpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwcm9qZWN0U2VydmljZS5nZXRMZXR0ZXJzQnlJZChncmlkLmlkKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJlcykgewogICAgICAgICAgICAgIHZhciBub3RQZGZEb2NzLCBfbG9vcDUsIGksIF9ub3RQZGZEb2NzLCBjb252ZXJ0VG9QZGYsIGNvbnZlcnRUb1BkZkxlbmd0aCwgX2xvb3A2LCBfaTsKICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZ3JpZC5hcHBsaWNhdGlvblR5cGUgPT09ICJOT1RfQkVMT05HIikpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29tcG9uZW50LnByb2plY3RUeXBlID09PSAnQkVGT1JFX0NPTU1JU1NJT04nICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+PSAxIHx8IGNvbXBvbmVudC5wcm9qZWN0VHlwZSAhPT0gJ0JFRk9SRV9DT01NSVNTSU9OJyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5sZW5ndGggPj0gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZ3JpZC5wcm9qZWN0VHlwZSA9PT0gJ0NPTU1JU1NJT04nKSkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCAnRklOSVNIRUQnLCBzZWxlY3RlZEZpbHRlcik7CiAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX25vdF9leGlzdCcpLCB7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3NDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgICBpZiAoIShncmlkLmFwcGxpY2F0aW9uVHlwZSA9PT0gIkZST01fRFhBIikpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDI7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29tcG9uZW50LnByb2plY3RUeXBlID09PSAnQkVGT1JFX0NPTU1JU1NJT04nICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+PSAxIHx8IGNvbXBvbmVudC5wcm9qZWN0VHlwZSAhPT0gJ0JFRk9SRV9DT01NSVNTSU9OJyAmJiBjb21wb25lbnQucHJvamVjdFR5cGUgIT09ICdDT01NSVNTSU9OJyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5sZW5ndGggPj0gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZ3JpZC5wcm9qZWN0VHlwZSA9PT0gJ0NPTU1JU1NJT04nKSkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsIHN0YXR1cywgc2VsZWN0ZWRGaWx0ZXIpOwogICAgICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQwOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgICAgIGlmICghKGdyaWQucHJvamVjdFR5cGUgPT09ICdDT01NSVNTSU9OJykpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzk7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5maWxlVHlwZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgIT09ICdwZGYnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgICAgIG5vdFBkZkRvY3MgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgICAgICBfbG9vcDUgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2xvb3A1KGkpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBkOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9sb29wNSQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gbm90UGRmRG9jc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQuY29udmVydFRvUGRmKGQpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci51cGxvYWRQYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIudXBsb2FkUGF0aC5lbmRzV2l0aCgnLnBkZicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpID09PSBub3RQZGZEb2NzLmxlbmd0aCAtIDEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5jbG9zZVByb2plY3QoZ3JpZC5pZCwgc3RhdHVzLCBzZWxlY3RlZEZpbHRlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9sb29wNSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA8IG5vdFBkZkRvY3MubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzNzsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmRlbGVnYXRlWWllbGQoX2xvb3A1KGkpLCAidDAiLCAzNCk7CiAgICAgICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0MDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgY2FzZSAzOToKICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19ub3RfZXhpc3QnKSwgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjYXNlIDQwOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgNDI6CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29tcG9uZW50LnByb2plY3RUeXBlID09PSAnQkVGT1JFX0NPTU1JU1NJT04nICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+IDEgfHwgY29tcG9uZW50LnByb2plY3RUeXBlICE9PSAnQkVGT1JFX0NPTU1JU1NJT04nICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDczOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghKGdyaWQucHJvamVjdFR5cGUgPT09ICdDT01NSVNTSU9OJykpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDc7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDcxOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICBjYXNlIDQ3OgogICAgICAgICAgICAgICAgICAgIF9ub3RQZGZEb2NzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5maWxlVHlwZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgIT09ICdwZGYnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnZlcnRUb1BkZiA9IFtdOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MSA9IGdyaWQucmV0dXJuVHlwZTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IF9jb250ZXh0NS50MSA9PT0gIkZPUl9DT01NSVNTSU9OIiA/IDUyIDogX2NvbnRleHQ1LnQxID09PSAiRk9SX05PVF9DT01QTEVURUQiID8gNTQgOiBfY29udGV4dDUudDEgPT09ICJGT1JfTk9UX0JFTE9ORyIgPyA1NyA6IF9jb250ZXh0NS50MSA9PT0gIkZPUl9SRUdJT04iID8gNjAgOiA2MzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICAgICAgICBjb252ZXJ0VG9QZGYgPSBfbm90UGRmRG9jcy5maWx0ZXIoZnVuY3Rpb24gKGwpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsLmxldHRlclR5cGUgPT09ICdSRUZFUkVOQ0UnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDYzKTsKICAgICAgICAgICAgICAgICAgY2FzZSA1NDoKICAgICAgICAgICAgICAgICAgICBjb252ZXJ0VG9QZGYgPSBfbm90UGRmRG9jcy5maWx0ZXIoZnVuY3Rpb24gKGwpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsLmxldHRlclR5cGUgPT09ICdOT1RJQ0VfTk9UX0NPTVBMRVRFRCc7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gJ0ZJTklTSEVEJzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgiYnJlYWsiLCA2Myk7CiAgICAgICAgICAgICAgICAgIGNhc2UgNTc6CiAgICAgICAgICAgICAgICAgICAgY29udmVydFRvUGRmID0gX25vdFBkZkRvY3MuZmlsdGVyKGZ1bmN0aW9uIChsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbC5sZXR0ZXJUeXBlID09PSAnTk9USUNFX05PVF9CRUxPTkcnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9ICdGSU5JU0hFRCc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoImJyZWFrIiwgNjMpOwogICAgICAgICAgICAgICAgICBjYXNlIDYwOgogICAgICAgICAgICAgICAgICAgIGNvbnZlcnRUb1BkZiA9IF9ub3RQZGZEb2NzLmZpbHRlcihmdW5jdGlvbiAobCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwubGV0dGVyVHlwZSA9PT0gJ05PVElDRV9SRUdJT04nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9ICdGSU5JU0hFRCc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoImJyZWFrIiwgNjMpOwogICAgICAgICAgICAgICAgICBjYXNlIDYzOgogICAgICAgICAgICAgICAgICAgIGNvbnZlcnRUb1BkZkxlbmd0aCA9IGNvbnZlcnRUb1BkZi5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgX2xvb3A2ID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9sb29wNihpKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZDsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfbG9vcDYkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGNvbnZlcnRUb1BkZltpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb252ZXJ0VG9QZGYoZCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDSEVDSyBBTkQgUkVTRU5EIDFTVCBSRVFVRVNUCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghci51cGxvYWRQYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyLnVwbG9hZFBhdGguZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX2NvbnZlcnRfcGRmX2Vycm9yJyksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSBjb252ZXJ0VG9QZGZMZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2xvb3A2KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfaSA9IDA7CiAgICAgICAgICAgICAgICAgIGNhc2UgNjY6CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBjb252ZXJ0VG9QZGZMZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDcxOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuZGVsZWdhdGVZaWVsZChfbG9vcDYoX2kpLCAidDIiLCA2OCk7CiAgICAgICAgICAgICAgICAgIGNhc2UgNjg6CiAgICAgICAgICAgICAgICAgICAgX2krKzsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY2OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICBjYXNlIDcxOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgNzM6CiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfbm90X2V4aXN0JyksIHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgY2FzZSA3NDoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"names":["ApiService","projectService","fetchChartDataApplicationsByStatusesForYearForDXA","year","get","giveVisaForDXA","applicationId","params","post","id","comment","sendToCommissionFromDxa","commissionTypeId","SignatureGiveVisaForDXA","data","bodyDate","employeeId","letterId","giveVisaDate","fetchChartDataCurrentApplicationStatusesForDXA","fetchChartDataApplicationsByStatusesForYear","fetchChartDataCurrentApplicationStatuses","listApplicationsByStatus","payload","status","keyword","myPayload","Object","assign","page","listDXA_ApplicationsByStatus","activeDXATab","getListMonitor","search","getRegions","acceptAppilcation","application_id","department_id","acceptSenderRegion","applicationReviewNOT_COMPLETE","obj","ID","getBody","viewPdfByLetterId","saveLetterBody","text","signer","body","removeLetter","delete","removeFile","getAttachedFilesById","projectLettersByLetterId","createAttachedFile","file","formData","FormData","append","getListDocumentType","v","convertToPdfByApi","config","withLoader","getList","getById","setLetterRejtOrAccept","bool","rejectLetterToReject","assignmentId","x","y","currentPage","getIncomeTotalCount","upload","query_data","name","regNumber","date","docSampleId","getListLetter","getListLetterIncome","action","getListLetterVisa","getVisaInfo","getListLetterSend","getByIdLetter","getByIdSendToRais","getRejectLetter","sendDoc","sendQuorum","projectId","put","onlyDocSign","signDecision","onlyDocSignSendToRais","commissionComment","onlyDocSignSendToRaisOnInner","managementEmployeeId","onlyDocSignFORNotBelong","onlyDocSignForToReturn","onlyDocMakeSignedToReject","onlyDocSignFORBeforeProject","makeSignedInvokeLetter","onlyDocSignNotBelong","onlyDocSignForRevision","onlyDocSignForRRejectedByRais","letterCancelled","resultApplicationForDXA","applicationDXAId","paymentAmount","files","forEach","item","formDataFile","resultApplicationForDXARejected","uploadRejectLetter","letterAssignmentId","letterType","letterName","signDoc","makeSignedNewWithHeadOfDepartment","headOfDepartmentId","makeSignedToClosed","signDocToManagement","getReceivers","makeAgree","makeReviewForCommission","makeReviewForCommissionManagement","commissionCompletionDate","makeLetterSendFinishLetterToChairman","makeSignedBeforeCommission","makeReview","makeCompromiseDecisionViewed","makeAgreedLetterToClosed","makeViewedLetterToReject","makeViewedLetterToFinish","makeAgreedLetter","makeSignedFinishLetter","saveRejected","saveQrCode","left","top","handleSendLetterToChairman","letterQRCODE","letterQRCODESendToRais","getDocPdf","convert","html","applicationReviewNoPermitRequired","decisionText","decision_text","applicationReopenProject","returnApplicationByRegion","applicationDxaId","getAllManagementEmployees","uploadFinishLetter","letterGetFinishLetter","letterGetFinishLetterWithSigner","searchList","mainUrl","appendUrl","dxaVisaDataGetFile","projectInformationCompleted","changeStatusService","component","grid","selectedFilter","cnf","then","value","projectType","applicationType","returnType","getLettersById","res","length","$toast","$t","type","notPdfDocs","filter","d","fileType","toString","toLowerCase","indexOf","i","convertToPdf","r","uploadPath","endsWith","closeProject","catch","e","console","log","l","convertToPdfLength"],"sources":["C:/ACRU PROJECT/Fair Tech/acru-frontend/src/modules/letter/letterService.js"],"sourcesContent":["import ApiService from '@/shared/services/api.service'\r\nimport projectService from '@/shared/services/projectService'\r\n// import {cxonfigure} from 'vee-validate'\r\n\r\nexport default {\r\n    fetchChartDataApplicationsByStatusesForYearForDXA(year) {\r\n        return ApiService.get(`application-dxa/get-data-for-chart-by-month?year=${year}`)\r\n    },\r\n    giveVisaForDXA(applicationId, params) {\r\n        return ApiService.post(`letter/get-visa/${applicationId}?employeeId=${params.id}&comment=${params.comment}`)\r\n    },\r\n    sendToCommissionFromDxa(applicationId, commissionTypeId, comment = '') {\r\n        return ApiService.post(`letter/send-to-commission/from-dxa/${applicationId}/${commissionTypeId}?comment=${comment}`)\r\n    },\r\n    SignatureGiveVisaForDXA(data, bodyDate) {\r\n        return ApiService.post(`letter/approve-visa/${data.applicationId}?employeeId=${data.employeeId}&letterId=${data.letterId}&comment=${bodyDate.comment}&giveVisaDate=${bodyDate.giveVisaDate}`)\r\n    },\r\n    fetchChartDataCurrentApplicationStatusesForDXA() {\r\n        return ApiService.get(`application-dxa/get-data-for-chart`)\r\n    },\r\n    fetchChartDataApplicationsByStatusesForYear(year) {\r\n        return ApiService.get(`before-commission/application/get-data-for-chart-by-month?year=${year}`)\r\n    },\r\n    fetchChartDataCurrentApplicationStatuses() {\r\n        return ApiService.get(`before-commission/application/get-data-for-chart`)\r\n    },\r\n    listApplicationsByStatus: function (payload, status = '', keyword = '') {\r\n        let myPayload = Object.assign({}, payload)\r\n        myPayload.page -= 1\r\n        return ApiService.post(`before-commission/application/list-search-by-application-status?keyword=${keyword}&status=${status ? status : ''}`, myPayload)\r\n    },\r\n    listDXA_ApplicationsByStatus: function (payload, status = '', keyword = '', activeDXATab) {\r\n        let myPayload = Object.assign({}, payload)\r\n        myPayload.page -= 1\r\n        return ApiService.post(`application-dxa/list-search/by-status?keyword=${keyword}&status=${status ? status : ''}&applicationType=${activeDXATab == 'FOR_SALE' ? 'FOR_SALE' : 'FOR_ADD'}`, myPayload)\r\n    },\r\n    getListMonitor({params, search}, activeDXATab) {\r\n        return ApiService.post(`/application-dxa/list-search/before-register?keyword=${search}&applicationType=${activeDXATab == 'FOR_SALE' ? 'FOR_SALE' : 'FOR_ADD'}`, params)\r\n    },\r\n    getRegions() {\r\n        return ApiService.post(`/department/list-search/yurdep`)\r\n    },\r\n    acceptAppilcation(application_id, department_id) {\r\n        return ApiService.post(`application-dxa/receive?id=${application_id}&department_id=${department_id ? department_id : ''}`)\r\n    },\r\n    acceptSenderRegion(application_id, department_id) {\r\n        return ApiService.post(`application-dxa/receive?id=${application_id}&department_id=${department_id ? department_id : ''}`)\r\n    },\r\n    applicationReviewNOT_COMPLETE(obj, ID) {\r\n        return ApiService.post(`/before-commission/application/application-review/not-completed?id=${ID}`, obj)\r\n    },\r\n    getBody(id) {\r\n        return ApiService.get(`/letter/getBodyById/${id}`)\r\n    },\r\n    viewPdfByLetterId(letterId) {\r\n        return ApiService.get(`/letter/letterView/${letterId}`)\r\n    },\r\n    saveLetterBody(letterId, text, signer) {\r\n        return ApiService.post(`/letter/letterSave?letterId=${letterId}&signerId=${signer ? signer : ''}`, {body: text})\r\n    },\r\n    removeLetter(letterId) {\r\n        return ApiService.delete(`/letter/delete/${letterId}`)\r\n    },\r\n    removeFile(letterId) {\r\n        return ApiService.delete(`/letterAttachedFile/delete/${letterId}`)\r\n    },\r\n    getAttachedFilesById(letterId) {\r\n        return ApiService.get(`/letterAttachedFile/list/${letterId}`)\r\n    },\r\n    projectLettersByLetterId(letterId) {\r\n        return ApiService.post(`letter/project-letters/by-letter-id/${letterId}`)\r\n    },\r\n    createAttachedFile(letterId, file) {\r\n        let formData = new FormData()\r\n        formData.append(\"file\", file)\r\n        return ApiService.formData(`/letterAttachedFile/create/${letterId}`, formData)\r\n    },\r\n    getListDocumentType({params, search}, v) {\r\n        return ApiService.post(`/docSample/list?search=${search}&code=${v}`, params)\r\n    },\r\n    async convertToPdfByApi(config, withLoader = false) {\r\n        return ApiService.post(`/letter/callback?type=convert`, config, withLoader)\r\n    },\r\n    getList({params, search}) {\r\n        return ApiService.post(`/document/list`, params)\r\n    },\r\n    getById(id) {\r\n        return ApiService.get(`/document/get-by-id/${id}`)\r\n    },\r\n    setLetterRejtOrAccept(id, bool) {\r\n        return ApiService.post(`letter/reject-or-accept/${id}?isRejected=${bool}`)\r\n    },\r\n    rejectLetterToReject(payload, assignmentId, x, y, currentPage, comment) {\r\n        return ApiService.post(`/letter/makeSigned-reject-letter/to-reject/${assignmentId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    getIncomeTotalCount() {\r\n        return ApiService.get(`/letter/totalCount`)\r\n    },\r\n    upload(data) {\r\n        let query_data = `?fileName=${data.name}&regNumber=${data.regNumber}&date=${data.date}&docSampleId=${data.docSampleId == 'blank' ? '' : data.docSampleId}`\r\n        return ApiService.post(`/letter/letterSave${query_data}`)\r\n    },\r\n    getListLetter({params, search}) {\r\n        return ApiService.post(`/letter/draftList?search=${search}`, params)\r\n    },\r\n    getListLetterIncome({params, search}, action) {\r\n        return ApiService.post(`/letter/incomeList?search=${search}&action=${action}`, params)\r\n    },\r\n    getListLetterVisa({params, search}, action) {\r\n        return ApiService.post(`letter/forVisaList?search=${search}&action=${action}`, params)\r\n    },\r\n    getVisaInfo(applicationId) {\r\n        return ApiService.get(`letter/visa-info/${applicationId}`)\r\n    },\r\n    getListLetterSend({params, search}) {\r\n        return ApiService.post(`/letter/sendList?search=${search}`, params)\r\n    },\r\n\r\n    getByIdLetter(id) {\r\n        return ApiService.get(`/letter/get-by-id/${id}`)\r\n    },\r\n    getByIdSendToRais(id) {\r\n        return ApiService.get(`/letter/get-by-id/by-application-id/${id}`)\r\n    },\r\n    getRejectLetter(letterId) {\r\n        return ApiService.get(`/letter/get-reject-letter/${letterId}`)\r\n    },\r\n    sendDoc(id, params) {\r\n        return ApiService.post(`/letter/send/${id}`, params)\r\n    },\r\n    sendQuorum(projectId, params) {\r\n        return ApiService.put(`/project/no-quorum/${projectId}?date=${params.date}`, params)\r\n    },\r\n    onlyDocSign(payload, id, x, y, currentPage) {\r\n        return ApiService.post(`/letter/makeSigned/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    signDecision(payload, id, x, y, currentPage, comment) {\r\n        return ApiService.post(`/letter/makeSigned/decision/${id}?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload, true)\r\n    },\r\n    onlyDocSignSendToRais(payload, id, x, y, currentPage, commissionTypeId, commissionComment) {\r\n        return ApiService.post(`/letter/makeSigned/from-dxa/${id}/${commissionTypeId}?comment=${commissionComment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    onlyDocSignSendToRaisOnInner(payload, id, x, y, currentPage, managementEmployeeId, comment) {\r\n        return ApiService.post(`/letter/makeSigned/to-sign/${id}/${managementEmployeeId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    onlyDocSignFORNotBelong(payload, id, x, y, currentPage) {\r\n        return ApiService.post(`/letter/makeSigned/not-belong/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    onlyDocSignForToReturn(payload, id, x, y, currentPage) {\r\n        return ApiService.post(`/letter/makeSigned/to-return/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    onlyDocMakeSignedToReject(payload, assignmentId, employeeId, comment, x, y, currentPage) {\r\n        return ApiService.post(`/letter/makeSigned-compromise-decision/to-reject/${assignmentId}/${employeeId}?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload, true)\r\n    },\r\n    onlyDocSignFORBeforeProject(payload, id, x, y, currentPage) {\r\n        return ApiService.post(`letter/makeSigned/from-dxa/for-confirm/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    makeSignedInvokeLetter(payload, projectId, letterId, employeeId, comment, x, y, currentPage) {\r\n        return ApiService.post(`letter/makeSigned-invoke-letter/${projectId}/${letterId}/${employeeId}/?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload, true)\r\n    },\r\n    onlyDocSignNotBelong(payload, letterId) {\r\n        return ApiService.post(`before-commission/application/application-review/not-belong?letterId=${letterId}`, payload)\r\n    },\r\n    onlyDocSignForRevision(payload, id, comment) {\r\n        return ApiService.post(`letter/for-revision/from-commission/${id}?comment=${comment}`, payload, true)\r\n    },\r\n    onlyDocSignForRRejectedByRais(payload, letterId, id, comment) {\r\n        return ApiService.post(`letter/for-revision/to-commission/${letterId}/${id}?comment=${comment}`, payload, true)\r\n    },\r\n    letterCancelled(payload, letterId, assignmentId, comment) {\r\n        return ApiService.post(`/letter/cancelled/${letterId}/${assignmentId}?comment=${comment}`, payload, true)\r\n    },\r\n    resultApplicationForDXA(payload, letterId, applicationDXAId, paymentAmount, files = []) {\r\n        const formData = new FormData()\r\n        files.forEach((item) => {\r\n            formData.append(\"paymentFiles\", item.file)\r\n        })\r\n        return ApiService.formDataFile(`/before-commission/application/application-review/accepted?letterId=${letterId}&applicationDXAId=${applicationDXAId}&paymentAmount=${paymentAmount}`, formData)\r\n    },\r\n    resultApplicationForDXARejected(payload, letterId) {\r\n        return ApiService.post(`before-commission/application/application-review/rejected?letterId=${letterId}`, payload)\r\n    },\r\n    uploadRejectLetter(letterAssignmentId, letterType, letterName = \"Rad etish xati\") {\r\n        return ApiService.put(`/letter/upload-reject-letter/${letterAssignmentId}?letterType=${letterType}&letterName=${letterName}`, null, true)\r\n    },\r\n    signDoc(payload, id, x, y, currentPage, commissionTypeId, commissionComment) {\r\n        return ApiService.post(`/letter/makeSignedNew/${id}/${commissionTypeId}?comment=${commissionComment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    makeSignedNewWithHeadOfDepartment(payload, id, x, y, currentPage, commissionTypeId, commissionComment, headOfDepartmentId) {\r\n        return ApiService.post(`/letter/makeSignedNew/withHeadOfDepartment/${id}/${commissionTypeId}?headOfDepartmentId=${headOfDepartmentId}&comment=${commissionComment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    makeSignedToClosed(payload, assignmentId, comment, x, y, currentPage) {\r\n        return ApiService.post(`/letter/makeSigned-to-closed/${assignmentId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    signDocToManagement(payload, letterAssignmentId, x, y, currentPage, managementEmployeeId, comment) {\r\n        return ApiService.post(`/letter/makeSignedNew/to-management/${letterAssignmentId}/${managementEmployeeId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n    },\r\n    getReceivers(id) {\r\n        return ApiService.get(`/letter/letterInfo/${id}`)\r\n    },\r\n    makeAgree(id) {\r\n        return ApiService.get(`/letter/makeAgreed/${id}`)\r\n    },\r\n    makeReviewForCommission(id, comment) {\r\n        return ApiService.post(`/letter/makeViewedForCommissionProject/${id}?comment=${comment ? comment : ''}`)\r\n    },\r\n    makeReviewForCommissionManagement(letterAssignmentId, commissionTypeId, comment, commissionCompletionDate) {\r\n        return ApiService.post(`/letter/send-to-commission/${letterAssignmentId}/${commissionTypeId}?comment=${comment ? comment : ''}&completionDate=${commissionCompletionDate ? commissionCompletionDate : ''}`)\r\n    },\r\n    makeLetterSendFinishLetterToChairman(applicationId, letterId, comment = '') {\r\n        return ApiService.put(`/letter/send-finish-letter/to-chairman/${applicationId}/${letterId}?comment=${comment}`)\r\n    },\r\n    makeSignedBeforeCommission(payload, letterAssignmentId, comment, x, y, currentPage) {\r\n        return ApiService.post(`/letter/makeSigned/before-commission/${letterAssignmentId}/?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload)\r\n    },\r\n    makeReview(id) {\r\n        return ApiService.get(`/letter/makeViewed/${id}`)\r\n    },\r\n    makeCompromiseDecisionViewed(id) {\r\n        return ApiService.get(`/letter/make-compromise-decision-viewed/${id}`)\r\n    },\r\n    makeAgreedLetterToClosed(letterAssignmentId) {\r\n        return ApiService.get(`/letter/makeViewed-letter/to-closed/${letterAssignmentId}`)\r\n    },\r\n    makeViewedLetterToReject(letterAssignmentId) {\r\n        return ApiService.get(`/letter/makeViewed-letter/to-reject/${letterAssignmentId}`)\r\n    },\r\n    makeViewedLetterToFinish(letterAssignmentId) {\r\n        return ApiService.get(`/letter/makeViewed-letter/to-finish/${letterAssignmentId}`)\r\n    },\r\n    makeAgreedLetter(assignmentId) {\r\n        return ApiService.get(`/letter/makeViewed-letter/${assignmentId}`)\r\n    },\r\n    makeSignedFinishLetter(assignmentId, employeeId, comment, payload, x, y, currentPage) {\r\n        return ApiService.post(`/letter/makeSigned-finish-letter/${assignmentId}/${employeeId}?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload)\r\n    },\r\n    saveRejected(letterId, id, comment, payload) {\r\n        return ApiService.post(`/letter/cancelled/${letterId}/${id}?comment=${comment}`, payload)\r\n    },\r\n    saveQrCode(left, top, page) {\r\n        return ApiService.get(`/letter/letterAsPdf?x=${left}&y=${top}&page=${page - 1}`)\r\n    },\r\n    handleSendLetterToChairman(letterId, comment) {\r\n        return ApiService.put(`/letter/send-letter/to-chairman/${letterId}?comment=${comment}`)\r\n    },\r\n    letterQRCODE(letterId) {\r\n        return ApiService.get(`/letter/letterQRCode/${letterId}`)\r\n    },\r\n    letterQRCODESendToRais(letterId) {\r\n        return ApiService.get(`/letter/letterQRCode/from-dxa/${letterId}`)\r\n    },\r\n    getDocPdf(letterId) {\r\n        return ApiService.get(`/letter/convertLetterToPdf/${letterId}`)\r\n    },\r\n    convert(data) {\r\n        return ApiService.post(`/letter/letterConvert`, {html: data})\r\n    },\r\n    applicationReviewNoPermitRequired(applicationId, decisionText) {\r\n        return ApiService.post(`/before-commission/application/application-review/no-permit-required?applicationDXAId=${applicationId}`, {\r\n            decision_text: decisionText\r\n        }, true)\r\n    },\r\n    applicationReopenProject(applicationId) {\r\n        return ApiService.post(`/before-commission/application/reopen-project?applicationId=${applicationId}`, null, true)\r\n    },\r\n    returnApplicationByRegion(applicationDxaId, id) {\r\n        return ApiService.post(`before-commission/application/return-to-central-section?applicationDXAId=${applicationDxaId}&id=${id}`)\r\n    },\r\n    getAllManagementEmployees() {\r\n        return ApiService.get(`employee/get-all-employee/in-management`)\r\n    },\r\n    uploadFinishLetter(applicationId, letterType, letterName) {\r\n        return ApiService.put(`/letter/upload-finish-letter/${applicationId}?letterType=${letterType}&letterName=${letterName}`)\r\n    },\r\n    letterGetFinishLetter(applicationId) {\r\n        return ApiService.get(`letter/get-finish-letter/${applicationId}`)\r\n    },\r\n    letterGetFinishLetterWithSigner(applicationId) {\r\n        return ApiService.get(`letter/get-finish-letter/with-signer/${applicationId}`)\r\n    },\r\n    searchList: function (mainUrl, payload, appendUrl, withLoader = false) {\r\n        let myPayload = Object.assign({}, payload)\r\n        myPayload.page -= 1\r\n        if (appendUrl) {\r\n            return ApiService.post(`${mainUrl}/list-search/${appendUrl}`, payload ? myPayload : payload, withLoader);\r\n        } else {\r\n            return ApiService.post(`${mainUrl}/list-search`, payload ? myPayload : payload, withLoader);\r\n        }\r\n    },\r\n    dxaVisaDataGetFile(applicationId) {\r\n        return ApiService.get(`dxa-visa-data/get-file/${applicationId}`);\r\n    },\r\n    projectInformationCompleted(projectId, date) {\r\n        return ApiService.post(`project/information-completed/${projectId}?date=${date}`);\r\n    },\r\n\r\n    changeStatusService(component, grid, selectedFilter = null) {\r\n        component.cnf().then((v) => {\r\n            if (v.value) {\r\n                let status = 'REVIEW_FINISHED';\r\n                if (grid.projectType === 'COMMISSION' && grid.applicationType !== \"FROM_DXA\") {\r\n                    switch (grid.returnType) {\r\n                        case 'FOR_FINISH_WORK':\r\n                            projectService.getLettersById(grid.id)\r\n                                .then(res => {\r\n                                    if (!res.data || res.data.length <= 0) {\r\n                                        return component.$toast(component.$t('messages.project_files_not_exist'), {type: 'error'})\r\n                                    }\r\n                                    let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                                        && ['DECISION_COMMISSION', 'PROTOCOL_COMMISSION'].indexOf(d.letterType) !== -1);\r\n                                    for (let i = 0; i < notPdfDocs.length; i++) {\r\n                                        const d = notPdfDocs[i];\r\n                                        component.convertToPdf(d).then(r => {\r\n                                            if (!r.uploadPath) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (i === notPdfDocs.length - 1) {\r\n                                                component.closeProject(grid.id, status, selectedFilter)\r\n                                            }\r\n                                        })\r\n                                            .catch(e => console.log(e))\r\n                                    }\r\n                                })\r\n                                .catch(e => {\r\n                                    console.log(e)\r\n                                })\r\n                            break;\r\n                        case 'FOR_SUSPEND_WORK':\r\n                            projectService.getLettersById(grid.id)\r\n                                .then(res => {\r\n                                    if (!res.data || res.data.length <= 0) {\r\n                                        return component.$toast(component.$t('messages.project_files_not_exist'), {type: 'error'})\r\n                                    }\r\n                                    let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                                        && ['COMPROMISE_DECISION_SUSPEND', 'PROTOCOL_SUSPEND'].indexOf(d.letterType) !== -1);\r\n                                    for (let i = 0; i < notPdfDocs.length; i++) {\r\n                                        const d = notPdfDocs[i];\r\n                                        component.convertToPdf(d).then(r => {\r\n                                            if (!r.uploadPath) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (i === notPdfDocs.length - 1) {\r\n                                                component.closeProject(grid.id, status, selectedFilter)\r\n                                            }\r\n                                        })\r\n                                            .catch(e => console.log(e))\r\n                                    }\r\n                                })\r\n                                .catch(e => {\r\n                                    console.log(e)\r\n                                })\r\n                            break;\r\n                        case 'FOR_DELAY_WORK':\r\n                            projectService.getLettersById(grid.id)\r\n                                .then(res => {\r\n                                    if (!res.data || res.data.length <= 0) {\r\n                                        return component.$toast(component.$t('messages.project_files_not_exist'), {type: 'error'})\r\n                                    }\r\n                                    let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                                        && ['COMPROMISE_DECISION_DELAY', 'PROTOCOL_DELAY'].indexOf(d.letterType) !== -1);\r\n                                    for (let i = 0; i < notPdfDocs.length; i++) {\r\n                                        const d = notPdfDocs[i];\r\n                                        component.convertToPdf(d).then(r => {\r\n                                            if (!r.uploadPath) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (i === notPdfDocs.length - 1) {\r\n                                                component.closeProject(grid.id, status, selectedFilter)\r\n                                            }\r\n                                        })\r\n                                            .catch(e => console.log(e))\r\n                                    }\r\n                                })\r\n                                .catch(e => {\r\n                                    console.log(e)\r\n                                })\r\n                            break;\r\n                        case 'FOR_RESUME_WORK':\r\n                            projectService.getLettersById(grid.id)\r\n                                .then(res => {\r\n                                    if (!res.data || res.data.length <= 0) {\r\n                                        return component.$toast(component.$t('messages.project_files_not_exist'), {type: 'error'})\r\n                                    }\r\n                                    let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                                        && ['COMPROMISE_DECISION_RESUME', 'PROTOCOL_RESUME'].indexOf(d.letterType) !== -1);\r\n                                    for (let i = 0; i < notPdfDocs.length; i++) {\r\n                                        const d = notPdfDocs[i];\r\n                                        component.convertToPdf(d).then(r => {\r\n                                            if (!r.uploadPath) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                                                component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (i === notPdfDocs.length - 1) {\r\n                                                component.closeProject(grid.id, status, selectedFilter)\r\n                                            }\r\n                                        })\r\n                                            .catch(e => console.log(e))\r\n                                    }\r\n                                })\r\n                                .catch(e => {\r\n                                    console.log(e)\r\n                                })\r\n                            break;\r\n                        default:\r\n                            component.closeProject(grid.id, status, selectedFilter);\r\n                            break;\r\n                    }\r\n                } else {\r\n                    projectService.getLettersById(grid.id)\r\n                        .then(async res => {\r\n                            if (grid.applicationType === \"NOT_BELONG\") {\r\n                                if ((component.projectType === 'BEFORE_COMMISSION' && res.data && res.data.length >= 1) || (component.projectType !== 'BEFORE_COMMISSION' && res.data && res.data.length >= 0)) {\r\n                                    if (grid.projectType === 'COMMISSION') {\r\n                                        await component.closeProject(grid.id, status, selectedFilter)\r\n                                    } else {\r\n                                        await component.closeProject(grid.id, 'FINISHED', selectedFilter)\r\n                                    }\r\n                                } else {\r\n                                    await component.$toast(component.$t('messages.project_files_not_exist'), {type: 'error'})\r\n                                }\r\n                            } else if (grid.applicationType === \"FROM_DXA\") {\r\n                                if ((component.projectType === 'BEFORE_COMMISSION' && res.data && res.data.length >= 1) || (component.projectType !== 'BEFORE_COMMISSION' && component.projectType !== 'COMMISSION' && res.data && res.data.length >= 0)) {\r\n                                    if (grid.projectType === 'COMMISSION') {\r\n                                        await component.closeProject(grid.id, status, selectedFilter)\r\n                                    } else {\r\n                                        await component.closeProject(grid.id, status, selectedFilter)\r\n                                    }\r\n                                } else if (grid.projectType === 'COMMISSION') {\r\n                                    let notPdfDocs = await res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf')\r\n                                    for (let i = 0; i < notPdfDocs.length; i++) {\r\n                                        const d = notPdfDocs[i];\r\n                                        await component.convertToPdf(d).then(async (r) => {\r\n                                            // CHECK AND RESEND 1ST REQUEST\r\n                                            if (!r.uploadPath) {\r\n                                                await component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                                                await component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                            } else if (i === notPdfDocs.length - 1) { // check last request\r\n                                                await component.closeProject(grid.id, status, selectedFilter)\r\n                                            }\r\n                                        })\r\n                                            .catch(e => console.log(e))\r\n                                    }\r\n                                } else {\r\n                                    component.$toast(component.$t('messages.project_files_not_exist'), {type: 'error'})\r\n                                }\r\n                            } else {\r\n                                if ((component.projectType === 'BEFORE_COMMISSION' && res.data && res.data.length > 1) || (component.projectType !== 'BEFORE_COMMISSION' && res.data && res.data.length > 0)) {\r\n                                    if (grid.projectType === 'COMMISSION') {\r\n                                        component.closeProject(grid.id, status, selectedFilter)\r\n                                    } else {\r\n                                        let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf')\r\n                                        let convertToPdf = []\r\n                                        switch (grid.returnType) {\r\n                                            case \"FOR_COMMISSION\":\r\n                                                convertToPdf = notPdfDocs.filter(l => l.letterType === 'REFERENCE')\r\n                                                break;\r\n                                            case \"FOR_NOT_COMPLETED\":\r\n                                                convertToPdf = notPdfDocs.filter(l => l.letterType === 'NOTICE_NOT_COMPLETED')\r\n                                                status = 'FINISHED'\r\n                                                break;\r\n                                            case \"FOR_NOT_BELONG\":\r\n                                                convertToPdf = notPdfDocs.filter(l => l.letterType === 'NOTICE_NOT_BELONG')\r\n                                                status = 'FINISHED'\r\n                                                break;\r\n                                            case \"FOR_REGION\":\r\n                                                convertToPdf = notPdfDocs.filter(l => l.letterType === 'NOTICE_REGION')\r\n                                                status = 'FINISHED'\r\n                                                break;\r\n                                        }\r\n                                        let convertToPdfLength = convertToPdf.length;\r\n                                        for (let i = 0; i < convertToPdfLength; i++) {\r\n                                            const d = convertToPdf[i];\r\n                                            component.convertToPdf(d).then(r => {\r\n\r\n                                                // CHECK AND RESEND 1ST REQUEST\r\n                                                if (!r.uploadPath) {\r\n                                                    component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                                } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                                                    component.$toast(component.$t('messages.project_files_convert_pdf_error'), {type: 'error'})\r\n                                                } else if (i === convertToPdfLength - 1) {\r\n                                                    component.closeProject(grid.id, status, selectedFilter)\r\n                                                }\r\n                                            })\r\n                                                .catch(e => console.log(e))\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    component.$toast(component.$t('messages.project_files_not_exist'), {type: 'error'})\r\n                                }\r\n                            }\r\n                        })\r\n                        .catch(e => {\r\n                            console.log(e)\r\n                        })\r\n                }\r\n            }\r\n        });\r\n    },\r\n}\r\n"],"mappings":"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"}]}