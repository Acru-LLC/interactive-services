{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\projects\\page-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\projects\\page-header.vue","mtime":1674799497691},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBwcm9qZWN0U2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9wcm9qZWN0U2VydmljZSI7CmltcG9ydCBNZW1iZXJzIGZyb20gIi4vbWVtYmVycyI7CmltcG9ydCB7IHJlcGxhY2VEYXRlIH0gZnJvbSAiQC9oZWxwZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWVtYmVyczogTWVtYmVycwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubGlzdE1lbWJlcnMoKTsKICB9LAoKICAvKiANCiAgICBDT01QVVRFRCAqLwogIGNvbXB1dGVkOiB7CiAgICBwcm9qZWN0VHlwZTogZnVuY3Rpb24gcHJvamVjdFR5cGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09ICdDb21taXNzaW9uUHJvamVjdHMnID8gJ0NPTU1JU1NJT04nIDogJ0JFRk9SRV9DT01NSVNTSU9OJzsKICAgIH0sCiAgICBpc0NvbW1pc3Npb246IGZ1bmN0aW9uIGlzQ29tbWlzc2lvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvamVjdFR5cGUgPT0gJ0NPTU1JU1NJT04nOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVwbG9hZFBhdGg6ICIiLAogICAgICBzaW5nbGVJbWFnZTogZmFsc2UsCiAgICAgIG1lbWJlcnM6IFtdLAogICAgICBpc01vZGFsOiBmYWxzZSwKICAgICAgcHJvamVjdDoge30sCiAgICAgIGlzTWVtYmVyczogZmFsc2UsCiAgICAgIHJlcGxhY2VEYXRlOiByZXBsYWNlRGF0ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZpZXdNZW1iZXJzOiBmdW5jdGlvbiB2aWV3TWVtYmVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5pc01lbWJlcnMpIHsKICAgICAgICB0aGlzLmlzTWVtYmVycyA9IHRydWU7CgogICAgICAgIGlmICh0aGlzLmlzTWVtYmVycykgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLiRyZWZzLm1SZWYucmVjYWxjdWxhdGUoKTsKICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbGlzdE1lbWJlcnM6IGZ1bmN0aW9uIGxpc3RNZW1iZXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwoKICAgICAgaWYgKGlkKSB7CiAgICAgICAgcHJvamVjdFNlcnZpY2UuZ2V0QnlJZChpZCwgdGhpcy5wcm9qZWN0VHlwZSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgIF90aGlzMi4kZW1pdCgic2V0UHJvaiIsIHJzLmRhdGEpOwoKICAgICAgICAgIF90aGlzMi5tZW1iZXJzID0gcnMuZGF0YS5lbXBsb3llZXNEdG87CiAgICAgICAgICBfdGhpczIucHJvamVjdCA9IHJzLmRhdGE7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgey8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtb2JpbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9Cn07"},{"version":3,"sources":["page-header.vue"],"names":[],"mappings":";AACA,OAAA,cAAA,MAAA,kCAAA;AACA,OAAA,OAAA,MAAA,WAAA;AACA,SAAA,WAAA,QAAA,UAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GADA;AAIA,EAAA,OAJA,qBAIA;AACA,SAAA,WAAA;AACA,GANA;;AAOA;AACA;AACA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,IAAA,oBAAA,GAAA,YAAA,GAAA,mBAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AACA,aAAA,KAAA,WAAA,IAAA,YAAA;AACA;AANA,GATA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,KANA;AAOA,MAAA,WAAA,EAAA;AAPA,KAAA;AASA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,CAAA,KAAA,SAAA,EAAA;AACA,aAAA,SAAA,GAAA,IAAA;;AACA,YAAA,KAAA,SAAA,EAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,WAAA;AACA,WAFA,EAEA,GAFA,CAAA;AAGA;AACA;AACA,KAVA;AAWA,IAAA,WAXA,yBAWA;AAAA;;AACA,UAAA,EAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA;;AACA,UAAA,EAAA,EAAA;AACA,QAAA,cAAA,CACA,OADA,CACA,EADA,EACA,KAAA,WADA,EAEA,IAFA,CAEA,UAAA,EAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,EAAA,CAAA,IAAA;;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,EAAA,CAAA,IAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,EAAA,CAAA,IAAA;AACA,SANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA,CACA;AACA,SATA;AAUA,OAXA,MAWA;AACA,aAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA;AACA;AA3BA,GA5BA;AAyDA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA,KALA;AAWA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAXA;AAzDA,CAAA","sourcesContent":["<script>\r\nimport projectService from \"@/shared/services/projectService\";\r\nimport Members from \"./members\";\r\nimport { replaceDate } from \"@/helper\";\r\nexport default {\r\n    components: {\r\n        Members,\r\n    },\r\n    created () {\r\n        this.listMembers();\r\n    },\r\n    /* \r\n      COMPUTED */\r\n    computed: {\r\n        projectType () {\r\n            return this.$route.name == 'CommissionProjects' ? 'COMMISSION' : 'BEFORE_COMMISSION'\r\n        },\r\n        isCommission () {\r\n            return this.projectType == 'COMMISSION'\r\n        },\r\n    },\r\n    data () {\r\n        return {\r\n            uploadPath: \"\",\r\n            singleImage: false,\r\n            members: [],\r\n            isModal: false,\r\n            project: {},\r\n            isMembers: false,\r\n            replaceDate: replaceDate,\r\n        };\r\n    },\r\n    methods: {\r\n        viewMembers () {\r\n            if (!this.isMembers) {\r\n                this.isMembers = true;\r\n                if (this.isMembers) {\r\n                    setTimeout(() => {\r\n                        this.$refs.mRef.recalculate();\r\n                    }, 200);\r\n                }\r\n            }\r\n        },\r\n        listMembers () {\r\n            let id = this.$route.query.id;\r\n            if (id) {\r\n                projectService\r\n                    .getById(id, this.projectType)\r\n                    .then((rs) => {\r\n                        this.$emit(\"setProj\", rs.data);\r\n                        this.members = rs.data.employeesDto;\r\n                        this.project = rs.data;\r\n                    })\r\n                    .catch((err) => {\r\n                        // this.catchErr(err);\r\n                    });\r\n            } else {\r\n                this.$router.go(-1);\r\n            }\r\n        },\r\n    },\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: \"\",\r\n        },\r\n        items: {\r\n            type: Array,\r\n            default: () => {\r\n                return [];\r\n            },\r\n        },\r\n        mobile: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<template>\r\n    <b-card\r\n        no-body\r\n        class=\"p-3\"\r\n    >\r\n        <!-- start page title -->\r\n        <div class=\"row\">\r\n            <b-sidebar\r\n                backdrop-variant=\"dark\"\r\n                class=\"sidebar1\"\r\n                shadow\r\n                backdrop\r\n                sidebar-class=\"p-0\"\r\n                :no-header=\"true\"\r\n                right\r\n                v-model=\"isMembers\"\r\n            >\r\n                <div class=\"p-2\">\r\n                    <members\r\n                        :isMembers=\"isMembers\"\r\n                        ref=\"mRef\"\r\n                        @success=\"listMembers\"\r\n                        :close=\"true\"\r\n                        @close=\"isMembers = false\"\r\n                        :heightProp=\"heightWindow - 200\"\r\n                    />\r\n                </div>\r\n            </b-sidebar>\r\n\r\n            <div\r\n                class=\"col-12\"\r\n                v-if=\"project.id\"\r\n            >\r\n                <div class=\"d-flex align-items-center justify-content-between\">\r\n                    <div>\r\n                        <h5>{{ project.name }}</h5>\r\n                        <span>{{ project.description }}</span>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    style=\"flex-wrap: wrap !important\"\r\n                    class=\"mt-3 d-flex justify-content-between align-items-center\"\r\n                >\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <div class=\"mr-3\">\r\n                            <b-button\r\n                                size=\"sm\"\r\n                                @click=\"$router.go(-1)\"\r\n                                variant=\"primary\"\r\n                            >\r\n                                <i class=\"fa fa-arrow-left\"></i>\r\n                                <!-- <span v-if=\"!mobile\"> {{ $t(\"actions.back\") }}</span> -->\r\n                            </b-button>\r\n                        </div>\r\n                        <div>\r\n                            <span v-if=\"!isCommission\" class=\"text-muted font-size-11\">{{\r\n                $t(\"projectType\")\r\n              }}</span>\r\n                            <p class=\"m-0\">\r\n                                <span class=\"text-dark font-weight-bold\">{{\r\n                  getName(project)\r\n                }}</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <span class=\"text-muted font-size-11\">{{ $t(\"ownerProj\") }}</span>\r\n                        <p class=\"m-0\">\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                {{\r\n                  `${project.ownerLastName} ${project.ownerFirstName} ${project.ownerMiddleName}`\r\n                }}</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <span class=\"text-muted font-size-11\">{{\r\n              $t(\"column.on_date\")\r\n            }}</span>\r\n                        <p class=\"m-0\">\r\n                            <i class=\"bx bx-calendar mr-1 text-primary\"></i>\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                {{\r\n                  replaceDate(project.start)\r\n                    ? replaceDate(project.start).daym_shortyyyy()\r\n                    : \"\"\r\n                }}</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <span class=\"text-muted font-size-11\">{{\r\n              $t(\"column.finishing_date\")\r\n            }}</span>\r\n                        <p class=\"m-0\">\r\n                            <i class=\"bx bx-calendar mr-1 text-primary\"></i>\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                {{\r\n                  replaceDate(project.end)\r\n                    ? replaceDate(project.end).daym_shortyyyy()\r\n                    : \"\"\r\n                }}</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div\r\n                        @click=\"viewMembers\"\r\n                        class=\"p_cursor\"\r\n                    >\r\n                        <span class=\"text-muted font-size-11\">\r\n                            <i class=\"fa fa-users\"></i>\r\n                            <span v-if=\"!mobile\"> {{ $t(\"members\") }}</span></span>\r\n                        <p class=\"m-0\">\r\n                            <span class=\"text-dark font-weight-bold\">\r\n                                <b-avatar\r\n                                    size=\"25px\"\r\n                                    v-show=\"members.length == 1\"\r\n                                    variant=\"primary\"\r\n                                    :src=\"\r\n                    m.photoUploadPath ? `${hrUrl}/${m.photoUploadPath}` : ''\r\n                  \"\r\n                                    :badge=\"`${m.lastName.charAt(0)}${m.firstName.charAt(0)}`\"\r\n                                    v-for=\"m in members\"\r\n                                    :key=\"m.id + 'MM'\"\r\n                                ></b-avatar>\r\n                                <b-avatar-group\r\n                                    size=\"25px\"\r\n                                    v-if=\"members.length > 1\"\r\n                                >\r\n                                    <b-avatar\r\n                                        variant=\"info\"\r\n                                        :src=\"\r\n                      m.photoUploadPath ? `${hrUrl}/${m.photoUploadPath}` : ''\r\n                    \"\r\n                                        :badge=\"`${m.lastName.charAt(0)}${m.firstName.charAt(0)}`\"\r\n                                        v-for=\"m in members\"\r\n                                        :key=\"m.id + 'MMMMMM'\"\r\n                                    ></b-avatar>\r\n                                </b-avatar-group>\r\n                            </span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class=\"d-flex align-items-center justify-content-center\">\r\n                        <div\r\n                            class=\"card-footer bg-white p-0\"\r\n                            v-if=\"project.isAdmin\"\r\n                        >\r\n                            <a\r\n                                href=\"#\"\r\n                                @click=\"$emit('addBoard')\"\r\n                                class=\"btn btn-primary btn-block\"\r\n                            >\r\n                                <i class=\"mdi mdi-plus mr-1\"></i>\r\n                                <span v-if=\"!mobile\"> {{ $t(\"actions.add\") }}</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- end page title -->\r\n    </b-card>\r\n</template>\r\n"],"sourceRoot":"src/modules/projects"}]}