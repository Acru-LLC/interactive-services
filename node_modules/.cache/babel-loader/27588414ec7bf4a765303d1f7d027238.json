{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\report\\columns\\components\\addUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\report\\columns\\components\\addUpdate.vue","mtime":1674799497896},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLyBpbXBvcnQgeyB2YWxpZGF0aW9uTWl4aW4gfSBmcm9tICJ2dWVsaWRhdGUiOwovLyBpbXBvcnQgeyByZXF1aXJlZCwgaW50ZWdlciB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CgppbXBvcnQgU2VydmljZSBmcm9tICIuLi8uLi9yZXBvcnRTZXJ2aWNlIjsKaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIC8qIHZhbGlkYXRpb25zOiB7DQogICAgICBmb3JtOiB7DQogICAgICAgICAgbmFtZVV6OiB7DQogICAgICAgICAgICAgIHJlcXVpcmVkLA0KICAgICAgICAgIH0sDQogICAgICAgICAgbmFtZUx0OiB7DQogICAgICAgICAgfSwNCiAgICAgICAgICBuYW1lUnU6IHsNCiAgICAgICAgICB9LA0KICAgICAgICAgIHR5cGVJZDogew0KICAgICAgICAgICAgICByZXF1aXJlZCwNCiAgICAgICAgICB9LA0KICAgICAgfSwNCiAgfSwgKi8KICAvLyBtaXhpbnM6IFt2YWxpZGF0aW9uTWl4aW5dLAogIC8qDQogIENPTVBVVEVEICovCiAgY29tcHV0ZWQ6IHsKICAgIGlzVmFsdWVUeXBlU2VsZWN0OiBmdW5jdGlvbiBpc1ZhbHVlVHlwZVNlbGVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy52YWx1ZUxpc3QuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IF90aGlzLmZvcm0udHlwZUlkOwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkICYmIHNlbGVjdGVkLmNvZGUgPT0gJ1NFTEVDVCcpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgY29tcHV0ZWRPYnNlcnZlcjogZnVuY3Rpb24gY29tcHV0ZWRPYnNlcnZlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnMub2JzZXJ2ZXI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjdXN0b21MYWJlbFJlZmVyZW5jZTogZnVuY3Rpb24gY3VzdG9tTGFiZWxSZWZlcmVuY2Uob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMucmVmZXJlbmNlc0xpc3QuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IG9wdDsKICAgICAgfSk7CiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLm5hbWVVegogICAgICAgIH0pLCAiICgiKS5jb25jYXQoc2VsZWN0ZWQuY29kZSwgIikiKTsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgY3VzdG9tTGFiZWxWYWx1ZVR5cGU6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsVmFsdWVUeXBlKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnZhbHVlTGlzdC5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUodikgewogICAgICB0aGlzLmZvcm0udHlwZUlkID0gdjsKICAgIH0sCiAgICBjaGVja1ZhbGlkaXR5OiBmdW5jdGlvbiBjaGVja1ZhbGlkaXR5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5jb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwgewogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZhbGlkOwogICAgICB9KTsKICAgICAgLy8gdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAvLyB0aGlzLiR2LmZvcm0uJHRvdWNoKCk7CiAgICAgIC8vIHJldHVybiB0aGlzLiR2LmZvcm0uJGFueUVycm9yOwogICAgfSwKICAgIHNldEZvcm1EYXRhOiBmdW5jdGlvbiBzZXRGb3JtRGF0YShpdGVtKSB7CiAgICAgIHRoaXMuZm9ybSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5mb3JtKSwgaXRlbSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSA9IDUwMDsKICAgIFNlcnZpY2UuZ2V0VmFsdWVMaXN0KCkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgaWYgKHJzLmRhdGEpIHsKICAgICAgICBfdGhpczMudmFsdWVMaXN0ID0gcnMuZGF0YS5saXN0OwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge30pOwoKICAgIC8vIEdFVCBSRUZFUkVOQ0VTX0xJU1QKICAgIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdFdpdGhLZXl3b3JkKCdkb2N1bWVudC9kaXJlY3RvcnktbGlzdC1mb3ItZHluYW1pYy1yZXBvcnQtZG9jJywgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzMy5yZWZlcmVuY2VzTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgX3RoaXMzLnJlZmVyZW5jZXNMaXN0ID0gW107CiAgICB9KTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICB2YWx1ZUxpc3Q6IFtdLAogICAgICByZWZlcmVuY2VzTGlzdDogW10sCiAgICAgIGZvcm06IHsKICAgICAgICBuYW1lTHQ6ICIiLAogICAgICAgIG5hbWVVejogIiIsCiAgICAgICAgbmFtZVJ1OiAiIiwKICAgICAgICB0eXBlSWQ6IG51bGwsCiAgICAgICAgcmVmZXJlbmNlSWQ6IG51bGwsCiAgICAgICAgY29tbWVudDogIiIKICAgICAgfQogICAgfTsKICB9Cn07"},{"version":3,"mappings":";;;;AAgFA;AACA;;AAEA;AACA;AACA;EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACA;EACA;AACA;EACAA;IACAC;MAAA;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;QAAA;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA,iBACAC;MACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;UACAJ;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAG;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YAAAC;UAAA;QACA;QACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IAAA;IACA;IAEAC,uBACAC;MACA;QACA;MACA;IACA,GACAC;;IAEA;IACAC;MACA;IACA;MACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAlB;QACAC;QACAF;QACAoB;QACAC;QACAC;MACA;IACA;EACA;AACA","names":["computed","isValueTypeSelect","computedObserver","methods","customLabelReference","nameRu","nameLt","nameUz","selected","customLabelValueType","getValue","checkValidity","type","setFormData","created","Service","then","catch","crudAndListsService","console","data","submitted","valueList","referencesList","form","typeId","referenceId","comment"],"sourceRoot":"src/modules/report/columns/components","sources":["addUpdate.vue"],"sourcesContent":["<template>\r\n    <ValidationObserver\r\n        ref=\"observer\"\r\n        v-slot=\"{}\"\r\n    >\r\n        <BaseTextareaWithValidation\r\n            @input=\"($event) => (form.nameLt = toLatin($event))\"\r\n            rules=\"required\"\r\n            class=\"required\"\r\n            v-model=\"form.nameUz\"\r\n            rows=\"2\"\r\n            :label=\"$t('column.name_uz')\"\r\n            label-on-top\r\n        />\r\n\r\n        <BaseTextareaWithValidation\r\n            @input=\"($event) => (form.nameUz = toCyrill($event))\"\r\n            not-required\r\n            v-model=\"form.nameLt\"\r\n            custom-classes=\"mt-3\"\r\n            rows=\"2\"\r\n            :label=\"$t('column.name_lt')\"\r\n            label-on-top\r\n        />\r\n   <BaseTextareaWithValidation\r\n            not-required\r\n            custom-classes=\"mt-3\"\r\n            v-model=\"form.nameRu\"\r\n            rows=\"2\"\r\n            :label=\"$t('column.name_ru')\"\r\n            label-on-top\r\n        />\r\n\r\n        <div class=\"mt-3\">\r\n\r\n            <BaseMultiselectWithValidation\r\n                rules=\"required\"\r\n                class=\"required\"\r\n                v-model=\"form.typeId\"\r\n                :options=\"valueList.map(e => e.id)\"\r\n                :label=\"$t('column.value_type')\"\r\n                label-on-top\r\n                placeholder=\"\"\r\n                :custom-label=\"customLabelValueType\"\r\n                open-direction=\"bottom\"\r\n                :max-height=\"600\"\r\n                :show-labels=\"false\"\r\n            />\r\n        </div>\r\n        <div\r\n            v-if=\"isValueTypeSelect\"\r\n            class=\"mt-3\"\r\n        >\r\n            <BaseMultiselectWithValidation\r\n                rules=\"required\"\r\n                class=\"required\"\r\n                v-model=\"form.referenceId\"\r\n                :options=\"referencesList.map(e => e.id)\"\r\n                :label=\"$t('submodules.references.title')\"\r\n                label-on-top\r\n                placeholder=\"\"\r\n                :custom-label=\"customLabelReference\"\r\n                open-direction=\"bottom\"\r\n                :max-height=\"600\"\r\n                :show-labels=\"false\"\r\n            />\r\n        </div>\r\n\r\n        <BaseTextareaWithValidation\r\n            not-required\r\n            v-model=\"form.comment\"\r\n            custom-classes=\"mt-3\"\r\n            rows=\"2\"\r\n            :label=\"$t('column.comment')\"\r\n            label-on-top\r\n        />\r\n    </ValidationObserver>\r\n</template>\r\n\r\n<script>\r\n// import { validationMixin } from \"vuelidate\";\r\n// import { required, integer } from \"vuelidate/lib/validators\";\r\n\r\nimport Service from \"../../reportService\";\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nexport default {\r\n    /* validations: {\r\n        form: {\r\n            nameUz: {\r\n                required,\r\n            },\r\n            nameLt: {\r\n            },\r\n            nameRu: {\r\n            },\r\n            typeId: {\r\n                required,\r\n            },\r\n        },\r\n    }, */\r\n    // mixins: [validationMixin],\r\n    /*\r\n    COMPUTED */\r\n    computed: {\r\n        isValueTypeSelect () {\r\n            let selected = this.valueList.find(e => e.id == this.form.typeId);\r\n            if (selected && selected.code == 'SELECT') {\r\n                return true\r\n            }\r\n            return false\r\n        },\r\n        computedObserver () {\r\n            return this.$refs.observer\r\n        }\r\n    },\r\n    methods: {\r\n        customLabelReference (opt) {\r\n            let selected = this.referencesList.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    } (${selected.code})`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelValueType (opt) {\r\n            let selected = this.valueList.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        getValue (v) {\r\n            this.form.typeId = v;\r\n        },\r\n        checkValidity () {\r\n            this.computedObserver.validate().then(valid => {\r\n                if (!valid) {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n                return valid\r\n            })\r\n            // this.submitted = true;\r\n            // this.$v.form.$touch();\r\n            // return this.$v.form.$anyError;\r\n        },\r\n        setFormData (item) {\r\n            this.form = { ...this.form, ...item };\r\n        },\r\n    },\r\n    created () {\r\n        this.var_default_search_payload.itemsPerPage = 500;\r\n\r\n        Service.getValueList()\r\n            .then((rs) => {\r\n                if (rs.data) {\r\n                    this.valueList = rs.data.list;\r\n                }\r\n            })\r\n            .catch((e) => {});\r\n\r\n        // GET REFERENCES_LIST\r\n        crudAndListsService.searchListWithKeyword('document/directory-list-for-dynamic-report-doc', this.var_default_search_payload).then((res) => {\r\n            this.referencesList = res.data.list\r\n        }).catch(e => {\r\n            console.log(e)\r\n            this.referencesList = [];\r\n        })\r\n    },\r\n    data () {\r\n        return {\r\n            submitted: false,\r\n            valueList: [],\r\n            referencesList: [],\r\n            form: {\r\n                nameLt: \"\",\r\n                nameUz: \"\",\r\n                nameRu: \"\",\r\n                typeId: null,\r\n                referenceId: null,\r\n                comment: \"\"\r\n            },\r\n        };\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}