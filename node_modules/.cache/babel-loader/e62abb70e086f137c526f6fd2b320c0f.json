{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\CreateOrUpdateRemoveDoc.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\CreateOrUpdateRemoveDoc.vue","mtime":1674799496516},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9BQ1JVIFBST0pFQ1QvRmFpciBUZWNoL2FjcnUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CnZhciBNQUlOX0FQSV9VUkwgPSAncmVlc3RyL2NvbnRyYWN0b3ItcmVlc3RyLWRvY3VtZW50cyc7CnZhciBBUFBFTkRfQVBJX1VSTF9OQVRVUkFMID0gJ2Nsb3NlLWVzdGVzdHZlbml5JzsKdmFyIEFQUEVORF9BUElfVVJMX0RPTUlOQU5UID0gJ2Nsb3NlLWRhbWluaXJpdXNoaXknOwovKg0KKiBZT1UgTVVTVCBTRU5EIHt7IE1BSU5fQVBJX1VSTCB9fSBUTyBDUlVEX1NFUlZJQ0UgKi8KaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlIjsKaW1wb3J0IGhlbHBlclNlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvaGVscGVyLnNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNyZWF0ZU9yVXBkYXRlUmVtb3ZlRG9jIiwKICAvKg0KICAqIENPTVBPTkVOVFMgKi8KICBjb21wb25lbnRzOiB7fSwKICAvKg0KICAqIERBVEEgKi8KICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdGluZ0l0ZW06IHt9LAogICAgICByZWdpb25zOiBbXSwKICAgICAgaGFzTmV4dFBhZ2VDb250cmFjdG9yczogZmFsc2UsCiAgICAgIGhhc05leHRQYWdlUHJvZHVjdE9yU2VydmljZXM6IGZhbHNlLAogICAgICBjb250cmFjdG9yczogW10sCiAgICAgIGRlYm91bmNlOiBudWxsLAogICAgICBpc0xvYWRpbmdDb250cmFjdG9yczogZmFsc2UsCiAgICAgIGlzTG9hZGluZ1Byb2R1Y3RPclNlcnZpY2VzOiBmYWxzZSwKICAgICAgY29udHJhY3RvclNlYXJjaFBheWxvYWQ6IHt9LAogICAgICBwcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQ6IHt9LAogICAgICBwcm9kdWN0VHlwZXM6IFtdLAogICAgICBwcm9kdWN0czogW10KICAgIH07CiAgfSwKICAvKg0KICAqIENPTVBVVEVEICovCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dGVkT2JzZXJ2ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkT2JzZXJ2ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyOwogICAgfSwKICAgIGlzTW9kZUNyZWF0ZTogZnVuY3Rpb24gaXNNb2RlQ3JlYXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ0NyZWF0ZVJlbW92ZURvY05hdHVyYWxDb250cmFjdG9yUmVlc3RyJyB8fCB0aGlzLiRyb3V0ZS5uYW1lID09PSAnQ3JlYXRlUmVtb3ZlRG9jRG9taW5hbnRDb250cmFjdG9yUmVlc3RyJzsKICAgIH0sCiAgICBwcm9kdWN0T3JTZXJ2aWNlc0J5Q29udHJhY3RvcklkOiBmdW5jdGlvbiBwcm9kdWN0T3JTZXJ2aWNlc0J5Q29udHJhY3RvcklkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZm91bmRDb250cmFjdG9yID0gdGhpcy5jb250cmFjdG9ycy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5jb250cmFjdG9ySWQgPT0gX3RoaXMuZWRpdGluZ0l0ZW0uY29udHJhY3RvcklkOwogICAgICB9KTsKICAgICAgaWYgKGZvdW5kQ29udHJhY3RvcikgewogICAgICAgIHJldHVybiBmb3VuZENvbnRyYWN0b3IucHJvZHVjdE9yU2VydmljZXNCeURpc3RyaWN0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGlzRG9taW5hbnQ6IGZ1bmN0aW9uIGlzRG9taW5hbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnQ3JlYXRlUmVtb3ZlRG9jRG9taW5hbnRDb250cmFjdG9yUmVlc3RyJzsKICAgIH0sCiAgICBpc05hdHVyYWw6IGZ1bmN0aW9uIGlzTmF0dXJhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT09ICdDcmVhdGVSZW1vdmVEb2NOYXR1cmFsQ29udHJhY3RvclJlZXN0cic7CiAgICB9CiAgfSwKICAvKg0KICAqIE1FVEhPRFMgKi8KICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5jb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgICAgdmFyIHBheWxvYWQ7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5lZGl0aW5nSXRlbS5pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnVwZGF0ZShNQUlOX0FQSV9VUkwsIF90aGlzMi5tYWtlQW5kUmV0dXJuRm9ybURhdGFGb3JCYXNlNjQoKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm1ha2VBbmRSZXR1cm5Gb3JtRGF0YUZvckJhc2U2NCgpOwogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHBheWxvYWQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5jcmVhdGUoTUFJTl9BUElfVVJMLCBwYXlsb2FkLCAiZm9yLSIuY29uY2F0KF90aGlzMi5pc0RvbWluYW50ID8gQVBQRU5EX0FQSV9VUkxfRE9NSU5BTlQgOiBfdGhpczIuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdChfdGhpczIuJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBjb250cmFjdG9yc0J5UHJvZHVjdE9yU2VydmljZUlkOiBmdW5jdGlvbiBjb250cmFjdG9yc0J5UHJvZHVjdE9yU2VydmljZUlkKHByb2R1Y3RPclNlcnZpY2VJZCkgewogICAgICB2YXIgZm91bmRFbCA9IHRoaXMucHJvZHVjdHMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwucHJvZHVjdE9yU2VydmljZUlkID09IHByb2R1Y3RPclNlcnZpY2VJZDsKICAgICAgfSk7CiAgICAgIGlmIChmb3VuZEVsKSB7CiAgICAgICAgcmV0dXJuIGZvdW5kRWwuY29udHJhY3RvcnNCeURpc3RyaWN0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIC8qIG1ha2VBbmRSZXR1cm5Gb3JtRGF0YSAoKSB7DQogICAgICAgIGxldCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uc3VwcGxlbWVudERvY3MuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJmaWxlIiwgZi5maWxlKTsNCiAgICAgICAgfSkNCiAgICAgICAgZm9ybS5hcHBlbmQoImNvbnRyYWN0b3JJZCIsIHRoaXMuZWRpdGluZ0l0ZW0uY29udHJhY3RvcklkKQ0KICAgICAgICBmb3JtLmFwcGVuZCgicmVnaW9uSWQiLCB0aGlzLmVkaXRpbmdJdGVtLnJlZ2lvbklkKQ0KICAgICAgICAvLyBmb3JtLmFwcGVuZCgiZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZVR5cGVJZCIsIHRoaXMuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZVR5cGVJZCkNCiAgICAgICAgLy8gZm9ybS5hcHBlbmQoImdvdmVybm1lbnRQZXJjZW50YWdlIiwgdGhpcy5lZGl0aW5nSXRlbS5nb3Zlcm5tZW50UGVyY2VudGFnZSkNCiAgICAgICAgZm9ybS5hcHBlbmQoIm9yZGVyTnVtYmVyIiwgdGhpcy5lZGl0aW5nSXRlbS5vcmRlck51bWJlcikNCiAgICAgICAgZm9ybS5hcHBlbmQoInJlZXN0ckNsb3NlZERhdGUiLCB0aGlzLmVkaXRpbmdJdGVtLnJlZXN0ckNsb3NlZERhdGUpDQogICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZUlkcy5mb3JFYWNoKGlkID0+IHsNCiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJkaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlSWRzIiwgaWQpDQogICAgICAgIH0pDQogICAgICAgIHJldHVybiBmb3JtDQogICAgfSwgKi8KICAgIGdldEJhc2U2NDogZnVuY3Rpb24gZ2V0QmFzZTY0KGZpbGUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7CiAgICAgICAgfTsKICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgbWFrZUFuZFJldHVybkZvcm1EYXRhRm9yQmFzZTY0OiBmdW5jdGlvbiBtYWtlQW5kUmV0dXJuRm9ybURhdGFGb3JCYXNlNjQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIV90aGlzMy5lZGl0aW5nSXRlbS5zdXBwbGVtZW50RG9jc1swXS5maWxlLmRhdGFVUkwpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczMuZWRpdGluZ0l0ZW0uZmlsZSA9IF90aGlzMy5lZGl0aW5nSXRlbS5zdXBwbGVtZW50RG9jc1swXS5maWxlLmRhdGFVUkw7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMy5lZGl0aW5nSXRlbSk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRCYXNlNjQoX3RoaXMzLmVkaXRpbmdJdGVtLnN1cHBsZW1lbnREb2NzWzBdLmZpbGUpOwogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMzLmVkaXRpbmdJdGVtLmZpbGUgPSByZXM7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMy5lZGl0aW5nSXRlbSk7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWdpb25TZWxlY3RlZDogZnVuY3Rpb24gcmVnaW9uU2VsZWN0ZWQoJGV2ZW50KSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkb250UmVzZXREZXBlbmRlbnQsIGZvclJlcHVibGljRXZlbnQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRvbnRSZXNldERlcGVuZGVudCA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgICAgICAgICAgZm9yUmVwdWJsaWNFdmVudCA9IF9hcmd1bWVudHMubGVuZ3RoID4gMiA/IF9hcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgaWYgKCFkb250UmVzZXREZXBlbmRlbnQpIHsKICAgICAgICAgICAgICAgIF90aGlzNC5wcm9kdWN0VHlwZXMgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzNC5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUlkID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzNC5lZGl0aW5nSXRlbS5jb250cmFjdG9ySWQgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXM0LmNvbnRyYWN0b3JzID0gW107CiAgICAgICAgICAgICAgICBfdGhpczQuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZUlkID0gbnVsbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKF90aGlzNC5lZGl0aW5nSXRlbS5pc1JlcHVibGljKSB7CiAgICAgICAgICAgICAgICBoZWxwZXJTZXJ2aWNlLmdldFJlZXN0ckJ5UmVwdWJsaWMoX3RoaXM0LmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IF90aGlzNC5pc05hdHVyYWwgPyBBUFBFTkRfQVBJX1VSTF9OQVRVUkFMIDogJycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczQucHJvZHVjdFR5cGVzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQucHJvZHVjdFR5cGVzID0gW107CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRldmVudCB8fCBfdGhpczQuZWRpdGluZ0l0ZW0ucmVnaW9uSWQpIHsKICAgICAgICAgICAgICAgIGhlbHBlclNlcnZpY2UuZ2V0UmVlc3RyQnlSZWdpb25JZCgkZXZlbnQgPyAkZXZlbnQgOiBfdGhpczQuZWRpdGluZ0l0ZW0ucmVnaW9uSWQsIF90aGlzNC5pc0RvbWluYW50ID8gQVBQRU5EX0FQSV9VUkxfRE9NSU5BTlQgOiBfdGhpczQuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnByb2R1Y3RUeXBlcyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnByb2R1Y3RUeXBlcyA9IFtdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjdXN0b21MYWJlbFJlZ2lvbjogZnVuY3Rpb24gY3VzdG9tTGFiZWxSZWdpb24ob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMucmVnaW9ucy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUucmVnaW9uSWQgPT0gKG9wdC5yZWdpb25JZCA/IG9wdC5yZWdpb25JZCA6IG9wdCk7CiAgICAgIH0pOwogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkLnJlZ2lvbk5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQucmVnaW9uTmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5yZWdpb25OYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGN1c3RvbUxhYmVsUHJvZHVjdDogZnVuY3Rpb24gY3VzdG9tTGFiZWxQcm9kdWN0KG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnByb2R1Y3RzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5wcm9kdWN0T3JTZXJ2aWNlSWQgPT0gb3B0OwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5wcm9kdWN0T3JTZXJ2aWNlTmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5wcm9kdWN0T3JTZXJ2aWNlTmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5wcm9kdWN0T3JTZXJ2aWNlTmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbFByb2R1Y3RUeXBlOiBmdW5jdGlvbiBjdXN0b21MYWJlbFByb2R1Y3RUeXBlKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnByb2R1Y3RUeXBlcy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUudHlwZUlkID09IG9wdDsKICAgICAgfSk7CiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQudHlwZU5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQudHlwZU5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQudHlwZU5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgcHJvZHVjdFR5cGVTZWxlY3RlZDogZnVuY3Rpb24gcHJvZHVjdFR5cGVTZWxlY3RlZCgkZXZlbnQpIHsKICAgICAgdmFyIF9hcmd1bWVudHMyID0gYXJndW1lbnRzLAogICAgICAgIF90aGlzNSA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBkb250UmVzZXREaXN0cmljdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZG9udFJlc2V0RGlzdHJpY3QgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlsxXSA6IGZhbHNlOwogICAgICAgICAgICAgIGlmICghZG9udFJlc2V0RGlzdHJpY3QpIHsKICAgICAgICAgICAgICAgIF90aGlzNS5lZGl0aW5nSXRlbS5jb250cmFjdG9ySWQgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXM1LmNvbnRyYWN0b3JzID0gW107CiAgICAgICAgICAgICAgICBfdGhpczUuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZUlkID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzNS5wcm9kdWN0cyA9IFtdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoISRldmVudCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmZldGNoQ29udHJhY3RvcnMoX3RoaXM1LmVkaXRpbmdJdGVtLnJlZ2lvbklkLCAkZXZlbnQpOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjb250cmFjdG9yU2VsZWN0ZWQ6IGZ1bmN0aW9uIGNvbnRyYWN0b3JTZWxlY3RlZCgkZXZlbnQpIHsKICAgICAgdmFyIF9hcmd1bWVudHMzID0gYXJndW1lbnRzLAogICAgICAgIF90aGlzNiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBkb250UmVzZXREZXBlbmRlbnQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRvbnRSZXNldERlcGVuZGVudCA9IF9hcmd1bWVudHMzLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50czNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMzWzFdIDogZmFsc2U7CiAgICAgICAgICAgICAgaWYgKCFkb250UmVzZXREZXBlbmRlbnQpIHsKICAgICAgICAgICAgICAgIF90aGlzNi5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlSWQgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXM2LnByb2R1Y3RzID0gW107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwcm9kdWN0T3JTZXJ2aWNlU2VsZWN0ZWQ6IGZ1bmN0aW9uIHByb2R1Y3RPclNlcnZpY2VTZWxlY3RlZCgkZXZlbnQpIHsKICAgICAgdmFyIF9hcmd1bWVudHM0ID0gYXJndW1lbnRzLAogICAgICAgIF90aGlzNyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBkb250UmVzZXREZXBlbmRlbnQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRvbnRSZXNldERlcGVuZGVudCA9IF9hcmd1bWVudHM0Lmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50czRbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHM0WzFdIDogZmFsc2U7CiAgICAgICAgICAgICAgaWYgKCFkb250UmVzZXREZXBlbmRlbnQpIHsKICAgICAgICAgICAgICAgIF90aGlzNy5lZGl0aW5nSXRlbS5jb250cmFjdG9ySWQgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXM3LmNvbnRyYWN0b3JzID0gW107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghJGV2ZW50KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghKF90aGlzNy5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUlkICYmIF90aGlzNy5lZGl0aW5nSXRlbS5pc1JlcHVibGljKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF90aGlzNy5pc0xvYWRpbmdDb250cmFjdG9ycyA9IHRydWU7CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBoZWxwZXJTZXJ2aWNlLmdldENvbnRyYWN0b3JzQnlQcm9kZWN0T3JTZXJ2aWNlVHlwZUlkQW5kUHJvZHVjdE9yU2VydmljZUlkKCIiLmNvbmNhdChfdGhpczcuaXNEb21pbmFudCA/IEFQUEVORF9BUElfVVJMX0RPTUlOQU5UIDogX3RoaXM3LmlzTmF0dXJhbCA/IEFQUEVORF9BUElfVVJMX05BVFVSQUwgOiAnJywgIj90eXBlSWQ9IikuY29uY2F0KF90aGlzNy5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUlkLCAiJnByb2R1Y3RPclNlcnZpY2VJZD0iKS5jb25jYXQoJGV2ZW50KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpczcuY29udHJhY3RvcnMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgX3RoaXM3LmNvbnRyYWN0b3JzID0gW107CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzNy5pc0xvYWRpbmdDb250cmFjdG9ycyA9IGZhbHNlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF90aGlzNy5jb250cmFjdG9ycyA9IF90aGlzNy5jb250cmFjdG9yc0J5UHJvZHVjdE9yU2VydmljZUlkKCRldmVudCk7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfdGhpczcuY29udHJhY3RvcnMgPSBbXTsKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8qIGNvbnRyYWN0b3JSZWFjaGVkRW5kT2ZMaXN0IChlKSB7DQogICAgICAgIGlmIChlKSB7DQogICAgICAgICAgICB0aGlzLmZldGNoQ29udHJhY3RvcnMoKQ0KICAgICAgICB9DQogICAgfSwgKi8KICAgIHByb2R1Y3RPclNlcnZpY2VzUmVhY2hlZEVuZE9mTGlzdDogZnVuY3Rpb24gcHJvZHVjdE9yU2VydmljZXNSZWFjaGVkRW5kT2ZMaXN0KGUpIHsKICAgICAgaWYgKGUpIHsKICAgICAgICB0aGlzLmZldGNoUHJvZHVjdE9yU2VydmljZXModGhpcy5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUlkKTsKICAgICAgfQogICAgfSwKICAgIGN1c3RvbUxhYmVsQ29udHJhY3RvckZvclJlcHVibGljOiBmdW5jdGlvbiBjdXN0b21MYWJlbENvbnRyYWN0b3JGb3JSZXB1YmxpYyhvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5jb250cmFjdG9ycy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChzZWxlY3RlZC5uYW1lKTsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgY3VzdG9tTGFiZWxDb250cmFjdG9yOiBmdW5jdGlvbiBjdXN0b21MYWJlbENvbnRyYWN0b3Iob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuY29udHJhY3RvcnMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmNvbnRyYWN0b3JJZCA9PSBvcHQ7CiAgICAgIH0pOwogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHNlbGVjdGVkLmNvbnRyYWN0b3JGdWxsTmFtZSk7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIC8qIGFzeW5jIGRlYm91bmNlU2VhcmNoUHJvZHVjdE9yU2VydmljZXMgKHNlYXJjaFRleHQpIHsNCiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2UpOw0KICAgICAgICB0aGlzLmRlYm91bmNlID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7DQogICAgICAgICAgICBhd2FpdCB0aGlzLmZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZChzZWFyY2hUZXh0KTsNCiAgICAgICAgfSwgMTAwMCk7DQogICAgfSwgKi8KICAgIC8qIGFzeW5jIGRlYm91bmNlU2VhcmNoQ29udHJhY3RvcnMgKHNlYXJjaFRleHQpIHsNCiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2UpOw0KICAgICAgICB0aGlzLmRlYm91bmNlID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7DQogICAgICAgICAgICBhd2FpdCB0aGlzLmZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZChzZWFyY2hUZXh0KTsNCiAgICAgICAgfSwgMTAwMCk7DQogICAgfSwgKi8KICAgIGZldGNoUHJvZHVjdE9yU2VydmljZXNXaXRoS2V5d29yZDogZnVuY3Rpb24gZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlc1dpdGhLZXl3b3JkKGtleXdvcmQpIHsKICAgICAgdGhpcy5wcm9kdWN0cyA9IFtdOwogICAgICB0aGlzLnByb2R1Y3RPclNlcnZpY2VzU2VhcmNoUGF5bG9hZC5wYWdlID0gMTsKICAgICAgdGhpcy5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQua2V5d29yZCA9IGtleXdvcmQgPyBrZXl3b3JkIDogJyc7CiAgICAgIHRoaXMuZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlcyh0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VUeXBlSWQpOwogICAgfSwKICAgIGZldGNoUHJvZHVjdE9yU2VydmljZXM6IGZ1bmN0aW9uIGZldGNoUHJvZHVjdE9yU2VydmljZXModHlwZUlkKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXM4LmlzTG9hZGluZ1Byb2R1Y3RPclNlcnZpY2VzID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZ2V0UHJvZHVjdE9yU2VydmljZXNCeVR5cGVJZCh0eXBlSWQsIF90aGlzOC5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgdmFyIF90aGlzOCRwcm9kdWN0czsKICAgICAgICAgICAgICAgIChfdGhpczgkcHJvZHVjdHMgPSBfdGhpczgucHJvZHVjdHMpLnB1c2guYXBwbHkoX3RoaXM4JHByb2R1Y3RzLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEubGlzdCkpOwogICAgICAgICAgICAgICAgX3RoaXM4Lmhhc05leHRQYWdlUHJvZHVjdE9yU2VydmljZXMgPSByZXMuZGF0YS50b3RhbCAvIF90aGlzOC5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQuaXRlbXNQZXJQYWdlID4gX3RoaXM4LnByb2R1Y3RPclNlcnZpY2VzU2VhcmNoUGF5bG9hZC5wYWdlOwogICAgICAgICAgICAgICAgX3RoaXM4LnByb2R1Y3RPclNlcnZpY2VzU2VhcmNoUGF5bG9hZC5wYWdlICs9IDE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgX3RoaXM4LnByb2R1Y3RzID0gW107CiAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczguaXNMb2FkaW5nUHJvZHVjdE9yU2VydmljZXMgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLyogZmV0Y2hDb250cmFjdG9yc1dpdGhLZXl3b3JkIChrZXl3b3JkKSB7DQogICAgICAgIHRoaXMuY29udHJhY3RvcnMgPSBbXQ0KICAgICAgICB0aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnBhZ2UgPSAxDQogICAgICAgIHRoaXMuY29udHJhY3RvclNlYXJjaFBheWxvYWQua2V5d29yZCA9IGtleXdvcmQgPyBrZXl3b3JkIDogJycNCiAgICAgICAgdGhpcy5mZXRjaENvbnRyYWN0b3JzKCkNCiAgICB9LCAqLwogICAgZmV0Y2hDb250cmFjdG9yczogZnVuY3Rpb24gZmV0Y2hDb250cmFjdG9ycyhyZWdpb25JZCwgdHlwZUlkKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEoX3RoaXM5LmVkaXRpbmdJdGVtLmlzUmVwdWJsaWMgJiYgdHlwZUlkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF90aGlzOS5pc0xvYWRpbmdQcm9kdWN0T3JTZXJ2aWNlcyA9IHRydWU7CiAgICAgICAgICAgICAgaGVscGVyU2VydmljZS5zZWFyY2hSZWVzdHJMaXN0QnlSZXB1YmxpYygiIi5jb25jYXQoX3RoaXM5LmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IF90aGlzOS5pc05hdHVyYWwgPyBBUFBFTkRfQVBJX1VSTF9OQVRVUkFMIDogJycsICI/dHlwZUlkPSIpLmNvbmNhdCh0eXBlSWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzOS5wcm9kdWN0cyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIF90aGlzOS5wcm9kdWN0cyA9IFtdOwogICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXM5LmlzTG9hZGluZ1Byb2R1Y3RPclNlcnZpY2VzID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGlmICghKHJlZ2lvbklkICYmIHR5cGVJZCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXM5LmlzTG9hZGluZ1Byb2R1Y3RPclNlcnZpY2VzID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdChNQUlOX0FQSV9VUkwsIG51bGwsICIiLmNvbmNhdChfdGhpczkuaXNEb21pbmFudCA/IEFQUEVORF9BUElfVVJMX0RPTUlOQU5UIDogX3RoaXM5LmlzTmF0dXJhbCA/IEFQUEVORF9BUElfVVJMX05BVFVSQUwgOiAnJywgIj9yZWdpb25JZD0iKS5jb25jYXQocmVnaW9uSWQsICImdHlwZUlkPSIpLmNvbmNhdCh0eXBlSWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzOS5wcm9kdWN0cyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIF90aGlzOS5wcm9kdWN0cyA9IFtdOwogICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXM5LmlzTG9hZGluZ1Byb2R1Y3RPclNlcnZpY2VzID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF90aGlzOS5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlSWQgPSBudWxsOwogICAgICAgICAgICAgIF90aGlzOS5wcm9kdWN0cyA9IFtdOwogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICAvKg0KICAqIENSRUFURUQgKi8KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMTAgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfdGhpczEwLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxMC52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCk7CiAgICAgICAgICAgIF90aGlzMTAucHJvZHVjdE9yU2VydmljZXNTZWFyY2hQYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxMC52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCk7CiAgICAgICAgICAgIF90aGlzMTAudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gNTAwOwogICAgICAgICAgICBpZiAoIV90aGlzMTAuaXNNb2RlQ3JlYXRlKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0RW1wdHkoTUFJTl9BUElfVVJMKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczEwLmVkaXRpbmdJdGVtID0gcmVzLmRhdGE7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEwOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMDsKICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0QnlJZChNQUlOX0FQSV9VUkwsIF90aGlzMTAuJHJvdXRlLnBhcmFtcy5pZCwgZmFsc2UpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzMTAuZWRpdGluZ0l0ZW0gPSByZXMuZGF0YTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEyOwogICAgICAgICAgICByZXR1cm4gaGVscGVyU2VydmljZS5mZXRjaFJlZ2lvbnNGb3JDb250cmFjdG9yUmVlc3RyQnlDdXJyZW50VXNlcklkKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXMxMC5yZWdpb25zID0gcmVzLmRhdGE7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTkpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACA;AACA;EACAC;EACA;AACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACA;AACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QAAA;MAAA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACA;AACA;EACAC;IACAC;MAAA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA,KACAC;kBAAA;kBAAA;gBAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACAC;kBACA;kBACA;kBACA;kBACA;oBAAAC;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAAC;gBACAF,gEACA;kBACA;kBACA;kBACA;kBACA;oBAAAC;kBAAA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAGA;kBAAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA,CAEA;QAAA;UAAA;QAAA;MAAA;IACA;IACAE;MACA;QAAA;MAAA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;QACA;QACAC;QACAA;UAAA;QAAA;QACAA;UAAA;QAAA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA,KACA;gBAAA;gBAAA;cAAA;cACA;cAAA,kCACA;YAAA;cAAA;cAAA,OAEA;YAAA;cAAAC;cACA;cAAA,kCACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAGA;IACAC;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAC;cAAAC;cACA;gBACA;gBACA;gBAEA;gBACA;gBAEA;cACA;cACA;gBACAC,cACAC,kHACAC;kBACA;gBACA,GACAC;kBACA;gBACA;cACA;gBACAH,cACAI,iKACAF;kBACA;gBACA,GACAC;kBACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAE;MACA;QAAA;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;MACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;UACAH;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAE;MACA;QAAA;MAAA;MACA;QACA;UACAJ;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAG;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAC;cACA;gBACA;gBACA;gBACA;gBACA;cACA;cAAA,KACAC;gBAAA;gBAAA;cAAA;cAAA;cAAA,OAEA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAUA;IACAC;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAhB;cACA;gBACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAiB;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAjB;cACA;gBACA;gBACA;cACA;cAAA,KACAe;gBAAA;gBAAA;cAAA;cAAA,MACA;gBAAA;gBAAA;cAAA;cACA;cAAA;cAAA,OACAb,iSACAE;gBACA;cACA,GACAC;gBACA;gBACAa;cACA,GACAC;gBACA;cACA;YAAA;cAAA;cAAA;YAAA;cAEA;YAAA;cAAA;cAAA;YAAA;cAGA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAEA;IACA;AACA;AACA;AACA;AACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;IACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cAAA;cAAA,OACAtB,0FACAE;gBAAA;gBACA;gBACA;gBACA;cACA,GACAC;gBACAa;gBACA;cACA,GACAC;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;IACAM;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA,MACA;gBAAA;gBAAA;cAAA;cACA;cACAvB,6KACAE;gBACA;cACA,GACAC;gBACAa;gBACA;cACA,GACAC;gBACA;cACA;cAAA;cAAA;YAAA;cAAA,MACAO;gBAAA;gBAAA;cAAA;cACA;cAAA;cAAA,OACAnC,sNACAa;gBACA;cACA,GACAC;gBACAa;gBACA;cACA,GACAC;gBACA;cACA;YAAA;cAAA;cAAA;YAAA;cAEA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAEA;EACA;EACA;AACA;EACAQ;IAAA;IAAA;MAAA;QAAA;UAAA;YACA;YACA;YACA;YAAA,KACA;cAAA;cAAA;YAAA;YAAA;YAAA,OACApC,2CACAa;cACA;YACA,GACAC;cACAa;YACA;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA,OAEA3B,2EACAa;cACA;YACA,GACAC;cACAa;YACA;UAAA;YAAA;YAAA,OAMAhB,+DACAE;cACA;YACA,GACAC;cACAa;YACA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EACA;AACA","names":["name","components","data","editingItem","regions","hasNextPageContractors","hasNextPageProductOrServices","contractors","debounce","isLoadingContractors","isLoadingProductOrServices","contractorSearchPayload","productOrServicesSearchPayload","productTypes","products","computed","computedObserver","isModeCreate","productOrServicesByContractorId","isDominant","isNatural","methods","save","valid","crudAndListsService","type","payload","contractorsByProductOrServiceId","getBase64","reader","makeAndReturnFormDataForBase64","res","regionSelected","dontResetDependent","forRepublicEvent","helperService","getReestrByRepublic","then","catch","getReestrByRegionId","customLabelRegion","nameRu","nameLt","nameUz","customLabelProduct","customLabelProductType","productTypeSelected","dontResetDistrict","$event","contractorSelected","productOrServiceSelected","console","finally","productOrServicesReachedEndOfList","customLabelContractorForRepublic","customLabelContractor","fetchProductOrServicesWithKeyword","fetchProductOrServices","fetchContractors","regionId","created"],"sourceRoot":"src/modules/reestr-contractors/modules/natural","sources":["CreateOrUpdateRemoveDoc.vue"],"sourcesContent":["<template>\r\n    <base-create-or-update-wrapper\r\n        @save=\"save\"\r\n        has-save-suspend\r\n        :custom-title=\"$t('actions.remove_from_reestr')\"\r\n    >\r\n        <ValidationObserver\r\n            ref=\"observer\"\r\n            v-slot=\"{}\"\r\n        >\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseInputWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.orderNumber\"\r\n                        :label=\"$t('column.order_number')\"\r\n                        :placeholder=\"$t('column.order_number')\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseDatePickerWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        :label=\"$t('column.removed_date_from_reestr')\"\r\n                        :placeholder=\"$t('column.removed_date_from_reestr')\"\r\n                        disable-after\r\n                        v-model=\"editingItem.reestrClosedDate\"\r\n                        lang=\"ru\"\r\n                    ></BaseDatePickerWithValidation>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <!-- <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.regionId\"\r\n                        :options=\"regions.map(e => e.regionId)\"\r\n                        @select=\"regionSelected\"\r\n                        :allow-empty=\"false\"\r\n                        :label=\"$t('column.region')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelRegion\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                </b-col> -->\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <b-row>\r\n                        <b-col :cols=\"$can('republic', 'for reestr') ? 8 : 12\">\r\n                            <!-- DISABLED STATE -->\r\n                            <BaseMultiselectWithValidation\r\n                                v-if=\"editingItem.isRepublic\"\r\n                                not-required\r\n                                disabled\r\n                                :value=\"null\"\r\n                                :options=\"regions.map(e => e.regionId)\"\r\n                                :custom-styles=\"$can('republic', 'for reestr') ? `grid-template-columns: 38% 62%;` : ''\"\r\n                                :custom-label=\"customLabelRegion\"\r\n                                placeholder=\"\"\r\n                                :label=\"$t('column.region')\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                            <BaseMultiselectWithValidation\r\n                                v-else\r\n                                rules=\"required\"\r\n                                class=\"required\"\r\n                                v-model=\"editingItem.regionId\"\r\n                                :options=\"regions.map(e => e.regionId)\"\r\n                                :custom-styles=\"$can('republic', 'for reestr') ? `grid-template-columns: 38% 62%;` : ''\"\r\n                                @select=\"regionSelected\"\r\n                                :allow-empty=\"false\"\r\n                                :label=\"$t('column.region')\"\r\n                                placeholder=\"\"\r\n                                :custom-label=\"customLabelRegion\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                        </b-col>\r\n                        <b-col\r\n                            cols=\"4\"\r\n                            v-if=\"$can('republic', 'for reestr')\"\r\n                        >\r\n                            <div class=\"form-check form-check-right\">\r\n                                <input\r\n                                    v-model=\"editingItem.isRepublic\"\r\n                                    @change=\"regionSelected(null, false, $event)\"\r\n                                    class=\"form-check-input\"\r\n                                    type=\"checkbox\"\r\n                                    id=\"formCheckIsLegal\"\r\n                                />\r\n                                <label\r\n                                    class=\"form-check-label font-weight-normal\"\r\n                                    for=\"formCheckIsLegal\"\r\n                                >\r\n                                    {{ $t('column.is_republic') }}\r\n                                </label>\r\n                            </div>\r\n                        </b-col>\r\n                    </b-row>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.directoryProductOrServiceTypeId\"\r\n                        @select=\"productTypeSelected\"\r\n                        :allow-empty=\"false\"\r\n                        :options=\"productTypes.map(e => e.typeId)\"\r\n                        :label=\"$t('column.product_or_service_type')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelProductType\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.directoryProductOrServiceId\"\r\n                        @select=\"productOrServiceSelected\"\r\n                        :options=\"products.map(e => e.productOrServiceId)\"\r\n                        :label=\"$t('submodules.product_or_services.title')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelProduct\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                        :allow-empty=\"false\"\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingProductOrServices\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        v-if=\"editingItem.isRepublic\"\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.contractorId\"\r\n                        :allow-empty=\"false\"\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingContractors\"\r\n                        :options=\"contractors.map(e => e.id)\"\r\n                        :label=\"$t('column.business_entity')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelContractorForRepublic\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                    <BaseMultiselectWithValidation\r\n                        v-else\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.contractorId\"\r\n                        :allow-empty=\"false\"\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingContractors\"\r\n                        :options=\"contractors.map(e => e.contractorId)\"\r\n                        :label=\"$t('column.business_entity')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelContractor\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        name=\"supplementDoc\"\r\n                        rules=\"required\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                class=\"required\"\r\n                                ref=\"supplementDocUploader\"\r\n                                v-model=\"editingItem.supplementDocs\"\r\n                                data-vv-name=\"supplementDocFile\"\r\n                                data-vv-as=\"SupplementDocFile\"\r\n                                :max-files=\"1\"\r\n                                :label-on-top=\"false\"\r\n                                :label=\"$t('column.ilova')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n            </b-row>\r\n        </ValidationObserver>\r\n    </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'reestr/contractor-reestr-documents'\r\nconst APPEND_API_URL_NATURAL = 'close-estestveniy'\r\nconst APPEND_API_URL_DOMINANT = 'close-daminiriushiy'\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nimport helperService from \"@/shared/services/helper.service\"\r\n\r\nexport default {\r\n    name: \"CreateOrUpdateRemoveDoc\",\r\n    /*\r\n    * COMPONENTS */\r\n    components: {},\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            editingItem: {},\r\n            regions: [],\r\n            hasNextPageContractors: false,\r\n            hasNextPageProductOrServices: false,\r\n            contractors: [],\r\n            debounce: null,\r\n            isLoadingContractors: false,\r\n            isLoadingProductOrServices: false,\r\n            contractorSearchPayload: {},\r\n            productOrServicesSearchPayload: {},\r\n            productTypes: [],\r\n            products: []\r\n        }\r\n    },\r\n    /*\r\n    * COMPUTED */\r\n    computed: {\r\n        computedObserver () {\r\n            return this.$refs.observer\r\n        },\r\n        isModeCreate () {\r\n            return this.$route.name === 'CreateRemoveDocNaturalContractorReestr' || this.$route.name === 'CreateRemoveDocDominantContractorReestr'\r\n        },\r\n        productOrServicesByContractorId () {\r\n            let foundContractor = this.contractors.find(el => el.contractorId == this.editingItem.contractorId)\r\n            if (foundContractor) {\r\n                return foundContractor.productOrServicesByDistrict\r\n            } else {\r\n                return []\r\n            }\r\n        },\r\n        isDominant () {\r\n            return this.$route.name === 'CreateRemoveDocDominantContractorReestr'\r\n        },\r\n        isNatural () {\r\n            return this.$route.name === 'CreateRemoveDocNaturalContractorReestr'\r\n        }\r\n    },\r\n    /*\r\n    * METHODS */\r\n    methods: {\r\n        save () {\r\n            this.computedObserver.validate().then(async valid => {\r\n                if (valid) {\r\n                    if (this.editingItem.id) {\r\n                        crudAndListsService.update(MAIN_API_URL, this.makeAndReturnFormDataForBase64()).then(res => {\r\n                            this.computedObserver.reset()\r\n                            this.editingItem = Object.assign({}, {});\r\n                            this.$router.go(-1)\r\n                            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                        })\r\n                    } else {\r\n                        let payload = await this.makeAndReturnFormDataForBase64()\r\n                        crudAndListsService.create(MAIN_API_URL, payload,\r\n                            `for-${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}`).then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        },\r\n        contractorsByProductOrServiceId (productOrServiceId) {\r\n            let foundEl = this.products.find(el => el.productOrServiceId == productOrServiceId)\r\n            if (foundEl) {\r\n                return foundEl.contractorsByDistrict\r\n            } else {\r\n                return []\r\n            }\r\n        },\r\n        /* makeAndReturnFormData () {\r\n            let form = new FormData();\r\n            this.editingItem.supplementDocs.forEach(f => {\r\n                form.append(\"file\", f.file);\r\n            })\r\n            form.append(\"contractorId\", this.editingItem.contractorId)\r\n            form.append(\"regionId\", this.editingItem.regionId)\r\n            // form.append(\"directoryProductOrServiceTypeId\", this.editingItem.directoryProductOrServiceTypeId)\r\n            // form.append(\"governmentPercentage\", this.editingItem.governmentPercentage)\r\n            form.append(\"orderNumber\", this.editingItem.orderNumber)\r\n            form.append(\"reestrClosedDate\", this.editingItem.reestrClosedDate)\r\n            this.editingItem.directoryProductOrServiceIds.forEach(id => {\r\n                form.append(\"directoryProductOrServiceIds\", id)\r\n            })\r\n            return form\r\n        }, */\r\n        getBase64 (file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = () => resolve(reader.result);\r\n                reader.onerror = error => reject(error);\r\n            });\r\n        },\r\n        async makeAndReturnFormDataForBase64 () {\r\n            if (this.editingItem.supplementDocs[0].file.dataURL) {\r\n                this.editingItem.file = this.editingItem.supplementDocs[0].file.dataURL\r\n                return this.editingItem\r\n            } else {\r\n                let res = await this.getBase64(this.editingItem.supplementDocs[0].file)\r\n                this.editingItem.file = res\r\n                return this.editingItem\r\n            }\r\n\r\n        },\r\n        async regionSelected ($event, dontResetDependent = false, forRepublicEvent) {\r\n            if (!dontResetDependent) {\r\n                this.productTypes = []\r\n                this.editingItem.directoryProductOrServiceTypeId = null\r\n\r\n                this.editingItem.contractorId = null\r\n                this.contractors = []\r\n\r\n                this.editingItem.directoryProductOrServiceId = null\r\n            }\r\n            if (this.editingItem.isRepublic) {\r\n                helperService\r\n                    .getReestrByRepublic(this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : '')\r\n                    .then((res) => {\r\n                        this.productTypes = res.data;\r\n                    })\r\n                    .catch(e => {\r\n                        this.productTypes = [];\r\n                    })\r\n            } else if ($event || this.editingItem.regionId) {\r\n                helperService\r\n                    .getReestrByRegionId($event ? $event : this.editingItem.regionId, this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : '')\r\n                    .then((res) => {\r\n                        this.productTypes = res.data;\r\n                    })\r\n                    .catch(e => {\r\n                        this.productTypes = [];\r\n                    })\r\n            }\r\n        },\r\n        customLabelRegion (opt) {\r\n            let selected = this.regions.find(e => e.regionId == (opt.regionId ? opt.regionId : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.regionNameRu,\r\n                    nameLt: selected.regionNameLt,\r\n                    nameUz: selected.regionNameUz,\r\n                })}`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelProduct (opt) {\r\n            let selected = this.products.find(e => e.productOrServiceId == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.productOrServiceNameRu,\r\n                    nameLt: selected.productOrServiceNameLt,\r\n                    nameUz: selected.productOrServiceNameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelProductType (opt) {\r\n            let selected = this.productTypes.find(e => e.typeId == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.typeNameRu,\r\n                    nameLt: selected.typeNameLt,\r\n                    nameUz: selected.typeNameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        async productTypeSelected ($event, dontResetDistrict = false) {\r\n            if (!dontResetDistrict) {\r\n                this.editingItem.contractorId = null\r\n                this.contractors = []\r\n                this.editingItem.directoryProductOrServiceId = null\r\n                this.products = []\r\n            }\r\n            if ($event) {\r\n                // GET PRODUCT_OR_SERVICES\r\n                await this.fetchContractors(this.editingItem.regionId, $event)\r\n                // await helperService.getProductsByProdectTypeId($event)\r\n                //     .then(res => {\r\n                //         this.products = res.data\r\n                //     })\r\n                //     .catch(e => {\r\n                //         this.products = []\r\n                //         console.log(e)\r\n                //     })\r\n            }\r\n        },\r\n        async contractorSelected ($event, dontResetDependent = false) {\r\n            if (!dontResetDependent) {\r\n                this.editingItem.directoryProductOrServiceId = null\r\n                this.products = []\r\n            }\r\n        },\r\n        async productOrServiceSelected ($event, dontResetDependent = false) {\r\n            if (!dontResetDependent) {\r\n                this.editingItem.contractorId = null\r\n                this.contractors = []\r\n            }\r\n            if ($event) {\r\n                if (this.editingItem.directoryProductOrServiceTypeId && this.editingItem.isRepublic) {\r\n                    this.isLoadingContractors = true\r\n                    await helperService.getContractorsByProdectOrServiceTypeIdAndProductOrServiceId(`${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?typeId=${this.editingItem.directoryProductOrServiceTypeId}&productOrServiceId=${$event}`)\r\n                        .then(res => {\r\n                            this.contractors = res.data\r\n                        })\r\n                        .catch(e => {\r\n                            this.contractors = []\r\n                            console.log(e)\r\n                        })\r\n                        .finally(() => {\r\n                            this.isLoadingContractors = false\r\n                        })\r\n                } else {\r\n                    this.contractors = this.contractorsByProductOrServiceId($event)\r\n                }\r\n            } else {\r\n                this.contractors = []\r\n            }\r\n        },\r\n        /* contractorReachedEndOfList (e) {\r\n            if (e) {\r\n                this.fetchContractors()\r\n            }\r\n        }, */\r\n        productOrServicesReachedEndOfList (e) {\r\n            if (e) {\r\n                this.fetchProductOrServices(this.editingItem.directoryProductOrServiceTypeId)\r\n            }\r\n        },\r\n        customLabelContractorForRepublic (opt) {\r\n            let selected = this.contractors.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${selected.name}`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelContractor (opt) {\r\n            let selected = this.contractors.find(e => e.contractorId == opt);\r\n            if (selected) {\r\n                return `${selected.contractorFullName}`\r\n            }\r\n            return ``;\r\n        },\r\n        /* async debounceSearchProductOrServices (searchText) {\r\n            clearTimeout(this.debounce);\r\n            this.debounce = setTimeout(async () => {\r\n                await this.fetchContractorsWithKeyword(searchText);\r\n            }, 1000);\r\n        }, */\r\n        /* async debounceSearchContractors (searchText) {\r\n            clearTimeout(this.debounce);\r\n            this.debounce = setTimeout(async () => {\r\n                await this.fetchContractorsWithKeyword(searchText);\r\n            }, 1000);\r\n        }, */\r\n        fetchProductOrServicesWithKeyword (keyword) {\r\n            this.products = []\r\n            this.productOrServicesSearchPayload.page = 1\r\n            this.productOrServicesSearchPayload.keyword = keyword ? keyword : ''\r\n            this.fetchProductOrServices(this.editingItem.directoryProductOrServiceTypeId)\r\n        },\r\n        async fetchProductOrServices (typeId) {\r\n            this.isLoadingProductOrServices = true\r\n            await helperService.getProductOrServicesByTypeId(typeId, this.productOrServicesSearchPayload)\r\n                .then(res => {\r\n                    this.products.push(...res.data.list)\r\n                    this.hasNextPageProductOrServices = res.data.total / this.productOrServicesSearchPayload.itemsPerPage > this.productOrServicesSearchPayload.page\r\n                    this.productOrServicesSearchPayload.page += 1\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    this.products = []\r\n                })\r\n                .finally(() => {\r\n                    this.isLoadingProductOrServices = false\r\n                })\r\n        },\r\n        /* fetchContractorsWithKeyword (keyword) {\r\n            this.contractors = []\r\n            this.contractorSearchPayload.page = 1\r\n            this.contractorSearchPayload.keyword = keyword ? keyword : ''\r\n            this.fetchContractors()\r\n        }, */\r\n        async fetchContractors (regionId, typeId) {\r\n            if (this.editingItem.isRepublic && typeId) {\r\n                this.isLoadingProductOrServices = true\r\n                helperService.searchReestrListByRepublic(`${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?typeId=${typeId}`)\r\n                    .then(res => {\r\n                        this.products = res.data\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n                        this.products = []\r\n                    })\r\n                    .finally(() => {\r\n                        this.isLoadingProductOrServices = false\r\n                    })\r\n            } else if (regionId && typeId) {\r\n                this.isLoadingProductOrServices = true\r\n                await crudAndListsService.searchList(MAIN_API_URL, null, `${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?regionId=${regionId}&typeId=${typeId}`)\r\n                    .then(res => {\r\n                        this.products = res.data\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n                        this.products = []\r\n                    })\r\n                    .finally(() => {\r\n                        this.isLoadingProductOrServices = false\r\n                    })\r\n            } else {\r\n                this.editingItem.directoryProductOrServiceId = null\r\n                this.products = []\r\n            }\r\n        },\r\n    },\r\n    /*\r\n    * CREATED */\r\n    async created () {\r\n        this.contractorSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n        this.productOrServicesSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n        this.var_default_search_payload.itemsPerPage = 500\r\n        if (this.isModeCreate) {\r\n            await crudAndListsService.getEmpty(MAIN_API_URL)\r\n                .then(res => {\r\n                    this.editingItem = res.data\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        } else {\r\n            await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, false)\r\n                .then(res => {\r\n                    this.editingItem = res.data\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        }\r\n        // GET CONTRACTORS\r\n        // await this.fetchContractors()\r\n\r\n        // GET REGIONS\r\n        await helperService.fetchRegionsForContractorReestrByCurrentUserId()\r\n            .then(res => {\r\n                this.regions = res.data\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.col-form-label {\r\n    padding-top: 0;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n}\r\n</style>"]}]}