{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\advertisement\\modules\\ad_passport_info\\UpdateItemFiles.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\advertisement\\modules\\ad_passport_info\\UpdateItemFiles.vue","mtime":1674799496621},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgTUFJTl9BUElfVVJMID0gJ2NvbnRyYWN0b3ItYWR2ZXJ0aXNpbmctY29uc3RydWN0aW9uJzsKdmFyIEFQUEVORF9BUElfVVJMX0ZPUl9HT1ZFUk5NRU5UID0gJ2ZpcnN0LWFnZW50LWZpbGVzJzsKdmFyIEFQUEVORF9BUElfVVJMX0ZPUl9BR0VOQ1kgPSAnc2Vjb25kLWFnZW50LWZpbGVzJzsKLyoNCiogWU9VIE1VU1QgU0VORCB7eyBNQUlOX0FQSV9VUkwgfX0gVE8gQ1JVRF9TRVJWSUNFICovCgppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZUl0ZW1GaWxlcyIsCgogIC8qDQogICogQ09NUE9ORU5UUyAqLwogIGNvbXBvbmVudHM6IHt9LAoKICAvKg0KICAqIERBVEEgKi8KICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHVibGljUGF0aDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgICAgIGVkaXRpbmdJdGVtOiB7CiAgICAgICAgYWRkcmVzc0R0bzoge30KICAgICAgfSwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgYXJjaGl0ZWN0RG9jRmlsZTogW10sCiAgICAgIHBob3RvczogW10sCiAgICAgIHBhc3Nwb3J0RG9jRmlsZTogW10sCiAgICAgIHBhc3Nwb3J0UGhvdG86IFtdLAogICAgICBwYXltZW50RG9jRmlsZTogW10KICAgIH07CiAgfSwKCiAgLyoNCiAgKiBDT01QVVRFRCAqLwogIGNvbXB1dGVkOiB7CiAgICBpc01vZGVDcmVhdGU6IGZ1bmN0aW9uIGlzTW9kZUNyZWF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT0gJ0NyZWF0ZUFkUGFzc3BvcnRJbmZvQnlBZ2VuY3knIHx8IHRoaXMuJHJvdXRlLm5hbWUgPT0gJ0NyZWF0ZUFkUGFzc3BvcnRJbmZvQnlHb3Zlcm5tZW50JzsKICAgIH0sCiAgICBpc0J5QWdlbmN5OiBmdW5jdGlvbiBpc0J5QWdlbmN5KCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PSAnVXBkYXRlQWRQYXNzcG9ydEluZm9GaWxlc0J5QWdlbmN5JzsKICAgIH0sCiAgICBpc0J5R292ZXJubWVudDogZnVuY3Rpb24gaXNCeUdvdmVybm1lbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09ICdVcGRhdGVBZFBhc3Nwb3J0SW5mb0ZpbGVzQnlHb3Zlcm5tZW50JzsKICAgIH0sCiAgICBjb21wdXRlZE9ic2VydmVyOiBmdW5jdGlvbiBjb21wdXRlZE9ic2VydmVyKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5vYnNlcnZlcjsKICAgIH0KICAgIC8qIG11bHRpcGxlTWluaW11bUNvbGxlY3Rpb25zQ29tcHV0ZWRPYnNlcnZlciAoKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRyZWZzWydtdWx0aXBsZS1taW5pbXVtLWNvbGxlY3Rpb25zLW9ic2VydmVyJ10NCiAgICB9LA0KICAgIHNpbmdsZU1pbmltdW1Db2xsZWN0aW9uVXBkYXRlQ29tcHV0ZWRPYnNlcnZlciAoKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRyZWZzWydzaW5nbGUtbWluaW11bS1jb2xsZWN0aW9uLXVwZGF0ZS1vYnNlcnZlciddDQogICAgfSAqLwoKICB9LAoKICAvKg0KICAqIE1FVEhPRFMgKi8KICBtZXRob2RzOiB7CiAgICBnZW5lcmF0ZVVVSUQ6IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpIHsKICAgICAgdmFyIGR0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgICAgIHZhciByID0gKGR0ICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgICAgICBkdCA9IE1hdGguZmxvb3IoZHQgLyAxNik7CiAgICAgICAgcmV0dXJuIChjID09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4KS50b1N0cmluZygxNik7CiAgICAgIH0pOwogICAgICByZXR1cm4gdXVpZDsKICAgIH0sCiAgICBzZXRGaWxlc0Zyb21TZXJ2ZXI6IGZ1bmN0aW9uIHNldEZpbGVzRnJvbVNlcnZlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzQnlHb3Zlcm5tZW50KSB7CiAgICAgICAgICAgICAgICAgIC8vIEFSQ0hJVEVDVF9ET0NfRklMRVMKICAgICAgICAgICAgICAgICAgX3RoaXMuZWRpdGluZ0l0ZW0uYXJjaGl0ZWN0RG9jRmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZikgewogICAgICAgICAgICAgICAgICAgIGZldGNoKF90aGlzLnB1YmxpY1BhdGggKyBmLnVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmJsb2IoKTsKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChteUJsb2IpIHsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gZi5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbXlGaWxlID0gbmV3IEZpbGUoW215QmxvYl0sIGYubmFtZSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBteUJsb2IudHlwZQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gX3RoaXMucHVibGljUGF0aCArIGYudXJsOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvKiBsZXQgZmlsZSA9IHsgc2l6ZTogZi5zaXplLCBuYW1lOiBmLm5hbWUsIHR5cGU6IGYuY29udGVudFR5cGUsIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkgfTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIGYudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShmaWxlLCB1cmwpOyAqLwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuaXNCeUFnZW5jeSkgewogICAgICAgICAgICAgICAgICAvLyBBUkNISVRFQ1RfRE9DX0ZJTEVTCiAgICAgICAgICAgICAgICAgIF90aGlzLmVkaXRpbmdJdGVtLmFyY2hpdGVjdERvY0ZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGYsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2goX3RoaXMucHVibGljUGF0aCArIGYudXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuYmxvYigpOwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG15QmxvYikgewogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLm5hbWUgPSBmLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubGFzdE1vZGlmaWVkID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgZi5uYW1lLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG15QmxvYi50eXBlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBfdGhpcy5wdWJsaWNQYXRoICsgZi51cmw7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIC8qIGNvbnN0IG1vY2tGaWxlID0geyBuYW1lOiBmLm5hbWUsIHNpemU6IGYuc2l6ZSB9Ow0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLmRyb3B6b25lLm9wdGlvbnMpICovCiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5hcmNoaXRlY3REb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5maWxlc1tpbmRleF0gPSBmLm5hbWU7CgogICAgICAgICAgICAgICAgICAgIC8qIHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUuZHJvcHpvbmUub3B0aW9ucy5hZGRlZGZpbGUodGhpcy4kcmVmcy5hcmNoaXRlY3REb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZSwgbW9ja0ZpbGUpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLmRyb3B6b25lLm9wdGlvbnMudGh1bWJuYWlsKHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUsIG1vY2tGaWxlLCB0aGlzLnB1YmxpY1BhdGggKyBmLnVybCk7ICovCgogICAgICAgICAgICAgICAgICAgIC8qIG1vY2tGaWxlLnByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2R6LXN1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotY29tcGxldGUnKTsgKi8KICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZmlsZSA9IG5ldyBGaWxlKFsiIl0sIGYubmFtZSwgeyB0eXBlOiBmLmNvbnRlbnRUeXBlLCBzaXplOiBmLnNpemUsIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS5nZXRUaW1lKCkgfSkKICAgICAgICAgICAgICAgICAgICAvLyBmaWxlLnNpemUgPSBmLnNpemUKICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZmlsZSA9IHsgc2l6ZTogZi5zaXplLCBuYW1lOiBmLm5hbWUsIHR5cGU6IGYuY29udGVudFR5cGUsIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkgfTsKCiAgICAgICAgICAgICAgICAgICAgLyogbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIGYudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7ICovCiAgICAgICAgICAgICAgICAgIH0pOyAvLyBPQkpFQ1RfUEhPVE9TCgoKICAgICAgICAgICAgICAgICAgX3RoaXMuZWRpdGluZ0l0ZW0ub2JqZWN0UGhvdG9MaXN0LmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaChfdGhpcy5wdWJsaWNQYXRoICsgZi51cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5ibG9iKCk7CiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobXlCbG9iKSB7CiAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubmFtZSA9IGYubmFtZTsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIG15RmlsZSA9IG5ldyBGaWxlKFtteUJsb2JdLCBmLm5hbWUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IF90aGlzLnB1YmxpY1BhdGggKyBmLnVybDsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5waG90b3NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUobXlGaWxlLCB1cmwpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgLyogbGV0IGZpbGUgPSB7IHNpemU6IGYuc2l6ZSwgbmFtZTogZi5uYW1lLCB0eXBlOiBmLmNvbnRlbnRUeXBlLCB1dWlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpIH07DQogICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLnB1YmxpY1BhdGggKyBmLnVybDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5waG90b3NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUoZmlsZSwgdXJsKTsgKi8KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gUEFTU1BPUlRfRE9DX0ZJTEUKICAgICAgICAgICAgICAgICAgICBmZXRjaChfdGhpcy5wdWJsaWNQYXRoICsgX3RoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsLnVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmJsb2IoKTsKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChteUJsb2IpIHsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gX3RoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubGFzdE1vZGlmaWVkID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgX3RoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnREb2NGaWxlVXJsLm5hbWUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IF90aGlzLnB1YmxpY1BhdGggKyBfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwudXJsOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnBhc3Nwb3J0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIC8qIGxldCBwRG9jRmlsZSA9IHsgc2l6ZTogdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwuc2l6ZSwgbmFtZTogdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwubmFtZSwgdHlwZTogdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwuY29udGVudFR5cGUsIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkgfTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBEb2NGaWxlVXJsID0gdGhpcy5wdWJsaWNQYXRoICsgdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBhc3Nwb3J0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKHBEb2NGaWxlLCBwRG9jRmlsZVVybCk7ICovCiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gUEFTU1BPUlRfUEhPVE8KICAgICAgICAgICAgICAgICAgICBmZXRjaChfdGhpcy5wdWJsaWNQYXRoICsgX3RoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC51cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5ibG9iKCk7CiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobXlCbG9iKSB7CiAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubmFtZSA9IF90aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwubmFtZTsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIG15RmlsZSA9IG5ldyBGaWxlKFtteUJsb2JdLCBfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsLm5hbWUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IF90aGlzLnB1YmxpY1BhdGggKyBfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsLnVybDsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5wYXNzcG9ydFBob3RvVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIC8qIGxldCBwUGhvdG8gPSB7IHNpemU6IHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC5zaXplLCBuYW1lOiB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwubmFtZSwgdHlwZTogdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsLmNvbnRlbnRUeXBlLCB1dWlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpIH07DQogICAgICAgICAgICAgICAgICAgIGxldCBwUGhvdG9VcmwgPSB0aGlzLnB1YmxpY1BhdGggKyB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBhc3Nwb3J0UGhvdG9VcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUocFBob3RvLCBwUGhvdG9VcmwpOyAqLwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwpIHsKICAgICAgICAgICAgICAgICAgICAvLyBQQVlNRU5UX0RPQ19GSUxFCiAgICAgICAgICAgICAgICAgICAgZmV0Y2goX3RoaXMucHVibGljUGF0aCArIF90aGlzLmVkaXRpbmdJdGVtLnBheW1lbnREb2NGaWxlVXJsLnVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmJsb2IoKTsKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChteUJsb2IpIHsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gX3RoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwubmFtZTsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIG15RmlsZSA9IG5ldyBGaWxlKFtteUJsb2JdLCBfdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybC5uYW1lLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG15QmxvYi50eXBlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBfdGhpcy5wdWJsaWNQYXRoICsgX3RoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwudXJsOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnBheW1lbnREb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUobXlGaWxlLCB1cmwpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgLyogbGV0IHBheW1lbnRGaWxlID0geyBzaXplOiB0aGlzLmVkaXRpbmdJdGVtLnBheW1lbnREb2NGaWxlVXJsLnNpemUsIG5hbWU6IHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwubmFtZSwgdHlwZTogdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybC5jb250ZW50VHlwZSwgdXVpZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSB9Ow0KICAgICAgICAgICAgICAgICAgICBsZXQgcGF5bWVudEZpbGVVcmwgPSB0aGlzLnB1YmxpY1BhdGggKyB0aGlzLmVkaXRpbmdJdGVtLnBheW1lbnREb2NGaWxlVXJsLnVybDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYXltZW50RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKHBheW1lbnRGaWxlLCBwYXltZW50RmlsZVVybCk7ICovCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNvbGxlY3RFcnI6IGZ1bmN0aW9uIGNvbGxlY3RFcnIoa2V5KSB7CiAgICAgIGlmICh0aGlzLmVycm9yc1trZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNba2V5XTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0sCiAgICBoYXNFcnJvcjogZnVuY3Rpb24gaGFzRXJyb3Ioa2V5KSB7CiAgICAgIGlmICh0aGlzLmVycm9yc1trZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKCiAgICAvKiBkYXRhVVJMdG9GaWxlIChkYXRhdXJsLCBmaWxlbmFtZSkgew0KICAgICAgICBsZXQgYXJyID0gZGF0YXVybC5zcGxpdCgiLCIpLA0KICAgICAgICAgICAgbWltZSA9IGFyclswXS5tYXRjaCgvOiguKj8pOy8pWzFdLA0KICAgICAgICAgICAgYnN0ciA9IGF0b2IoYXJyWzFdKSwNCiAgICAgICAgICAgIG4gPSBic3RyLmxlbmd0aCwNCiAgICAgICAgICAgIHU4YXJyID0gbmV3IFVpbnQ4QXJyYXkobik7DQogICAgICAgICAgd2hpbGUgKG4tLSkgew0KICAgICAgICAgICAgdThhcnJbbl0gPSBic3RyLmNoYXJDb2RlQXQobik7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKFt1OGFycl0sIGZpbGVuYW1lLCB7IHR5cGU6IG1pbWUgfSk7DQogICAgfSwgKi8KICAgIG1ha2VBbmRSZXR1cm5Gb3JtRGF0YTogZnVuY3Rpb24gbWFrZUFuZFJldHVybkZvcm1EYXRhKCkgewogICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgaWYgKHRoaXMuaXNCeUdvdmVybm1lbnQpIHsKICAgICAgICAvKiB0aGlzLmFyY2hpdGVjdERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJhcmNoaXRlY3REb2NGaWxlcyIsIHRoaXMuZGF0YVVSTHRvRmlsZShmLmZpbGUsIGYubmFtZSkpOw0KICAgICAgICB9KSAqLwogICAgICAgIHRoaXMuYXJjaGl0ZWN0RG9jRmlsZS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICBmb3JtLmFwcGVuZCgiYXJjaGl0ZWN0RG9jRmlsZXMiLCBmLmZpbGUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNCeUFnZW5jeSkgewogICAgICAgIC8qIHRoaXMuYXJjaGl0ZWN0RG9jRmlsZS5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgZm9ybS5hcHBlbmQoImFyY2hpdGVjdERvY0ZpbGVzIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucGhvdG9zLmZvckVhY2goZiA9PiB7DQogICAgICAgICAgICBmb3JtLmFwcGVuZCgib2JqZWN0UGhvdG9zIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgIH0pDQogICAgICAgIGZvcm0uYXBwZW5kKCJpc01haW5JbmRleEZvck9iamVjdFBob3RvcyIsIHRoaXMucGhvdG9zLmxlbmd0aCA/IDAgOiBudWxsKTsNCiAgICAgICAgICB0aGlzLnBhc3Nwb3J0RG9jRmlsZS5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgZm9ybS5hcHBlbmQoInBhc3Nwb3J0RG9jRmlsZSIsIHRoaXMuZGF0YVVSTHRvRmlsZShmLmZpbGUsIGYubmFtZSkpOw0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnBhc3Nwb3J0UGhvdG8uZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJwYXNzcG9ydFBob3RvIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucGF5bWVudERvY0ZpbGUuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJwYXltZW50RG9jRmlsZSIsIHRoaXMuZGF0YVVSTHRvRmlsZShmLmZpbGUsIGYubmFtZSkpOw0KICAgICAgICB9KSAqLwogICAgICAgIHRoaXMuYXJjaGl0ZWN0RG9jRmlsZS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICBmb3JtLmFwcGVuZCgiYXJjaGl0ZWN0RG9jRmlsZXMiLCBmLmZpbGUpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMucGhvdG9zLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJvYmplY3RQaG90b3MiLCBmLmZpbGUpOwogICAgICAgIH0pOyAvLyBmb3JtLmFwcGVuZCgiaXNNYWluSW5kZXhGb3JPYmplY3RQaG90b3MiLCB0aGlzLnBob3Rvcy5sZW5ndGggPyAwIDogbnVsbCk7CgogICAgICAgIHRoaXMucGFzc3BvcnREb2NGaWxlLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJwYXNzcG9ydERvY0ZpbGUiLCBmLmZpbGUpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMucGFzc3BvcnRQaG90by5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICBmb3JtLmFwcGVuZCgicGFzc3BvcnRQaG90byIsIGYuZmlsZSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5wYXltZW50RG9jRmlsZS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICBmb3JtLmFwcGVuZCgicGF5bWVudERvY0ZpbGUiLCBmLmZpbGUpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gZm9ybTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuY29tcHV0ZWRPYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCFfdGhpczIucGFzc3BvcnRQaG90byAmJiAhX3RoaXMyLnBhc3Nwb3J0RG9jRmlsZSB8fCAoX3RoaXMyLnBhc3Nwb3J0UGhvdG8gPyAhX3RoaXMyLnBhc3Nwb3J0UGhvdG8ubGVuZ3RoIDogdHJ1ZSkgJiYgKF90aGlzMi5wYXNzcG9ydERvY0ZpbGUgPyAhX3RoaXMyLnBhc3Nwb3J0RG9jRmlsZS5sZW5ndGggOiB0cnVlKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuZmlsbF9hZF9wYXNzcG9ydF9kb2Nfb3JfcGhvdG8nKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmlzQnlBZ2VuY3kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5zYXZlRmlsZUVudGl0eSgic2Vjb25kLWFnZW50LWZpbGVzLyIuY29uY2F0KF90aGlzMi4kcm91dGUucGFyYW1zLmlkKSwgX3RoaXMyLm1ha2VBbmRSZXR1cm5Gb3JtRGF0YSgpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLmdvKC0xKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoX3RoaXMyLiR0KCdtZXNzYWdlcy5zYXZlZF9zdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmlzQnlHb3Zlcm5tZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5zYXZlRmlsZUVudGl0eSgiZmlyc3QtYWdlbnQtZmlsZXMvIi5jb25jYXQoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQpLCBfdGhpczIubWFrZUFuZFJldHVybkZvcm1EYXRhKCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY29tcHV0ZWRPYnNlcnZlci5yZXNldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdChfdGhpczIuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKCiAgLyoNCiAgKiBDUkVBVEVEICovCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5nZXRCeUlkKE1BSU5fQVBJX1VSTCwgX3RoaXMzLiRyb3V0ZS5wYXJhbXMuaWQsIHRydWUsIG51bGwsIF90aGlzMy5pc0J5R292ZXJubWVudCA/IEFQUEVORF9BUElfVVJMX0ZPUl9HT1ZFUk5NRU5UIDogX3RoaXMzLmlzQnlBZ2VuY3kgPyBBUFBFTkRfQVBJX1VSTF9GT1JfQUdFTkNZIDogZmFsc2UpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJlcykgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5lZGl0aW5nSXRlbSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnNldEZpbGVzRnJvbVNlcnZlcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsvLyB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9HTE9CQUxfTE9BRElORycsIGZhbHNlKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoNCiAgV0FUQ0ggKi8KICB3YXRjaDogewogICAgdmVlRXJyb3JzOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsLCBvbGRWYWwpIHsKICAgICAgICB0aGlzLmVycm9ycyA9IFtdOwogICAgICAgIHZhbC5pdGVtcy5tYXAoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgLyogaWYgKHRoaXMuZmllbGRzLmhhc093blByb3BlcnR5KGVyci5maWVsZCkgIT09IC0xKSB7DQogICAgICAgICAgICAgIHRoaXMuZXJyb3JzW2Vyci5maWVsZF0gPSBlcnIubXNnOw0KICAgICAgICAgIH0gKi8KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"sources":["UpdateItemFiles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA,IAAA,YAAA,GAAA,qCAAA;AACA,IAAA,6BAAA,GAAA,mBAAA;AACA,IAAA,yBAAA,GAAA,oBAAA;AACA;AACA;;AACA,OAAA,mBAAA,MAAA,yCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;;AAEA;AACA;AACA,EAAA,UAAA,EAAA,EAJA;;AAMA;AACA;AACA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,OAAA,CAAA,GAAA,CAAA,QADA;AAEA,MAAA,WAAA,EAAA;AACA,QAAA,UAAA,EAAA;AADA,OAFA;AAKA,MAAA,MAAA,EAAA,EALA;AAMA,MAAA,gBAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA,EAPA;AAQA,MAAA,eAAA,EAAA,EARA;AASA,MAAA,aAAA,EAAA,EATA;AAUA,MAAA,cAAA,EAAA;AAVA,KAAA;AAYA,GArBA;;AAsBA;AACA;AACA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,IAAA,8BAAA,IAAA,KAAA,MAAA,CAAA,IAAA,IAAA,kCAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,IAAA,mCAAA;AACA,KANA;AAOA,IAAA,cAPA,4BAOA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,IAAA,uCAAA;AACA,KATA;AAUA,IAAA,gBAVA,8BAUA;AACA,aAAA,KAAA,KAAA,CAAA,QAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAlBA,GAxBA;;AA4CA;AACA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,EAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,IAAA,GAAA,uCAAA,OAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,GAAA,CAAA,EAAA,GAAA,IAAA,CAAA,MAAA,KAAA,EAAA,IAAA,EAAA,GAAA,CAAA;AACA,QAAA,EAAA,GAAA,IAAA,CAAA,KAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AACA,eAAA,CAAA,CAAA,IAAA,GAAA,GAAA,CAAA,GAAA,CAAA,GAAA,GAAA,GAAA,GAAA,EAAA,QAAA,CAAA,EAAA,CAAA;AACA,OAJA,CAAA;AAKA,aAAA,IAAA;AACA,KATA;AAUA,IAAA,kBAVA,gCAUA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAA,KAAA,CAAA,cAAA,EAAA;AACA;AACA,kBAAA,KAAA,CAAA,WAAA,CAAA,oBAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,oBAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,CAAA,CAAA,GAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,6BAAA,GAAA,CAAA,IAAA,EAAA;AAAA,qBADA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,sBAAA,MAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA,sBAAA,MAAA,CAAA,YAAA,GAAA,IAAA,IAAA,EAAA;AACA,0BAAA,MAAA,GAAA,IAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA,IAAA,EAAA;AACA,wBAAA,IAAA,EAAA,MAAA,CAAA;AADA,uBAAA,CAAA;AAIA,0BAAA,GAAA,GAAA,KAAA,CAAA,UAAA,GAAA,CAAA,CAAA,GAAA;;AACA,sBAAA,KAAA,CAAA,KAAA,CAAA,oBAAA,CAAA,KAAA,CAAA,QAAA,CAAA,eAAA,CAAA,MAAA,EAAA,GAAA;AACA,qBAXA,EAYA,KAZA,CAYA,UAAA,CAAA;AAAA,6BAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,qBAZA;AAaA;AACA;AACA;AACA,mBAjBA;AAkBA,iBApBA,MAoBA,IAAA,KAAA,CAAA,UAAA,EAAA;AACA;AACA,kBAAA,KAAA,CAAA,WAAA,CAAA,oBAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA,KAAA,EAAA;AACA,oBAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,CAAA,CAAA,GAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,6BAAA,GAAA,CAAA,IAAA,EAAA;AAAA,qBADA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,sBAAA,MAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA,sBAAA,MAAA,CAAA,YAAA,GAAA,IAAA,IAAA,EAAA;AACA,0BAAA,MAAA,GAAA,IAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA,IAAA,EAAA;AACA,wBAAA,IAAA,EAAA,MAAA,CAAA;AADA,uBAAA,CAAA;AAIA,0BAAA,GAAA,GAAA,KAAA,CAAA,UAAA,GAAA,CAAA,CAAA,GAAA;;AACA,sBAAA,KAAA,CAAA,KAAA,CAAA,oBAAA,CAAA,KAAA,CAAA,QAAA,CAAA,eAAA,CAAA,MAAA,EAAA,GAAA;AACA,qBAXA,EAYA,KAZA,CAYA,UAAA,CAAA;AAAA,6BAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,qBAZA;AAcA;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,mBA3BA,EAFA,CA8BA;;;AACA,kBAAA,KAAA,CAAA,WAAA,CAAA,eAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,oBAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,CAAA,CAAA,GAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,6BAAA,GAAA,CAAA,IAAA,EAAA;AAAA,qBADA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,sBAAA,MAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA,sBAAA,MAAA,CAAA,YAAA,GAAA,IAAA,IAAA,EAAA;AACA,0BAAA,MAAA,GAAA,IAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA,IAAA,EAAA;AACA,wBAAA,IAAA,EAAA,MAAA,CAAA;AADA,uBAAA,CAAA;AAIA,0BAAA,GAAA,GAAA,KAAA,CAAA,UAAA,GAAA,CAAA,CAAA,GAAA;;AACA,sBAAA,KAAA,CAAA,KAAA,CAAA,cAAA,CAAA,KAAA,CAAA,QAAA,CAAA,eAAA,CAAA,MAAA,EAAA,GAAA;AACA,qBAXA,EAYA,KAZA,CAYA,UAAA,CAAA;AAAA,6BAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,qBAZA;AAaA;AACA;AACA;AACA,mBAjBA;;AAkBA,sBAAA,KAAA,CAAA,WAAA,CAAA,kBAAA,EAAA;AACA;AACA,oBAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,WAAA,CAAA,kBAAA,CAAA,GAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,6BAAA,GAAA,CAAA,IAAA,EAAA;AAAA,qBADA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,sBAAA,MAAA,CAAA,IAAA,GAAA,KAAA,CAAA,WAAA,CAAA,kBAAA,CAAA,IAAA;AACA,sBAAA,MAAA,CAAA,YAAA,GAAA,IAAA,IAAA,EAAA;AACA,0BAAA,MAAA,GAAA,IAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,WAAA,CAAA,kBAAA,CAAA,IAAA,EAAA;AACA,wBAAA,IAAA,EAAA,MAAA,CAAA;AADA,uBAAA,CAAA;AAIA,0BAAA,GAAA,GAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,WAAA,CAAA,kBAAA,CAAA,GAAA;;AACA,sBAAA,KAAA,CAAA,KAAA,CAAA,mBAAA,CAAA,KAAA,CAAA,QAAA,CAAA,eAAA,CAAA,MAAA,EAAA,GAAA;AACA,qBAXA,EAYA,KAZA,CAYA,UAAA,CAAA;AAAA,6BAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,qBAZA;AAaA;AACA;AACA;AACA;;AACA,sBAAA,KAAA,CAAA,WAAA,CAAA,gBAAA,EAAA;AACA;AACA,oBAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,GAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,6BAAA,GAAA,CAAA,IAAA,EAAA;AAAA,qBADA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,sBAAA,MAAA,CAAA,IAAA,GAAA,KAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,IAAA;AACA,sBAAA,MAAA,CAAA,YAAA,GAAA,IAAA,IAAA,EAAA;AACA,0BAAA,MAAA,GAAA,IAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,IAAA,EAAA;AACA,wBAAA,IAAA,EAAA,MAAA,CAAA;AADA,uBAAA,CAAA;AAIA,0BAAA,GAAA,GAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,GAAA;;AACA,sBAAA,KAAA,CAAA,KAAA,CAAA,qBAAA,CAAA,KAAA,CAAA,QAAA,CAAA,eAAA,CAAA,MAAA,EAAA,GAAA;AACA,qBAXA,EAYA,KAZA,CAYA,UAAA,CAAA;AAAA,6BAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,qBAZA;AAaA;AACA;AACA;AACA;;AACA,sBAAA,KAAA,CAAA,WAAA,CAAA,iBAAA,EAAA;AACA;AACA,oBAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,WAAA,CAAA,iBAAA,CAAA,GAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,6BAAA,GAAA,CAAA,IAAA,EAAA;AAAA,qBADA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,sBAAA,MAAA,CAAA,IAAA,GAAA,KAAA,CAAA,WAAA,CAAA,iBAAA,CAAA,IAAA;AACA,sBAAA,MAAA,CAAA,YAAA,GAAA,IAAA,IAAA,EAAA;AACA,0BAAA,MAAA,GAAA,IAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA,KAAA,CAAA,WAAA,CAAA,iBAAA,CAAA,IAAA,EAAA;AACA,wBAAA,IAAA,EAAA,MAAA,CAAA;AADA,uBAAA,CAAA;AAIA,0BAAA,GAAA,GAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,WAAA,CAAA,iBAAA,CAAA,GAAA;;AACA,sBAAA,KAAA,CAAA,KAAA,CAAA,kBAAA,CAAA,KAAA,CAAA,QAAA,CAAA,eAAA,CAAA,MAAA,EAAA,GAAA;AACA,qBAXA,EAYA,KAZA,CAYA,UAAA,CAAA;AAAA,6BAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,qBAZA;AAaA;AACA;AACA;AACA;AACA;;AA/HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgIA,KA1IA;AA2IA,IAAA,UA3IA,sBA2IA,GA3IA,EA2IA;AACA,UAAA,KAAA,MAAA,CAAA,GAAA,MAAA,SAAA,EAAA;AACA,eAAA,KAAA,MAAA,CAAA,GAAA,CAAA;AACA;;AACA,aAAA,SAAA;AACA,KAhJA;AAiJA,IAAA,QAjJA,oBAiJA,GAjJA,EAiJA;AACA,UAAA,KAAA,MAAA,CAAA,GAAA,MAAA,SAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA,KAtJA;;AAuJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA,IAAA,qBAnKA,mCAmKA;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;;AACA,UAAA,KAAA,cAAA,EAAA;AACA;AACA;AACA;AACA,aAAA,gBAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,mBAAA,EAAA,CAAA,CAAA,IAAA;AACA,SAFA;AAGA,OAPA,MAOA,IAAA,KAAA,UAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,aAAA,gBAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,mBAAA,EAAA,CAAA,CAAA,IAAA;AACA,SAFA;AAGA,aAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,cAAA,EAAA,CAAA,CAAA,IAAA;AACA,SAFA,EArBA,CAwBA;;AAEA,aAAA,eAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,IAAA;AACA,SAFA;AAGA,aAAA,aAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,eAAA,EAAA,CAAA,CAAA,IAAA;AACA,SAFA;AAGA,aAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,CAAA,CAAA,IAAA;AACA,SAFA;AAGA;;AACA,aAAA,IAAA;AACA,KAjNA;AAkNA,IAAA,IAlNA,kBAkNA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,GAAA,IAAA;AAAA,qFAAA,kBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,KADA;AAAA;AAAA;AAAA;;AAAA,kCAEA,CAAA,MAAA,CAAA,aAAA,IAAA,CAAA,MAAA,CAAA,eAAA,IAAA,CAAA,MAAA,CAAA,aAAA,GAAA,CAAA,MAAA,CAAA,aAAA,CAAA,MAAA,GAAA,IAAA,MAAA,MAAA,CAAA,eAAA,GAAA,CAAA,MAAA,CAAA,eAAA,CAAA,MAAA,GAAA,IAAA,CAFA;AAAA;AAAA;AAAA;;AAGA,4BAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,wCAAA,CAAA,EAAA;AAAA,8BAAA,IAAA,EAAA;AAAA,6BAAA;;AAHA;;AAAA;AAAA,iCAMA,MAAA,CAAA,UANA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAOA,mBAAA,CACA,cADA,8BACA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EADA,GACA,MAAA,CAAA,qBAAA,EADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,8BAAA,MAAA,CAAA,gBAAA,CAAA,KAAA;;AACA,8BAAA,MAAA,CAAA,WAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,EAAA,CAAA;;AACA,8BAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;;AACA,8BAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,6BAAA,CAAA,EAAA;AAAA,gCAAA,IAAA,EAAA;AAAA,+BAAA;AACA,6BAPA,EAQA,KARA,CAQA,UAAA,CAAA;AAAA,qCAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,6BARA,CAPA;;AAAA;AAAA;AAAA;;AAAA;AAAA,iCAgBA,MAAA,CAAA,cAhBA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAiBA,mBAAA,CACA,cADA,6BACA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EADA,GACA,MAAA,CAAA,qBAAA,EADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,8BAAA,MAAA,CAAA,gBAAA,CAAA,KAAA;;AACA,8BAAA,MAAA,CAAA,WAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,EAAA,CAAA;;AACA,8BAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;;AACA,8BAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,6BAAA,CAAA,EAAA;AAAA,gCAAA,IAAA,EAAA;AAAA,+BAAA;AACA,6BAPA,EAQA,KARA,CAQA,UAAA,CAAA;AAAA,qCAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,6BARA,CAjBA;;AAAA;AAAA;AAAA;;AAAA;AA4BA,4BAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,+BAAA,CAAA,EAAA;AAAA,8BAAA,IAAA,EAAA;AAAA,6BAAA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCA;AAlPA,GA9CA;;AAkSA;AACA;AACA,EAAA,OApSA,qBAoSA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEA,mBAAA,CAAA,OAAA,CAAA,YAAA,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,CAAA,cAAA,GAAA,6BAAA,GAAA,MAAA,CAAA,UAAA,GAAA,yBAAA,GAAA,KAAA,EACA,IADA;AAAA,oFACA,kBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AACA,0BAAA,MAAA,CAAA,WAAA,GAAA,GAAA,CAAA,IAAA;AADA;AAAA,iCAEA,MAAA,CAAA,kBAAA,EAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA;;AAAA;AAAA;AAAA;AAAA,mBAKA,KALA,CAKA,UAAA,CAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,eAPA,EAQA,OARA,CAQA,YAAA,CACA;AACA,eAVA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,GAjTA;;AAkTA;AACA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,OADA,mBACA,GADA,EACA,MADA,EACA;AACA,aAAA,MAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA;AACA;AACA,SAJA;AAKA,OARA;AASA,MAAA,IAAA,EAAA;AATA;AADA;AApTA,CAAA","sourcesContent":["<template>\r\n    <base-create-or-update-wrapper\r\n        @save=\"save\"\r\n        has-save-suspend\r\n        :custom-title=\"(isModeCreate ? $t('actions.create') : $t('column.passport_number') + ': ' + editingItem.passportNumber)\"\r\n    >\r\n        <ValidationObserver\r\n            ref=\"observer\"\r\n            v-slot=\"{}\"\r\n        >\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        name=\"architecDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"architectDocUploader\"\r\n                                v-model=\"architectDocFile\"\r\n                                data-vv-name=\"architecDocFile\"\r\n                                data-vv-as=\"ArchitecDocFile\"\r\n                                :max-files=\"5\"\r\n                                :has-error=\"hasError('mandat')\"\r\n                                :error=\"collectErr('mandat')\"\r\n                                :label=\"$t('column.ad_construction_drawing')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"photos\"\r\n                        rules=\"\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"photosUploader\"\r\n                                v-model=\"photos\"\r\n                                :max-files=\"null\"\r\n                                :max-fileSize=\"null\"\r\n                                data-vv-name=\"photos\"\r\n                                data-vv-as=\"Photos\"\r\n                                :has-error=\"hasError('photos')\"\r\n                                :error=\"collectErr('photos')\"\r\n                                :label=\"$t('column.ad_construction_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"passportDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"passportDocUploader\"\r\n                                v-model=\"passportDocFile\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"passportDocFile\"\r\n                                data-vv-as=\"PassportDocFile\"\r\n                                :has-error=\"hasError('passportDocFile')\"\r\n                                :error=\"collectErr('passportDocFile')\"\r\n                                :label=\"$t('column.ad_construction_passport_doc_file')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"paymentDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"paymentDocUploader\"\r\n                                v-model=\"paymentDocFile\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"paymentDocFile\"\r\n                                data-vv-as=\"PaymentDocFile\"\r\n                                :has-error=\"hasError('paymentDocFile')\"\r\n                                :error=\"collectErr('paymentDocFile')\"\r\n                                :label=\"$t('column.ad_construction_monthly_income_doc_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"passportPhoto\"\r\n                        rules=\"\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"passportPhotoUploader\"\r\n                                v-model=\"passportPhoto\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"passportPhoto\"\r\n                                data-vv-as=\"PassportPhoto\"\r\n                                :has-error=\"hasError('passportPhoto')\"\r\n                                :error=\"collectErr('passportPhoto')\"\r\n                                :label=\"$t('column.ad_construction_passport_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n\r\n                </b-col>\r\n            </b-row>\r\n\r\n        </ValidationObserver>\r\n    </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'contractor-advertising-construction'\r\nconst APPEND_API_URL_FOR_GOVERNMENT = 'first-agent-files'\r\nconst APPEND_API_URL_FOR_AGENCY = 'second-agent-files'\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\n\r\nexport default {\r\n    name: \"UpdateItemFiles\",\r\n    /*\r\n    * COMPONENTS */\r\n    components: {\r\n    },\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            publicPath: process.env.BASE_URL,\r\n            editingItem: {\r\n                addressDto: {}\r\n            },\r\n            errors: [],\r\n            architectDocFile: [],\r\n            photos: [],\r\n            passportDocFile: [],\r\n            passportPhoto: [],\r\n            paymentDocFile: []\r\n        }\r\n    },\r\n    /*\r\n    * COMPUTED */\r\n    computed: {\r\n        isModeCreate () {\r\n            return this.$route.name == 'CreateAdPassportInfoByAgency' || this.$route.name == 'CreateAdPassportInfoByGovernment'\r\n        },\r\n        isByAgency () {\r\n            return this.$route.name == 'UpdateAdPassportInfoFilesByAgency'\r\n        },\r\n        isByGovernment () {\r\n            return this.$route.name == 'UpdateAdPassportInfoFilesByGovernment'\r\n        },\r\n        computedObserver () {\r\n            return this.$refs.observer\r\n        },\r\n        /* multipleMinimumCollectionsComputedObserver () {\r\n            return this.$refs['multiple-minimum-collections-observer']\r\n        },\r\n        singleMinimumCollectionUpdateComputedObserver () {\r\n            return this.$refs['single-minimum-collection-update-observer']\r\n        } */\r\n    },\r\n    /*\r\n    * METHODS */\r\n    methods: {\r\n        generateUUID () {\r\n            var dt = new Date().getTime();\r\n            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = (dt + Math.random() * 16) % 16 | 0;\r\n                dt = Math.floor(dt / 16);\r\n                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n            });\r\n            return uuid;\r\n        },\r\n        async setFilesFromServer () {\r\n            if (this.isByGovernment) {\r\n                // ARCHITECT_DOC_FILES\r\n                this.editingItem.architectDocFileList.forEach(f => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    let url = this.publicPath + f.url;\r\n                    this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(file, url); */\r\n                })\r\n            } else if (this.isByAgency) {\r\n                // ARCHITECT_DOC_FILES\r\n                this.editingItem.architectDocFileList.forEach((f, index) => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n\r\n                    /* const mockFile = { name: f.name, size: f.size };\r\n                    console.log(this.$refs.architectDocUploader.$refs.dropzone.dropzone.options) */\r\n                    // this.$refs.architectDocUploader.$refs.dropzone.files[index] = f.name;\r\n                    /* this.$refs.architectDocUploader.$refs.dropzone.dropzone.options.addedfile(this.$refs.architectDocUploader.$refs.dropzone, mockFile);\r\n                    this.$refs.architectDocUploader.$refs.dropzone.dropzone.options.thumbnail(this.$refs.architectDocUploader.$refs.dropzone, mockFile, this.publicPath + f.url); */\r\n                    /* mockFile.previewElement.classList.add('dz-success');\r\n                    mockFile.previewElement.classList.add('dz-complete'); */\r\n                    // let file = new File([\"\"], f.name, { type: f.contentType, size: f.size, lastModified: new Date().getTime() })\r\n                    // file.size = f.size\r\n                    // let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    /* let url = this.publicPath + f.url;\r\n                    this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url); */\r\n                })\r\n                // OBJECT_PHOTOS\r\n                this.editingItem.objectPhotoList.forEach(f => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.photosUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    let url = this.publicPath + f.url;\r\n                    this.$refs.photosUploader.$refs.dropzone.manuallyAddFile(file, url); */\r\n                })\r\n                if (this.editingItem.passportDocFileUrl) {\r\n                    // PASSPORT_DOC_FILE\r\n                    fetch(this.publicPath + this.editingItem.passportDocFileUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.passportDocFileUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.passportDocFileUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.passportDocFileUrl.url;\r\n                            this.$refs.passportDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let pDocFile = { size: this.editingItem.passportDocFileUrl.size, name: this.editingItem.passportDocFileUrl.name, type: this.editingItem.passportDocFileUrl.contentType, uuid: this.generateUUID() };\r\n                    let pDocFileUrl = this.publicPath + this.editingItem.passportDocFileUrl.url;\r\n                    this.$refs.passportDocUploader.$refs.dropzone.manuallyAddFile(pDocFile, pDocFileUrl); */\r\n                }\r\n                if (this.editingItem.passportPhotoUrl) {\r\n                    // PASSPORT_PHOTO\r\n                    fetch(this.publicPath + this.editingItem.passportPhotoUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.passportPhotoUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.passportPhotoUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.passportPhotoUrl.url;\r\n                            this.$refs.passportPhotoUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let pPhoto = { size: this.editingItem.passportPhotoUrl.size, name: this.editingItem.passportPhotoUrl.name, type: this.editingItem.passportPhotoUrl.contentType, uuid: this.generateUUID() };\r\n                    let pPhotoUrl = this.publicPath + this.editingItem.passportPhotoUrl.url;\r\n                    this.$refs.passportPhotoUploader.$refs.dropzone.manuallyAddFile(pPhoto, pPhotoUrl); */\r\n                }\r\n                if (this.editingItem.paymentDocFileUrl) {\r\n                    // PAYMENT_DOC_FILE\r\n                    fetch(this.publicPath + this.editingItem.paymentDocFileUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.paymentDocFileUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.paymentDocFileUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.paymentDocFileUrl.url;\r\n                            this.$refs.paymentDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let paymentFile = { size: this.editingItem.paymentDocFileUrl.size, name: this.editingItem.paymentDocFileUrl.name, type: this.editingItem.paymentDocFileUrl.contentType, uuid: this.generateUUID() };\r\n                    let paymentFileUrl = this.publicPath + this.editingItem.paymentDocFileUrl.url;\r\n                    this.$refs.paymentDocUploader.$refs.dropzone.manuallyAddFile(paymentFile, paymentFileUrl); */\r\n                }\r\n            }\r\n        },\r\n        collectErr (key) {\r\n            if (this.errors[key] !== undefined) {\r\n                return this.errors[key];\r\n            }\r\n            return undefined;\r\n        },\r\n        hasError (key) {\r\n            if (this.errors[key] !== undefined) {\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        /* dataURLtoFile (dataurl, filename) {\r\n            let arr = dataurl.split(\",\"),\r\n                mime = arr[0].match(/:(.*?);/)[1],\r\n                bstr = atob(arr[1]),\r\n                n = bstr.length,\r\n                u8arr = new Uint8Array(n);\r\n\r\n            while (n--) {\r\n                u8arr[n] = bstr.charCodeAt(n);\r\n            }\r\n            return new File([u8arr], filename, { type: mime });\r\n        }, */\r\n        makeAndReturnFormData () {\r\n            let form = new FormData();\r\n            if (this.isByGovernment) {\r\n                /* this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", this.dataURLtoFile(f.file, f.name));\r\n                }) */\r\n                this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", f.file);\r\n                })\r\n            } else if (this.isByAgency) {\r\n                /* this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.photos.forEach(f => {\r\n                    form.append(\"objectPhotos\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                form.append(\"isMainIndexForObjectPhotos\", this.photos.length ? 0 : null);\r\n\r\n                this.passportDocFile.forEach(f => {\r\n                    form.append(\"passportDocFile\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.passportPhoto.forEach(f => {\r\n                    form.append(\"passportPhoto\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.paymentDocFile.forEach(f => {\r\n                    form.append(\"paymentDocFile\", this.dataURLtoFile(f.file, f.name));\r\n                }) */\r\n                this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", f.file);\r\n                })\r\n                this.photos.forEach(f => {\r\n                    form.append(\"objectPhotos\", f.file);\r\n                })\r\n                // form.append(\"isMainIndexForObjectPhotos\", this.photos.length ? 0 : null);\r\n\r\n                this.passportDocFile.forEach(f => {\r\n                    form.append(\"passportDocFile\", f.file);\r\n                })\r\n                this.passportPhoto.forEach(f => {\r\n                    form.append(\"passportPhoto\", f.file);\r\n                })\r\n                this.paymentDocFile.forEach(f => {\r\n                    form.append(\"paymentDocFile\", f.file);\r\n                })\r\n            }\r\n            return form\r\n        },\r\n        async save () {\r\n            this.computedObserver.validate().then(async valid => {\r\n                if (valid) {\r\n                    if ((!this.passportPhoto && !this.passportDocFile) || ((this.passportPhoto ? !this.passportPhoto.length : true) && (this.passportDocFile ? !this.passportDocFile.length : true))) {\r\n                        this.$toast(this.$t('messages.fill_ad_passport_doc_or_photo'), { type: 'error' });\r\n                        return\r\n                    }\r\n                    if (this.isByAgency) {\r\n                        await crudAndListsService\r\n                            .saveFileEntity(`second-agent-files/${this.$route.params.id}`, this.makeAndReturnFormData())\r\n                            .then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                            .catch(e => console.log(e));\r\n                    } else if (this.isByGovernment) {\r\n                        await crudAndListsService\r\n                            .saveFileEntity(`first-agent-files/${this.$route.params.id}`, this.makeAndReturnFormData())\r\n                            .then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                            .catch(e => console.log(e));\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        }\r\n    },\r\n    /*\r\n    * CREATED */\r\n    async created () {\r\n        // this.$store.commit('SET_GLOBAL_LOADING', true)\r\n        await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, true, null, this.isByGovernment ? APPEND_API_URL_FOR_GOVERNMENT : this.isByAgency ? APPEND_API_URL_FOR_AGENCY : false)\r\n            .then(async res => {\r\n                this.editingItem = res.data\r\n                await this.setFilesFromServer()\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n            .finally(() => {\r\n                // this.$store.commit('SET_GLOBAL_LOADING', false)\r\n            })\r\n    },\r\n    /*\r\n    WATCH */\r\n    watch: {\r\n        veeErrors: {\r\n            handler (val, oldVal) {\r\n                this.errors = [];\r\n                val.items.map((err) => {\r\n                    /* if (this.fields.hasOwnProperty(err.field) !== -1) {\r\n                        this.errors[err.field] = err.msg;\r\n                    } */\r\n                });\r\n            },\r\n            deep: true,\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.col-form-label {\r\n    padding-top: 0;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n}\r\n\r\n.dz-remove {\r\n    display: inline-block !important;\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n\r\n    position: absolute;\r\n    top: 5px;\r\n    right: 5px;\r\n    z-index: 1000;\r\n\r\n    font-size: 1.2em !important;\r\n    line-height: 1em;\r\n\r\n    text-align: center;\r\n    font-weight: bold;\r\n    border: 1px solid gray !important;\r\n    border-radius: 1.2em;\r\n    color: gray;\r\n    background-color: white;\r\n    opacity: 0.5;\r\n}\r\n\r\n.dz-remove:hover {\r\n    text-decoration: none !important;\r\n    opacity: 1;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/modules/advertisement/modules/ad_passport_info"}]}