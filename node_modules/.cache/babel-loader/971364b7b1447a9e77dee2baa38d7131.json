{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\projects\\comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\projects\\comments.vue","mtime":1674799497703},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcb2hpcmdpXFxhY3J1LWZyb250ZW5kXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHByb2plY3RTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL3Byb2plY3RTZXJ2aWNlIjsKaW1wb3J0IHNpbXBsZWJhciBmcm9tICJzaW1wbGViYXItdnVlIjsKaW1wb3J0IHsgcmVwbGFjZURhdGUgfSBmcm9tICJAL2hlbHBlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJoZWlnaHQiLCAicHJvamVjdCJdLAogIHdhdGNoOiB7CiAgICBmaWxlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikgewogICAgICAgIGlmICh2KSB7CiAgICAgICAgICB0aGlzLmZpbGVNb2RhbCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVwbGFjZURhdGU6IHJlcGxhY2VEYXRlLAogICAgICBmaWxlTW9kYWw6IGZhbHNlLAogICAgICBjb21tZW50OiAiIiwKICAgICAgZmlsZTogbnVsbCwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBpdGVtc1BlclBhZ2U6IDIwCiAgICAgIH0sCiAgICAgIGNvbW1lbnRzOiBbXSwKICAgICAgY29tbWVudFBhZ2U6IDAsCiAgICAgIGxvYWRlckNtdDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBzaW1wbGViYXI6IHNpbXBsZWJhcgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubGlzdENvbW1lbnRzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kRmlsZTogZnVuY3Rpb24gc2VuZEZpbGUobWVzc2FnZSwgZmlsZSkgewogICAgICB0aGlzLmxlYXZlQ29tbWVudChtZXNzYWdlLCBmaWxlKTsKICAgICAgdGhpcy5maWxlTW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy5maWxlID0gbnVsbDsKICAgIH0sCiAgICBjbGlja1VwbG9hZDogZnVuY3Rpb24gY2xpY2tVcGxvYWQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZS51cGxkKCk7CiAgICB9LAogICAgbGVhdmVDb21tZW50OiBmdW5jdGlvbiBsZWF2ZUNvbW1lbnQoY210LCBmaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKCiAgICAgIGlmIChpZCkgewogICAgICAgIHRoaXMubG9hZGVyQ210ID0gdHJ1ZTsKICAgICAgICBwcm9qZWN0U2VydmljZS5sZWF2ZUNvbW1lbnQoaWQsIGNtdCwgZmlsZSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgIF90aGlzLmNvbW1lbnQgPSAiIjsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5saXN0Q29tbWVudHMoKTsKICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgey8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsKICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxvYWRlckNtdCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgIH0KICAgIH0sCiAgICBsaXN0Q29tbWVudHM6IGZ1bmN0aW9uIGxpc3RDb21tZW50cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKCiAgICAgIGlmIChpZCkgewogICAgICAgIHByb2plY3RTZXJ2aWNlLmxpc3RDb21tZW50cyhpZCwgdGhpcy5wYXJhbXMsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgICBfdGhpczIuY29tbWVudHMgPSBycy5kYXRhLmxpc3Q7CgogICAgICAgICAgX3RoaXMyLmhhbmRsZVNjcm9sbCgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgfQogICAgfSwKICAgIGxvYWRNb3JlQ29tbWVudHM6IGZ1bmN0aW9uIGxvYWRNb3JlQ29tbWVudHMocGFnZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwoKICAgICAgaWYgKGlkKSB7CiAgICAgICAgcHJvamVjdFNlcnZpY2UubGlzdENvbW1lbnRzKGlkLCB7CiAgICAgICAgICBwYWdlOiBwYWdlLAogICAgICAgICAgaXRlbXNQZXJQYWdlOiAyMAogICAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZikgewogICAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNvbW1lbnRzID0gX3RoaXMzLmNvbW1lbnRzLmNvbmNhdChkYXRhLmxpc3QpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuY29tbWVudFBhZ2UgKyAtMTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgfSkpOwoKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgey8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2Nyb2xsOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJlZnMuY29tbWVudHNSZWYuJGVsKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQuJHJlZnMuY29tbWVudHNSZWYuU2ltcGxlQmFyLmdldFNjcm9sbEVsZW1lbnQoKS5zY3JvbGxUb3AgPSAwOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICB2YXIgY29udGFpbmVyMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb21tZW50LWxpc3QgLnNpbXBsZWJhci1jb250ZW50LXdyYXBwZXIiKTsKCiAgICBpZiAoY29udGFpbmVyMykgewogICAgICBjb250YWluZXIzLnNjcm9sbFRvKHsKICAgICAgICB0b3A6IDUwMCwKICAgICAgICBiZWhhdmlvcjogInNtb290aCIKICAgICAgfSk7CiAgICB9IC8vIENvbnRhY3QgbGlzdCBhY3Rpb25zCgoKICAgIHRoaXMuJHJlZnMuY29tbWVudHNSZWYuU2ltcGxlQmFyLmdldFNjcm9sbEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgX2V2ZW50JHRhcmdldCA9IGV2ZW50LnRhcmdldCwKICAgICAgICAgIHNjcm9sbFRvcCA9IF9ldmVudCR0YXJnZXQuc2Nyb2xsVG9wLAogICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX2V2ZW50JHRhcmdldC5zY3JvbGxIZWlnaHQsCiAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfZXZlbnQkdGFyZ2V0LmNsaWVudEhlaWdodDsKICAgICAgdmFyIG9mZnNldEZvclRyaWdnZXIgPSAxOwoKICAgICAgaWYgKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCAtIG9mZnNldEZvclRyaWdnZXIgPCBzY3JvbGxUb3ApIHsKICAgICAgICBfdGhpczUubG9hZE1vcmVDb21tZW50cyhfdGhpczUuY29tbWVudFBhZ2UgKz0gMSk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["comments.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <h4 class=\"card-title mb-4\">{{ $t(\"cmts\") }}</h4>\r\n      <simplebar\r\n        :style=\"height ? 'height:330px' : 'height: 330px'\"\r\n        id=\"comment-list\"\r\n        ref=\"commentsRef\"\r\n      >\r\n        <div class=\"media mb-4\" v-for=\"(cmt, index) in comments\" :key=\"index\">\r\n          <div class=\"mr-3\">\r\n            <img\r\n              v-if=\"cmt.employeeUploadPath\"\r\n              class=\"media-object rounded-circle avatar-xs\"\r\n              alt\r\n              :src=\"`${hrUrl}/${cmt.employeeUploadPath}`\"\r\n            />\r\n            <div v-else class=\"avatar-xs mr-3\">\r\n              <span\r\n                class=\"\r\n                  avatar-title\r\n                  rounded-circle\r\n                  bg-soft-primary\r\n                  text-primary\r\n                  font-size-16\r\n                \"\r\n              >\r\n                {{\r\n                  `${cmt.ownerLastName.charAt(0)}${cmt.ownerFirstName.charAt(\r\n                    0\r\n                  )}`\r\n                }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"media-body\">\r\n            <h5 class=\"font-size-13 font-weight-bold mb-1\">\r\n              {{\r\n                `${cmt.ownerLastName} ${cmt.ownerFirstName} ${cmt.ownerMiddleName}`\r\n              }}\r\n            </h5>\r\n            <div v-if=\"cmt.uploadPath\">\r\n              <p class=\"mb-1 d-flex align-items-center\">\r\n                <a\r\n                  :href=\"`${baseUrl}/${cmt.uploadPath}`\"\r\n                  :download=\"`file.${cmt.fileExtension}`\"\r\n                  class=\"fa fas fa-arrow-alt-circle-down text-primary\"\r\n                  style=\"font-size: 35px\"\r\n                ></a>\r\n                <span class=\"ml-2\">{{ cmt.fileName }}</span>\r\n              </p>\r\n            </div>\r\n\r\n            <p class=\"mb-1\" style=\"word-break: break-all !important\">\r\n              {{ cmt.comment }}\r\n            </p>\r\n            <p class=\"text-muted mb-0 font-size-10\">\r\n              <i class=\"bx bx-calendar mr-1 text-primary\"></i>\r\n              {{ replaceDate(cmt.date).daym_shortyyyy_hm() }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </simplebar>\r\n    </div>\r\n\r\n    <div class=\"pl-3 pr-3 pt-3\">\r\n      <form v-if=\"project && project.status != 'FINISHED'\">\r\n        <div class=\"form-group m-0\" style=\"position: relative\">\r\n          <textarea\r\n            style=\"resize: none\"\r\n            @keyup.enter=\"leaveComment(comment)\"\r\n            v-model=\"comment\"\r\n            class=\"form-control\"\r\n            id=\"commentmessage-input\"\r\n            :placeholder=\"$t('writeCmt')\"\r\n            rows=\"3\"\r\n          ></textarea>\r\n          <b-button\r\n            variant=\"white\"\r\n            class=\"iconUpload\"\r\n            @click.prevent=\"clickUpload\"\r\n            style=\"padding: 1px\"\r\n            size=\"sm\"\r\n          >\r\n            <i class=\"bx bxs-file-doc text-primary font-size-20\"></i>\r\n          </b-button>\r\n        </div>\r\n\r\n        <b-button\r\n          @click=\"leaveComment(comment)\"\r\n          class=\"mt-1 float-right mb-3\"\r\n          variant=\"primary\"\r\n        >\r\n          <b-overlay :show=\"loaderCmt\" rounded=\"sm\" opacity=\"0.1\">\r\n            {{ $t(\"actions.send\") }}\r\n\r\n            <i class=\"bx bx-send\"></i>\r\n          </b-overlay>\r\n        </b-button>\r\n      </form>\r\n\r\n      <upload-file :cmt=\"true\" ref=\"file\" @sendFile=\"sendFile\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport projectService from \"@/shared/services/projectService\";\r\nimport simplebar from \"simplebar-vue\";\r\nimport { replaceDate } from \"@/helper\";\r\nexport default {\r\n  props: [\"height\", \"project\"],\r\n  watch: {\r\n    file: {\r\n      handler(v) {\r\n        if (v) {\r\n          this.fileModal = true;\r\n        }\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      replaceDate: replaceDate,\r\n      fileModal: false,\r\n      comment: \"\",\r\n      file: null,\r\n      params: {\r\n        page: 0,\r\n        itemsPerPage: 20,\r\n      },\r\n      comments: [],\r\n      commentPage: 0,\r\n      loaderCmt: false,\r\n    };\r\n  },\r\n  components: {\r\n    simplebar,\r\n  },\r\n  created() {\r\n    this.listComments();\r\n  },\r\n  methods: {\r\n    sendFile(message, file) {\r\n      this.leaveComment(message, file);\r\n      this.fileModal = false;\r\n      this.file = null;\r\n    },\r\n    clickUpload() {\r\n      this.$refs.file.upld();\r\n    },\r\n    leaveComment(cmt, file) {\r\n      let id = this.$route.query.id;\r\n      if (id) {\r\n        this.loaderCmt = true;\r\n        projectService\r\n          .leaveComment(id, cmt, file)\r\n          .then((rs) => {\r\n            this.comment = \"\";\r\n            setTimeout(() => {\r\n              this.listComments();\r\n            }, 300);\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          })\r\n          .finally(() => {\r\n            this.loaderCmt = false;\r\n          });\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    listComments() {\r\n      let id = this.$route.query.id;\r\n      if (id) {\r\n        projectService\r\n          .listComments(id, this.params, true)\r\n          .then((rs) => {\r\n            this.comments = rs.data.list;\r\n            this.handleScroll();\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          });\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    loadMoreComments(page) {\r\n      let id = this.$route.query.id;\r\n      if (id) {\r\n        projectService\r\n          .listComments(id, {\r\n            page: page,\r\n            itemsPerPage: 20,\r\n          })\r\n          .then(async ({ data }) => {\r\n            if (data.list.length > 0) {\r\n              this.comments = this.comments.concat(data.list);\r\n            } else {\r\n              this.commentPage + -1;\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          });\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    handleScroll() {\r\n      if (this.$refs.commentsRef.$el) {\r\n        setTimeout(() => {\r\n          this.$refs.commentsRef.SimpleBar.getScrollElement().scrollTop = 0;\r\n        }, 500);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    var container3 = document.querySelector(\r\n      \"#comment-list .simplebar-content-wrapper\"\r\n    );\r\n    if (container3) {\r\n      container3.scrollTo({ top: 500, behavior: \"smooth\" });\r\n    }\r\n    // Contact list actions\r\n    this.$refs.commentsRef.SimpleBar.getScrollElement().addEventListener(\r\n      \"scroll\",\r\n      (e) => {\r\n        let { scrollTop, scrollHeight, clientHeight } = event.target;\r\n        const offsetForTrigger = 1;\r\n        if (scrollHeight - clientHeight - offsetForTrigger < scrollTop) {\r\n          this.loadMoreComments((this.commentPage += 1));\r\n        }\r\n      }\r\n    );\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.iconUpload {\r\n  position: absolute;\r\n  right: 2px;\r\n  bottom: 2px;\r\n}\r\n</style>"],"sourceRoot":"src/modules/projects"}]}