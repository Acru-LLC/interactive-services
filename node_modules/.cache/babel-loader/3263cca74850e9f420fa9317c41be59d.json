{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\excel-table\\modules\\final-forecast-fill\\Info.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\excel-table\\modules\\final-forecast-fill\\Info.vue","mtime":1674799497251},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBUb2tlblNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbmZvIiwKICBwcm9wczogewogICAgaW5mb1R5cGVLZXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfQogICAgfSwKICAgIHF1YXJ0ZXJMaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtZWFzdXJlbWVudFVuaXRMaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBpbmZvVHlwZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIHF1YXJ0ZXJQbGFuRG9uZUxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIHN0YXRpc3RpY1JlcG9ydEluZm9EdG86IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIG1lYXN1cmVtZW50VW5pdE1hcDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIGdldFRhYmxlTWF4Um93czogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgaW5mb1R5cGVJdGVyYXRvcjoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZXJpYWxpemVJdGVtcygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRFbXBsb3llZUlkOiBmdW5jdGlvbiBjdXJyZW50RW1wbG95ZWVJZCgpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KFRva2VuU2VydmljZS5nZXRVc2VySW5mbygpLmVtcGxveWVlSWQpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkSXRlbTogZnVuY3Rpb24gYWRkSXRlbShjaGlsZEl0ZW0sIGNoaWxkS2V5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBlbXB0eSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hpbGRJdGVtKSk7CiAgICAgIGVtcHR5ID0gdGhpcy5jbGVhckl0ZW1WYWx1ZXMoZW1wdHkpOwogICAgICBpZiAoY2hpbGRJdGVtLmlzUGFyZW50KSB7CiAgICAgICAgaWYgKGNoaWxkSXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNsZWFySXRlbVZhbHVlcyhlbXB0eS5jaGlsZHJlblswXSk7CiAgICAgICAgICBjaGlsZHJlbi5udW1iZXIgPSAxOwogICAgICAgICAgZW1wdHkuY2hpbGRyZW4gPSBbY2hpbGRyZW5dOwogICAgICAgIH0KICAgICAgICBlbXB0eS5udW1iZXIgPSB0aGlzLnN0YXRpc3RpY1JlcG9ydEluZm9EdG8uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5pbmZvVHlwZSA9PT0gX3RoaXMuaW5mb1R5cGUuY29kZTsKICAgICAgICB9KS5sZW5ndGggKyAxOwogICAgICAgIHRoaXMuc3RhdGlzdGljUmVwb3J0SW5mb0R0by5wdXNoKGVtcHR5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0YXRpc3RpY1JlcG9ydEluZm9EdG9bY2hpbGRJdGVtLnBhcmVudEluZGV4XS5jaGlsZHJlbi5wdXNoKGVtcHR5KTsKICAgICAgICB0aGlzLnNlcmlhbGl6ZUl0ZW1zKCk7CiAgICAgIH0KICAgIH0sCiAgICBjb25maXJtVmFsdWU6IGZ1bmN0aW9uIGNvbmZpcm1WYWx1ZShpdGVtKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NvbmZpcm0tcXVhcnRlci12YWx1ZScsIGl0ZW0pOwogICAgfSwKICAgIGNsZWFySXRlbVZhbHVlczogZnVuY3Rpb24gY2xlYXJJdGVtVmFsdWVzKGl0ZW0pIHsKICAgICAgaXRlbS5lbXBsb3llZUZ1bGxOYW1lcyA9IFtdOwogICAgICBpdGVtLmVtcGxveWVlSWRzID0gW107CiAgICAgIGl0ZW0uaWQgPSBudWxsOwogICAgICBpdGVtLm1lYXN1cmVtZW50VW5pdElkID0gbnVsbDsKICAgICAgaXRlbS5tZWFzdXJlbWVudFVuaXROYW1lTHQgPSBudWxsOwogICAgICBpdGVtLm1lYXN1cmVtZW50VW5pdE5hbWVSdSA9IG51bGw7CiAgICAgIGl0ZW0ubWVhc3VyZW1lbnRVbml0TmFtZVV6ID0gbnVsbDsKICAgICAgaXRlbS5uYW1lTHQgPSBudWxsOwogICAgICBpdGVtLm5hbWVSdSA9IG51bGw7CiAgICAgIGl0ZW0ubmFtZVV6ID0gbnVsbDsKICAgICAgcmV0dXJuIGl0ZW07CiAgICB9LAogICAgc2VyaWFsaXplSXRlbXM6IGZ1bmN0aW9uIHNlcmlhbGl6ZUl0ZW1zKCkgewogICAgICB2YXIgbGlzdCA9IFtdOwogICAgICB0aGlzLnN0YXRpc3RpY1JlcG9ydEluZm9EdG8uZm9yRWFjaChmdW5jdGlvbiAoaW5mb0l0ZW0sIHBhcmVudEluZGV4KSB7CiAgICAgICAgaW5mb0l0ZW0ubnVtYmVyID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmluZm9UeXBlID09PSBpbmZvSXRlbS5pbmZvVHlwZSAmJiBpdGVtLmlzUGFyZW50ID09PSB0cnVlOwogICAgICAgIH0pLmxlbmd0aCArIDE7CiAgICAgICAgaW5mb0l0ZW0uaXNQYXJlbnQgPSB0cnVlOwogICAgICAgIGluZm9JdGVtLnBhcmVudEluZGV4ID0gcGFyZW50SW5kZXg7CiAgICAgICAgaW5mb0l0ZW0uZW1wbG95ZWVGdWxsTmFtZXMgPSBpbmZvSXRlbS5lbXBsb3llZUZ1bGxOYW1lcyB8fCBbXTsgLy90b2RvIEFQSSBnYSBxbydzaGlsZ2FuZGEgb2xpYiB0YXNobGFzYSBib2xhZGkKICAgICAgICBsaXN0LnB1c2goaW5mb0l0ZW0pOwogICAgICAgIGlmIChpbmZvSXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICBpbmZvSXRlbS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZEl0ZW0sIGNoaWxkSW5kZXgpIHsKICAgICAgICAgICAgY2hpbGRJdGVtLm51bWJlciA9IGNoaWxkSW5kZXggKyAxOwogICAgICAgICAgICBjaGlsZEl0ZW0uaXNQYXJlbnQgPSBmYWxzZTsKICAgICAgICAgICAgY2hpbGRJdGVtLnBhcmVudEluZGV4ID0gcGFyZW50SW5kZXg7CiAgICAgICAgICAgIGNoaWxkSXRlbS5lbXBsb3llZUZ1bGxOYW1lcyA9IGNoaWxkSXRlbS5lbXBsb3llZUZ1bGxOYW1lcyB8fCBbXTsgLy90b2RvIEFQSSBnYSBxbydzaGlsZ2FuZGEgb2xpYiB0YXNobGFzYSBib2xhZGkKICAgICAgICAgICAgY2hpbGRJdGVtLmNoaWxkSW5kZXggPSBjaGlsZEluZGV4OwogICAgICAgICAgICBjaGlsZEl0ZW0uaW5mb1R5cGUgPSBpbmZvSXRlbS5pbmZvVHlwZTsKICAgICAgICAgICAgbGlzdC5wdXNoKGNoaWxkSXRlbSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxpc3QgPSBsaXN0OwogICAgfSwKICAgIG9wZW5QYXJlbnRNb2RhbDogZnVuY3Rpb24gb3BlblBhcmVudE1vZGFsKGlzT3BlbiwgbmFtZSwgaW5mb1R5cGVLZXksIHBhcmVudEluZGV4LCBjaGlsZEluZGV4KSB7CiAgICAgIHZhciBxdWFydGVyS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7CiAgICAgIHRoaXMuc2VyaWFsaXplSXRlbXMoKTsKICAgICAgdGhpcy4kZW1pdCgnb3Blbi1wYXJlbnQtbW9kYWwnLCBpc09wZW4sIG5hbWUsIGluZm9UeXBlS2V5LCBwYXJlbnRJbmRleCwgY2hpbGRJbmRleCwgcXVhcnRlcktleSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc3RhdGlzdGljUmVwb3J0SW5mb0R0bzogZnVuY3Rpb24gc3RhdGlzdGljUmVwb3J0SW5mb0R0bygpIHsKICAgICAgdGhpcy5zZXJpYWxpemVJdGVtcygpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;AA4GA;AACA;EACAA;EACAC;IACAC;MACAC;MACAC;QAAA;MAAA;IACA;IACAC;MACAF;MACAC;QAAA;MAAA;IACA;IACAE;MACAH;MACAC;QAAA;MAAA;IACA;IACAG;MACAJ;MACAC;QAAA;MAAA;IACA;IACAI;MACAL;MACAC;QAAA;MAAA;IACA;IACAK;MACAN;MACAC;QAAA;MAAA;IACA;IACAM;MACAP;MACAC;QAAA;MAAA;IACA;IACAO;MACAR;MACAC;IACA;EACA;EACAQ;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACAC;MACA;QACA;UACA;UACAC;UACAD;QACA;QACAA;UAAA;QAAA;QACA;MACA;QACA;QACA;MACA;IACA;IACAE;MACA;IACA;IACAC;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;IACA;IACAC;MACA;MACA;QACAC;UAAA;QAAA;QACAA;QACAA;QACAA;QACAb;QACA;UACAa;YACAC;YACAA;YACAA;YACAA;YACAA;YACAA;YACAd;UACA;QACA;MACA;MACA;IACA;IACAe;MAAA;MACA;MACA;IACA;EACA;EACAC;IACApB;MACA;IACA;EACA;AACA","names":["name","props","infoTypeKey","type","default","quarterList","measurementUnitList","infoType","quarterPlanDoneList","statisticReportInfoDto","measurementUnitMap","getTableMaxRows","data","list","infoTypeIterator","created","computed","currentEmployeeId","methods","addItem","empty","children","confirmValue","clearItemValues","item","serializeItems","infoItem","childItem","openParentModal","watch"],"sourceRoot":"src/modules/excel-table/modules/final-forecast-fill","sources":["Info.vue"],"sourcesContent":["<template>\r\n  <tbody class=\"vertical-align-middle\">\r\n  <tr class=\"bg-light-violet\">\r\n    <th>{{ infoTypeKey + 1 }}</th>\r\n    <th :colspan=\"getTableMaxRows-1\">{{ infoType.name }}</th>\r\n  </tr>\r\n  <tr v-for=\"(childItem, childKey) in list.filter(e => e.infoType === infoType.code)\" :key=\"childKey\"\r\n      :class=\"childItem.isParent ? 'bg-light-orange' : ''\">\r\n    <td>{{ childItem.number }}</td>\r\n    <td style=\"max-width: 22vw;\" colspan=\"2\">\r\n      {{\r\n        getName({\r\n          nameUz: childItem.nameUz,\r\n          nameRu: childItem.nameRu,\r\n          nameLt: childItem.nameLt,\r\n        }) || ''\r\n      }}\r\n      {{\r\n        childItem.employeeFullNames.length ?\r\n            (\"(\" + (childItem.employeeFullNames.join(', ') || '').toLowerCase().replace(/(?:^|\\s)\\S/g, (a) => a.toUpperCase()) + \")\") : ''\r\n      }}\r\n    </td>\r\n    <td>\r\n      {{\r\n        childItem.measurementUnitId ? getName({\r\n          nameUz: childItem.measurementUnitNameUz,\r\n          nameRu: childItem.measurementUnitNameRu,\r\n          nameLt: childItem.measurementUnitNameLt,\r\n        }) : ''\r\n      }}\r\n    </td>\r\n    <th v-for=\"(quarterItem, quarterKey) in quarterPlanDoneList\" :key=\"quarterKey\">\r\n      <div v-if=\"childItem.isParent\">\r\n        <div v-if=\"quarterItem.type === 'plan'\" class=\"text-center\">\r\n          {{\r\n            childItem.quarterValueDtoList[quarterItem.quarterIndex] ? childItem.quarterValueDtoList[quarterItem.quarterIndex].plan : '-'\r\n          }}\r\n        </div>\r\n        <div v-else>\r\n          <div class=\"input-group\">\r\n            <input type=\"number\"\r\n                   step=\"any\"\r\n                   :disabled=\"statisticReportInfoDto[childItem.parentIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed\"\r\n                   class=\"form-control\"\r\n                   v-model=\"statisticReportInfoDto[childItem.parentIndex].quarterValueDtoList[quarterItem.quarterIndex].done\"\r\n            />\r\n            <div class=\"input-group-prepend\"\r\n                 v-if=\"statisticReportInfoDto[childItem.parentIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed !== true\"\r\n            >\r\n              <span class=\"input-group-text btn btn-info\" @click=\"openParentModal(true,'bases', infoTypeKey, childItem.parentIndex, childItem.childIndex, quarterItem.quarterIndex)\">\r\n                <i class=\"bx mdi mdi-attachment\"></i>\r\n              </span>\r\n            </div>\r\n            <div class=\"input-group-prepend\" v-if=\"statisticReportInfoDto[childItem.parentIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed !== true && childItem.attachedEmployeeDtos.filter((item) => item.employeeId === currentEmployeeId).length > 0\">\r\n              <span class=\"bg-primary input-group-text text-white cursor-pointer\" @click=\"confirmValue(statisticReportInfoDto[childItem.parentIndex].quarterValueDtoList[quarterItem.quarterIndex])\">\r\n                <i class=\"bx mdi mdi-check\"></i>\r\n              </span>\r\n            </div>\r\n            <div class=\"input-group-prepend\" v-if=\"statisticReportInfoDto[childItem.parentIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed\">\r\n              <span class=\"bg-success input-group-text text-white\"\r\n                    v-b-tooltip.hover.top :title=\"$t('column.confirmed')\">\r\n                <i class=\"bx mdi mdi-check\"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"text-center\">\r\n        <div v-if=\"quarterItem.type === 'plan'\" class=\"text-center\">\r\n          {{\r\n            childItem.quarterValueDtoList[quarterItem.quarterIndex] ? childItem.quarterValueDtoList[quarterItem.quarterIndex].plan : '-'\r\n          }}\r\n        </div>\r\n        <div v-else>\r\n          <div class=\"input-group\">\r\n            <input type=\"number\"\r\n                   step=\"any\"\r\n                   :disabled=\"statisticReportInfoDto[childItem.parentIndex].children[childItem.childIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed\"\r\n                   class=\"form-control\"\r\n                   v-model=\"statisticReportInfoDto[childItem.parentIndex].children[childItem.childIndex].quarterValueDtoList[quarterItem.quarterIndex].done\"\r\n            />\r\n            <div class=\"input-group-prepend\"\r\n                 v-if=\"statisticReportInfoDto[childItem.parentIndex].children[childItem.childIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed !== true\"\r\n            >\r\n              <span class=\"input-group-text btn btn-info\" @click=\"openParentModal(true,'bases', infoTypeKey, childItem.parentIndex, childItem.childIndex, quarterItem.quarterIndex)\">\r\n                <i class=\"bx mdi mdi-attachment\"></i>\r\n              </span>\r\n            </div>\r\n            <div class=\"input-group-prepend\" v-if=\"statisticReportInfoDto[childItem.parentIndex].children[childItem.childIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed !== true && childItem.attachedEmployeeDtos.filter((item) => item.employeeId === currentEmployeeId).length > 0\">\r\n              <span class=\"bg-primary input-group-text text-white cursor-pointer\"  @click=\"confirmValue(statisticReportInfoDto[childItem.parentIndex].children[childItem.childIndex].quarterValueDtoList[quarterItem.quarterIndex])\">\r\n                <i class=\"bx mdi mdi-check\"></i>\r\n              </span>\r\n            </div>\r\n            <div class=\"input-group-prepend\" v-if=\"statisticReportInfoDto[childItem.parentIndex].children[childItem.childIndex].quarterValueDtoList[quarterItem.quarterIndex].isConfirmed\">\r\n              <span class=\"bg-success input-group-text text-white\"\r\n                    v-b-tooltip.hover.top :title=\"$t('column.confirmed')\">\r\n                <i class=\"bx mdi mdi-check\"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </th>\r\n  </tr>\r\n  </tbody>\r\n</template>\r\n\r\n<script>\r\nimport {TokenService} from '../../../../shared/services/storage.service';\r\nexport default {\r\n  name: \"Info\",\r\n  props: {\r\n    infoTypeKey: {\r\n      type: Number,\r\n      default: () => (1)\r\n    },\r\n    quarterList: {\r\n      type: Array,\r\n      default: () => ([])\r\n    },\r\n    measurementUnitList: {\r\n      type: Array,\r\n      default: () => ([])\r\n    },\r\n    infoType: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    quarterPlanDoneList: {\r\n      type: Array,\r\n      default: () => ([])\r\n    },\r\n    statisticReportInfoDto: {\r\n      type: Array,\r\n      default: () => ([])\r\n    },\r\n    measurementUnitMap: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    getTableMaxRows: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      infoTypeIterator: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.serializeItems()\r\n  },\r\n  computed: {\r\n    currentEmployeeId() {\r\n      return parseInt(TokenService.getUserInfo().employeeId)\r\n    },\r\n  },\r\n  methods: {\r\n    addItem(childItem, childKey) {\r\n      let empty = JSON.parse(JSON.stringify(childItem))\r\n      empty = this.clearItemValues(empty)\r\n      if (childItem.isParent) {\r\n        if (childItem.children.length > 0) {\r\n          let children = this.clearItemValues(empty.children[0]);\r\n          children.number = 1;\r\n          empty.children = [children];\r\n        }\r\n        empty.number = this.statisticReportInfoDto.filter(item => item.infoType === this.infoType.code).length + 1;\r\n        this.statisticReportInfoDto.push(empty)\r\n      } else {\r\n        this.statisticReportInfoDto[childItem.parentIndex].children.push(empty)\r\n        this.serializeItems();\r\n      }\r\n    },\r\n    confirmValue(item){\r\n      this.$emit('confirm-quarter-value', item);\r\n    },\r\n    clearItemValues(item) {\r\n      item.employeeFullNames = [];\r\n      item.employeeIds = [];\r\n      item.id = null;\r\n      item.measurementUnitId = null;\r\n      item.measurementUnitNameLt = null;\r\n      item.measurementUnitNameRu = null;\r\n      item.measurementUnitNameUz = null;\r\n      item.nameLt = null;\r\n      item.nameRu = null;\r\n      item.nameUz = null;\r\n      return item\r\n    },\r\n    serializeItems() {\r\n      let list = [];\r\n      this.statisticReportInfoDto.forEach((infoItem, parentIndex) => {\r\n        infoItem.number = list.filter(item => item.infoType === infoItem.infoType && item.isParent === true).length + 1;\r\n        infoItem.isParent = true;\r\n        infoItem.parentIndex = parentIndex;\r\n        infoItem.employeeFullNames = infoItem.employeeFullNames || []; //todo API ga qo'shilganda olib tashlasa boladi\r\n        list.push(infoItem);\r\n        if (infoItem.children.length > 0) {\r\n          infoItem.children.forEach((childItem, childIndex) => {\r\n            childItem.number = childIndex + 1;\r\n            childItem.isParent = false\r\n            childItem.parentIndex = parentIndex\r\n            childItem.employeeFullNames = childItem.employeeFullNames || []; //todo API ga qo'shilganda olib tashlasa boladi\r\n            childItem.childIndex = childIndex\r\n            childItem.infoType = infoItem.infoType\r\n            list.push(childItem);\r\n          });\r\n        }\r\n      });\r\n      this.list = list\r\n    },\r\n    openParentModal(isOpen, name, infoTypeKey, parentIndex, childIndex, quarterKey = undefined) {\r\n      this.serializeItems()\r\n      this.$emit('open-parent-modal', isOpen, name, infoTypeKey, parentIndex, childIndex, quarterKey);\r\n    },\r\n  },\r\n  watch: {\r\n    statisticReportInfoDto() {\r\n      this.serializeItems()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.bg-light-orange {\r\n  background-color: #ffdebc !important;\r\n}\r\n\r\n.bg-light-violet {\r\n  background-color: #c7d1ff !important;\r\n}\r\n\r\n.vertical-align-middle th, .vertical-align-middle td {\r\n  vertical-align: middle;\r\n}\r\n</style>"]}]}