{"remainingRequest":"D:\\ACRU\\interactive-services\\node_modules\\thread-loader\\dist\\cjs.js!D:\\ACRU\\interactive-services\\node_modules\\babel-loader\\lib\\index.js!D:\\ACRU\\interactive-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ACRU\\interactive-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ACRU\\interactive-services\\src\\modules\\reporting\\menu\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\ACRU\\interactive-services\\src\\modules\\reporting\\menu\\Index.vue","mtime":1710740177193},{"path":"D:\\ACRU\\interactive-services\\babel.config.js","mtime":1709020148252},{"path":"D:\\ACRU\\interactive-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ACRU\\interactive-services\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ACRU\\interactive-services\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\ACRU\\interactive-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ACRU\\interactive-services\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovQUNSVS9pbnRlcmFjdGl2ZS1zZXJ2aWNlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L0FDUlUvaW50ZXJhY3RpdmUtc2VydmljZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLWFsbC5qcyI7CmltcG9ydCBpbnRlZ3JhdHNpeWFTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2ludGVncmF0c2l5YS5zZXJ2aWNlIjsKdmFyIFJFRl9OQU1FID0gJ2NvdXJ0X2luc3RhbnRpb25zJzsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICJAL2FwcC5jb25maWciOwppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UnOwppbXBvcnQgU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlJzsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvYXBpLnNlcnZpY2UiOwppbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAibW9tZW50IjsKdmFyIE1BSU5fQVBJX1VSTCA9ICdjb250cmFjdG9yLWFkdmVydGlzaW5nLWNvbnN0cnVjdGlvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBwYWdlOiB7CiAgICB0aXRsZTogIlBhc3Nwb3J0IGluZm8iLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lYXN1cmVzOiBbXSwKICAgICAgbG9hZGVyOiBmYWxzZSwKICAgICAgbG9hZGluZ1N0aXJJdGVtczogZmFsc2UsCiAgICAgIHN1bW1tOiAnJywKICAgICAgZWRpdGluZ0l0ZW06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBmaW86ICcnLAogICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgIGNoZWNrOiBmYWxzZQogICAgICB9LAogICAgICBzYW5vYXQ6IFtdLAogICAgICBoaXptYXQ6IFtdLAogICAgICBpc01vZGFsU2Fub2F0OiBmYWxzZSwKICAgICAgaXNNb2RhbEhpem1hdDogZmFsc2UsCiAgICAgIGxvYWRlclNhbm9hdDogZmFsc2UsCiAgICAgIGxvYWRlckhpem1hdDogZmFsc2UsCiAgICAgIHVwbG9hZEZpbGVzOiBudWxsLAogICAgICB1cGxvYWRGaWxlbmFtZTogJycsCiAgICAgIHVwbG9hZF9maWxlczogbnVsbCwKICAgICAgcGhvbmVJZDogbnVsbCwKICAgICAgcGhvbmVOdW1iZXI6ICcnLAogICAgICBwaG9uZUNvZGVzOiBbXSwKICAgICAgcGhvbmVDb2RlOiBudWxsLAogICAgICBsb2FkZXJUaWZUbjogZmFsc2UsCiAgICAgIHJlc0RhdGFUaWZUbjogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBwaG9uZUlkOiBmdW5jdGlvbiBwaG9uZUlkKGlkKSB7CiAgICAgIGlmIChpZCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMucGhvbmVDb2RlID0gdGhpcy5waG9uZUNvZGVzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlkID09IGlkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGhvbmVDb2RlID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgICdlZGl0aW5nSXRlbS5kYXRlRnJvbSc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSkgewogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9IC8vIGlmIChuZXdWYWx1ZSkgewogICAgICAvLyAgIHZhciBpbnB1dCA9IG5ld1ZhbHVlLnNwbGl0KCItIik7CgogICAgICAvLyBHZXQgdGhlIGRheSBvZiB0aGUgbW9udGgKICAgICAgLy8gICAgICAgICAgIHZhciBkZCA9IGlucHV0WzBdCgogICAgICAvLyBHZXQgdGhlIG1vbnRoIChhZGRpbmcgMSBiZWNhdXNlIG1vbnRocyBhcmUgemVyby1iYXNlZCkKICAgICAgLy8gICAgICAgICAgIHZhciBtbSA9IHBhcnNlSW50KGlucHV0WzFdKSArIDYKICAgICAgLy8KICAgICAgLy8gR2V0IHRoZSB5ZWFyCiAgICAgIC8vICAgICAgICAgICB2YXIgeXl5eSA9IGlucHV0WzJdCgogICAgICAvLyBBZGQgbGVhZGluZyB6ZXJvIGlmIHRoZSBkYXkgaXMgbGVzcyB0aGFuIDEwCiAgICAgIC8vICAgICAgICAgICBpZiAoZGQgPCAxMCkgewogICAgICAvLyAgICAgICAgICAgICBkZCA9ICcwJyArIGRkOwogICAgICAvLyAgICAgICAgICAgfQoKICAgICAgLy8gQWRkIGxlYWRpbmcgemVybyBpZiB0aGUgbW9udGggaXMgbGVzcyB0aGFuIDEwCiAgICAgIC8vICAgICAgICAgICBpZiAobW0gPCAxMCkgewogICAgICAvLyAgICAgICAgICAgICBtbSA9ICcwJyArIG1tOwogICAgICAvLyAgICAgICAgICAgfQoKICAgICAgLy8gICB0aGlzLmVkaXRpbmdJdGVtLmRhdGVUbyA9IGRkICsgJy0nICsgbW0gKyAnLScgKyB5eXl5OwogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIHRoaXMuZWRpdGluZ0l0ZW0uZGF0ZVRvID0gbnVsbAogICAgICAvLyB9CiAgICB9LAogICAgJ2VkaXRpbmdJdGVtLmNvZGVTb3hhJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuZWRpdGluZ0l0ZW0uY29kZVhpc29ib2QgPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzLmVkaXRpbmdJdGVtLmRhdGVGcm9tID0gJyc7CiAgICAgICAgICAgICAgICBfdGhpcy5lZGl0aW5nSXRlbS5kYXRlVG8gPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzLmVkaXRpbmdJdGVtLnllYXIgPSAnJzsKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0uc3Rpcic6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmVkaXRpbmdJdGVtLnN0aXIgJiYgX3RoaXMyLmVkaXRpbmdJdGVtLnN0aXIubGVuZ3RoID09IDkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmZpbmRDb250cmFjdG9yQnlJbm4oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0ubWFkZVBvd2VyQWxsJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuZWRpdGluZ0l0ZW0ubWFkZVBvd2VyQWxsKSB7CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ld1ZhbHVlLnJlcGxhY2UoL1xEL2csICIiKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiICIpOwogICAgICAgICAgICAgICAgICBfdGhpczMuZWRpdGluZ0l0ZW0ubWFkZVBvd2VyQWxsID0gcmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICB9KSkoKTsKICAgICAgfQogICAgfSwKICAgICdlZGl0aW5nSXRlbS5tYWRlVG9ubmEnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC5lZGl0aW5nSXRlbS5tYWRlVG9ubmEpIHsKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3VmFsdWUucmVwbGFjZSgvXEQvZywgIiIpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIgIik7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lZGl0aW5nSXRlbS5tYWRlVG9ubmEgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgIH0pKSgpOwogICAgICB9CiAgICB9LAogICAgJ2VkaXRpbmdJdGVtLm1hZGVTdW0nOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5lZGl0aW5nSXRlbS5tYWRlU3VtKSB7CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ld1ZhbHVlLnJlcGxhY2UoL1xEL2csICIiKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiICIpOwogICAgICAgICAgICAgICAgICBfdGhpczUuZWRpdGluZ0l0ZW0ubWFkZVN1bSA9IHJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0uYnV5VG9ubmEnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5lZGl0aW5nSXRlbS5idXlUb25uYSkgewogICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXdWYWx1ZS5yZXBsYWNlKC9cRC9nLCAiIikucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgIiAiKTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmJ1eVRvbm5hID0gcmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgICB9KSkoKTsKICAgICAgfQogICAgfSwKICAgICdlZGl0aW5nSXRlbS5idXlTdW0nOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNy5lZGl0aW5nSXRlbS5idXlTdW0pIHsKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3VmFsdWUucmVwbGFjZSgvXEQvZywgIiIpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIgIik7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5lZGl0aW5nSXRlbS5idXlTdW0gPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgIH0pKSgpOwogICAgICB9CiAgICB9LAogICAgJ2VkaXRpbmdJdGVtLmV4cG9ydFRvbm5hJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczguZWRpdGluZ0l0ZW0uZXhwb3J0VG9ubmEpIHsKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3VmFsdWUucmVwbGFjZSgvXEQvZywgIiIpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIgIik7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5lZGl0aW5nSXRlbS5leHBvcnRUb25uYSA9IHJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0uZXhwb3J0U3VtJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzOS5lZGl0aW5nSXRlbS5leHBvcnRTdW0pIHsKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3VmFsdWUucmVwbGFjZSgvXEQvZywgIiIpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIgIik7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5lZGl0aW5nSXRlbS5leHBvcnRTdW0gPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0uZmluYWxseVRvbm5hJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLmVkaXRpbmdJdGVtLmZpbmFsbHlUb25uYSkgewogICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXdWYWx1ZS5yZXBsYWNlKC9cRC9nLCAiIikucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgIiAiKTsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5lZGl0aW5nSXRlbS5maW5hbGx5VG9ubmEgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0uZmluYWxseVN1bSc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSkgewogICAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5lZGl0aW5nSXRlbS5maW5hbGx5U3VtKSB7CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ld1ZhbHVlLnJlcGxhY2UoL1xEL2csICIiKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiICIpOwogICAgICAgICAgICAgICAgICBfdGhpczExLmVkaXRpbmdJdGVtLmZpbmFsbHlTdW0gPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0uc3VtU2VydmljZSc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSkgewogICAgICAgIHZhciBfdGhpczEyID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMi5lZGl0aW5nSXRlbS5zdW1TZXJ2aWNlKSB7CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ld1ZhbHVlLnJlcGxhY2UoL1xEL2csICIiKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiICIpOwogICAgICAgICAgICAgICAgICBfdGhpczEyLmVkaXRpbmdJdGVtLnN1bVNlcnZpY2UgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0sCiAgICAnZWRpdGluZ0l0ZW0uZXhwb3J0U3VtU2VydmljZSc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSkgewogICAgICAgIHZhciBfdGhpczEzID0gdGhpczsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMy5lZGl0aW5nSXRlbS5leHBvcnRTdW1TZXJ2aWNlKSB7CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ld1ZhbHVlLnJlcGxhY2UoL1xEL2csICIiKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiICIpOwogICAgICAgICAgICAgICAgICBfdGhpczEzLmVkaXRpbmdJdGVtLmV4cG9ydFN1bVNlcnZpY2UgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTQuZ2V0TWVhc3VyZSgpOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5nZXRQaG9uZUNvZGUoKTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZE9ic2VydmVyOiBmdW5jdGlvbiBjb21wdXRlZE9ic2VydmVyKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5vYnNlcnZlcjsKICAgIH0sCiAgICBjb21wdXRlZE9ic2VydmVyU2Fub2F0OiBmdW5jdGlvbiBjb21wdXRlZE9ic2VydmVyU2Fub2F0KCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5vYnNlcnZlclNhbm9hdDsKICAgIH0sCiAgICBjb21wdXRlZE9ic2VydmVySGl6bWF0OiBmdW5jdGlvbiBjb21wdXRlZE9ic2VydmVySGl6bWF0KCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5vYnNlcnZlckhpem1hdDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZpbmRCeUNvZGVUaWZ0bjogZnVuY3Rpb24gZmluZEJ5Q29kZVRpZnRuKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CiAgICAgIHRoaXMuZWRpdGluZ0l0ZW0ubmFtZVByb2R1Y3QgPSAnJzsKICAgICAgdGhpcy5lZGl0aW5nSXRlbS5tZWFzdXJlTmFtZSA9ICcnOwogICAgICB0aGlzLmxvYWRlclRpZlRuID0gdHJ1ZTsKICAgICAgU2VydmljZS5nZXRCeUNvZGVUaWZ0bih0aGlzLmVkaXRpbmdJdGVtLmNvZGVUaWZ0biwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNS5sb2FkZXJUaWZUbiA9IGZhbHNlOwogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gLTEpIHsKICAgICAgICAgIF90aGlzMTUuZWRpdGluZ0l0ZW0ubmFtZVByb2R1Y3QgPSAnJzsKICAgICAgICAgIF90aGlzMTUuZWRpdGluZ0l0ZW0ubWVhc3VyZU5hbWUgPSAnJzsKICAgICAgICAgIF90aGlzMTUuJHRvYXN0KF90aGlzMTUuJHQoJ2FjdGlvbnMuZW1wdHlfdGFibGUnKSwgewogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAxKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgX3RoaXMxNS5lZGl0aW5nSXRlbS5uYW1lUHJvZHVjdCA9IHJlcy5kYXRhLmRhdGFbMF0gJiYgcmVzLmRhdGEuZGF0YVswXS5nb29kcyAmJiByZXMuZGF0YS5kYXRhWzBdLmdvb2RzWzBdICYmIHJlcy5kYXRhLmRhdGFbMF0uZ29vZHNbMF0ucHJvZHVjdF9uYW1lOwogICAgICAgICAgICBfdGhpczE1LmVkaXRpbmdJdGVtLm1lYXN1cmVOYW1lID0gcmVzLmRhdGEuZGF0YVswXSAmJiByZXMuZGF0YS5kYXRhWzBdLmdvb2RzICYmIHJlcy5kYXRhLmRhdGFbMF0uZ29vZHNbMF0gJiYgcmVzLmRhdGEuZGF0YVswXS5nb29kc1swXS5hZGRlZF91bml0c19tZWFzdXJlTmFtZTsKICAgICAgICAgIH0KICAgICAgICAgIF90aGlzMTUuJHRvYXN0KF90aGlzMTUuJHQoX3RoaXMxNS4kdCgnYWN0aW9ucy5zdWNjZXNzJykpLCB7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIF90aGlzMTUubG9hZGVyVGlmVG4gPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UGhvbmVDb2RlOiBmdW5jdGlvbiBnZXRQaG9uZUNvZGUoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0V2l0aEtleXdvcmQoIm1lc3NhZ2UtcGhvbmUtY29kZSIsIF90aGlzMTYudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXMxNi5waG9uZUNvZGVzID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3VzdG9tTGFiZWxQaG9uZUNvZGU6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsUGhvbmVDb2RlKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWRDb2RlID0gdGhpcy5waG9uZUNvZGVzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSBvcHQ7CiAgICAgIH0pOwogICAgICBpZiAoc2VsZWN0ZWRDb2RlKSB7CiAgICAgICAgcmV0dXJuIHNlbGVjdGVkQ29kZS5jb2RlOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBvbkZpbGVDaGFuZ2U6IGZ1bmN0aW9uIG9uRmlsZUNoYW5nZShlKSB7CiAgICAgIHZhciBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgIHRoaXMudXBsb2FkX2ZpbGVzID0gZmlsZTsKICAgICAgdGhpcy51cGxvYWRGaWxlbmFtZSA9IGZpbGUubmFtZTsKICAgIH0sCiAgICB1cGxvYWRGaWxlOiBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICB0aGlzLiRyZWZzLmlsb3ZhUmVmLiRlbC5maXJzdENoaWxkLmNsaWNrKCk7CiAgICB9LAogICAgY2xlYXJGaWxlOiBmdW5jdGlvbiBjbGVhckZpbGUoKSB7CiAgICAgIHRoaXMudXBsb2FkX2ZpbGVzID0gbnVsbDsKICAgICAgdGhpcy51cGxvYWRGaWxlbmFtZSA9ICcnOwogICAgfSwKICAgIGRlbGV0ZVNhbm9hdDogZnVuY3Rpb24gZGVsZXRlU2Fub2F0KGluZGV4KSB7CiAgICAgIHRoaXMuc2Fub2F0LnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgYWRkRm9ybVNhbm9hdDogZnVuY3Rpb24gYWRkRm9ybVNhbm9hdCgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwogICAgICB0aGlzLmxvYWRlclNhbm9hdCA9IHRydWU7CiAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlclNhbm9hdC52YWxpZGF0ZSgpLnRoZW4oZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgb2JqU2Fub2F0ID0gewogICAgICAgICAgICBjb2RlWGlzb2JvZDogX3RoaXMxNy5lZGl0aW5nSXRlbS5jb2RlWGlzb2JvZCA/IF90aGlzMTcuZWRpdGluZ0l0ZW0uY29kZVhpc29ib2QgOiAnJywKICAgICAgICAgICAgZGF0ZUZyb206IF90aGlzMTcuZWRpdGluZ0l0ZW0uZGF0ZUZyb20gPyBfdGhpczE3LmVkaXRpbmdJdGVtLmRhdGVGcm9tIDogJycsCiAgICAgICAgICAgIGRhdGVUbzogX3RoaXMxNy5lZGl0aW5nSXRlbS5kYXRlVG8gPyBfdGhpczE3LmVkaXRpbmdJdGVtLmRhdGVUbyA6ICcnLAogICAgICAgICAgICB5ZWFyOiBfdGhpczE3LmVkaXRpbmdJdGVtLnllYXIgPyBfdGhpczE3LmVkaXRpbmdJdGVtLnllYXIgOiAnJywKICAgICAgICAgICAgY29kZVNveGE6IF90aGlzMTcuZWRpdGluZ0l0ZW0uY29kZVNveGEsCiAgICAgICAgICAgIGNvZGVUaWZ0bjogX3RoaXMxNy5lZGl0aW5nSXRlbS5jb2RlVGlmdG4sCiAgICAgICAgICAgIG5hbWVQcm9kdWN0OiBfdGhpczE3LmVkaXRpbmdJdGVtLm5hbWVQcm9kdWN0LAogICAgICAgICAgICBtZWFzdXJlTmFtZTogX3RoaXMxNy5lZGl0aW5nSXRlbS5tZWFzdXJlTmFtZSwKICAgICAgICAgICAgY29kZU1jdDogX3RoaXMxNy5lZGl0aW5nSXRlbS5jb2RlTWN0LAogICAgICAgICAgICBtYWRlUG93ZXJBbGw6IF90aGlzMTcuZWRpdGluZ0l0ZW0ubWFkZVBvd2VyQWxsLnJlcGxhY2VBbGwoJyAnLCAnJyksCiAgICAgICAgICAgIG1hZGVUb25uYTogX3RoaXMxNy5lZGl0aW5nSXRlbS5tYWRlVG9ubmEucmVwbGFjZUFsbCgnICcsICcnKSwKICAgICAgICAgICAgbWFkZVN1bTogX3RoaXMxNy5lZGl0aW5nSXRlbS5tYWRlU3VtLnJlcGxhY2VBbGwoJyAnLCAnJyksCiAgICAgICAgICAgIGJ1eVRvbm5hOiBfdGhpczE3LmVkaXRpbmdJdGVtLmJ1eVRvbm5hLnJlcGxhY2VBbGwoJyAnLCAnJyksCiAgICAgICAgICAgIGJ1eVN1bTogX3RoaXMxNy5lZGl0aW5nSXRlbS5idXlTdW0ucmVwbGFjZUFsbCgnICcsICcnKSwKICAgICAgICAgICAgbWVhc3VyZUlkOiBfdGhpczE3LmVkaXRpbmdJdGVtLm1lYXN1cmVJZCwKICAgICAgICAgICAgZXhwb3J0VG9ubmE6IF90aGlzMTcuZWRpdGluZ0l0ZW0uZXhwb3J0VG9ubmEucmVwbGFjZUFsbCgnICcsICcnKSwKICAgICAgICAgICAgZXhwb3J0U3VtOiBfdGhpczE3LmVkaXRpbmdJdGVtLmV4cG9ydFN1bS5yZXBsYWNlQWxsKCcgJywgJycpLAogICAgICAgICAgICBmaW5hbGx5VG9ubmE6IF90aGlzMTcuZWRpdGluZ0l0ZW0uZmluYWxseVRvbm5hLnJlcGxhY2VBbGwoJyAnLCAnJyksCiAgICAgICAgICAgIGZpbmFsbHlTdW06IF90aGlzMTcuZWRpdGluZ0l0ZW0uZmluYWxseVN1bS5yZXBsYWNlQWxsKCcgJywgJycpCiAgICAgICAgICB9OwogICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5jb2RlVGlmdG4gPSAnJzsKICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0ubmFtZVByb2R1Y3QgPSAnJzsKICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0ubWVhc3VyZU5hbWUgPSAnJzsKICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0uY29kZU1jdCA9ICcnOwogICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5tYWRlUG93ZXJBbGwgPSAnJzsKICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0ubWFkZVRvbm5hID0gJyc7CiAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLm1hZGVTdW0gPSAnJzsKICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0uYnV5VG9ubmEgPSAnJzsKICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0ubWVhc3VyZUlkID0gJyc7CiAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLmJ1eVN1bSA9ICcnOwogICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5leHBvcnRUb25uYSA9ICcnOwogICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5leHBvcnRTdW0gPSAnJzsKICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0uZmluYWxseVRvbm5hID0gJyc7CiAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLmZpbmFsbHlTdW0gPSAnJzsKICAgICAgICAgIF90aGlzMTcuc2Fub2F0LnB1c2gob2JqU2Fub2F0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxNy5sb2FkZXJTYW5vYXQgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMTcuJHRvYXN0KF90aGlzMTcuJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVIaXptYXQ6IGZ1bmN0aW9uIGRlbGV0ZUhpem1hdChpbmRleCkgewogICAgICB0aGlzLmhpem1hdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGFkZEZvcm1IaXptYXQ6IGZ1bmN0aW9uIGFkZEZvcm1IaXptYXQoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKICAgICAgdGhpcy5sb2FkZXJIaXptYXQgPSB0cnVlOwogICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXJIaXptYXQudmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFyIG9iakhpem1hdCA9IHsKICAgICAgICAgICAgY29kZVhpc29ib2Q6IF90aGlzMTguZWRpdGluZ0l0ZW0uY29kZVhpc29ib2QgPyBfdGhpczE4LmVkaXRpbmdJdGVtLmNvZGVYaXNvYm9kIDogJycsCiAgICAgICAgICAgIGRhdGVGcm9tOiBfdGhpczE4LmVkaXRpbmdJdGVtLmRhdGVGcm9tID8gX3RoaXMxOC5lZGl0aW5nSXRlbS5kYXRlRnJvbSA6ICcnLAogICAgICAgICAgICBkYXRlVG86IF90aGlzMTguZWRpdGluZ0l0ZW0uZGF0ZVRvID8gX3RoaXMxOC5lZGl0aW5nSXRlbS5kYXRlVG8gOiAnJywKICAgICAgICAgICAgeWVhcjogX3RoaXMxOC5lZGl0aW5nSXRlbS55ZWFyID8gX3RoaXMxOC5lZGl0aW5nSXRlbS55ZWFyIDogJycsCiAgICAgICAgICAgIGNvZGVTb3hhOiBfdGhpczE4LmVkaXRpbmdJdGVtLmNvZGVTb3hhLAogICAgICAgICAgICBjb2RlU2V2aWNlOiBfdGhpczE4LmVkaXRpbmdJdGVtLmNvZGVTZXZpY2UsCiAgICAgICAgICAgIG5hbWVTZXJ2aWNlOiBfdGhpczE4LmVkaXRpbmdJdGVtLm5hbWVTZXJ2aWNlLAogICAgICAgICAgICBzdW1TZXJ2aWNlOiBfdGhpczE4LmVkaXRpbmdJdGVtLnN1bVNlcnZpY2UucmVwbGFjZUFsbCgnICcsICcnKSwKICAgICAgICAgICAgZXhwb3J0U3VtU2VydmljZTogX3RoaXMxOC5lZGl0aW5nSXRlbS5leHBvcnRTdW1TZXJ2aWNlLnJlcGxhY2VBbGwoJyAnLCAnJykKICAgICAgICAgIH07CiAgICAgICAgICBfdGhpczE4LmVkaXRpbmdJdGVtLmNvZGVTZXZpY2UgPSAnJzsKICAgICAgICAgIF90aGlzMTguZWRpdGluZ0l0ZW0ubmFtZVNlcnZpY2UgPSAnJzsKICAgICAgICAgIF90aGlzMTguZWRpdGluZ0l0ZW0uc3VtU2VydmljZSA9ICcnOwogICAgICAgICAgX3RoaXMxOC5lZGl0aW5nSXRlbS5leHBvcnRTdW1TZXJ2aWNlID0gJyc7CiAgICAgICAgICBfdGhpczE4Lmhpem1hdC5wdXNoKG9iakhpem1hdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMTgubG9hZGVySGl6bWF0ID0gZmFsc2U7CiAgICAgICAgICBfdGhpczE4LiR0b2FzdChfdGhpczE4LiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZmluZENvbnRyYWN0b3JCeUlubjogZnVuY3Rpb24gZmluZENvbnRyYWN0b3JCeUlubigpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmdTdGlySXRlbXMgPSB0cnVlOwogICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbS5zdGlyICYmIHRoaXMuZWRpdGluZ0l0ZW0uc3Rpci5sZW5ndGggPT0gOSkgewogICAgICAgIHRoaXMubG9hZGluZ1N0aXJJdGVtcyA9IHRydWU7CiAgICAgICAgU2VydmljZS5nZXRZdXJpZGlrU2hheHNEYXRhKHRoaXMuZWRpdGluZ0l0ZW0uc3RpciwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgX3RoaXMxOS5lZGl0aW5nSXRlbS5uYW1lID0gcmVzLmRhdGEuY29tcGFueSAmJiByZXMuZGF0YS5jb21wYW55Lm5hbWU7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5hY2NvdW50YW50KSB7CiAgICAgICAgICAgICAgX3RoaXMxOS5lZGl0aW5nSXRlbS5maW8gPSByZXMuZGF0YS5hY2NvdW50YW50LmZpcnN0TmFtZSArICcgJyArIHJlcy5kYXRhLmFjY291bnRhbnQubGFzdE5hbWUgKyAnICcgKyByZXMuZGF0YS5hY2NvdW50YW50Lm1pZGRsZU5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvbXBhbnlCaWxsaW5nQWRkcmVzcykgewogICAgICAgICAgICAgIF90aGlzMTkuZWRpdGluZ0l0ZW0uc29hdG8gPSByZXMuZGF0YS5jb21wYW55QmlsbGluZ0FkZHJlc3Muc29hdG87CiAgICAgICAgICAgICAgX3RoaXMxOS5lZGl0aW5nSXRlbS5hZGRyZXNzID0gX3RoaXMxOS5nZXROYW1lKHsKICAgICAgICAgICAgICAgIG5hbWVSdTogcmVzLmRhdGEuY29tcGFueUJpbGxpbmdBZGRyZXNzLnJlZ2lvbk5hbWVSdSwKICAgICAgICAgICAgICAgIG5hbWVVejogcmVzLmRhdGEuY29tcGFueUJpbGxpbmdBZGRyZXNzLnJlZ2lvbk5hbWVVeiwKICAgICAgICAgICAgICAgIG5hbWVMdDogcmVzLmRhdGEuY29tcGFueUJpbGxpbmdBZGRyZXNzLnJlZ2lvbk5hbWVMdAogICAgICAgICAgICAgIH0pICsgJywgJyArIF90aGlzMTkuZ2V0TmFtZSh7CiAgICAgICAgICAgICAgICBuYW1lUnU6IHJlcy5kYXRhLmNvbXBhbnlCaWxsaW5nQWRkcmVzcy5uYW1lUnUsCiAgICAgICAgICAgICAgICBuYW1lVXo6IHJlcy5kYXRhLmNvbXBhbnlCaWxsaW5nQWRkcmVzcy5uYW1lVXosCiAgICAgICAgICAgICAgICBuYW1lTHQ6IHJlcy5kYXRhLmNvbXBhbnlCaWxsaW5nQWRkcmVzcy5uYW1lTHQKICAgICAgICAgICAgICB9KSArICcsICcgKyByZXMuZGF0YS5jb21wYW55QmlsbGluZ0FkZHJlc3Muc3RyZWV0TmFtZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgX3RoaXMxOS4kdG9hc3QoX3RoaXMxOS4kdCgnc3VibW9kdWxlcy5pbnRlZ3JhdGlvbi5zdGF0aXN0aWNzX2luZm8uZG93bmxvYWRfc3VjY2VzcycpLCB7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczE5LmxvYWRpbmdTdGlySXRlbXMgPSBmYWxzZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMxOS5sb2FkaW5nU3Rpckl0ZW1zID0gZmFsc2U7CiAgICAgICAgICAvLyB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIuc2V0RXJyb3JzKHsgSU5OOiBbdGhpcy4kdCgndmFsaWRhdG9yLmlubl9leGlzdCcpXSB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvYWRpbmdTdGlySXRlbXMgPSBmYWxzZTsKICAgICAgICB0aGlzLiR0b2FzdCh0aGlzLiR0KCd2YWxpZGF0b3IuaW5uJyksIHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgICB0aGlzLiR0b2FzdCh0aGlzLiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRNZWFzdXJlOiBmdW5jdGlvbiBnZXRNZWFzdXJlKCkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vIEdFVCBTVEFUVVNFUwogICAgICAgICAgICAgIF90aGlzMjAudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQua2V5d29yZCA9IF90aGlzMjAuc2VhcmNoS2V5d29yZDsKICAgICAgICAgICAgICBfdGhpczIwLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSA9IDUwMDsKICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3RXaXRoS2V5d29yZCgncHJpY2VfbWVhc3VyZScsIF90aGlzMjAudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXMyMC5tZWFzdXJlID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgX3RoaXMyMC5tZWFzdXJlID0gW107CiAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZURhdGE6IGZ1bmN0aW9uIHNhdmVEYXRhKCkgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CiAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4oZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczIxLmxvYWRlciA9IHRydWU7CiAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBwaG9uZTogJys5OTgnICsgX3RoaXMyMS5waG9uZUNvZGUuY29kZSArIF90aGlzMjEucGhvbmVOdW1iZXIucmVwbGFjZUFsbCgnLScsICcnKSwKICAgICAgICAgICAgbmFtZTogX3RoaXMyMS5lZGl0aW5nSXRlbS5uYW1lID8gX3RoaXMyMS5lZGl0aW5nSXRlbS5uYW1lIDogJycsCiAgICAgICAgICAgIHNvYXRvOiBfdGhpczIxLmVkaXRpbmdJdGVtLnNvYXRvID8gX3RoaXMyMS5lZGl0aW5nSXRlbS5zb2F0byA6ICcnLAogICAgICAgICAgICAvLyBrdHV0OiB0aGlzLmVkaXRpbmdJdGVtLmt0dXQgPyB0aGlzLmVkaXRpbmdJdGVtLmt0dXQgOiAnJywKICAgICAgICAgICAgc3RpcjogX3RoaXMyMS5lZGl0aW5nSXRlbS5zdGlyID8gX3RoaXMyMS5lZGl0aW5nSXRlbS5zdGlyIDogJycsCiAgICAgICAgICAgIGFkZHJlc3M6IF90aGlzMjEuZWRpdGluZ0l0ZW0uYWRkcmVzcyA/IF90aGlzMjEuZWRpdGluZ0l0ZW0uYWRkcmVzcyA6ICcnLAogICAgICAgICAgICBjaGVjazogX3RoaXMyMS5lZGl0aW5nSXRlbS5jaGVjaywKICAgICAgICAgICAgZmlvOiBfdGhpczIxLmVkaXRpbmdJdGVtLmZpbyA/IF90aGlzMjEuZWRpdGluZ0l0ZW0uZmlvIDogJycKICAgICAgICAgIH07CgogICAgICAgICAgLy8gaWYgKHRoaXMuZWRpdGluZ0l0ZW0uY29kZVRpZnRuID09ICcnICYmIHRoaXMuZWRpdGluZ0l0ZW0ubmFtZVNlcnZpY2UgPT0gJycpIHsKCiAgICAgICAgICB2YXIgYm9vbCA9IHRydWU7CiAgICAgICAgICBpZiAoYm9vbCkgewogICAgICAgICAgICB2YXIgYm9keURhdGEgPSBbXTsKICAgICAgICAgICAgYm9keURhdGEgPSBib2R5RGF0YS5jb25jYXQoX3RoaXMyMS5zYW5vYXQpOwogICAgICAgICAgICBib2R5RGF0YSA9IGJvZHlEYXRhLmNvbmNhdChfdGhpczIxLmhpem1hdCk7CiAgICAgICAgICAgIFNlcnZpY2UuY3JlYXRlUmVwb3J0aW5nKG9iaiwgYm9keURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIHZhciBib2R5Rm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICBib2R5Rm9ybURhdGEuYXBwZW5kKCJpZCIsIHJlcy5kYXRhLmlkKTsKICAgICAgICAgICAgICBib2R5Rm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgX3RoaXMyMS51cGxvYWRfZmlsZXMpOwogICAgICAgICAgICAgIFNlcnZpY2UuY3JlYXRlV2l0aEZpbGVzMShib2R5Rm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlczIpIHsKICAgICAgICAgICAgICAgIF90aGlzMjEuJHRvYXN0LnN1Y2Nlc3MoX3RoaXMyMS4kdCgnbWVzc2FnZXMuc2VuZF9zdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1yaWdodCIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMyMS5lZGl0aW5nSXRlbSA9IHt9OwogICAgICAgICAgICAgICAgX3RoaXMyMS5waG9uZUlkID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMjEucGhvbmVOdW1iZXIgPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzMjEudXBsb2FkX2ZpbGVzID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMjEudXBsb2FkRmlsZXMgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMyMS51cGxvYWRGaWxlbmFtZSA9ICcnOwogICAgICAgICAgICAgICAgX3RoaXMyMS5zYW5vYXQgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMjEuaGl6bWF0ID0gW107CiAgICAgICAgICAgICAgICBfdGhpczIxLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKTsKICAgICAgICAgICAgICAgIF90aGlzMjEuY29tcHV0ZWRPYnNlcnZlckhpem1hdC5yZXNldCgpOwogICAgICAgICAgICAgICAgX3RoaXMyMS5jb21wdXRlZE9ic2VydmVyU2Fub2F0LnJlc2V0KCk7CiAgICAgICAgICAgICAgICBfdGhpczIxLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIxLmxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMjEubG9hZGVyID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChfdGhpczIxLmVkaXRpbmdJdGVtLmNvZGVUaWZ0biAhPT0gJycpIHsKICAgICAgICAgICAgICBfdGhpczIxLiR0b2FzdChfdGhpczIxLiR0KCdyZXBvcnRpbmcuZXJyb3IxJyksIHsKICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIxLmVkaXRpbmdJdGVtLm5hbWVTZXJ2aWNlICE9PSAnJykgewogICAgICAgICAgICAgIF90aGlzMjEuJHRvYXN0KF90aGlzMjEuJHQoJ3JlcG9ydGluZy5lcnJvcjInKSwgewogICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMjEubG9hZGVyID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIxLiR0b2FzdChfdGhpczIxLiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Owp2YXIgaTE4biA9IHJlcXVpcmUoIkAvaTE4biIpOw=="},null]}