{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\shared\\services\\api.service.js","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\shared\\services\\api.service.js","mtime":1674799498043},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1667355397815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcb2hpcmdpXFxhY3J1LWZyb250ZW5kXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXEFDUlUgUFJPSkVDVFxcRmFpciBUZWNoXFxvaGlyZ2lcXGFjcnUtZnJvbnRlbmRcXGFjcnUtZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBUb2tlblNlcnZpY2UgfSBmcm9tICIuL3N0b3JhZ2Uuc2VydmljZSI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0YXRlL3N0b3JlIjsgLy8gaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4vdXNlci5zZXJ2aWNlIjsKLy8gRlVOQ1RJT04gRk9SIENIRUNLSU5HIElGIFNUUklORyBJUyBKU09OIFBBUlNBQkxFCgpmdW5jdGlvbiBpc0pzb24oc3RyKSB7CiAgdHJ5IHsKICAgIEpTT04ucGFyc2Uoc3RyKTsKICB9IGNhdGNoIChlKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gdHJ1ZTsKfQoKdmFyIEFwaVNlcnZpY2UgPSB7CiAgLy8gU3RvcmVzIHRoZSA0MDEgaW50ZXJjZXB0b3IgcG9zaXRpb24gc28gdGhhdCBpdCBjYW4gYmUgbGF0ZXIgZWplY3RlZCB3aGVuIG5lZWRlZAogIF80MDFpbnRlcmNlcHRvcjogbnVsbCwKICBfcmVxdWVzdEludGVyY2VwdG9yOiBudWxsLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoYmFzZVVSTCkgewogICAgYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IGJhc2VVUkw7CiAgfSwKICBzZXRIZWFkZXI6IGZ1bmN0aW9uIHNldEhlYWRlcigpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiQmVhcmVyICIuY29uY2F0KFRva2VuU2VydmljZS5nZXRUb2tlbigpKTsKICB9LAogIHJlbW92ZUhlYWRlcjogZnVuY3Rpb24gcmVtb3ZlSGVhZGVyKCkgewogICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24gPSB7fTsKICB9LAogIGFsbDogZnVuY3Rpb24gYWxsKHJlc291cmNlLCB3aXRoTG9hZGVyKSB7CiAgICByZXR1cm4gYXhpb3MuYWxsKHJlc291cmNlLCB7CiAgICAgIHdpdGhMb2FkZXI6IHdpdGhMb2FkZXIKICAgIH0pOwogIH0sCiAgc3ByZWFkOiBmdW5jdGlvbiBzcHJlYWQoKSB7CiAgICByZXR1cm4gYXhpb3Muc3ByZWFkLmFwcGx5KGF4aW9zLCBhcmd1bWVudHMpOwogIH0sCiAgZ2V0OiBmdW5jdGlvbiBnZXQocmVzb3VyY2UsIHdpdGhMb2FkZXIpIHsKICAgIHJldHVybiBheGlvcy5nZXQocmVzb3VyY2UsIHsKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlcgogICAgfSk7CiAgfSwKICBwb3N0OiBmdW5jdGlvbiBwb3N0KHJlc291cmNlLCBkYXRhKSB7CiAgICB2YXIgd2l0aExvYWRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTsKICAgIHJldHVybiBheGlvcy5wb3N0KHJlc291cmNlLCBkYXRhLCBfb2JqZWN0U3ByZWFkKHsKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlcgogICAgfSwgY29uZmlnKSk7CiAgfSwKICBwb3N0RmlsZTogZnVuY3Rpb24gcG9zdEZpbGUocmVzb3VyY2UsIGRhdGEpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICAgIHJldHVybiBheGlvcy5wb3N0KHJlc291cmNlLCBkYXRhLCB7CiAgICAgIHJlc3BvbnNlVHlwZTogImJsb2IiLAogICAgICB3aXRoTG9hZGVyOiB3aXRoTG9hZGVyCiAgICB9KTsKICB9LAogIHBvc3RGaWxlUHJvZmlsZTogZnVuY3Rpb24gcG9zdEZpbGVQcm9maWxlKHJlc291cmNlLCBkYXRhKSB7CiAgICB2YXIgd2l0aExvYWRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgICByZXR1cm4gYXhpb3MucHV0KHJlc291cmNlLCBkYXRhLCB7CiAgICAgIHJlc3BvbnNlVHlwZTogImJsb2IiLAogICAgICB3aXRoTG9hZGVyOiB3aXRoTG9hZGVyCiAgICB9KTsKICB9LAogIGdldEZpbGU6IGZ1bmN0aW9uIGdldEZpbGUocmVzb3VyY2UpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgIHJldHVybiBheGlvcy5nZXQocmVzb3VyY2UsIHsKICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIsCiAgICAgIHdpdGhMb2FkZXI6IHdpdGhMb2FkZXIKICAgIH0pOwogIH0sCiAgZm9ybURhdGFGaWxlOiBmdW5jdGlvbiBmb3JtRGF0YUZpbGUocmVzb3VyY2UsIGRhdGEpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICAgIHJldHVybiBheGlvcy5wb3N0KHJlc291cmNlLCBkYXRhLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgIH0sCiAgICAgIHdpdGhMb2FkZXI6IHdpdGhMb2FkZXIKICAgIH0pOwogIH0sCiAgZm9ybURhdGFQdXQ6IGZ1bmN0aW9uIGZvcm1EYXRhUHV0KHJlc291cmNlLCBkYXRhKSB7CiAgICByZXR1cm4gYXhpb3MucHV0KHJlc291cmNlLCBkYXRhLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgIH0KICAgIH0pOwogIH0sCiAgcHV0OiBmdW5jdGlvbiBwdXQocmVzb3VyY2UsIGRhdGEpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICAgIHJldHVybiBheGlvcy5wdXQocmVzb3VyY2UsIGRhdGEsIHsKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlcgogICAgfSk7CiAgfSwKICBkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUocmVzb3VyY2UpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgIHJldHVybiBheGlvcy5kZWxldGUocmVzb3VyY2UsIHsKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlcgogICAgfSk7CiAgfSwKCiAgLyoqDQogICAqIFBlcmZvcm0gYSBjdXN0b20gYXhpb3MgcmVxdWVzdC4NCiAgICoNCiAgICogZGF0YSBpcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6DQogICAqICAtIG1ldGhvZA0KICAgKiAgLSB1cmwNCiAgICogIC0gZGF0YSAuLi4gcmVxdWVzdCBwYXlsb2FkDQogICAqICAtIGF1dGggKG9wdGlvbmFsKQ0KICAgKiAgICAtIHVzZXJuYW1lDQogICAqICAgIC0gcGFzc3dvcmQNCiAgICoqLwogIGN1c3RvbVJlcXVlc3Q6IGZ1bmN0aW9uIGN1c3RvbVJlcXVlc3QoZGF0YSkgewogICAgcmV0dXJuIGF4aW9zKGRhdGEpOwogIH0sCiAgbW91bnQ0MDFJbnRlcmNlcHRvcjogZnVuY3Rpb24gbW91bnQ0MDFJbnRlcmNlcHRvcigpIHsKICAgIHZhciByZXF1ZXN0Q291bnQgPSAwOwogICAgdmFyIG1lc3NhZ2VzID0gW107CiAgICB0aGlzLl80MDFpbnRlcmNlcHRvciA9IGF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmIChyZXF1ZXN0Q291bnQgPiAwKQogICAgICAgIC8qIERFQ1JFTUVOVCBSRVFVRVNUIENPVU5UICovCiAgICAgICAgcmVxdWVzdENvdW50LS07CiAgICAgIC8qIEdMT0JBTCBMT0FESU5HIE9WRVJMQVkgUEFSVCAqLwoKICAgICAgaWYgKHJlcXVlc3RDb3VudCA9PT0gMCkgewogICAgICAgIC8vIENIRUNLIElGIFRIRVJFIFdFUkUgQU5ZIEVSUk9SUwogICAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBzdG9yZS5jb21taXQoIlNFVF9HTE9CQUxfU05BQ0tCQVIiLCBtZXNzYWdlcyk7CiAgICAgICAgICBtZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgVnVlLiR0b2FzdChtc2cubWVzc2FnZSwgewogICAgICAgICAgICAgIHR5cGU6IG1zZy50eXBlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBtZXNzYWdlcyA9IFtdOwogICAgICAgIH0KCiAgICAgICAgc3RvcmUuY29tbWl0KCJTRVRfR0xPQkFMX0xPQURJTkciLCBmYWxzZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0sIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGVycm9yKSB7CiAgICAgICAgdmFyIGFsZXJ0UGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdENvdW50ID4gMCkKICAgICAgICAgICAgICAgICAgLyogREVDUkVNRU5UIFJFUVVFU1QgQ09VTlQgKi8KICAgICAgICAgICAgICAgICAgcmVxdWVzdENvdW50LS07CiAgICAgICAgICAgICAgICAvKiBHTE9CQUwgTE9BRElORyBPVkVSTEFZIEFORA0KICAgICAgICAgICAgICAgICAgICAgICAgIFNIT1dJTkcgRVJST1IgTUVTU0FHRVMgUEFSVCAqLwoKICAgICAgICAgICAgICAgIGFsZXJ0UGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IucmVxdWVzdC5yZXNwb25zZSA/IGlzSnNvbihlcnJvci5yZXF1ZXN0LnJlc3BvbnNlKSA/IEpTT04ucGFyc2UoZXJyb3IucmVxdWVzdC5yZXNwb25zZSkubWVzc2FnZS5zdWJzdHJpbmcoMCwgMTIwKSA6IGVycm9yLnJlcXVlc3QucmVzcG9uc2UgOiAiKCIuY29uY2F0KGVycm9yLnJlcXVlc3Quc3RhdHVzLCAiKSAtIFNvbWV0aGluZyB3cm9uZywgcGxlYXNlIHRyeSBhZ2FpbiIpLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IucmVxdWVzdC5yZXNwb25zZSA/IGlzSnNvbihlcnJvci5yZXF1ZXN0LnJlc3BvbnNlKSA/IEpTT04ucGFyc2UoZXJyb3IucmVxdWVzdC5yZXNwb25zZSkuZGV0YWlscyA6IGVycm9yLnJlcXVlc3QucmVzcG9uc2UgOiBbXSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIC8qIEFERCBFUlJPUiBNRVNTQUdFIFRPIEdMT0JBTCBNRVNTQUdFUyBTVEFURSAqLwoKICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goYWxlcnRQYXlsb2FkKTsKCiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdENvdW50ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgiU0VUX0dMT0JBTF9MT0FESU5HIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoIlNFVF9HTE9CQUxfU05BQ0tCQVIiLCBtZXNzYWdlcyk7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXF1ZXN0LnN0YXR1cykgey8vIFRPRE86IFNhaGlmYSBtYXZqdWQgZW1hcyBkZWIgeW96aWIgcW8neWlzaCBrZXJhay4KICAgICAgICAgICAgICAgICAgICAgIC8vIG1zZy5tZXNzYWdlID0gdGhpcy4kdCgnbWVzc2FnZXMuZGF0YV9ub3RfZm91bmQnKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgVnVlLiR0b2FzdChtc2cubWVzc2FnZSwgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXNnLnR5cGUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCgoKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXF1ZXN0KSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXF1ZXN0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9nb3V0Iik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gLy8gSWYgZXJyb3Igd2FzIG5vdCA0MDEganVzdCByZWplY3QgYXMgaXMKCgogICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSk7CiAgICB0aGlzLl9yZXF1ZXN0SW50ZXJjZXB0b3IgPSBheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogICAgICBpZiAoY29uZmlnLndpdGhMb2FkZXIpIHsKICAgICAgICAvKiBHTE9CQUwgTE9BRElORyBPVkVSTEFZIFBBUlQgKi8KICAgICAgICBzdG9yZS5jb21taXQoIlNFVF9HTE9CQUxfTE9BRElORyIsIHRydWUpOwogICAgICAgIC8qIElOQ1JFTUVOVCBSRVFVRVNUIENPVU5UICovCgogICAgICAgIHJlcXVlc3RDb3VudCsrOwogICAgICB9CgogICAgICByZXR1cm4gY29uZmlnOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGlmIChyZXF1ZXN0Q291bnQgPiAwKQogICAgICAgIC8qIERFQ1JFTUVOVCBSRVFVRVNUIENPVU5UICovCiAgICAgICAgcmVxdWVzdENvdW50LS07CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICB9KTsKICB9LAogIHVubW91bnQ0MDFJbnRlcmNlcHRvcjogZnVuY3Rpb24gdW5tb3VudDQwMUludGVyY2VwdG9yKCkgewogICAgLy8gRWplY3QgdGhlIGludGVyY2VwdG9yCiAgICBheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZWplY3QodGhpcy5fNDAxaW50ZXJjZXB0b3IpOwogICAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZWplY3QodGhpcy5fcmVxdWVzdEludGVyY2VwdG9yKTsKICB9LAogIHJlc3BvbnNlVHlwZUJsb2I6IGZ1bmN0aW9uIHJlc3BvbnNlVHlwZUJsb2IodXJsLCB3aXRoTG9hZGVyKSB7CiAgICByZXR1cm4gYXhpb3MuZ2V0KHVybCwgewogICAgICB3aXRoTG9hZGVyOiB3aXRoTG9hZGVyLAogICAgICByZXNwb25zZVR5cGU6ICdibG9iJwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBBcGlTZXJ2aWNlOw=="},{"version":3,"sources":["C:/ACRU PROJECT/Fair Tech/ohirgi/acru-frontend/acru-frontend/src/shared/services/api.service.js"],"names":["Vue","axios","TokenService","store","isJson","str","JSON","parse","e","ApiService","_401interceptor","_requestInterceptor","init","baseURL","defaults","setHeader","headers","common","getToken","removeHeader","all","resource","withLoader","spread","get","post","data","config","postFile","responseType","postFileProfile","put","getFile","formDataFile","formDataPut","delete","customRequest","mount401Interceptor","requestCount","messages","interceptors","response","use","length","commit","forEach","msg","$toast","message","type","error","alertPayload","show","request","substring","status","description","details","push","dispatch","Promise","reject","unmount401Interceptor","eject","responseTypeBlob","url"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport axios from \"axios\";\r\nimport { TokenService } from \"./storage.service\";\r\nimport store from \"@/state/store\";\r\n\r\n// import UserService from \"./user.service\";\r\n\r\n// FUNCTION FOR CHECKING IF STRING IS JSON PARSABLE\r\nfunction isJson (str) {\r\n  try {\r\n    JSON.parse(str);\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nconst ApiService = {\r\n  // Stores the 401 interceptor position so that it can be later ejected when needed\r\n  _401interceptor: null,\r\n  _requestInterceptor: null,\r\n\r\n  init (baseURL) {\r\n    axios.defaults.baseURL = baseURL;\r\n  },\r\n\r\n  setHeader () {\r\n    axios.defaults.headers.common[\r\n      \"Authorization\"\r\n    ] = `Bearer ${TokenService.getToken()}`;\r\n  },\r\n\r\n  removeHeader () {\r\n    axios.defaults.headers.common = {};\r\n  },\r\n\r\n  all (resource, withLoader) {\r\n    return axios.all(resource, { withLoader: withLoader });\r\n  },\r\n\r\n  spread (...args) {\r\n    return axios.spread(...args);\r\n  },\r\n\r\n  get (resource, withLoader) {\r\n    return axios.get(resource, { withLoader: withLoader });\r\n  },\r\n\r\n  post (resource, data, withLoader = false, config = {}) {\r\n    return axios.post(resource, data, { withLoader: withLoader, ...config });\r\n  },\r\n  postFile (resource, data, withLoader = false) {\r\n    return axios.post(resource, data, {\r\n      responseType: \"blob\",\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  postFileProfile (resource, data, withLoader = false) {\r\n    return axios.put(resource, data, {\r\n      responseType: \"blob\",\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  getFile (resource, withLoader = false) {\r\n    return axios.get(resource, {\r\n      responseType: \"blob\",\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  formDataFile (resource, data, withLoader = false) {\r\n    return axios.post(resource, data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      },\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  formDataPut (resource, data) {\r\n    return axios.put(resource, data,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        },\r\n      })\r\n  },\r\n  put (resource, data, withLoader = false) {\r\n    return axios.put(resource, data, { withLoader: withLoader });\r\n  },\r\n\r\n  delete (resource, withLoader = false) {\r\n    return axios.delete(resource, { withLoader: withLoader });\r\n  },\r\n\r\n  /**\r\n   * Perform a custom axios request.\r\n   *\r\n   * data is an object containing the following properties:\r\n   *  - method\r\n   *  - url\r\n   *  - data ... request payload\r\n   *  - auth (optional)\r\n   *    - username\r\n   *    - password\r\n   **/\r\n  customRequest (data) {\r\n    return axios(data);\r\n  },\r\n\r\n  mount401Interceptor () {\r\n    let requestCount = 0;\r\n    let messages = [];\r\n    this._401interceptor = axios.interceptors.response.use(\r\n      response => {\r\n        if (requestCount > 0)\r\n          /* DECREMENT REQUEST COUNT */\r\n          requestCount--;\r\n        /* GLOBAL LOADING OVERLAY PART */\r\n        if (requestCount === 0) {\r\n          // CHECK IF THERE WERE ANY ERRORS\r\n          if (messages.length > 0) {\r\n            store.commit(\"SET_GLOBAL_SNACKBAR\", messages);\r\n            messages.forEach(msg => {\r\n              Vue.$toast(msg.message, { type: msg.type })\r\n            })\r\n            messages = [];\r\n          }\r\n\r\n          store.commit(\"SET_GLOBAL_LOADING\", false);\r\n        }\r\n        return response;\r\n      },\r\n      async error => {\r\n        if (requestCount > 0)\r\n          /* DECREMENT REQUEST COUNT */\r\n          requestCount--;\r\n        /* GLOBAL LOADING OVERLAY AND\r\n                 SHOWING ERROR MESSAGES PART */\r\n        let alertPayload = {\r\n          show: true,\r\n          message: error.request.response\r\n            ? (isJson(error.request.response)\r\n              ? JSON.parse(error.request.response).message.substring(0, 120)\r\n              : error.request.response)\r\n            : `(${error.request.status}) - Something wrong, please try again`,\r\n          description: error.request.response\r\n            ? isJson(error.request.response)\r\n              ? JSON.parse(error.request.response).details\r\n              : error.request.response\r\n            : [],\r\n          type: \"error\"\r\n        };\r\n        /* ADD ERROR MESSAGE TO GLOBAL MESSAGES STATE */\r\n        messages.push(alertPayload);\r\n        if (requestCount === 0) {\r\n          store.commit(\"SET_GLOBAL_LOADING\", false);\r\n          store.commit(\"SET_GLOBAL_SNACKBAR\", messages);\r\n          messages.forEach(msg => {\r\n            if (error.request.status) {\r\n              // TODO: Sahifa mavjud emas deb yozib qo'yish kerak.\r\n              // msg.message = this.$t('messages.data_not_found')\r\n            }\r\n            Vue.$toast(msg.message, { type: msg.type })\r\n          })\r\n          messages = [];\r\n        }\r\n        /* ------------------------------------------- */\r\n        if (error.request) {\r\n          if (error.request.status === 401) {\r\n            store.dispatch(\"auth/logout\");\r\n          }\r\n        }\r\n        // If error was not 401 just reject as is\r\n        throw error;\r\n      }\r\n    );\r\n    this._requestInterceptor = axios.interceptors.request.use(\r\n      function (config) {\r\n        if (config.withLoader) {\r\n          /* GLOBAL LOADING OVERLAY PART */\r\n          store.commit(\"SET_GLOBAL_LOADING\", true);\r\n          /* INCREMENT REQUEST COUNT */\r\n          requestCount++;\r\n        }\r\n\r\n        return config;\r\n      },\r\n      function (error) {\r\n        if (requestCount > 0)\r\n          /* DECREMENT REQUEST COUNT */\r\n          requestCount--;\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  },\r\n  unmount401Interceptor () {\r\n    // Eject the interceptor\r\n    axios.interceptors.response.eject(this._401interceptor);\r\n    axios.interceptors.request.eject(this._requestInterceptor);\r\n  },\r\n  responseTypeBlob(url, withLoader) {\r\n    return axios.get(url, {\r\n      withLoader: withLoader,\r\n      responseType: 'blob'\r\n    });\r\n  }\r\n};\r\n\r\nexport default ApiService;\r\n"]}]}