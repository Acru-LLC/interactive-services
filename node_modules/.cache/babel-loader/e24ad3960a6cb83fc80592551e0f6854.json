{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\projects\\comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\projects\\comments.vue","mtime":1674799497703},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBwcm9qZWN0U2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9wcm9qZWN0U2VydmljZSI7CmltcG9ydCBzaW1wbGViYXIgZnJvbSAic2ltcGxlYmFyLXZ1ZSI7CmltcG9ydCB7IHJlcGxhY2VEYXRlIH0gZnJvbSAiQC9oZWxwZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsiaGVpZ2h0IiwgInByb2plY3QiXSwKICB3YXRjaDogewogICAgZmlsZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHYpIHsKICAgICAgICBpZiAodikgewogICAgICAgICAgdGhpcy5maWxlTW9kYWwgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlcGxhY2VEYXRlOiByZXBsYWNlRGF0ZSwKICAgICAgZmlsZU1vZGFsOiBmYWxzZSwKICAgICAgY29tbWVudDogIiIsCiAgICAgIGZpbGU6IG51bGwsCiAgICAgIHBhcmFtczogewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgaXRlbXNQZXJQYWdlOiAyMAogICAgICB9LAogICAgICBjb21tZW50czogW10sCiAgICAgIGNvbW1lbnRQYWdlOiAwLAogICAgICBsb2FkZXJDbXQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgc2ltcGxlYmFyOiBzaW1wbGViYXIKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxpc3RDb21tZW50cygpOwogIH0sCiAgbWV0aG9kczogewogICAgc2VuZEZpbGU6IGZ1bmN0aW9uIHNlbmRGaWxlKG1lc3NhZ2UsIGZpbGUpIHsKICAgICAgdGhpcy5sZWF2ZUNvbW1lbnQobWVzc2FnZSwgZmlsZSk7CiAgICAgIHRoaXMuZmlsZU1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMuZmlsZSA9IG51bGw7CiAgICB9LAogICAgY2xpY2tVcGxvYWQ6IGZ1bmN0aW9uIGNsaWNrVXBsb2FkKCkgewogICAgICB0aGlzLiRyZWZzLmZpbGUudXBsZCgpOwogICAgfSwKICAgIGxlYXZlQ29tbWVudDogZnVuY3Rpb24gbGVhdmVDb21tZW50KGNtdCwgZmlsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgdGhpcy5sb2FkZXJDbXQgPSB0cnVlOwogICAgICAgIHByb2plY3RTZXJ2aWNlLmxlYXZlQ29tbWVudChpZCwgY210LCBmaWxlKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgX3RoaXMuY29tbWVudCA9ICIiOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLmxpc3RDb21tZW50cygpOwogICAgICAgICAgfSwgMzAwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5sb2FkZXJDbXQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICB9CiAgICB9LAogICAgbGlzdENvbW1lbnRzOiBmdW5jdGlvbiBsaXN0Q29tbWVudHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgcHJvamVjdFNlcnZpY2UubGlzdENvbW1lbnRzKGlkLCB0aGlzLnBhcmFtcywgdHJ1ZSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgIF90aGlzMi5jb21tZW50cyA9IHJzLmRhdGEubGlzdDsKICAgICAgICAgIF90aGlzMi5oYW5kbGVTY3JvbGwoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgfQogICAgfSwKICAgIGxvYWRNb3JlQ29tbWVudHM6IGZ1bmN0aW9uIGxvYWRNb3JlQ29tbWVudHMocGFnZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICAgIGlmIChpZCkgewogICAgICAgIHByb2plY3RTZXJ2aWNlLmxpc3RDb21tZW50cyhpZCwgewogICAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICAgIGl0ZW1zUGVyUGFnZTogMjAKICAgICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYpIHsKICAgICAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5jb21tZW50cyA9IF90aGlzMy5jb21tZW50cy5jb25jYXQoZGF0YS5saXN0KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuY29tbWVudFBhZ2UgKyAtMTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgfSkpOwogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNjcm9sbDogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgaWYgKHRoaXMuJHJlZnMuY29tbWVudHNSZWYuJGVsKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQuJHJlZnMuY29tbWVudHNSZWYuU2ltcGxlQmFyLmdldFNjcm9sbEVsZW1lbnQoKS5zY3JvbGxUb3AgPSAwOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgIHZhciBjb250YWluZXIzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NvbW1lbnQtbGlzdCAuc2ltcGxlYmFyLWNvbnRlbnQtd3JhcHBlciIpOwogICAgaWYgKGNvbnRhaW5lcjMpIHsKICAgICAgY29udGFpbmVyMy5zY3JvbGxUbyh7CiAgICAgICAgdG9wOiA1MDAsCiAgICAgICAgYmVoYXZpb3I6ICJzbW9vdGgiCiAgICAgIH0pOwogICAgfQogICAgLy8gQ29udGFjdCBsaXN0IGFjdGlvbnMKICAgIHRoaXMuJHJlZnMuY29tbWVudHNSZWYuU2ltcGxlQmFyLmdldFNjcm9sbEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgX2V2ZW50JHRhcmdldCA9IGV2ZW50LnRhcmdldCwKICAgICAgICBzY3JvbGxUb3AgPSBfZXZlbnQkdGFyZ2V0LnNjcm9sbFRvcCwKICAgICAgICBzY3JvbGxIZWlnaHQgPSBfZXZlbnQkdGFyZ2V0LnNjcm9sbEhlaWdodCwKICAgICAgICBjbGllbnRIZWlnaHQgPSBfZXZlbnQkdGFyZ2V0LmNsaWVudEhlaWdodDsKICAgICAgdmFyIG9mZnNldEZvclRyaWdnZXIgPSAxOwogICAgICBpZiAoc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0IC0gb2Zmc2V0Rm9yVHJpZ2dlciA8IHNjcm9sbFRvcCkgewogICAgICAgIF90aGlzNS5sb2FkTW9yZUNvbW1lbnRzKF90aGlzNS5jb21tZW50UGFnZSArPSAxKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;AA2GA;AACA;AACA;AACA;EACAA;EACAC;IACAC;MACAC;QACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAL;MACAM;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACAC,eACAD,4BACAE;UACA;UACAC;YACA;UACA;QACA,GACAC;UACA;QAAA,CACA,EACAC;UACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAL,eACAK,oCACAJ;UACA;UACA;QACA,GACAE;UACA;QAAA,CACA;MACA;QACA;MACA;IACA;IACAG;MAAA;MACA;MACA;QACAN,eACAK;UACAjB;UACAC;QACA,GACAY;UAAA;YAAA;YAAA;cAAA;gBAAA;kBAAAlB;kBACA;oBACA;kBACA;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA,CACA;UAAA;YAAA;UAAA;QAAA,KACAoB;UACA;QAAA,CACA;MACA;QACA;MACA;IACA;IACAI;MAAA;MACA;QACAL;UACA;QACA;MACA;IACA;EACA;EACAM;IAAA;IACA,wCACA,2CACA;IACA;MACAC;QAAAC;QAAAC;MAAA;IACA;IACA;IACA,qEACA,UACA;MACA;QAAAC;QAAAC;QAAAC;MACA;MACA;QACA;MACA;IACA,EACA;EACA;AACA","names":["props","watch","file","handler","data","replaceDate","fileModal","comment","params","page","itemsPerPage","comments","commentPage","loaderCmt","components","simplebar","created","methods","sendFile","clickUpload","leaveComment","projectService","then","setTimeout","catch","finally","listComments","loadMoreComments","handleScroll","mounted","container3","top","behavior","scrollTop","scrollHeight","clientHeight"],"sourceRoot":"src/modules/projects","sources":["comments.vue"],"sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <h4 class=\"card-title mb-4\">{{ $t(\"cmts\") }}</h4>\r\n      <simplebar\r\n        :style=\"height ? 'height:330px' : 'height: 330px'\"\r\n        id=\"comment-list\"\r\n        ref=\"commentsRef\"\r\n      >\r\n        <div class=\"media mb-4\" v-for=\"(cmt, index) in comments\" :key=\"index\">\r\n          <div class=\"mr-3\">\r\n            <img\r\n              v-if=\"cmt.employeeUploadPath\"\r\n              class=\"media-object rounded-circle avatar-xs\"\r\n              alt\r\n              :src=\"`${hrUrl}/${cmt.employeeUploadPath}`\"\r\n            />\r\n            <div v-else class=\"avatar-xs mr-3\">\r\n              <span\r\n                class=\"\r\n                  avatar-title\r\n                  rounded-circle\r\n                  bg-soft-primary\r\n                  text-primary\r\n                  font-size-16\r\n                \"\r\n              >\r\n                {{\r\n                  `${cmt.ownerLastName.charAt(0)}${cmt.ownerFirstName.charAt(\r\n                    0\r\n                  )}`\r\n                }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"media-body\">\r\n            <h5 class=\"font-size-13 font-weight-bold mb-1\">\r\n              {{\r\n                `${cmt.ownerLastName} ${cmt.ownerFirstName} ${cmt.ownerMiddleName}`\r\n              }}\r\n            </h5>\r\n            <div v-if=\"cmt.uploadPath\">\r\n              <p class=\"mb-1 d-flex align-items-center\">\r\n                <a\r\n                  :href=\"`${baseUrl}/${cmt.uploadPath}`\"\r\n                  :download=\"`file.${cmt.fileExtension}`\"\r\n                  class=\"fa fas fa-arrow-alt-circle-down text-primary\"\r\n                  style=\"font-size: 35px\"\r\n                ></a>\r\n                <span class=\"ml-2\">{{ cmt.fileName }}</span>\r\n              </p>\r\n            </div>\r\n\r\n            <p class=\"mb-1\" style=\"word-break: break-all !important\">\r\n              {{ cmt.comment }}\r\n            </p>\r\n            <p class=\"text-muted mb-0 font-size-10\">\r\n              <i class=\"bx bx-calendar mr-1 text-primary\"></i>\r\n              {{ replaceDate(cmt.date).daym_shortyyyy_hm() }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </simplebar>\r\n    </div>\r\n\r\n    <div class=\"pl-3 pr-3 pt-3\">\r\n      <form v-if=\"project && project.status != 'FINISHED'\">\r\n        <div class=\"form-group m-0\" style=\"position: relative\">\r\n          <textarea\r\n            style=\"resize: none\"\r\n            @keyup.enter=\"leaveComment(comment)\"\r\n            v-model=\"comment\"\r\n            class=\"form-control\"\r\n            id=\"commentmessage-input\"\r\n            :placeholder=\"$t('writeCmt')\"\r\n            rows=\"3\"\r\n          ></textarea>\r\n          <b-button\r\n            variant=\"white\"\r\n            class=\"iconUpload\"\r\n            @click.prevent=\"clickUpload\"\r\n            style=\"padding: 1px\"\r\n            size=\"sm\"\r\n          >\r\n            <i class=\"bx bxs-file-doc text-primary font-size-20\"></i>\r\n          </b-button>\r\n        </div>\r\n\r\n        <b-button\r\n          @click=\"leaveComment(comment)\"\r\n          class=\"mt-1 float-right mb-3\"\r\n          variant=\"primary\"\r\n        >\r\n          <b-overlay :show=\"loaderCmt\" rounded=\"sm\" opacity=\"0.1\">\r\n            {{ $t(\"actions.send\") }}\r\n\r\n            <i class=\"bx bx-send\"></i>\r\n          </b-overlay>\r\n        </b-button>\r\n      </form>\r\n\r\n      <upload-file :cmt=\"true\" ref=\"file\" @sendFile=\"sendFile\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport projectService from \"@/shared/services/projectService\";\r\nimport simplebar from \"simplebar-vue\";\r\nimport { replaceDate } from \"@/helper\";\r\nexport default {\r\n  props: [\"height\", \"project\"],\r\n  watch: {\r\n    file: {\r\n      handler(v) {\r\n        if (v) {\r\n          this.fileModal = true;\r\n        }\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      replaceDate: replaceDate,\r\n      fileModal: false,\r\n      comment: \"\",\r\n      file: null,\r\n      params: {\r\n        page: 0,\r\n        itemsPerPage: 20,\r\n      },\r\n      comments: [],\r\n      commentPage: 0,\r\n      loaderCmt: false,\r\n    };\r\n  },\r\n  components: {\r\n    simplebar,\r\n  },\r\n  created() {\r\n    this.listComments();\r\n  },\r\n  methods: {\r\n    sendFile(message, file) {\r\n      this.leaveComment(message, file);\r\n      this.fileModal = false;\r\n      this.file = null;\r\n    },\r\n    clickUpload() {\r\n      this.$refs.file.upld();\r\n    },\r\n    leaveComment(cmt, file) {\r\n      let id = this.$route.query.id;\r\n      if (id) {\r\n        this.loaderCmt = true;\r\n        projectService\r\n          .leaveComment(id, cmt, file)\r\n          .then((rs) => {\r\n            this.comment = \"\";\r\n            setTimeout(() => {\r\n              this.listComments();\r\n            }, 300);\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          })\r\n          .finally(() => {\r\n            this.loaderCmt = false;\r\n          });\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    listComments() {\r\n      let id = this.$route.query.id;\r\n      if (id) {\r\n        projectService\r\n          .listComments(id, this.params, true)\r\n          .then((rs) => {\r\n            this.comments = rs.data.list;\r\n            this.handleScroll();\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          });\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    loadMoreComments(page) {\r\n      let id = this.$route.query.id;\r\n      if (id) {\r\n        projectService\r\n          .listComments(id, {\r\n            page: page,\r\n            itemsPerPage: 20,\r\n          })\r\n          .then(async ({ data }) => {\r\n            if (data.list.length > 0) {\r\n              this.comments = this.comments.concat(data.list);\r\n            } else {\r\n              this.commentPage + -1;\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          });\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    handleScroll() {\r\n      if (this.$refs.commentsRef.$el) {\r\n        setTimeout(() => {\r\n          this.$refs.commentsRef.SimpleBar.getScrollElement().scrollTop = 0;\r\n        }, 500);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    var container3 = document.querySelector(\r\n      \"#comment-list .simplebar-content-wrapper\"\r\n    );\r\n    if (container3) {\r\n      container3.scrollTo({ top: 500, behavior: \"smooth\" });\r\n    }\r\n    // Contact list actions\r\n    this.$refs.commentsRef.SimpleBar.getScrollElement().addEventListener(\r\n      \"scroll\",\r\n      (e) => {\r\n        let { scrollTop, scrollHeight, clientHeight } = event.target;\r\n        const offsetForTrigger = 1;\r\n        if (scrollHeight - clientHeight - offsetForTrigger < scrollTop) {\r\n          this.loadMoreComments((this.commentPage += 1));\r\n        }\r\n      }\r\n    );\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.iconUpload {\r\n  position: absolute;\r\n  right: 2px;\r\n  bottom: 2px;\r\n}\r\n</style>"]}]}