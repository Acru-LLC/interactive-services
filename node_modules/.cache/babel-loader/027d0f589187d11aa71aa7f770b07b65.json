{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\chat\\messages.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\chat\\messages.vue","mtime":1674799498012},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IENvbnRhY3RzRm9yd2FyZCBmcm9tICIuL2NvbnRhY3RzIjsKaW1wb3J0IEZpbGVWaWV3IGZyb20gIi4vY29tcG9uZW50cy9maWxlVmlldy52dWUiOwovLyBpbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CmltcG9ydCBzaW1wbGViYXIgZnJvbSAic2ltcGxlYmFyLXZ1ZSI7CmltcG9ydCB7IGdldEV4dEZyb21OYW1lLCBpbWFnZVR5cGVzIH0gZnJvbSAiQC9oZWxwZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRDb250YWN0OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgaWYgKHYpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zY3JvbGxCb3R0b20oKTsKICAgICAgICAgICAgLy8gdGhpcy5zY3JvbGxUb3AoKTsKICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2VhcmNoTWVzc2FnZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHYpIHsKICAgICAgICB0aGlzLiRlbWl0KCJzZWFyY2hNc2ciLCB2KTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaFZhbHVlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikgewogICAgICAgIGlmICh0aGlzLiRyZWZzLmNvbnRhY3RSZWZGb3J3YXJkKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmNvbnRhY3RSZWZGb3J3YXJkLnJlc2V0KHYpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgcHJvcHM6IFsiY3VycmVudENvbnRhY3QiLCAibWVzc2FnZXMiLCAiZW1vamllcyIsICJzdWJtaXR0ZWQiLCAidXNlcm5hbWUiLCAibm9Nc2ciLCAiY2hhdFR5cGUiLCAibW9iaWxlQ2hhdCJdLAogIHZhbGlkYXRpb25zOiB7CiAgICBmb3JtOiB7CiAgICAgIG1lc3NhZ2U6IHsKICAgICAgICAvLyByZXF1aXJlZCwKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgc2ltcGxlYmFyOiBzaW1wbGViYXIsCiAgICBDb250YWN0c0ZvcndhcmQ6IENvbnRhY3RzRm9yd2FyZCwKICAgIEZpbGVWaWV3OiBGaWxlVmlldwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlTXNnOiBmdW5jdGlvbiB1cGRhdGVNc2coZGF0YSkgewogICAgICB0aGlzLmZvcm0ubWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKICAgICAgdGhpcy5yZXBseU1zZyhkYXRhLCAiZWRpdCIpOwogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy5zZWFyY2hWYWx1ZSA9ICIiOwogICAgICB0aGlzLmZvcndhcmRNc2cobnVsbCwgZmFsc2UpOwogICAgfSwKICAgIGNvbnRhY3RVc2VybmFtZTogZnVuY3Rpb24gY29udGFjdFVzZXJuYW1lKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLnNlYXJjaFZhbHVlID0gIiI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5mb3J3YXJkTXNnKF90aGlzMi50b2FzdERhdGEsIGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIucmVwbHlNc2coX3RoaXMyLnRvYXN0RGF0YSwgImZvcndhcmQiKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGVtaXQoImNvbnRhY3RVc2VybmFtZSIsIGRhdGEpOwogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZm9yd2FyZE1zZzogZnVuY3Rpb24gZm9yd2FyZE1zZyhkYXRhLCBiKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLnRvYXN0RGF0YSA9IGRhdGE7CiAgICAgIHRoaXMuZm9yd2FyZE1vZGFsID0gYjsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMy4kcmVmcy5jb250YWN0UmVmRm9yd2FyZCkgewogICAgICAgICAgX3RoaXMzLiRyZWZzLmNvbnRhY3RSZWZGb3J3YXJkLnJlc2V0KCk7CiAgICAgICAgfQogICAgICB9LCAzMDApOwogICAgfSwKICAgIHJlcGx5TXNnOiBmdW5jdGlvbiByZXBseU1zZyhkYXRhLCBiKSB7CiAgICAgIHRoaXMudG9hc3RTdGF0dXMgPSBiOwogICAgICB0aGlzLnRvYXN0RGF0YSA9IGRhdGE7CiAgICB9LAogICAgc2Nyb2xsQm90dG9tOiBmdW5jdGlvbiBzY3JvbGxCb3R0b20oKSB7CiAgICAgIHZhciBjb250YWluZXIyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NvbnRhaW5lckVsZW1lbnQgLnNpbXBsZWJhci1jb250ZW50LXdyYXBwZXIiKTsKICAgICAgaWYgKGNvbnRhaW5lcjIpIHsKICAgICAgICBjb250YWluZXIyLnNjcm9sbFRvKHsKICAgICAgICAgIHRvcDogY29udGFpbmVyMi5zY3JvbGxIZWlnaHQsCiAgICAgICAgICBiZWhhdmlvcjogInNtb290aCIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNjcm9sbFRvcDogZnVuY3Rpb24gc2Nyb2xsVG9wKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGNvbnRhaW5lcjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY29udGFpbmVyRWxlbWVudCAuc2ltcGxlYmFyLWNvbnRlbnQtd3JhcHBlciIpOwogICAgICB0aGlzLiRyZWZzLmN1cnJlbnQuU2ltcGxlQmFyLmdldFNjcm9sbEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNvbnRhaW5lcjIuc2Nyb2xsVG9wID09PSAwKSB7CiAgICAgICAgICBpZiAoX3RoaXM0LmNoYXRUeXBlID09PSAiY2hhdCIpIHsKICAgICAgICAgICAgX3RoaXM0LiRlbWl0KCJnZXRNZXNzYWdlc0J5Q2hhdElkIiwgY29udGFpbmVyMik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczQuJGVtaXQoImdldE1lc3NhZ2VzQnlHcm91cElkIiwgY29udGFpbmVyMik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoZWlnaHRXaW5kb3c6IHdpbmRvdy5pbm5lckhlaWdodCwKICAgICAgcHVibGljUGF0aDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgICAgIHNlYXJjaFZhbHVlOiAiIiwKICAgICAgZm9yd2FyZE1vZGFsOiBmYWxzZSwKICAgICAgdG9hc3REYXRhOiBudWxsLAogICAgICB0b2FzdFN0YXR1czogImhpZGRlbiIsCiAgICAgIGZvcm06IHsKICAgICAgICBtZXNzYWdlOiAiIgogICAgICB9LAogICAgICBpbWFnZVR5cGVzOiBpbWFnZVR5cGVzLAogICAgICBnZXRFeHRGcm9tTmFtZTogZ2V0RXh0RnJvbU5hbWUsCiAgICAgIHNlYXJjaE1lc3NhZ2U6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgdmFyIHZtID0gdGhpczsKICAgIHRoaXMuJHJvb3QuJG9uKCJidjo6ZHJvcGRvd246OnNob3ciLCBmdW5jdGlvbiAoKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh2bS4kcmVmcy5tZXNzYWdlSW5wdXRSZWYpIHsKICAgICAgICAgIHZtLiRyZWZzLm1lc3NhZ2VJbnB1dFJlZi5mb2N1cygpOwogICAgICAgIH0KICAgICAgfSwgMzAwKTsKICAgIH0pOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzNS5zY3JvbGxCb3R0b20oKTsKICAgICAgX3RoaXM1LnNjcm9sbFRvcCgpOwogICAgICAvLyBNZXNzYWdlcyBzY3JvbGwgYWN0aW9uCiAgICB9LCAyMDApOwogIH0KfTs="},{"version":3,"mappings":";;AAuZA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC;MACAC;QAAA;QACA;UACAC;YACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACAF;QACA;MACA;IACA;IACAG;MACAH;QACA;UACA;QACA;MACA;IACA;EACA;EACAI,QACA,kBACA,YACA,WACA,aACA,YACA,SACA,YACA,aACA;EACAC;IACAC;MACAC;QACA;MAAA;IAEA;EACA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACA;MACAf;QACA;UACA;QACA;MACA;IACA;IACAgB;MACA;MACA;IACA;IACAC;MACA,wCACA,+CACA;MACA;QACAC;UACAC;UACAC;QACA;MACA;IACA;IACAC;MAAA;MACA,wCACA,+CACA;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAtB;MACAuB;MACAC;MACAC;MACAtB;QACAC;MACA;MACAsB;MACAC;MACA5B;IACA;EACA;EACA6B;IAAA;IACA;IACA;MACA9B;QACA;UACA+B;QACA;MACA;IACA;IAEA/B;MACA;MACA;MACA;IACA;EACA;AACA","names":["watch","currentContact","handler","setTimeout","searchMessage","searchValue","props","validations","form","message","components","simplebar","ContactsForward","FileView","methods","updateMsg","clear","contactUsername","forwardMsg","replyMsg","scrollBottom","container2","top","behavior","scrollTop","data","heightWindow","publicPath","forwardModal","toastData","toastStatus","imageTypes","getExtFromName","mounted","vm"],"sourceRoot":"src/modules/chat","sources":["messages.vue"],"sourcesContent":["<template>\r\n  <div\r\n      :style=\"mobileChat ? `height:${heightWindow}px` : ''\"\r\n      class=\"w-100 user-chat\"\r\n      :class=\"mobileChat ? 'block-display-992' : 'none-display-992'\"\r\n  >\r\n    <div class=\"card\">\r\n      <div class=\"p-3 border-bottom\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-9\">\r\n            <div>\r\n              <b-button\r\n                  @click=\"$emit('back')\"\r\n                  variant=\"primary\"\r\n                  v-if=\"mobileChat\"\r\n                  class=\"mb-2\"\r\n              >\r\n                <i class=\"fa fa-arrow-left\"></i>\r\n              </b-button>\r\n              <div class=\"d-flex align-items-center\">\r\n                <div v-if=\"currentContact && currentContact.uploadPath\">\r\n                  <img :src=\"`${publicPath}${currentContact.uploadPath}`\" class=\"rounded-circle avatar-sm\" alt/>\r\n                </div>\r\n                <div>\r\n                  <h5 class=\"font-size-16 font-weight-bold ml-2\">\r\n                    {{ username }}\r\n                  </h5>\r\n                  <div v-if=\"chatType === 'group' && currentContact && currentContact.membersCount\" class=\"ml-2\">\r\n                    <span @click=\"$emit(  'viewGroupMembers')\" class=\"link-like\">\r\n                        {{ $t(\"chat.group_members\") }}\r\n                    </span>\r\n                    <b-badge variant=\"primary\" class=\"ml-2 font-size-12\">\r\n                      {{ currentContact.membersCount }}\r\n                    </b-badge>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-8 col-3\">\r\n            <ul class=\"list-inline user-chat-nav text-right mb-0\" v-show=\"currentContact\">\r\n              <li class=\"list-inline-item d-sm-inline-block\">\r\n                <b-dropdown menu-class=\"dropdown-menu-md right-0\" variant=\"white\" dropleft toggle-class=\"nav-btn\">\r\n                  <template v-slot:button-content>\r\n                    <i class=\"bx bx-search-alt-2\"></i>\r\n                  </template>\r\n                  <form class=\"p-3\">\r\n                    <div class=\"form-group m-0\">\r\n                      <div class=\"input-group\">\r\n                        <input\r\n                            ref=\"messageInputRef\"\r\n                            type=\"text\"\r\n                            v-model=\"searchMessage\"\r\n                            class=\"form-control\"\r\n                            :placeholder=\"$t('actions.search')\"\r\n                            aria-label=\"Recipient's username\"\r\n                        />\r\n                        <div class=\"input-group-append\">\r\n                          <button class=\"btn btn-primary\" type=\"submit\">\r\n                            <i class=\"mdi mdi-magnify\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </b-dropdown>\r\n              </li>\r\n              <li class=\"list-inline-item d-sm-inline-block\">\r\n                <b-dropdown\r\n                    v-if=\"chatType === 'group'\"\r\n                    toggle-class=\"nav-btn\"\r\n                    variant=\"white\"\r\n                    menu-class=\"right-0\"\r\n                    right\r\n                >\r\n                  <template v-slot:button-content>\r\n                    <i class=\"bx bx-cog\"></i>\r\n                  </template>\r\n                  <b-dropdown-item\r\n                      @click=\"$emit('editGroup')\"\r\n                      v-if=\"chatType === 'group'\"\r\n                  >{{ $t(\"actions.edit\") }}\r\n                  </b-dropdown-item>\r\n                  <b-dropdown-item @click=\"\r\n                                        $emit(\r\n                                        'deleteGroup'\r\n                                        )\r\n                                    \">{{ $t(\"actions.delete\") }}\r\n                  </b-dropdown-item>\r\n                  <b-dropdown-item\r\n                      @click=\"$emit('viewGroupMembers')\"\r\n                      v-if=\"chatType === 'group'\"\r\n                  >\r\n                    {{ $t(\"chat.group_members\") }}\r\n                  </b-dropdown-item>\r\n                  <b-dropdown-item\r\n                      @click=\"$emit('addMembersToGroup')\"\r\n                      v-if=\"chatType === 'group'\"\r\n                  >{{ $t(\"actions.add_to_group\") }}\r\n                  </b-dropdown-item>\r\n\r\n                  <!-- <b-dropdown-item>Muted</b-dropdown-item>\r\n<b-dropdown-item>Delete</b-dropdown-item> -->\r\n                </b-dropdown>\r\n              </li>\r\n\r\n              <!-- <li class=\"list-inline-item\">\r\n        <b-dropdown toggle-class=\"nav-btn\" right variant=\"white\">\r\n          <template v-slot:button-content>\r\n            <i class=\"bx bx-dots-horizontal-rounded\"></i>\r\n          </template>\r\n          <b-dropdown-item>Action</b-dropdown-item>\r\n          <b-dropdown-item>Another action</b-dropdown-item>\r\n          <b-dropdown-item>Something else</b-dropdown-item>\r\n        </b-dropdown>\r\n</li> -->\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"chat-users\">\r\n        <div class=\"chat-conversation p-3\">\r\n          <simplebar\r\n              :style=\"`height: ${mobileChat ? heightWindow - 220 : 440}px`\"\r\n              id=\"containerElement\"\r\n              ref=\"current\"\r\n          >\r\n            <ul class=\"list-unstyled\">\r\n              <li v-if=\"noMsg\">\r\n                <div class=\"chat-day-title m-2\">\r\n                  <span class=\"title\">{{ $t(\"messages.data_not_found\") }}</span>\r\n                </div>\r\n              </li>\r\n              <li\r\n                  v-show=\"currentContact\"\r\n                  v-for=\"(data, index) in messages\"\r\n                  :key=\"index\"\r\n                  :class=\"{ right: data.my }\"\r\n                  :id=\"data.id\"\r\n                  class=\"msgClass\"\r\n              >\r\n                <div class=\"conversation-list\">\r\n                  <b-dropdown\r\n                      variant=\"white\"\r\n                      menu-class=\"right-0\"\r\n                      right\r\n                  >\r\n                    <template v-slot:button-content>\r\n                      <i class=\"bx bx-dots-vertical-rounded\"></i>\r\n                    </template>\r\n                    <!-- <b-dropdown-item>Copy</b-dropdown-item>\r\n<b-dropdown-item>Save</b-dropdown-item>-->\r\n                    <b-dropdown-item\r\n                        v-if=\"data.my\"\r\n                        @click=\"updateMsg(data)\"\r\n                    >{{\r\n                        $t(\"actions.edit\")\r\n                      }}\r\n                    </b-dropdown-item>\r\n                    <b-dropdown-item @click=\"$emit('deleteMsg',data.id,data.groupChatId,data.chatId)\">\r\n                      {{ $t(\"actions.delete\") }}\r\n                    </b-dropdown-item>\r\n                    <b-dropdown-item\r\n                        v-if=\"chatType === 'chat'\"\r\n                        @click=\"replyMsg(data, 'reply')\"\r\n                    >{{ $t(\"actions.reply\") }}\r\n                    </b-dropdown-item>\r\n                    <b-dropdown-item\r\n                        v-if=\"chatType === 'chat'\"\r\n                        @click=\"forwardMsg(data, true)\"\r\n                    >{{ $t(\"actions.forward\") }}\r\n                    </b-dropdown-item>\r\n                  </b-dropdown>\r\n                  <div class=\"ctext-wrap\">\r\n                    <div class=\"conversation-name\" v-if=\"chatType === 'group'\">\r\n                      {{ data.ownerFullName }}\r\n                    </div>\r\n                    <div v-if=\"data.forwardUserId\" class=\"conversation-name\">\r\n                      <div\r\n                          v-if=\"data.forwardUploadPath\"\r\n                          class=\"d-flex align-items-center justify-content-center\"\r\n                      >\r\n                        <div>\r\n                          <b-img style=\"cursor: pointer\" width=\"200\" :src=\"`${publicPath}${data.forwardUploadPath}`\"\r\n                                 v-if=\" data.parentFileName && imageTypes.indexOf( getExtFromName(data.forwardFileName) ) > 0\"/>\r\n                          <a v-else :href=\"`${publicPath}${data.forwardUploadPath}`\">\r\n                            <FileView :uploadPath=\"data.forwardUploadPath\"/>\r\n                          </a>\r\n                        </div>\r\n                        <p class=\"mb-1\">{{ data.forwardFileName }}</p>\r\n                      </div>\r\n                      {{ data.forwardUserId ? `${$t(\"chat.forwarded_msg\")} ${data.forwardUserFullName} ${$t(\"column.from\")}` : \"\"\r\n                      }}\r\n                    </div>\r\n                    <div v-if=\"data.parentId\" class=\" pl-3 d-flex justify-content-start align-items-start \" style=\"\r\n                        border-left: 3px solid #556ee6;\r\n                        flex-direction: column;\"\r\n                    >\r\n                      <div class=\"conversation-name\">\r\n                        {{ data.parentId ? `${data.parentFullName} ` : \"\" }}\r\n                      </div>\r\n\r\n                      <div\r\n                          v-if=\"data.parentUploadPath\"\r\n                          class=\"d-flex align-items-center justify-content-center\"\r\n                      >\r\n                        <div>\r\n                          <b-img style=\"cursor: pointer\" width=\"200\" :src=\"`${publicPath}${data.parentUploadPath}`\"\r\n                                 v-if=\" data.parentFileName && imageTypes.indexOf( getExtFromName(data.parentFileName) ) > 0 \"\r\n                          />\r\n\r\n                          <a v-else :href=\"`${publicPath}${data.parentUploadPath}`\">\r\n                            <FileView :uploadPath=\"data.parentUploadPath\"/>\r\n                          </a>\r\n                        </div>\r\n                        <p class=\"mb-1\">{{ data.parentFileName }}</p>\r\n                      </div>\r\n\r\n                      <span class=\"d-block text-dark ml-2\" v-if=\"data.parentMessage\">\r\n                        {{ data.parentMessage }}\r\n                      </span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"data.uploadPath\"\r\n                        class=\"d-flex align-items-center\"\r\n                    >\r\n                      <b-img v-if=\"imageTypes.indexOf(getExtFromName(data.fileName)) > 0\"\r\n                             style=\"cursor: pointer\" width=\"200\"\r\n                             @click=\"$emit('viewImageFromMessages', data.uploadPath)\"\r\n                             :src=\"`${publicPath}${data.uploadPath}`\"\r\n                      />\r\n\r\n                      <a v-else :href=\"`${publicPath}${data.uploadPath}`\" :download=\"data.fileName\">\r\n                        <FileView :uploadPath=\"data.uploadPath\"/>\r\n                      </a>\r\n                      <p class=\"mb-1 ml-2\">{{ data.fileName }}</p>\r\n                    </div>\r\n                    <p\r\n                        class=\"pre m-0 font-size-14\"\r\n                        style=\"\r\n                        word-break: break-all !important;\r\n                        max-width: 1050px;\r\n                      \"\r\n                    >\r\n                      {{ data.message }}\r\n                    </p>\r\n                    <p class=\"chat-time mb-0\">\r\n                      <span\r\n                          v-if=\"data.edited\"\r\n                          class=\"mr-2\"\r\n                          style=\"font-size: 12px\"\r\n                      >{{ $t(\"edited\") }}</span>\r\n                      <!-- <i class=\"bx bx-time-five align-middle mr-1\"></i> -->\r\n                      {{ data.dateHour }}\r\n                      <i\r\n                          v-if=\"data.isRead === 'UNREAD' && data.my\"\r\n                          class=\"mdi mdi-check text-muted align-middle ml-1\"\r\n                      ></i>\r\n                      <i\r\n                          v-if=\"data.isRead === 'READ' && data.my\"\r\n                          class=\"mdi mdi-check-all text-muted align-middle ml-1\"\r\n                      ></i>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </simplebar>\r\n        </div>\r\n        <div class=\"p-3 chat-input-section\">\r\n          <div class=\"row\" v-if=\"currentContact\" >\r\n            <div class=\"col\">\r\n              <div class=\"position-relative\">\r\n                <div\r\n                    class=\"p-e bg-light replymsg\"\r\n                    v-if=\"\r\n                    (toastStatus === 'reply' ||\r\n                      toastStatus === 'forward' ||\r\n                      toastStatus === 'edit') &&\r\n                    toastData\r\n                  \"\r\n                >\r\n                  <div class=\"d-flex\" style=\"justify-content: space-between\" >\r\n                    <div class=\"d-flex\">\r\n                      <div class=\"mr-2\">\r\n                        <i\r\n                            class=\"fa\"\r\n                            :class=\"\r\n                            toastStatus === 'reply'\r\n                              ? 'fa-reply'\r\n                              : toastStatus === 'edit'\r\n                              ? 'fa-pencil-alt'\r\n                              : 'fa-forward'\r\n                          \"\r\n                        ></i>\r\n                      </div>\r\n                      <div>\r\n                        <h6 class=\"m-0 text-primary\">\r\n                          {{ toastData.ownerFullName }}\r\n                        </h6>\r\n\r\n                        <div class=\"d-flex\" style=\"align-items: center\" >\r\n                          <FileView :uploadPath=\"toastData.uploadPath\"/>\r\n                          <span class=\"d-block ml-2\">\r\n                            {{ toastData.fileName }}\r\n                          </span>\r\n                        </div>\r\n                        <p class=\"m-0 pre\" style=\"word-break: break-all !important; max-width: 900px; \">\r\n                          {{ toastData.message }}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <i\r\n                          @click=\"replyMsg(null, 'hidden')\"\r\n                          class=\"fa fa-times text-hover-danger p-2\"\r\n                          style=\"font-size: 15px\"\r\n                      ></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"position-relative\">\r\n                <b-form-input\r\n                    @keyup.enter=\"$emit('formSubmit')\"\r\n                    rows=\"1\"\r\n                    max-rows=\"30\"\r\n                    type=\"text\"\r\n                    v-model=\"form.message\"\r\n                    class=\"chat-input\"\r\n                    ref=\"msgInput\"\r\n                    :placeholder=\"$t('messaging.title')\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"float-left\">\r\n              <ul class=\"list-inline mb-0\">\r\n                <li class=\"list-inline-item\">\r\n                  <b-button id=\"button-1\" variant=\"light\" placement=\"top\" class=\"pt-1 pb-1 pl-2 pr-2\" >\r\n                    <i class=\"mdi mdi-emoticon-happy-outline font-size-16\"></i>\r\n                  </b-button>\r\n                </li>\r\n                <b-tooltip variant=\"light\" placement=\"top\" target=\"button-1\" >\r\n                  <div style=\"overflow: auto; height: 250px\">\r\n                    <span\r\n                        style=\"cursor: pointer\"\r\n                        @click=\"$emit('selectEmoji', e)\"\r\n                        class=\"font-size-22 emoji d-inline-block\"\r\n                        v-for=\"(e, index) in emojies\"\r\n                        :key=\"index\"\r\n                    >{{ e }}</span>\r\n                  </div>\r\n                </b-tooltip>\r\n\r\n                <li class=\"list-inline-item\">\r\n                  <b-button\r\n                      :disabled=\"toastStatus === 'forward'\"\r\n                      @click=\"$emit('fileUpload')\"\r\n                      v-b-tooltip.hover\r\n                      placement=\"top\"\r\n                      id=\"button-1\"\r\n                      variant=\"light\"\r\n                      class=\"pl-2 pr-2 pb-1 pt-1\"\r\n                  >\r\n                    <i class=\"mdi mdi-file-document-outline font-size-16\"></i>\r\n                  </b-button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"col-auto\">\r\n              <button @click.prevent=\"$emit('formSubmit')\" class=\"btn btn-primary btn-rounded chat-send w-md\" >\r\n                <span class=\"d-none d-sm-inline-block mr-2\">\r\n                  {{ $t(\"actions.send\") }}\r\n                </span>\r\n                <i class=\"mdi mdi-send\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <b-modal v-model=\"forwardModal\" size=\"md\" hide-header body-class=\"p-0\" >\r\n      <div>\r\n        <div class=\"p-3\">\r\n          <h5>{{ $t(\"actions.forward\") }}</h5>\r\n        </div>\r\n        <div class=\"p-2 mb-2\">\r\n          <div class=\"search-box\">\r\n            <div class=\"position-relative\">\r\n              <input type=\"text\" class=\"form-control\" v-model=\"searchValue\" :placeholder=\"$t('actions.filter')\" />\r\n              <i class=\"bx bx-search-alt search-icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ContactsForward ref=\"contactRefForward\" @contactUsername=\"contactUsername\" />\r\n      </div>\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"secondary\" @click=\"clear\" >\r\n          {{ $t(\"actions.close\") }}\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ContactsForward from \"./contacts\";\r\nimport FileView from \"./components/fileView.vue\"\r\n// import { required } from \"vuelidate/lib/validators\";\r\nimport simplebar from \"simplebar-vue\";\r\nimport { getExtFromName, imageTypes } from \"@/helper\";\r\n\r\nexport default {\r\n  watch: {\r\n    currentContact: {\r\n      handler(v) {\r\n        if (v) {\r\n          setTimeout(() => {\r\n            this.scrollBottom();\r\n            // this.scrollTop();\r\n          }, 200);\r\n        }\r\n      },\r\n    },\r\n    searchMessage: {\r\n      handler(v) {\r\n        this.$emit(\"searchMsg\", v);\r\n      },\r\n    },\r\n    searchValue: {\r\n      handler(v) {\r\n        if (this.$refs.contactRefForward) {\r\n          this.$refs.contactRefForward.reset(v);\r\n        }\r\n      },\r\n    },\r\n  },\r\n  props: [\r\n    \"currentContact\",\r\n    \"messages\",\r\n    \"emojies\",\r\n    \"submitted\",\r\n    \"username\",\r\n    \"noMsg\",\r\n    \"chatType\",\r\n    \"mobileChat\",\r\n  ],\r\n  validations: {\r\n    form: {\r\n      message: {\r\n        // required,\r\n      },\r\n    },\r\n  },\r\n  components: {\r\n    simplebar,\r\n    ContactsForward,\r\n    FileView\r\n  },\r\n  methods: {\r\n    updateMsg(data) {\r\n      this.form.message = data.message;\r\n      this.replyMsg(data, \"edit\");\r\n    },\r\n    clear() {\r\n      this.searchValue = \"\";\r\n      this.forwardMsg(null, false);\r\n    },\r\n    async contactUsername(data) {\r\n      this.searchValue = \"\";\r\n      await this.forwardMsg(this.toastData, false);\r\n      await this.replyMsg(this.toastData, \"forward\");\r\n      await this.$emit(\"contactUsername\", data);\r\n    },\r\n    forwardMsg(data, b) {\r\n      this.toastData = data;\r\n      this.forwardModal = b;\r\n      setTimeout(() => {\r\n        if (this.$refs.contactRefForward) {\r\n          this.$refs.contactRefForward.reset();\r\n        }\r\n      }, 300);\r\n    },\r\n    replyMsg(data, b) {\r\n      this.toastStatus = b;\r\n      this.toastData = data;\r\n    },\r\n    scrollBottom() {\r\n      let container2 = document.querySelector(\r\n          \"#containerElement .simplebar-content-wrapper\"\r\n      );\r\n      if (container2) {\r\n        container2.scrollTo({\r\n          top: container2.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      }\r\n    },\r\n    scrollTop() {\r\n      let container2 = document.querySelector(\r\n          \"#containerElement .simplebar-content-wrapper\"\r\n      );\r\n      this.$refs.current.SimpleBar.getScrollElement().addEventListener(\"scroll\", () => {\r\n        if (container2.scrollTop === 0) {\r\n          if (this.chatType === \"chat\") {\r\n            this.$emit(\"getMessagesByChatId\", container2);\r\n          } else {\r\n            this.$emit(\"getMessagesByGroupId\", container2);\r\n          }\r\n        }\r\n      });\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      heightWindow: window.innerHeight,\r\n      publicPath: process.env.BASE_URL,\r\n      searchValue: \"\",\r\n      forwardModal: false,\r\n      toastData: null,\r\n      toastStatus: \"hidden\",\r\n      form: {\r\n        message: \"\",\r\n      },\r\n      imageTypes: imageTypes,\r\n      getExtFromName: getExtFromName,\r\n      searchMessage: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    let vm = this;\r\n    this.$root.$on(\"bv::dropdown::show\", () => {\r\n      setTimeout(() => {\r\n        if (vm.$refs.messageInputRef) {\r\n          vm.$refs.messageInputRef.focus();\r\n        }\r\n      }, 300);\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.scrollBottom();\r\n      this.scrollTop();\r\n      // Messages scroll action\r\n    }, 200);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.replymsg {\r\n  position: absolute;\r\n  bottom: 5px;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 10px;\r\n  background: white;\r\n}\r\n\r\n.link-like {\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n}\r\n\r\n.right-0 {\r\n  left: unset !important;\r\n  right: 0 !important;\r\n}\r\n</style>"]}]}