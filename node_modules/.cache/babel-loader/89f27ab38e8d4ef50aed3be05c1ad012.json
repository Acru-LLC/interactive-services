{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\advertisement\\modules\\ad_passport_info\\UpdateItemFiles.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\advertisement\\modules\\ad_passport_info\\UpdateItemFiles.vue","mtime":1674799496621},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcb2hpcmdpXFxhY3J1LWZyb250ZW5kXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBNQUlOX0FQSV9VUkwgPSAnY29udHJhY3Rvci1hZHZlcnRpc2luZy1jb25zdHJ1Y3Rpb24nOwp2YXIgQVBQRU5EX0FQSV9VUkxfRk9SX0dPVkVSTk1FTlQgPSAnZmlyc3QtYWdlbnQtZmlsZXMnOwp2YXIgQVBQRU5EX0FQSV9VUkxfRk9SX0FHRU5DWSA9ICdzZWNvbmQtYWdlbnQtZmlsZXMnOwovKg0KKiBZT1UgTVVTVCBTRU5EIHt7IE1BSU5fQVBJX1VSTCB9fSBUTyBDUlVEX1NFUlZJQ0UgKi8KCmltcG9ydCBjcnVkQW5kTGlzdHNTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2NydWRfYW5kX2xpc3Quc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXBkYXRlSXRlbUZpbGVzIiwKCiAgLyoNCiAgKiBDT01QT05FTlRTICovCiAgY29tcG9uZW50czoge30sCgogIC8qDQogICogREFUQSAqLwogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICAgICAgZWRpdGluZ0l0ZW06IHsKICAgICAgICBhZGRyZXNzRHRvOiB7fQogICAgICB9LAogICAgICBlcnJvcnM6IFtdLAogICAgICBhcmNoaXRlY3REb2NGaWxlOiBbXSwKICAgICAgcGhvdG9zOiBbXSwKICAgICAgcGFzc3BvcnREb2NGaWxlOiBbXSwKICAgICAgcGFzc3BvcnRQaG90bzogW10sCiAgICAgIHBheW1lbnREb2NGaWxlOiBbXQogICAgfTsKICB9LAoKICAvKg0KICAqIENPTVBVVEVEICovCiAgY29tcHV0ZWQ6IHsKICAgIGlzTW9kZUNyZWF0ZTogZnVuY3Rpb24gaXNNb2RlQ3JlYXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PSAnQ3JlYXRlQWRQYXNzcG9ydEluZm9CeUFnZW5jeScgfHwgdGhpcy4kcm91dGUubmFtZSA9PSAnQ3JlYXRlQWRQYXNzcG9ydEluZm9CeUdvdmVybm1lbnQnOwogICAgfSwKICAgIGlzQnlBZ2VuY3k6IGZ1bmN0aW9uIGlzQnlBZ2VuY3koKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09ICdVcGRhdGVBZFBhc3Nwb3J0SW5mb0ZpbGVzQnlBZ2VuY3knOwogICAgfSwKICAgIGlzQnlHb3Zlcm5tZW50OiBmdW5jdGlvbiBpc0J5R292ZXJubWVudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT0gJ1VwZGF0ZUFkUGFzc3BvcnRJbmZvRmlsZXNCeUdvdmVybm1lbnQnOwogICAgfSwKICAgIGNvbXB1dGVkT2JzZXJ2ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkT2JzZXJ2ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyOwogICAgfQogICAgLyogbXVsdGlwbGVNaW5pbXVtQ29sbGVjdGlvbnNDb21wdXRlZE9ic2VydmVyICgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJHJlZnNbJ211bHRpcGxlLW1pbmltdW0tY29sbGVjdGlvbnMtb2JzZXJ2ZXInXQ0KICAgIH0sDQogICAgc2luZ2xlTWluaW11bUNvbGxlY3Rpb25VcGRhdGVDb21wdXRlZE9ic2VydmVyICgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJHJlZnNbJ3NpbmdsZS1taW5pbXVtLWNvbGxlY3Rpb24tdXBkYXRlLW9ic2VydmVyJ10NCiAgICB9ICovCgogIH0sCgogIC8qDQogICogTUVUSE9EUyAqLwogIG1ldGhvZHM6IHsKICAgIGdlbmVyYXRlVVVJRDogZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCkgewogICAgICB2YXIgZHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgdmFyIHIgPSAoZHQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwOwogICAgICAgIGR0ID0gTWF0aC5mbG9vcihkdCAvIDE2KTsKICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IHIgJiAweDMgfCAweDgpLnRvU3RyaW5nKDE2KTsKICAgICAgfSk7CiAgICAgIHJldHVybiB1dWlkOwogICAgfSwKICAgIHNldEZpbGVzRnJvbVNlcnZlcjogZnVuY3Rpb24gc2V0RmlsZXNGcm9tU2VydmVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNCeUdvdmVybm1lbnQpIHsKICAgICAgICAgICAgICAgICAgLy8gQVJDSElURUNUX0RPQ19GSUxFUwogICAgICAgICAgICAgICAgICBfdGhpcy5lZGl0aW5nSXRlbS5hcmNoaXRlY3REb2NGaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2goX3RoaXMucHVibGljUGF0aCArIGYudXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuYmxvYigpOwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG15QmxvYikgewogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLm5hbWUgPSBmLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubGFzdE1vZGlmaWVkID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgZi5uYW1lLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG15QmxvYi50eXBlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBfdGhpcy5wdWJsaWNQYXRoICsgZi51cmw7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIC8qIGxldCBmaWxlID0geyBzaXplOiBmLnNpemUsIG5hbWU6IGYubmFtZSwgdHlwZTogZi5jb250ZW50VHlwZSwgdXVpZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSB9Ow0KICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5wdWJsaWNQYXRoICsgZi51cmw7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKGZpbGUsIHVybCk7ICovCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5pc0J5QWdlbmN5KSB7CiAgICAgICAgICAgICAgICAgIC8vIEFSQ0hJVEVDVF9ET0NfRklMRVMKICAgICAgICAgICAgICAgICAgX3RoaXMuZWRpdGluZ0l0ZW0uYXJjaGl0ZWN0RG9jRmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZiwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaChfdGhpcy5wdWJsaWNQYXRoICsgZi51cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5ibG9iKCk7CiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobXlCbG9iKSB7CiAgICAgICAgICAgICAgICAgICAgICBteUJsb2IubmFtZSA9IGYubmFtZTsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIG15RmlsZSA9IG5ldyBGaWxlKFtteUJsb2JdLCBmLm5hbWUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IF90aGlzLnB1YmxpY1BhdGggKyBmLnVybDsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5hcmNoaXRlY3REb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUobXlGaWxlLCB1cmwpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgLyogY29uc3QgbW9ja0ZpbGUgPSB7IG5hbWU6IGYubmFtZSwgc2l6ZTogZi5zaXplIH07DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUuZHJvcHpvbmUub3B0aW9ucykgKi8KICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLmZpbGVzW2luZGV4XSA9IGYubmFtZTsKCiAgICAgICAgICAgICAgICAgICAgLyogdGhpcy4kcmVmcy5hcmNoaXRlY3REb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5kcm9wem9uZS5vcHRpb25zLmFkZGVkZmlsZSh0aGlzLiRyZWZzLmFyY2hpdGVjdERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLCBtb2NrRmlsZSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUuZHJvcHpvbmUub3B0aW9ucy50aHVtYm5haWwodGhpcy4kcmVmcy5hcmNoaXRlY3REb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZSwgbW9ja0ZpbGUsIHRoaXMucHVibGljUGF0aCArIGYudXJsKTsgKi8KCiAgICAgICAgICAgICAgICAgICAgLyogbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgICAgICBtb2NrRmlsZS5wcmV2aWV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkei1jb21wbGV0ZScpOyAqLwogICAgICAgICAgICAgICAgICAgIC8vIGxldCBmaWxlID0gbmV3IEZpbGUoWyIiXSwgZi5uYW1lLCB7IHR5cGU6IGYuY29udGVudFR5cGUsIHNpemU6IGYuc2l6ZSwgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9KQogICAgICAgICAgICAgICAgICAgIC8vIGZpbGUuc2l6ZSA9IGYuc2l6ZQogICAgICAgICAgICAgICAgICAgIC8vIGxldCBmaWxlID0geyBzaXplOiBmLnNpemUsIG5hbWU6IGYubmFtZSwgdHlwZTogZi5jb250ZW50VHlwZSwgdXVpZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSB9OwoKICAgICAgICAgICAgICAgICAgICAvKiBsZXQgdXJsID0gdGhpcy5wdWJsaWNQYXRoICsgZi51cmw7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYXJjaGl0ZWN0RG9jVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsgKi8KICAgICAgICAgICAgICAgICAgfSk7IC8vIE9CSkVDVF9QSE9UT1MKCgogICAgICAgICAgICAgICAgICBfdGhpcy5lZGl0aW5nSXRlbS5vYmplY3RQaG90b0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoZikgewogICAgICAgICAgICAgICAgICAgIGZldGNoKF90aGlzLnB1YmxpY1BhdGggKyBmLnVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmJsb2IoKTsKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChteUJsb2IpIHsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gZi5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbXlGaWxlID0gbmV3IEZpbGUoW215QmxvYl0sIGYubmFtZSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBteUJsb2IudHlwZQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gX3RoaXMucHVibGljUGF0aCArIGYudXJsOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnBob3Rvc1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvKiBsZXQgZmlsZSA9IHsgc2l6ZTogZi5zaXplLCBuYW1lOiBmLm5hbWUsIHR5cGU6IGYuY29udGVudFR5cGUsIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkgfTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMucHVibGljUGF0aCArIGYudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBob3Rvc1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShmaWxlLCB1cmwpOyAqLwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwpIHsKICAgICAgICAgICAgICAgICAgICAvLyBQQVNTUE9SVF9ET0NfRklMRQogICAgICAgICAgICAgICAgICAgIGZldGNoKF90aGlzLnB1YmxpY1BhdGggKyBfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwudXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuYmxvYigpOwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG15QmxvYikgewogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLm5hbWUgPSBfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwubmFtZTsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgdmFyIG15RmlsZSA9IG5ldyBGaWxlKFtteUJsb2JdLCBfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydERvY0ZpbGVVcmwubmFtZSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBteUJsb2IudHlwZQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gX3RoaXMucHVibGljUGF0aCArIF90aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybC51cmw7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMucGFzc3BvcnREb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUobXlGaWxlLCB1cmwpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgLyogbGV0IHBEb2NGaWxlID0geyBzaXplOiB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybC5zaXplLCBuYW1lOiB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybC5uYW1lLCB0eXBlOiB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybC5jb250ZW50VHlwZSwgdXVpZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSB9Ow0KICAgICAgICAgICAgICAgICAgICBsZXQgcERvY0ZpbGVVcmwgPSB0aGlzLnB1YmxpY1BhdGggKyB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0RG9jRmlsZVVybC51cmw7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGFzc3BvcnREb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUocERvY0ZpbGUsIHBEb2NGaWxlVXJsKTsgKi8KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwpIHsKICAgICAgICAgICAgICAgICAgICAvLyBQQVNTUE9SVF9QSE9UTwogICAgICAgICAgICAgICAgICAgIGZldGNoKF90aGlzLnB1YmxpY1BhdGggKyBfdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsLnVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmJsb2IoKTsKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChteUJsb2IpIHsKICAgICAgICAgICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gX3RoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbXlGaWxlID0gbmV3IEZpbGUoW215QmxvYl0sIF90aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwubmFtZSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBteUJsb2IudHlwZQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gX3RoaXMucHVibGljUGF0aCArIF90aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwudXJsOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnBhc3Nwb3J0UGhvdG9VcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUobXlGaWxlLCB1cmwpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgLyogbGV0IHBQaG90byA9IHsgc2l6ZTogdGhpcy5lZGl0aW5nSXRlbS5wYXNzcG9ydFBob3RvVXJsLnNpemUsIG5hbWU6IHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC5uYW1lLCB0eXBlOiB0aGlzLmVkaXRpbmdJdGVtLnBhc3Nwb3J0UGhvdG9VcmwuY29udGVudFR5cGUsIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkgfTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBQaG90b1VybCA9IHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGFzc3BvcnRQaG90b1VybC51cmw7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGFzc3BvcnRQaG90b1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShwUGhvdG8sIHBQaG90b1VybCk7ICovCiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybCkgewogICAgICAgICAgICAgICAgICAgIC8vIFBBWU1FTlRfRE9DX0ZJTEUKICAgICAgICAgICAgICAgICAgICBmZXRjaChfdGhpcy5wdWJsaWNQYXRoICsgX3RoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwudXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuYmxvYigpOwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG15QmxvYikgewogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLm5hbWUgPSBfdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybC5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbXlGaWxlID0gbmV3IEZpbGUoW215QmxvYl0sIF90aGlzLmVkaXRpbmdJdGVtLnBheW1lbnREb2NGaWxlVXJsLm5hbWUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IF90aGlzLnB1YmxpY1BhdGggKyBfdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybC51cmw7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMucGF5bWVudERvY1VwbG9hZGVyLiRyZWZzLmRyb3B6b25lLm1hbnVhbGx5QWRkRmlsZShteUZpbGUsIHVybCk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvKiBsZXQgcGF5bWVudEZpbGUgPSB7IHNpemU6IHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwuc2l6ZSwgbmFtZTogdGhpcy5lZGl0aW5nSXRlbS5wYXltZW50RG9jRmlsZVVybC5uYW1lLCB0eXBlOiB0aGlzLmVkaXRpbmdJdGVtLnBheW1lbnREb2NGaWxlVXJsLmNvbnRlbnRUeXBlLCB1dWlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpIH07DQogICAgICAgICAgICAgICAgICAgIGxldCBwYXltZW50RmlsZVVybCA9IHRoaXMucHVibGljUGF0aCArIHRoaXMuZWRpdGluZ0l0ZW0ucGF5bWVudERvY0ZpbGVVcmwudXJsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBheW1lbnREb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUocGF5bWVudEZpbGUsIHBheW1lbnRGaWxlVXJsKTsgKi8KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY29sbGVjdEVycjogZnVuY3Rpb24gY29sbGVjdEVycihrZXkpIHsKICAgICAgaWYgKHRoaXMuZXJyb3JzW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLmVycm9yc1trZXldOwogICAgICB9CgogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfSwKICAgIGhhc0Vycm9yOiBmdW5jdGlvbiBoYXNFcnJvcihrZXkpIHsKICAgICAgaWYgKHRoaXMuZXJyb3JzW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIC8qIGRhdGFVUkx0b0ZpbGUgKGRhdGF1cmwsIGZpbGVuYW1lKSB7DQogICAgICAgIGxldCBhcnIgPSBkYXRhdXJsLnNwbGl0KCIsIiksDQogICAgICAgICAgICBtaW1lID0gYXJyWzBdLm1hdGNoKC86KC4qPyk7LylbMV0sDQogICAgICAgICAgICBic3RyID0gYXRvYihhcnJbMV0pLA0KICAgICAgICAgICAgbiA9IGJzdHIubGVuZ3RoLA0KICAgICAgICAgICAgdThhcnIgPSBuZXcgVWludDhBcnJheShuKTsNCiAgICAgICAgICB3aGlsZSAobi0tKSB7DQogICAgICAgICAgICB1OGFycltuXSA9IGJzdHIuY2hhckNvZGVBdChuKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbmV3IEZpbGUoW3U4YXJyXSwgZmlsZW5hbWUsIHsgdHlwZTogbWltZSB9KTsNCiAgICB9LCAqLwogICAgbWFrZUFuZFJldHVybkZvcm1EYXRhOiBmdW5jdGlvbiBtYWtlQW5kUmV0dXJuRm9ybURhdGEoKSB7CiAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBpZiAodGhpcy5pc0J5R292ZXJubWVudCkgewogICAgICAgIC8qIHRoaXMuYXJjaGl0ZWN0RG9jRmlsZS5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgZm9ybS5hcHBlbmQoImFyY2hpdGVjdERvY0ZpbGVzIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgIH0pICovCiAgICAgICAgdGhpcy5hcmNoaXRlY3REb2NGaWxlLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJhcmNoaXRlY3REb2NGaWxlcyIsIGYuZmlsZSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0J5QWdlbmN5KSB7CiAgICAgICAgLyogdGhpcy5hcmNoaXRlY3REb2NGaWxlLmZvckVhY2goZiA9PiB7DQogICAgICAgICAgICBmb3JtLmFwcGVuZCgiYXJjaGl0ZWN0RG9jRmlsZXMiLCB0aGlzLmRhdGFVUkx0b0ZpbGUoZi5maWxlLCBmLm5hbWUpKTsNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5waG90b3MuZm9yRWFjaChmID0+IHsNCiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJvYmplY3RQaG90b3MiLCB0aGlzLmRhdGFVUkx0b0ZpbGUoZi5maWxlLCBmLm5hbWUpKTsNCiAgICAgICAgfSkNCiAgICAgICAgZm9ybS5hcHBlbmQoImlzTWFpbkluZGV4Rm9yT2JqZWN0UGhvdG9zIiwgdGhpcy5waG90b3MubGVuZ3RoID8gMCA6IG51bGwpOw0KICAgICAgICAgIHRoaXMucGFzc3BvcnREb2NGaWxlLmZvckVhY2goZiA9PiB7DQogICAgICAgICAgICBmb3JtLmFwcGVuZCgicGFzc3BvcnREb2NGaWxlIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgIH0pDQogICAgICAgIHRoaXMucGFzc3BvcnRQaG90by5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgZm9ybS5hcHBlbmQoInBhc3Nwb3J0UGhvdG8iLCB0aGlzLmRhdGFVUkx0b0ZpbGUoZi5maWxlLCBmLm5hbWUpKTsNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5wYXltZW50RG9jRmlsZS5mb3JFYWNoKGYgPT4gew0KICAgICAgICAgICAgZm9ybS5hcHBlbmQoInBheW1lbnREb2NGaWxlIiwgdGhpcy5kYXRhVVJMdG9GaWxlKGYuZmlsZSwgZi5uYW1lKSk7DQogICAgICAgIH0pICovCiAgICAgICAgdGhpcy5hcmNoaXRlY3REb2NGaWxlLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJhcmNoaXRlY3REb2NGaWxlcyIsIGYuZmlsZSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5waG90b3MuZm9yRWFjaChmdW5jdGlvbiAoZikgewogICAgICAgICAgZm9ybS5hcHBlbmQoIm9iamVjdFBob3RvcyIsIGYuZmlsZSk7CiAgICAgICAgfSk7IC8vIGZvcm0uYXBwZW5kKCJpc01haW5JbmRleEZvck9iamVjdFBob3RvcyIsIHRoaXMucGhvdG9zLmxlbmd0aCA/IDAgOiBudWxsKTsKCiAgICAgICAgdGhpcy5wYXNzcG9ydERvY0ZpbGUuZm9yRWFjaChmdW5jdGlvbiAoZikgewogICAgICAgICAgZm9ybS5hcHBlbmQoInBhc3Nwb3J0RG9jRmlsZSIsIGYuZmlsZSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5wYXNzcG9ydFBob3RvLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJwYXNzcG9ydFBob3RvIiwgZi5maWxlKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnBheW1lbnREb2NGaWxlLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJwYXltZW50RG9jRmlsZSIsIGYuZmlsZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmb3JtOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5jb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIV90aGlzMi5wYXNzcG9ydFBob3RvICYmICFfdGhpczIucGFzc3BvcnREb2NGaWxlIHx8IChfdGhpczIucGFzc3BvcnRQaG90byA/ICFfdGhpczIucGFzc3BvcnRQaG90by5sZW5ndGggOiB0cnVlKSAmJiAoX3RoaXMyLnBhc3Nwb3J0RG9jRmlsZSA/ICFfdGhpczIucGFzc3BvcnREb2NGaWxlLmxlbmd0aCA6IHRydWUpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoX3RoaXMyLiR0KCdtZXNzYWdlcy5maWxsX2FkX3Bhc3Nwb3J0X2RvY19vcl9waG90bycpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuaXNCeUFnZW5jeSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNhdmVGaWxlRW50aXR5KCJzZWNvbmQtYWdlbnQtZmlsZXMvIi5jb25jYXQoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQpLCBfdGhpczIubWFrZUFuZFJldHVybkZvcm1EYXRhKCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY29tcHV0ZWRPYnNlcnZlci5yZXNldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdChfdGhpczIuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuaXNCeUdvdmVybm1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNhdmVGaWxlRW50aXR5KCJmaXJzdC1hZ2VudC1maWxlcy8iLmNvbmNhdChfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCksIF90aGlzMi5tYWtlQW5kUmV0dXJuRm9ybURhdGEoKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB7fSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5nbygtMSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoX3RoaXMyLiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAoKICAvKg0KICAqIENSRUFURUQgKi8KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEJ5SWQoTUFJTl9BUElfVVJMLCBfdGhpczMuJHJvdXRlLnBhcmFtcy5pZCwgdHJ1ZSwgbnVsbCwgX3RoaXMzLmlzQnlHb3Zlcm5tZW50ID8gQVBQRU5EX0FQSV9VUkxfRk9SX0dPVkVSTk1FTlQgOiBfdGhpczMuaXNCeUFnZW5jeSA/IEFQUEVORF9BUElfVVJMX0ZPUl9BR0VOQ1kgOiBmYWxzZSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocmVzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmVkaXRpbmdJdGVtID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuc2V0RmlsZXNGcm9tU2VydmVyKCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgey8vIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0dMT0JBTF9MT0FESU5HJywgZmFsc2UpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSkoKTsKICB9LAoKICAvKg0KICBXQVRDSCAqLwogIHdhdGNoOiB7CiAgICB2ZWVFcnJvcnM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwsIG9sZFZhbCkgewogICAgICAgIHRoaXMuZXJyb3JzID0gW107CiAgICAgICAgdmFsLml0ZW1zLm1hcChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAvKiBpZiAodGhpcy5maWVsZHMuaGFzT3duUHJvcGVydHkoZXJyLmZpZWxkKSAhPT0gLTEpIHsNCiAgICAgICAgICAgICAgdGhpcy5lcnJvcnNbZXJyLmZpZWxkXSA9IGVyci5tc2c7DQogICAgICAgICAgfSAqLwogICAgICAgIH0pOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["UpdateItemFiles.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <base-create-or-update-wrapper\r\n        @save=\"save\"\r\n        has-save-suspend\r\n        :custom-title=\"(isModeCreate ? $t('actions.create') : $t('column.passport_number') + ': ' + editingItem.passportNumber)\"\r\n    >\r\n        <ValidationObserver\r\n            ref=\"observer\"\r\n            v-slot=\"{}\"\r\n        >\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        name=\"architecDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"architectDocUploader\"\r\n                                v-model=\"architectDocFile\"\r\n                                data-vv-name=\"architecDocFile\"\r\n                                data-vv-as=\"ArchitecDocFile\"\r\n                                :max-files=\"5\"\r\n                                :has-error=\"hasError('mandat')\"\r\n                                :error=\"collectErr('mandat')\"\r\n                                :label=\"$t('column.ad_construction_drawing')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"photos\"\r\n                        rules=\"\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"photosUploader\"\r\n                                v-model=\"photos\"\r\n                                :max-files=\"null\"\r\n                                :max-fileSize=\"null\"\r\n                                data-vv-name=\"photos\"\r\n                                data-vv-as=\"Photos\"\r\n                                :has-error=\"hasError('photos')\"\r\n                                :error=\"collectErr('photos')\"\r\n                                :label=\"$t('column.ad_construction_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"passportDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"passportDocUploader\"\r\n                                v-model=\"passportDocFile\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"passportDocFile\"\r\n                                data-vv-as=\"PassportDocFile\"\r\n                                :has-error=\"hasError('passportDocFile')\"\r\n                                :error=\"collectErr('passportDocFile')\"\r\n                                :label=\"$t('column.ad_construction_passport_doc_file')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"paymentDocFile\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"paymentDocUploader\"\r\n                                v-model=\"paymentDocFile\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"paymentDocFile\"\r\n                                data-vv-as=\"PaymentDocFile\"\r\n                                :has-error=\"hasError('paymentDocFile')\"\r\n                                :error=\"collectErr('paymentDocFile')\"\r\n                                :label=\"$t('column.ad_construction_monthly_income_doc_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isByAgency\"\r\n                        name=\"passportPhoto\"\r\n                        rules=\"\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                ref=\"passportPhotoUploader\"\r\n                                v-model=\"passportPhoto\"\r\n                                :max-files=\"1\"\r\n                                data-vv-name=\"passportPhoto\"\r\n                                data-vv-as=\"PassportPhoto\"\r\n                                :has-error=\"hasError('passportPhoto')\"\r\n                                :error=\"collectErr('passportPhoto')\"\r\n                                :label=\"$t('column.ad_construction_passport_photo')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n\r\n                </b-col>\r\n            </b-row>\r\n\r\n        </ValidationObserver>\r\n    </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'contractor-advertising-construction'\r\nconst APPEND_API_URL_FOR_GOVERNMENT = 'first-agent-files'\r\nconst APPEND_API_URL_FOR_AGENCY = 'second-agent-files'\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\n\r\nexport default {\r\n    name: \"UpdateItemFiles\",\r\n    /*\r\n    * COMPONENTS */\r\n    components: {\r\n    },\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            publicPath: process.env.BASE_URL,\r\n            editingItem: {\r\n                addressDto: {}\r\n            },\r\n            errors: [],\r\n            architectDocFile: [],\r\n            photos: [],\r\n            passportDocFile: [],\r\n            passportPhoto: [],\r\n            paymentDocFile: []\r\n        }\r\n    },\r\n    /*\r\n    * COMPUTED */\r\n    computed: {\r\n        isModeCreate () {\r\n            return this.$route.name == 'CreateAdPassportInfoByAgency' || this.$route.name == 'CreateAdPassportInfoByGovernment'\r\n        },\r\n        isByAgency () {\r\n            return this.$route.name == 'UpdateAdPassportInfoFilesByAgency'\r\n        },\r\n        isByGovernment () {\r\n            return this.$route.name == 'UpdateAdPassportInfoFilesByGovernment'\r\n        },\r\n        computedObserver () {\r\n            return this.$refs.observer\r\n        },\r\n        /* multipleMinimumCollectionsComputedObserver () {\r\n            return this.$refs['multiple-minimum-collections-observer']\r\n        },\r\n        singleMinimumCollectionUpdateComputedObserver () {\r\n            return this.$refs['single-minimum-collection-update-observer']\r\n        } */\r\n    },\r\n    /*\r\n    * METHODS */\r\n    methods: {\r\n        generateUUID () {\r\n            var dt = new Date().getTime();\r\n            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = (dt + Math.random() * 16) % 16 | 0;\r\n                dt = Math.floor(dt / 16);\r\n                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n            });\r\n            return uuid;\r\n        },\r\n        async setFilesFromServer () {\r\n            if (this.isByGovernment) {\r\n                // ARCHITECT_DOC_FILES\r\n                this.editingItem.architectDocFileList.forEach(f => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    let url = this.publicPath + f.url;\r\n                    this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(file, url); */\r\n                })\r\n            } else if (this.isByAgency) {\r\n                // ARCHITECT_DOC_FILES\r\n                this.editingItem.architectDocFileList.forEach((f, index) => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n\r\n                    /* const mockFile = { name: f.name, size: f.size };\r\n                    console.log(this.$refs.architectDocUploader.$refs.dropzone.dropzone.options) */\r\n                    // this.$refs.architectDocUploader.$refs.dropzone.files[index] = f.name;\r\n                    /* this.$refs.architectDocUploader.$refs.dropzone.dropzone.options.addedfile(this.$refs.architectDocUploader.$refs.dropzone, mockFile);\r\n                    this.$refs.architectDocUploader.$refs.dropzone.dropzone.options.thumbnail(this.$refs.architectDocUploader.$refs.dropzone, mockFile, this.publicPath + f.url); */\r\n                    /* mockFile.previewElement.classList.add('dz-success');\r\n                    mockFile.previewElement.classList.add('dz-complete'); */\r\n                    // let file = new File([\"\"], f.name, { type: f.contentType, size: f.size, lastModified: new Date().getTime() })\r\n                    // file.size = f.size\r\n                    // let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    /* let url = this.publicPath + f.url;\r\n                    this.$refs.architectDocUploader.$refs.dropzone.manuallyAddFile(myFile, url); */\r\n                })\r\n                // OBJECT_PHOTOS\r\n                this.editingItem.objectPhotoList.forEach(f => {\r\n                    fetch(this.publicPath + f.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = f.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], f.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + f.url;\r\n                            this.$refs.photosUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let file = { size: f.size, name: f.name, type: f.contentType, uuid: this.generateUUID() };\r\n                    let url = this.publicPath + f.url;\r\n                    this.$refs.photosUploader.$refs.dropzone.manuallyAddFile(file, url); */\r\n                })\r\n                if (this.editingItem.passportDocFileUrl) {\r\n                    // PASSPORT_DOC_FILE\r\n                    fetch(this.publicPath + this.editingItem.passportDocFileUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.passportDocFileUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.passportDocFileUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.passportDocFileUrl.url;\r\n                            this.$refs.passportDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let pDocFile = { size: this.editingItem.passportDocFileUrl.size, name: this.editingItem.passportDocFileUrl.name, type: this.editingItem.passportDocFileUrl.contentType, uuid: this.generateUUID() };\r\n                    let pDocFileUrl = this.publicPath + this.editingItem.passportDocFileUrl.url;\r\n                    this.$refs.passportDocUploader.$refs.dropzone.manuallyAddFile(pDocFile, pDocFileUrl); */\r\n                }\r\n                if (this.editingItem.passportPhotoUrl) {\r\n                    // PASSPORT_PHOTO\r\n                    fetch(this.publicPath + this.editingItem.passportPhotoUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.passportPhotoUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.passportPhotoUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.passportPhotoUrl.url;\r\n                            this.$refs.passportPhotoUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let pPhoto = { size: this.editingItem.passportPhotoUrl.size, name: this.editingItem.passportPhotoUrl.name, type: this.editingItem.passportPhotoUrl.contentType, uuid: this.generateUUID() };\r\n                    let pPhotoUrl = this.publicPath + this.editingItem.passportPhotoUrl.url;\r\n                    this.$refs.passportPhotoUploader.$refs.dropzone.manuallyAddFile(pPhoto, pPhotoUrl); */\r\n                }\r\n                if (this.editingItem.paymentDocFileUrl) {\r\n                    // PAYMENT_DOC_FILE\r\n                    fetch(this.publicPath + this.editingItem.paymentDocFileUrl.url)\r\n                        .then((res) => res.blob())\r\n                        .then((myBlob) => {\r\n                            myBlob.name = this.editingItem.paymentDocFileUrl.name;\r\n                            myBlob.lastModified = new Date();\r\n                            const myFile = new File([myBlob], this.editingItem.paymentDocFileUrl.name, {\r\n                                type: myBlob.type,\r\n                            });\r\n\r\n                            let url = this.publicPath + this.editingItem.paymentDocFileUrl.url;\r\n                            this.$refs.paymentDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                        })\r\n                        .catch(e => console.log(e));\r\n                    /* let paymentFile = { size: this.editingItem.paymentDocFileUrl.size, name: this.editingItem.paymentDocFileUrl.name, type: this.editingItem.paymentDocFileUrl.contentType, uuid: this.generateUUID() };\r\n                    let paymentFileUrl = this.publicPath + this.editingItem.paymentDocFileUrl.url;\r\n                    this.$refs.paymentDocUploader.$refs.dropzone.manuallyAddFile(paymentFile, paymentFileUrl); */\r\n                }\r\n            }\r\n        },\r\n        collectErr (key) {\r\n            if (this.errors[key] !== undefined) {\r\n                return this.errors[key];\r\n            }\r\n            return undefined;\r\n        },\r\n        hasError (key) {\r\n            if (this.errors[key] !== undefined) {\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        /* dataURLtoFile (dataurl, filename) {\r\n            let arr = dataurl.split(\",\"),\r\n                mime = arr[0].match(/:(.*?);/)[1],\r\n                bstr = atob(arr[1]),\r\n                n = bstr.length,\r\n                u8arr = new Uint8Array(n);\r\n\r\n            while (n--) {\r\n                u8arr[n] = bstr.charCodeAt(n);\r\n            }\r\n            return new File([u8arr], filename, { type: mime });\r\n        }, */\r\n        makeAndReturnFormData () {\r\n            let form = new FormData();\r\n            if (this.isByGovernment) {\r\n                /* this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", this.dataURLtoFile(f.file, f.name));\r\n                }) */\r\n                this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", f.file);\r\n                })\r\n            } else if (this.isByAgency) {\r\n                /* this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.photos.forEach(f => {\r\n                    form.append(\"objectPhotos\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                form.append(\"isMainIndexForObjectPhotos\", this.photos.length ? 0 : null);\r\n\r\n                this.passportDocFile.forEach(f => {\r\n                    form.append(\"passportDocFile\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.passportPhoto.forEach(f => {\r\n                    form.append(\"passportPhoto\", this.dataURLtoFile(f.file, f.name));\r\n                })\r\n                this.paymentDocFile.forEach(f => {\r\n                    form.append(\"paymentDocFile\", this.dataURLtoFile(f.file, f.name));\r\n                }) */\r\n                this.architectDocFile.forEach(f => {\r\n                    form.append(\"architectDocFiles\", f.file);\r\n                })\r\n                this.photos.forEach(f => {\r\n                    form.append(\"objectPhotos\", f.file);\r\n                })\r\n                // form.append(\"isMainIndexForObjectPhotos\", this.photos.length ? 0 : null);\r\n\r\n                this.passportDocFile.forEach(f => {\r\n                    form.append(\"passportDocFile\", f.file);\r\n                })\r\n                this.passportPhoto.forEach(f => {\r\n                    form.append(\"passportPhoto\", f.file);\r\n                })\r\n                this.paymentDocFile.forEach(f => {\r\n                    form.append(\"paymentDocFile\", f.file);\r\n                })\r\n            }\r\n            return form\r\n        },\r\n        async save () {\r\n            this.computedObserver.validate().then(async valid => {\r\n                if (valid) {\r\n                    if ((!this.passportPhoto && !this.passportDocFile) || ((this.passportPhoto ? !this.passportPhoto.length : true) && (this.passportDocFile ? !this.passportDocFile.length : true))) {\r\n                        this.$toast(this.$t('messages.fill_ad_passport_doc_or_photo'), { type: 'error' });\r\n                        return\r\n                    }\r\n                    if (this.isByAgency) {\r\n                        await crudAndListsService\r\n                            .saveFileEntity(`second-agent-files/${this.$route.params.id}`, this.makeAndReturnFormData())\r\n                            .then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                            .catch(e => console.log(e));\r\n                    } else if (this.isByGovernment) {\r\n                        await crudAndListsService\r\n                            .saveFileEntity(`first-agent-files/${this.$route.params.id}`, this.makeAndReturnFormData())\r\n                            .then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                            .catch(e => console.log(e));\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        }\r\n    },\r\n    /*\r\n    * CREATED */\r\n    async created () {\r\n        // this.$store.commit('SET_GLOBAL_LOADING', true)\r\n        await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, true, null, this.isByGovernment ? APPEND_API_URL_FOR_GOVERNMENT : this.isByAgency ? APPEND_API_URL_FOR_AGENCY : false)\r\n            .then(async res => {\r\n                this.editingItem = res.data\r\n                await this.setFilesFromServer()\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n            .finally(() => {\r\n                // this.$store.commit('SET_GLOBAL_LOADING', false)\r\n            })\r\n    },\r\n    /*\r\n    WATCH */\r\n    watch: {\r\n        veeErrors: {\r\n            handler (val, oldVal) {\r\n                this.errors = [];\r\n                val.items.map((err) => {\r\n                    /* if (this.fields.hasOwnProperty(err.field) !== -1) {\r\n                        this.errors[err.field] = err.msg;\r\n                    } */\r\n                });\r\n            },\r\n            deep: true,\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.col-form-label {\r\n    padding-top: 0;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n}\r\n\r\n.dz-remove {\r\n    display: inline-block !important;\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n\r\n    position: absolute;\r\n    top: 5px;\r\n    right: 5px;\r\n    z-index: 1000;\r\n\r\n    font-size: 1.2em !important;\r\n    line-height: 1em;\r\n\r\n    text-align: center;\r\n    font-weight: bold;\r\n    border: 1px solid gray !important;\r\n    border-radius: 1.2em;\r\n    color: gray;\r\n    background-color: white;\r\n    opacity: 0.5;\r\n}\r\n\r\n.dz-remove:hover {\r\n    text-decoration: none !important;\r\n    opacity: 1;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/modules/advertisement/modules/ad_passport_info"}]}