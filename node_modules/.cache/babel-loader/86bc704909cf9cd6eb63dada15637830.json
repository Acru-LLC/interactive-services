{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\CreateOrUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\CreateOrUpdate.vue","mtime":1667352074518},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcQUNSVSBQUk9KRUNUXFxGYWlyIFRlY2hcXGFjcnUtZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHRvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgTUFJTl9BUElfVVJMID0gJ3JlZXN0ci9jb250cmFjdG9yLXJlZXN0ci1kb2N1bWVudHMnOwp2YXIgQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA9ICdlc3Rlc3R2ZW5peSc7CnZhciBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA9ICdkYW1pbmlyaXVzaGl5JzsKdmFyIE9LRURfQVBJX1VSTCA9ICdyZWVzdHIvaW5mby1va2VkJzsKdmFyIFNLUF9BUElfVVJMID0gJ3JlZXN0ci9pbmZvLXNrcCc7CnZhciBUTlZFRF9BUElfVVJMID0gJ3JlZXN0ci9pbmZvLXRudmVkJzsKdmFyIFBSSUNFX0FQUFJPVkFMX0FQSV9VUkwgPSAncmVlc3RyL2NvbnRyYWN0b3ItcmVlc3RyLWRvY3VtZW50cy9nZXQvcHJpY2UtYXBwcm92YWwnOwp2YXIgQU5OT1VOQ0VEX01FRElBX0FQSV9VUkwgPSAncmVlc3RyL2NvbnRyYWN0b3ItcmVlc3RyLWRvY3VtZW50cy9nZXQvYW5ub3VuY2VkLW1lZGlhJzsKdmFyIENPTU1JU1NJT05fQVBQTElDQVRJT05fQVBJX1VSTCA9ICdyZWVzdHIvY29udHJhY3Rvci1yZWVzdHItZG9jdW1lbnRzL2dldC9jb21taXNzaW9uLWFwcGxpY2F0aW9uJzsKLyoNCiogWU9VIE1VU1QgU0VORCB7eyBNQUlOX0FQSV9VUkwgfX0gVE8gQ1JVRF9TRVJWSUNFICovCgppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOwppbXBvcnQgaGVscGVyU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9oZWxwZXIuc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlT3JVcGRhdGUiLAoKICAvKg0KICAqIENPTVBPTkVOVFMgKi8KICBjb21wb25lbnRzOiB7fSwKCiAgLyoNCiAgKiBEQVRBICovCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRpbmdJdGVtOiB7fSwKICAgICAgcHVibGljUGF0aDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgICAgIGRlZmF1bHRDb21taXNzaW9uQXBwbGljYXRpb25EdG86IHt9LAogICAgICBkZWZhdWx0QW5ub3VuY2VkTWVkaWFEdG86IHt9LAogICAgICBkZWZhdWx0UHJpY2VBcHByb3ZhbER0bzoge30sCiAgICAgIHJlZ2lvbnM6IFtdLAogICAgICBkaXN0cmljdHM6IFtdLAogICAgICBoYXNOZXh0UGFnZUNvbnRyYWN0b3JzOiBmYWxzZSwKICAgICAgaGFzTmV4dFBhZ2VQcm9kdWN0T3JTZXJ2aWNlczogZmFsc2UsCiAgICAgIGNvbnRyYWN0b3JzOiBbXSwKICAgICAgZGVib3VuY2U6IG51bGwsCiAgICAgIGlzTG9hZGluZ0NvbnRyYWN0b3JzOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nUHJvZHVjdE9yU2VydmljZXM6IGZhbHNlLAogICAgICBjb250cmFjdG9yU2VhcmNoUGF5bG9hZDoge30sCiAgICAgIHByb2R1Y3RPclNlcnZpY2VzU2VhcmNoUGF5bG9hZDoge30sCiAgICAgIHByb2R1Y3RUeXBlczogW10sCiAgICAgIHByb2R1Y3RzOiBbXSwKICAgICAgdW5pdHM6IFtdLAogICAgICAvLyBPS0VEIFZBUklBQkxFUwogICAgICBva2VkczogW10sCiAgICAgIGhhc05leHRQYWdlT2tlZDogZmFsc2UsCiAgICAgIGlzTG9hZGluZ09rZWQ6IGZhbHNlLAogICAgICBva2VkU2VhcmNoUGF5bG9hZDoge30sCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gU0tQIFZBUklBQkxFUwogICAgICBza3BzOiBbXSwKICAgICAgaGFzTmV4dFBhZ2VTa3A6IGZhbHNlLAogICAgICBpc0xvYWRpbmdTa3A6IGZhbHNlLAogICAgICBza3BTZWFyY2hQYXlsb2FkOiB7fSwKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyBUTlZFRCBWQVJJQUJMRVMKICAgICAgdG52ZWRzOiBbXSwKICAgICAgaGFzTmV4dFBhZ2VUbnZlZDogZmFsc2UsCiAgICAgIGlzTG9hZGluZ1RudmVkOiBmYWxzZSwKICAgICAgdG52ZWRTZWFyY2hQYXlsb2FkOiB7fSwKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLQogICAgICBjb250cmFjdG9yQ3JlYXRlTW9kYWw6IGZhbHNlLAogICAgICBncm91cE9mSW5kaXZpZHVhbHM6IFtdCiAgICB9OwogIH0sCgogIC8qDQogICogQ09NUFVURUQgKi8KICBjb21wdXRlZDogewogICAgY29tcHV0ZWRPYnNlcnZlcjogZnVuY3Rpb24gY29tcHV0ZWRPYnNlcnZlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnMub2JzZXJ2ZXI7CiAgICB9LAogICAgaXNNb2RlQ3JlYXRlOiBmdW5jdGlvbiBpc01vZGVDcmVhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnQ3JlYXRlTmF0dXJhbENvbnRyYWN0b3JSZWVzdHInIHx8IHRoaXMuJHJvdXRlLm5hbWUgPT09ICdDcmVhdGVEb21pbmFudENvbnRyYWN0b3JSZWVzdHInOwogICAgfSwKICAgIGlzRG9taW5hbnQ6IGZ1bmN0aW9uIGlzRG9taW5hbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnQ3JlYXRlRG9taW5hbnRDb250cmFjdG9yUmVlc3RyJyB8fCB0aGlzLiRyb3V0ZS5uYW1lID09PSAnVXBkYXRlRG9taW5hbnRDb250cmFjdG9yUmVlc3RyJzsKICAgIH0sCiAgICBpc05hdHVyYWw6IGZ1bmN0aW9uIGlzTmF0dXJhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWUgPT09ICdDcmVhdGVOYXR1cmFsQ29udHJhY3RvclJlZXN0cicgfHwgdGhpcy4kcm91dGUubmFtZSA9PT0gJ1VwZGF0ZU5hdHVyYWxDb250cmFjdG9yUmVlc3RyJzsKICAgIH0sCiAgICBjb250cmFjdG9ySGFzUGFyZW50OiBmdW5jdGlvbiBjb250cmFjdG9ySGFzUGFyZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNvbnRyYWN0b3IgPSB0aGlzLmNvbnRyYWN0b3JzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzLmVkaXRpbmdJdGVtLmNvbnRyYWN0b3JJZDsKICAgICAgfSk7CgogICAgICBpZiAoY29udHJhY3RvcikgewogICAgICAgIHJldHVybiBjb250cmFjdG9yLnBhcmVudDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICAvKg0KICAqIE1FVEhPRFMgKi8KICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHZhciB0bXBQcmljZUFwcHJvdmFsRmlsZXMsIHRtcFByb2R1Y3RPclNlcnZpY2VzLCB0bXBBbm5vdW5jZWRNZWRpYSwgdG1wUHJpY2VBcHByb3ZhbER0b3MsIHRtcENvbW1pc3Npb25zLCBwYXlsb2FkLCBfcGF5bG9hZDsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5pc0RvbWluYW50ICYmICFfdGhpczIuZWRpdGluZ0l0ZW0ub2tlZElkICYmICFfdGhpczIuZWRpdGluZ0l0ZW0uc2twSWQpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoX3RoaXMyLiR0KCdtZXNzYWdlcy5va2VkX29yX3NrcF9pc19yZXF1aXJlZCcpLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuaXNEb21pbmFudCB8fCAhX3RoaXMyLmVkaXRpbmdJdGVtLmlzUmVwdWJsaWMgJiYgX3RoaXMyLmNvbnRyYWN0b3JIYXNQYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0uaXNHcm91cCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB0bXBQcmljZUFwcHJvdmFsRmlsZXMgPSBfdGhpczIuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzICYmIF90aGlzMi5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRmlsZXMubGVuZ3RoID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczIuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzKSkgOiBbXTsKICAgICAgICAgICAgICAgICAgdG1wUHJvZHVjdE9yU2VydmljZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMi5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlSWQpKTsKICAgICAgICAgICAgICAgICAgdG1wQW5ub3VuY2VkTWVkaWEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMi5lZGl0aW5nSXRlbS5hbm5vdW5jZWRNZWRpYUR0b3MpKTsKICAgICAgICAgICAgICAgICAgdG1wUHJpY2VBcHByb3ZhbER0b3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMi5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRHRvcykpOwogICAgICAgICAgICAgICAgICB0bXBDb21taXNzaW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMyLmVkaXRpbmdJdGVtLmNvbW1pc3Npb25BcHBsaWNhdGlvbkR0b3MpKTsKCiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmVkaXRpbmdJdGVtLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubWFrZUFuZFJldHVybkZvcm1EYXRhRm9yQmFzZTY0KCk7CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIGhlbHBlclNlcnZpY2UudXBkYXRlUmVlc3RyKE1BSU5fQVBJX1VSTCwgcGF5bG9hZCwgImZvci1hY2NlcHRhbmNlLSIuY29uY2F0KF90aGlzMi5pc0RvbWluYW50ID8gQVBQRU5EX0FQSV9VUkxfRE9NSU5BTlQgOiBfdGhpczIuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnLCAiLyIpLmNvbmNhdChfdGhpczIuZWRpdGluZ0l0ZW0uaWQpLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuY29tcHV0ZWRPYnNlcnZlci5yZXNldCgpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB7fSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLmdvKC0xKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdChfdGhpczIuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm1ha2VBbmRSZXR1cm5Gb3JtRGF0YUZvckJhc2U2NCgpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICAgIF9wYXlsb2FkID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5jcmVhdGUoTUFJTl9BUElfVVJMLCBfcGF5bG9hZCwgImZvci1hY2NlcHRhbmNlLSIuY29uY2F0KF90aGlzMi5pc0RvbWluYW50ID8gQVBQRU5EX0FQSV9VUkxfRE9NSU5BTlQgOiBfdGhpczIuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnKSwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5nbygtMSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoX3RoaXMyLiR0KCdtZXNzYWdlcy5zYXZlZF9zdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VJZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodG1wUHJvZHVjdE9yU2VydmljZXMpKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0uY29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodG1wQ29tbWlzc2lvbnMpKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0uYW5ub3VuY2VkTWVkaWFEdG9zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0bXBBbm5vdW5jZWRNZWRpYSkpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRHRvcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodG1wUHJpY2VBcHByb3ZhbER0b3MpKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0bXBQcmljZUFwcHJvdmFsRmlsZXMpKTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwgewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBzZXRGaWxlc0Zyb21TZXJ2ZXI6IGZ1bmN0aW9uIHNldEZpbGVzRnJvbVNlcnZlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gSUxPVkEKICAgICAgICAgICAgICAgIGZldGNoKF90aGlzMy5wdWJsaWNQYXRoICsgX3RoaXMzLmVkaXRpbmdJdGVtLmZpbGVVcmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmJsb2IoKTsKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG15QmxvYikgewogICAgICAgICAgICAgICAgICBteUJsb2IubmFtZSA9IGYubmFtZTsKICAgICAgICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgIHZhciBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgZi5uYW1lLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBfdGhpczMucHVibGljUGF0aCArIGYudXJsOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyZWZzLnN1cHBsZW1lbnREb2NVcGxvYWRlci4kcmVmcy5kcm9wem9uZS5tYW51YWxseUFkZEZpbGUobXlGaWxlLCB1cmwpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7IC8vIHRoaXMuZWRpdGluZ0l0ZW0ub2JqZWN0UGhvdG9MaXN0LmZvckVhY2goZiA9PiB7CiAgICAgICAgICAgICAgICAvLyAgICAgZmV0Y2godGhpcy5wdWJsaWNQYXRoICsgZi51cmwpCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5ibG9iKCkpCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC50aGVuKChteUJsb2IpID0+IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG15QmxvYi5uYW1lID0gZi5uYW1lOwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbXlCbG9iLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBteUZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgZi5uYW1lLCB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLnB1YmxpY1BhdGggKyBmLnVybDsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuJHJlZnMucGhvdG9zVXBsb2FkZXIuJHJlZnMuZHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKG15RmlsZSwgdXJsKTsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC8vICAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5sb2coZSkpOwogICAgICAgICAgICAgICAgLy8gfSkKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVnaW9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIHJlZ2lvblNlbGVjdGVkKCRldmVudCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZG9udFJlc2V0RGlzdHJpY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvbnRSZXNldERpc3RyaWN0ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoIWRvbnRSZXNldERpc3RyaWN0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lZGl0aW5nSXRlbS5kaXN0cmljdElkcyA9IFtdOwogICAgICAgICAgICAgICAgfSAvLyBHRVQgRElTVFJJQ1RTCgoKICAgICAgICAgICAgICAgIGlmICghJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZ2V0R2VvTG9jYXRpb25zQnlQYXJlbnRJZCgkZXZlbnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczQuZGlzdHJpY3RzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRDb21taXNzaW9uQXBwbGljYXRpb25EdG86IGZ1bmN0aW9uIGFkZENvbW1pc3Npb25BcHBsaWNhdGlvbkR0bygpIHsKICAgICAgdmFyIHRtcCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdENvbW1pc3Npb25BcHBsaWNhdGlvbkR0byk7CiAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uY29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvcy5wdXNoKHRtcCk7CiAgICB9LAogICAgYWRkQW5ub3VuY2VkTWVkaWFEdG86IGZ1bmN0aW9uIGFkZEFubm91bmNlZE1lZGlhRHRvKCkgewogICAgICB2YXIgdG1wID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0QW5ub3VuY2VkTWVkaWFEdG8pOwogICAgICB0aGlzLmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcy5wdXNoKHRtcCk7CiAgICB9LAogICAgYWRkUHJpY2VBcHByb3ZhbER0bzogZnVuY3Rpb24gYWRkUHJpY2VBcHByb3ZhbER0bygpIHsKICAgICAgdmFyIHRtcCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdFByaWNlQXBwcm92YWxEdG8pOwogICAgICB0aGlzLmVkaXRpbmdJdGVtLnByaWNlQXBwcm92YWxEdG9zLnB1c2godG1wKTsKICAgIH0sCiAgICBuZXdSZWZDcmVhdGVkOiBmdW5jdGlvbiBuZXdSZWZDcmVhdGVkKGZvcm1OYW1lKSB7CiAgICAgIGlmIChmb3JtTmFtZSA9PSAnQ3JlYXRlRm9ybUNvbnRyYWN0b3InKSB7CiAgICAgICAgdGhpcy5mZXRjaENvbnRyYWN0b3JzV2l0aEtleXdvcmQoJycsIHRydWUpOwogICAgICB9CiAgICB9LAoKICAgIC8qIG1ha2VBbmRSZXR1cm5RdWVyeVBhcmFtcyAoKSB7DQogICAgICAgIGxldCBxdWVyeVN0cmluZyA9IGBjb250cmFjdG9ySWQ9JHt0aGlzLmVkaXRpbmdJdGVtLmNvbnRyYWN0b3JJZH0NCiAgICAgICAgICAgICAgICAgICAgICZkaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUlkPSR7dGhpcy5lZGl0aW5nSXRlbS5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUlkfQ0KICAgICAgICAgICAgICAgICAgICAgJmdvdmVybm1lbnRQZXJjZW50YWdlPSR7dGhpcy5lZGl0aW5nSXRlbS5nb3Zlcm5tZW50UGVyY2VudGFnZX0NCiAgICAgICAgICAgICAgICAgICAgICZvcmRlck51bWJlcj0ke3RoaXMuZWRpdGluZ0l0ZW0ub3JkZXJOdW1iZXJ9DQogICAgICAgICAgICAgICAgICAgICAmcmVlc3RyQWNjZXB0ZWREYXRlPSR7dGhpcy5lZGl0aW5nSXRlbS5yZWVzdHJBY2NlcHRlZERhdGV9YA0KICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VJZC5mb3JFYWNoKGlkID0+IHsNCiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IGAmZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZUlkPSR7aWR9YA0KICAgICAgICB9KQ0KICAgICAgICByZXR1cm4gcXVlcnlTdHJpbmcNCiAgICB9LCAqLwogICAgZ2V0QmFzZTY0OiBmdW5jdGlvbiBnZXRCYXNlNjQoZmlsZSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwoKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7CiAgICAgICAgfTsKCiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpOwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIG1ha2VBbmRSZXR1cm5Gb3JtRGF0YUZvckJhc2U2NDogZnVuY3Rpb24gbWFrZUFuZFJldHVybkZvcm1EYXRhRm9yQmFzZTY0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciB2bSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyB0aGlzLmVkaXRpbmdJdGVtLnN1cHBsZW1lbnREb2NzID0gdGhpcy5lZGl0aW5nSXRlbS5zdXBwbGVtZW50RG9jcy5tYXAoZiA9PiBmLmZpbGUuZGF0YVVSTCkKICAgICAgICAgICAgICAgIHZtID0gX3RoaXM1OwogICAgICAgICAgICAgICAgLyogaWYgKHRoaXMuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzICYmIHRoaXMuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRmlsZXNbMF0uZmlsZS5kYXRhVVJMKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnByaWNlQXBwcm92YWxGaWxlcyA9IHRoaXMuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzWzBdLmZpbGUuZGF0YVVSTA0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0QmFzZTY0KHRoaXMuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzWzBdLmZpbGUpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnByaWNlQXBwcm92YWxGaWxlcyA9IHJlcw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSAqLwoKICAgICAgICAgICAgICAgIC8qIGxldCBiYXNlNjRQcmljZUZpbGVzID0gW10NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRmlsZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRmlsZXMuZm9yRWFjaChhc3luYyBmID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmLmZpbGUuZGF0YVVSTCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NFByaWNlRmlsZXMucHVzaChmLmZpbGUuZGF0YVVSTCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0QmFzZTY0KGYuZmlsZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlNjRQcmljZUZpbGVzLnB1c2gocmVzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnByaWNlQXBwcm92YWxGaWxlcyA9IGJhc2U2NFByaWNlRmlsZXMgKi8KCiAgICAgICAgICAgICAgICAvKiB0aGlzLmVkaXRpbmdJdGVtLnByaWNlQXBwcm92YWxGaWxlcyA9IHRoaXMuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbEZpbGVzID8gdGhpcy5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRmlsZXMubWFwKGFzeW5jIGZ1bmN0aW9uIChmKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBudWxsDQogICAgICAgICAgICAgICAgICAgIGlmIChmLmZpbGUuZGF0YVVSTCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gZi5maWxlLmRhdGFVUkwNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCB2bS5nZXRCYXNlNjQoZi5maWxlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gcmVzDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybA0KICAgICAgICAgICAgICAgIH0pIDogW10gKi8KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlbC5hbm5vdW5jZWRNZWRpYU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZTY0QW5ub3VuY2VtZW50RmlsZXMgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmFubm91bmNlZE1lZGlhRmlsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGVsLmFubm91bmNlZE1lZGlhRmlsZXMuZm9yRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlczsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmLmZpbGUuZGF0YVVSTCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NEFubm91bmNlbWVudEZpbGVzLnB1c2goZi5maWxlLmRhdGFVUkwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuZ2V0QmFzZTY0KGYuZmlsZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0QW5ub3VuY2VtZW50RmlsZXMucHVzaChyZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfSgpKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGVsLmFubm91bmNlZE1lZGlhRmlsZXMgPSBiYXNlNjRBbm5vdW5jZW1lbnRGaWxlczsKICAgICAgICAgICAgICAgICAgICAvKiBlbC5hbm5vdW5jZWRNZWRpYUZpbGVzID0gZWwuYW5ub3VuY2VkTWVkaWFGaWxlcyA/IGVsLmFubm91bmNlZE1lZGlhRmlsZXMubWFwKGFzeW5jIGZ1bmN0aW9uIChmKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYuZmlsZS5kYXRhVVJMKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gZi5maWxlLmRhdGFVUkwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHZtLmdldEJhc2U2NChmLmZpbGUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gcmVzDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsDQogICAgICAgICAgICAgICAgICAgIH0pIDogW10gKi8KCiAgICAgICAgICAgICAgICAgICAgLyogZWwuYW5ub3VuY2VkTWVkaWFGaWxlcyA9IGVsLmFubm91bmNlZE1lZGlhRmlsZXMgPyBlbC5hbm5vdW5jZWRNZWRpYUZpbGVzLm1hcChhc3luYyBmdW5jdGlvbiAoZikgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmLmZpbGUuZGF0YVVSTCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IGYuZmlsZS5kYXRhVVJMDQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCB2bS5nZXRCYXNlNjQoZi5maWxlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHJlcw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybA0KICAgICAgICAgICAgICAgICAgICB9KSA6IFtdICovCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXM1LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRHRvcy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlbC5wcmljZUFwcHJvdmFsTnVtYmVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2U2NFByaWNlQXBwcm92YWxGaWxlcyA9IFtdOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZWwucHJpY2VBcHByb3ZhbEZpbGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBlbC5wcmljZUFwcHJvdmFsRmlsZXMuZm9yRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlczsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmLmZpbGUuZGF0YVVSTCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NFByaWNlQXBwcm92YWxGaWxlcy5wdXNoKGYuZmlsZS5kYXRhVVJMKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmdldEJhc2U2NChmLmZpbGUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NFByaWNlQXBwcm92YWxGaWxlcy5wdXNoKHJlcyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9KCkpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgZWwucHJpY2VBcHByb3ZhbEZpbGVzID0gYmFzZTY0UHJpY2VBcHByb3ZhbEZpbGVzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzNS5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRHRvcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM1LmVkaXRpbmdJdGVtLmNvbW1pc3Npb25BcHBsaWNhdGlvbkR0b3MgPSBfdGhpczUuZWRpdGluZ0l0ZW0uY29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvcy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlbC5jb21tZW5jZW1lbnROdW1iZXIgJiYgZWwuaW5pdGlhdG9yTmFtZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7IC8vIHRoaXMuZWRpdGluZ0l0ZW0ub2tlZElkcyA9IFtdCiAgICAgICAgICAgICAgICAvLyB0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VJZCA9IHRoaXMuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZUlkLm1hcChlbCA9PiB7CiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5lZGl0aW5nSXRlbS5va2VkSWRzLnB1c2goZWwub2tlZElkKQogICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiBlbC5pZAogICAgICAgICAgICAgICAgLy8gfSkKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczUuZWRpdGluZ0l0ZW0uc3VwcGxlbWVudERvY3MgJiYgX3RoaXM1LmVkaXRpbmdJdGVtLnN1cHBsZW1lbnREb2NzWzBdLmZpbGUuZGF0YVVSTCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LmVkaXRpbmdJdGVtLmZpbGUgPSBfdGhpczUuZWRpdGluZ0l0ZW0uc3VwcGxlbWVudERvY3NbMF0uZmlsZS5kYXRhVVJMOyAvLyBkZWxldGUgdGhpcy5lZGl0aW5nSXRlbS5zdXBwbGVtZW50RG9jcwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuZWRpdGluZ0l0ZW0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUuZWRpdGluZ0l0ZW0uc3VwcGxlbWVudERvY3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuZ2V0QmFzZTY0KF90aGlzNS5lZGl0aW5nSXRlbS5zdXBwbGVtZW50RG9jc1swXS5maWxlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM1LmVkaXRpbmdJdGVtLmZpbGUgPSByZXM7IC8vIGRlbGV0ZSB0aGlzLmVkaXRpbmdJdGVtLnN1cHBsZW1lbnREb2NzCgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIF90aGlzNS5lZGl0aW5nSXRlbSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgX3RoaXM1LmVkaXRpbmdJdGVtKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGN1c3RvbUxhYmVsUmVnaW9uOiBmdW5jdGlvbiBjdXN0b21MYWJlbFJlZ2lvbihvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5yZWdpb25zLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5yZWdpb25JZCA9PSAob3B0LnJlZ2lvbklkID8gb3B0LnJlZ2lvbklkIDogb3B0KTsKICAgICAgfSk7CgogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkLnJlZ2lvbk5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQucmVnaW9uTmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5yZWdpb25OYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbERpc3RyaWN0OiBmdW5jdGlvbiBjdXN0b21MYWJlbERpc3RyaWN0KG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWREaXN0cmljdCA9IHRoaXMuZGlzdHJpY3RzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSBvcHQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHNlbGVjdGVkRGlzdHJpY3QpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkRGlzdHJpY3QubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZERpc3RyaWN0Lm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWREaXN0cmljdC5uYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbFByb2R1Y3Q6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsUHJvZHVjdChvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5wcm9kdWN0cy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLm5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGN1c3RvbUxhYmVsVW5pdDogZnVuY3Rpb24gY3VzdG9tTGFiZWxVbml0KG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnVuaXRzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSBvcHQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgY3VzdG9tTGFiZWxHcm91cE9mSW5kaXZpZHVhbHM6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsR3JvdXBPZkluZGl2aWR1YWxzKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLmdyb3VwT2ZJbmRpdmlkdWFscy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoc2VsZWN0ZWQubmFtZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbFByb2R1Y3RUeXBlOiBmdW5jdGlvbiBjdXN0b21MYWJlbFByb2R1Y3RUeXBlKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnByb2R1Y3RUeXBlcy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLm5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIHByb2R1Y3RUeXBlU2VsZWN0ZWQ6IGZ1bmN0aW9uIHByb2R1Y3RUeXBlU2VsZWN0ZWQoJGV2ZW50KSB7CiAgICAgIHZhciBfYXJndW1lbnRzMiA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgZG9udFJlc2V0RGlzdHJpY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvbnRSZXNldERpc3RyaWN0ID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbMV0gOiBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoIWRvbnRSZXNldERpc3RyaWN0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5wcm9kdWN0cyA9IFtdOwogICAgICAgICAgICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZUlkID0gbnVsbDsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnByb2R1Y3RPclNlcnZpY2VzU2VhcmNoUGF5bG9hZC5wYWdlID0gMTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoISRldmVudCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlcygkZXZlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjb250cmFjdG9yUmVhY2hlZEVuZE9mTGlzdDogZnVuY3Rpb24gY29udHJhY3RvclJlYWNoZWRFbmRPZkxpc3QoZSkgewogICAgICBpZiAoZSAmJiAhdGhpcy5pc0xvYWRpbmdDb250cmFjdG9ycykgewogICAgICAgIHRoaXMuZmV0Y2hDb250cmFjdG9ycygpOwogICAgICB9CiAgICB9LAogICAgcHJvZHVjdE9yU2VydmljZXNSZWFjaGVkRW5kT2ZMaXN0OiBmdW5jdGlvbiBwcm9kdWN0T3JTZXJ2aWNlc1JlYWNoZWRFbmRPZkxpc3QoZSkgewogICAgICBpZiAoZSkgewogICAgICAgIHRoaXMuZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlcyh0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VUeXBlSWQpOwogICAgICB9CiAgICB9LAogICAgY3VzdG9tTGFiZWxDb250cmFjdG9yOiBmdW5jdGlvbiBjdXN0b21MYWJlbENvbnRyYWN0b3Iob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuY29udHJhY3RvcnMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IG9wdDsKICAgICAgfSk7CgogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHNlbGVjdGVkLmZ1bGxOYW1lKTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGRlYm91bmNlU2VhcmNoUHJvZHVjdE9yU2VydmljZXM6IGZ1bmN0aW9uIGRlYm91bmNlU2VhcmNoUHJvZHVjdE9yU2VydmljZXMoc2VhcmNoVGV4dCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXM3LmRlYm91bmNlKTsKICAgICAgICAgICAgICAgIF90aGlzNy5kZWJvdW5jZSA9IHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmZldGNoUHJvZHVjdE9yU2VydmljZXNXaXRoS2V5d29yZChzZWFyY2hUZXh0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgICAgICAgICAgIH0pKSwgMTAwMCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlYm91bmNlU2VhcmNoQ29udHJhY3RvcnM6IGZ1bmN0aW9uIGRlYm91bmNlU2VhcmNoQ29udHJhY3RvcnMoc2VhcmNoVGV4dCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpczguZGVib3VuY2UpOwogICAgICAgICAgICAgICAgX3RoaXM4LmRlYm91bmNlID0gc2V0VGltZW91dCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguZmV0Y2hDb250cmFjdG9yc1dpdGhLZXl3b3JkKHNlYXJjaFRleHQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgICAgICAgICAgICB9KSksIDEwMDApOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZldGNoUHJvZHVjdE9yU2VydmljZXNXaXRoS2V5d29yZDogZnVuY3Rpb24gZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlc1dpdGhLZXl3b3JkKGtleXdvcmQpIHsKICAgICAgdGhpcy5wcm9kdWN0cyA9IFtdOwogICAgICB0aGlzLnByb2R1Y3RPclNlcnZpY2VzU2VhcmNoUGF5bG9hZC5wYWdlID0gMTsKICAgICAgdGhpcy5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQua2V5d29yZCA9IGtleXdvcmQgPyBrZXl3b3JkIDogJyc7CiAgICAgIHRoaXMuZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlcyh0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VUeXBlSWQpOwogICAgfSwKICAgIC8vIE9LRUQgTUVUSE9EUwogICAgb2tlZFJlYWNoZWRFbmRPZkxpc3Q6IGZ1bmN0aW9uIG9rZWRSZWFjaGVkRW5kT2ZMaXN0KGUpIHsKICAgICAgaWYgKGUpIHsKICAgICAgICB0aGlzLmZldGNoT2tlZHMoKTsKICAgICAgfQogICAgfSwKICAgIGRlYm91bmNlU2VhcmNoT2tlZDogZnVuY3Rpb24gZGVib3VuY2VTZWFyY2hPa2VkKHNlYXJjaFRleHQpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXM5LmRlYm91bmNlKTsKICAgICAgICAgICAgICAgIF90aGlzOS5kZWJvdW5jZSA9IHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LmZldGNoT2tlZHNXaXRoS2V5d29yZChzZWFyY2hUZXh0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICAgICAgICAgICAgfSkpLCAxMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaE9rZWRzV2l0aEtleXdvcmQ6IGZ1bmN0aW9uIGZldGNoT2tlZHNXaXRoS2V5d29yZChrZXl3b3JkKSB7CiAgICAgIHRoaXMub2tlZHMgPSBbXTsKICAgICAgdGhpcy5va2VkU2VhcmNoUGF5bG9hZC5wYWdlID0gMTsKICAgICAgdGhpcy5va2VkU2VhcmNoUGF5bG9hZC5rZXl3b3JkID0ga2V5d29yZCA/IGtleXdvcmQgOiAnJzsKICAgICAgdGhpcy5mZXRjaE9rZWRzKCk7CiAgICB9LAogICAgZmV0Y2hPa2VkczogZnVuY3Rpb24gZmV0Y2hPa2VkcygpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxMC5pc0xvYWRpbmdPa2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0V2l0aEtleXdvcmQoT0tFRF9BUElfVVJMLCBfdGhpczEwLm9rZWRTZWFyY2hQYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMTAkb2tlZHM7CgogICAgICAgICAgICAgICAgICAoX3RoaXMxMCRva2VkcyA9IF90aGlzMTAub2tlZHMpLnB1c2guYXBwbHkoX3RoaXMxMCRva2VkcywgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLmxpc3QpKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTAuaGFzTmV4dFBhZ2VPa2VkID0gcmVzLmRhdGEudG90YWwgLyBfdGhpczEwLm9rZWRTZWFyY2hQYXlsb2FkLml0ZW1zUGVyUGFnZSA+IF90aGlzMTAub2tlZFNlYXJjaFBheWxvYWQucGFnZTsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5va2VkU2VhcmNoUGF5bG9hZC5wYWdlICs9IDE7CgogICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTAuaXNNb2RlQ3JlYXRlICYmIF90aGlzMTAuZWRpdGluZ0l0ZW0ub2tlZElkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kSXRtID0gX3RoaXMxMC5va2Vkcy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMTAuZWRpdGluZ0l0ZW0ub2tlZElkOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kSXRtICYmIF90aGlzMTAuZWRpdGluZ0l0ZW0uaW5mb09rZWREdG8pIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAub2tlZHMucHVzaChfdGhpczEwLmVkaXRpbmdJdGVtLmluZm9Pa2VkRHRvKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICBfdGhpczEwLm9rZWRzID0gW107CiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5pc0xvYWRpbmdPa2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjdXN0b21MYWJlbE9rZWQ6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsT2tlZChvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5va2Vkcy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoc2VsZWN0ZWQuY29kZSwgIiAtICIpLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFNLUCBNRVRIT0RTCiAgICBza3BSZWFjaGVkRW5kT2ZMaXN0OiBmdW5jdGlvbiBza3BSZWFjaGVkRW5kT2ZMaXN0KGUpIHsKICAgICAgaWYgKGUpIHsKICAgICAgICB0aGlzLmZldGNoU2twcygpOwogICAgICB9CiAgICB9LAogICAgZGVib3VuY2VTZWFyY2hTa3A6IGZ1bmN0aW9uIGRlYm91bmNlU2VhcmNoU2twKHNlYXJjaFRleHQpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMTEuZGVib3VuY2UpOwogICAgICAgICAgICAgICAgX3RoaXMxMS5kZWJvdW5jZSA9IHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5mZXRjaFNrcHNXaXRoS2V5d29yZChzZWFyY2hUZXh0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICAgICAgICAgICAgfSkpLCAxMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaFNrcHNXaXRoS2V5d29yZDogZnVuY3Rpb24gZmV0Y2hTa3BzV2l0aEtleXdvcmQoa2V5d29yZCkgewogICAgICB0aGlzLnNrcHMgPSBbXTsKICAgICAgdGhpcy5za3BTZWFyY2hQYXlsb2FkLnBhZ2UgPSAxOwogICAgICB0aGlzLnNrcFNlYXJjaFBheWxvYWQua2V5d29yZCA9IGtleXdvcmQgPyBrZXl3b3JkIDogJyc7CiAgICAgIHRoaXMuZmV0Y2hTa3BzKCk7CiAgICB9LAogICAgZmV0Y2hTa3BzOiBmdW5jdGlvbiBmZXRjaFNrcHMoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTIuaXNMb2FkaW5nU2twID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0V2l0aEtleXdvcmQoU0tQX0FQSV9VUkwsIF90aGlzMTIuc2twU2VhcmNoUGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdGhpczEyJHNrcHM7CgogICAgICAgICAgICAgICAgICAoX3RoaXMxMiRza3BzID0gX3RoaXMxMi5za3BzKS5wdXNoLmFwcGx5KF90aGlzMTIkc2twcywgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLmxpc3QpKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTIuaGFzTmV4dFBhZ2VTa3AgPSByZXMuZGF0YS50b3RhbCAvIF90aGlzMTIuc2twU2VhcmNoUGF5bG9hZC5pdGVtc1BlclBhZ2UgPiBfdGhpczEyLnNrcFNlYXJjaFBheWxvYWQucGFnZTsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5za3BTZWFyY2hQYXlsb2FkLnBhZ2UgKz0gMTsKCiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMi5pc01vZGVDcmVhdGUgJiYgX3RoaXMxMi5lZGl0aW5nSXRlbS5za3BJZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZEl0bSA9IF90aGlzMTIuc2twcy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMTIuZWRpdGluZ0l0ZW0uc2twSWQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmICghZm91bmRJdG0gJiYgX3RoaXMxMi5lZGl0aW5nSXRlbS5pbmZvU0tQRHRvKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnNrcHMucHVzaChfdGhpczEyLmVkaXRpbmdJdGVtLmluZm9TS1BEdG8pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuc2twcyA9IFtdOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuaXNMb2FkaW5nU2twID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjdXN0b21MYWJlbFNrcDogZnVuY3Rpb24gY3VzdG9tTGFiZWxTa3Aob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuc2twcy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoc2VsZWN0ZWQuY29kZSwgIiAtICIpLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFROVkVEIE1FVEhPRFMKICAgIHRudmVkUmVhY2hlZEVuZE9mTGlzdDogZnVuY3Rpb24gdG52ZWRSZWFjaGVkRW5kT2ZMaXN0KGUpIHsKICAgICAgaWYgKGUpIHsKICAgICAgICB0aGlzLmZldGNoVG52ZWRzKCk7CiAgICAgIH0KICAgIH0sCiAgICBkZWJvdW5jZVNlYXJjaFRudmVkOiBmdW5jdGlvbiBkZWJvdW5jZVNlYXJjaFRudmVkKHNlYXJjaFRleHQpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMTMuZGVib3VuY2UpOwogICAgICAgICAgICAgICAgX3RoaXMxMy5kZWJvdW5jZSA9IHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5mZXRjaFRudmVkc1dpdGhLZXl3b3JkKHNlYXJjaFRleHQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgICAgICAgICAgICB9KSksIDEwMDApOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZldGNoVG52ZWRzV2l0aEtleXdvcmQ6IGZ1bmN0aW9uIGZldGNoVG52ZWRzV2l0aEtleXdvcmQoa2V5d29yZCkgewogICAgICB0aGlzLnRudmVkcyA9IFtdOwogICAgICB0aGlzLnRudmVkU2VhcmNoUGF5bG9hZC5wYWdlID0gMTsKICAgICAgdGhpcy50bnZlZFNlYXJjaFBheWxvYWQua2V5d29yZCA9IGtleXdvcmQgPyBrZXl3b3JkIDogJyc7CiAgICAgIHRoaXMuZmV0Y2hUbnZlZHMoKTsKICAgIH0sCiAgICBmZXRjaFRudmVkczogZnVuY3Rpb24gZmV0Y2hUbnZlZHMoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTQuaXNMb2FkaW5nVG52ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3RXaXRoS2V5d29yZChUTlZFRF9BUElfVVJMLCBfdGhpczE0LnRudmVkU2VhcmNoUGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdGhpczE0JHRudmVkczsKCiAgICAgICAgICAgICAgICAgIChfdGhpczE0JHRudmVkcyA9IF90aGlzMTQudG52ZWRzKS5wdXNoLmFwcGx5KF90aGlzMTQkdG52ZWRzLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEubGlzdCkpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5oYXNOZXh0UGFnZVRudmVkID0gcmVzLmRhdGEudG90YWwgLyBfdGhpczE0LnRudmVkU2VhcmNoUGF5bG9hZC5pdGVtc1BlclBhZ2UgPiBfdGhpczE0LnRudmVkU2VhcmNoUGF5bG9hZC5wYWdlOwogICAgICAgICAgICAgICAgICBfdGhpczE0LnRudmVkU2VhcmNoUGF5bG9hZC5wYWdlICs9IDE7CgogICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTQuaXNNb2RlQ3JlYXRlICYmIF90aGlzMTQuZWRpdGluZ0l0ZW0udG52ZWRJZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZEl0bSA9IF90aGlzMTQudG52ZWRzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMxNC5lZGl0aW5nSXRlbS50bnZlZElkOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kSXRtICYmIF90aGlzMTQuZWRpdGluZ0l0ZW0uaW5mb1ROVkVERHRvKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnRudmVkcy5wdXNoKF90aGlzMTQuZWRpdGluZ0l0ZW0uaW5mb1ROVkVERHRvKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICBfdGhpczE0LnRudmVkcyA9IFtdOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQuaXNMb2FkaW5nVG52ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGN1c3RvbUxhYmVsVG52ZWQ6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsVG52ZWQob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMudG52ZWRzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSBvcHQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChzZWxlY3RlZC5jb2RlLCAiIC0gIikuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkLm5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQubmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5uYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlczogZnVuY3Rpb24gZmV0Y2hQcm9kdWN0T3JTZXJ2aWNlcyh0eXBlSWQpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxNS5pc0xvYWRpbmdQcm9kdWN0T3JTZXJ2aWNlcyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZ2V0UHJvZHVjdE9yU2VydmljZXNCeVR5cGVJZCh0eXBlSWQsIF90aGlzMTUucHJvZHVjdE9yU2VydmljZXNTZWFyY2hQYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMTUkcHJvZHVjdHM7CgogICAgICAgICAgICAgICAgICAoX3RoaXMxNSRwcm9kdWN0cyA9IF90aGlzMTUucHJvZHVjdHMpLnB1c2guYXBwbHkoX3RoaXMxNSRwcm9kdWN0cywgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLmxpc3QpKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTUuaGFzTmV4dFBhZ2VQcm9kdWN0T3JTZXJ2aWNlcyA9IHJlcy5kYXRhLnRvdGFsIC8gX3RoaXMxNS5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQuaXRlbXNQZXJQYWdlID4gX3RoaXMxNS5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQucGFnZTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNS5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQucGFnZSArPSAxOwoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczE1LmlzTW9kZUNyZWF0ZSAmJiBfdGhpczE1LmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VJZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZEl0bSA9IF90aGlzMTUucHJvZHVjdHMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczE1LmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VJZDsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZEl0bSAmJiBfdGhpczE1LmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VEdG8pIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTUucHJvZHVjdHMucHVzaChfdGhpczE1LmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VEdG8pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMTUucHJvZHVjdHMgPSBbXTsKICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczE1LmlzTG9hZGluZ1Byb2R1Y3RPclNlcnZpY2VzID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaENvbnRyYWN0b3JzV2l0aEtleXdvcmQ6IGZ1bmN0aW9uIGZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZChrZXl3b3JkKSB7CiAgICAgIHZhciBtYWtlRmlyc3RTZWxlY3RlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHRoaXMuY29udHJhY3RvcnMgPSBbXTsKICAgICAgdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5wYWdlID0gMTsKICAgICAgdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5rZXl3b3JkID0ga2V5d29yZCA/IGtleXdvcmQgOiAnJzsgLy8gdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5zb3J0QnkgPSBbXQogICAgICAvLyB0aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnNvcnRCeS5wdXNoKCdjcmVhdGVkJykKICAgICAgLy8gdGhpcy5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5zb3J0RGVzYyA9IFtdCiAgICAgIC8vIHRoaXMuY29udHJhY3RvclNlYXJjaFBheWxvYWQuc29ydERlc2MucHVzaChmYWxzZSkKCiAgICAgIHRoaXMuZmV0Y2hDb250cmFjdG9ycyhtYWtlRmlyc3RTZWxlY3RlZCk7CiAgICB9LAogICAgZmV0Y2hDb250cmFjdG9yczogZnVuY3Rpb24gZmV0Y2hDb250cmFjdG9ycyhtYWtlRmlyc3RTZWxlY3RlZCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE2LmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnNvcnRCeSA9IFtdOwoKICAgICAgICAgICAgICAgIF90aGlzMTYuY29udHJhY3RvclNlYXJjaFBheWxvYWQuc29ydEJ5LnB1c2goJ2NyZWF0ZWQnKTsKCiAgICAgICAgICAgICAgICBfdGhpczE2LmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnNvcnREZXNjID0gW107CgogICAgICAgICAgICAgICAgX3RoaXMxNi5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5zb3J0RGVzYy5wdXNoKHRydWUpOwoKICAgICAgICAgICAgICAgIF90aGlzMTYuaXNMb2FkaW5nQ29udHJhY3RvcnMgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3RXaXRoS2V5d29yZCgnY29udHJhY3RvcicsIF90aGlzMTYuY29udHJhY3RvclNlYXJjaFBheWxvYWQsICdieS1jb250cmFjdG9yJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdGhpczE2JGNvbnRyYWN0b3JzOwoKICAgICAgICAgICAgICAgICAgKF90aGlzMTYkY29udHJhY3RvcnMgPSBfdGhpczE2LmNvbnRyYWN0b3JzKS5wdXNoLmFwcGx5KF90aGlzMTYkY29udHJhY3RvcnMsIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5saXN0KSk7CgogICAgICAgICAgICAgICAgICBfdGhpczE2Lmhhc05leHRQYWdlQ29udHJhY3RvcnMgPSByZXMuZGF0YS50b3RhbCAvIF90aGlzMTYuY29udHJhY3RvclNlYXJjaFBheWxvYWQuaXRlbXNQZXJQYWdlID4gX3RoaXMxNi5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5wYWdlOwogICAgICAgICAgICAgICAgICBfdGhpczE2LmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnBhZ2UgKz0gMTsKCiAgICAgICAgICAgICAgICAgIGlmIChtYWtlRmlyc3RTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTYuZWRpdGluZ0l0ZW0uY29udHJhY3RvcklkID0gX3RoaXMxNi5jb250cmFjdG9ycy5sZW5ndGggPyBfdGhpczE2LmNvbnRyYWN0b3JzWzBdLmlkIDogbnVsbDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczE2LmlzTW9kZUNyZWF0ZSAmJiBfdGhpczE2LmVkaXRpbmdJdGVtLmNvbnRyYWN0b3JJZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBjb250cmFjdG9yRm91bmQgPSBfdGhpczE2LmNvbnRyYWN0b3JzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMxNi5lZGl0aW5nSXRlbS5jb250cmFjdG9ySWQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmICghY29udHJhY3RvckZvdW5kICYmIF90aGlzMTYuZWRpdGluZ0l0ZW0uY29udHJhY3RvckR0bykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5jb250cmFjdG9ycy5wdXNoKF90aGlzMTYuZWRpdGluZ0l0ZW0uY29udHJhY3RvckR0byk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNi5jb250cmFjdG9ycyA9IFtdOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTYuaXNMb2FkaW5nQ29udHJhY3RvcnMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCgogIC8qDQogICogQ1JFQVRFRCAqLwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIzKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczE3LmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCk7CiAgICAgICAgICAgICAgX3RoaXMxNy5wcm9kdWN0T3JTZXJ2aWNlc1NlYXJjaFBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczE3LnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkKTsKICAgICAgICAgICAgICBfdGhpczE3Lm9rZWRTZWFyY2hQYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCk7CiAgICAgICAgICAgICAgX3RoaXMxNy5za3BTZWFyY2hQYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCk7CiAgICAgICAgICAgICAgX3RoaXMxNy50bnZlZFNlYXJjaFBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczE3LnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkKTsKICAgICAgICAgICAgICBfdGhpczE3LnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSA9IDUwMDsKCiAgICAgICAgICAgICAgaWYgKCFfdGhpczE3LmlzTW9kZUNyZWF0ZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0RW1wdHkoTUFJTl9BUElfVVJMKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0gPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0RW1wdHlDdXN0b21VcmwoIiIuY29uY2F0KEFOTk9VTkNFRF9NRURJQV9BUElfVVJMLCAiL2VtcHR5IikpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczE3LmRlZmF1bHRBbm5vdW5jZWRNZWRpYUR0byA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczE3LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcyB8fCAhX3RoaXMxNy5lZGl0aW5nSXRlbS5hbm5vdW5jZWRNZWRpYUR0b3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5hbm5vdW5jZWRNZWRpYUR0b3MgPSBbXTsKICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNy5kZWZhdWx0QW5ub3VuY2VkTWVkaWFEdG8pOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcy5wdXNoKHRtcCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEVtcHR5Q3VzdG9tVXJsKCIiLmNvbmNhdChQUklDRV9BUFBST1ZBTF9BUElfVVJMLCAiL2VtcHR5IikpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczE3LmRlZmF1bHRQcmljZUFwcHJvdmFsRHRvID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTcuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbER0b3MgfHwgIV90aGlzMTcuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbER0b3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRHRvcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczE3LmRlZmF1bHRQcmljZUFwcHJvdmFsRHRvKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRHRvcy5wdXNoKHRtcCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEVtcHR5Q3VzdG9tVXJsKCIiLmNvbmNhdChDT01NSVNTSU9OX0FQUExJQ0FUSU9OX0FQSV9VUkwsICIvZW1wdHkiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcuZGVmYXVsdENvbW1pc3Npb25BcHBsaWNhdGlvbkR0byA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczE3LmVkaXRpbmdJdGVtLmNvbW1pc3Npb25BcHBsaWNhdGlvbkR0b3MgfHwgIV90aGlzMTcuZWRpdGluZ0l0ZW0uY29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLmNvbW1pc3Npb25BcHBsaWNhdGlvbkR0b3MgPSBbXTsKICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNy5kZWZhdWx0Q29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5jb21taXNzaW9uQXBwbGljYXRpb25EdG9zLnB1c2godG1wKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEJ5SWQoTUFJTl9BUElfVVJMLCBfdGhpczE3LiRyb3V0ZS5wYXJhbXMuaWQsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmRvY3VtZW50U3RhdHVzQ29kZSAhPSAnUEVORElORycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy4kcm91dGVyLmdvKC0xKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtID0gcmVzLmRhdGE7IC8vIHRoaXMuc2V0RmlsZXNGcm9tU2VydmVyKCkKCiAgICAgICAgICAgICAgICAvLyB0aGlzLnNldEZpbGVzRnJvbVNlcnZlcigpCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTcuZWRpdGluZ0l0ZW0uYW5ub3VuY2VkTWVkaWFEdG9zIHx8ICFfdGhpczE3LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5nZXRFbXB0eUN1c3RvbVVybCgiIi5jb25jYXQoQU5OT1VOQ0VEX01FRElBX0FQSV9VUkwsICIvZW1wdHkiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5kZWZhdWx0QW5ub3VuY2VkTWVkaWFEdG8gPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczE3LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcyB8fCAhX3RoaXMxNy5lZGl0aW5nSXRlbS5hbm5vdW5jZWRNZWRpYUR0b3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMTcuZGVmYXVsdEFubm91bmNlZE1lZGlhRHRvKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLmFubm91bmNlZE1lZGlhRHRvcy5wdXNoKHRtcCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTcuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbER0b3MgfHwgIV90aGlzMTcuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbER0b3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0RW1wdHlDdXN0b21VcmwoIiIuY29uY2F0KFBSSUNFX0FQUFJPVkFMX0FQSV9VUkwsICIvZW1wdHkiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5kZWZhdWx0UHJpY2VBcHByb3ZhbER0byA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTcuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbER0b3MgfHwgIV90aGlzMTcuZWRpdGluZ0l0ZW0ucHJpY2VBcHByb3ZhbER0b3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLnByaWNlQXBwcm92YWxEdG9zID0gW107CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNy5kZWZhdWx0UHJpY2VBcHByb3ZhbER0byk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5lZGl0aW5nSXRlbS5wcmljZUFwcHJvdmFsRHRvcy5wdXNoKHRtcCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTcuZWRpdGluZ0l0ZW0uY29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvcyB8fCAhX3RoaXMxNy5lZGl0aW5nSXRlbS5jb21taXNzaW9uQXBwbGljYXRpb25EdG9zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEVtcHR5Q3VzdG9tVXJsKCIiLmNvbmNhdChDT01NSVNTSU9OX0FQUExJQ0FUSU9OX0FQSV9VUkwsICIvZW1wdHkiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNy5kZWZhdWx0Q29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMxNy5lZGl0aW5nSXRlbS5jb21taXNzaW9uQXBwbGljYXRpb25EdG9zIHx8ICFfdGhpczE3LmVkaXRpbmdJdGVtLmNvbW1pc3Npb25BcHBsaWNhdGlvbkR0b3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE3LmVkaXRpbmdJdGVtLmNvbW1pc3Npb25BcHBsaWNhdGlvbkR0b3MgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczE3LmRlZmF1bHRDb21taXNzaW9uQXBwbGljYXRpb25EdG8pOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTcuZWRpdGluZ0l0ZW0uY29tbWlzc2lvbkFwcGxpY2F0aW9uRHRvcy5wdXNoKHRtcCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDE1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczE3LmZldGNoQ29udHJhY3RvcnMoKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTcuZmV0Y2hPa2VkcygpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBpZiAoIV90aGlzMTcuaXNEb21pbmFudCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDIwOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczE3LmZldGNoU2twcygpOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAyMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNy5mZXRjaFRudmVkcygpOwoKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAvLyBHRVQgR1JPVVBfT0ZfSU5ESVZJRFVBTFMKICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3QoJ3JlZXN0ci9ncm91cC1vZi1pbmRpdmlkdWFscycsIF90aGlzMTcudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXMxNy5ncm91cE9mSW5kaXZpZHVhbHMgPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZmV0Y2hSZWdpb25zRm9yQ29udHJhY3RvclJlZXN0ckJ5Q3VycmVudFVzZXJJZCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXMxNy5yZWdpb25zID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgX3RoaXMxNy5yZWdpb25TZWxlY3RlZChfdGhpczE3LmVkaXRpbmdJdGVtLnJlZ2lvbklkLCB0cnVlKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIGlmIChfdGhpczE3LiRyb3V0ZS5uYW1lLmluY2x1ZGVzKCdDcmVhdGUnKSB8fCBfdGhpczE3LiRyb3V0ZS5uYW1lLmluY2x1ZGVzKCdVcGRhdGUnKSkgewogICAgICAgICAgICAgICAgLy8gR0VUIFBST0RVQ1RfT1JfU0VSVklDRV9UWVBFUwogICAgICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0KCdkaXJlY3RvcnkvcHJvZHVjdC1vci1zZXJ2aWNlLXR5cGVzJywgX3RoaXMxNy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCwgX3RoaXMxNy5pc0RvbWluYW50ID8gQVBQRU5EX0FQSV9VUkxfRE9NSU5BTlQgOiBfdGhpczE3LmlzTmF0dXJhbCA/IEFQUEVORF9BUElfVVJMX05BVFVSQUwgOiAnJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcucHJvZHVjdFR5cGVzID0gcmVzLmRhdGEubGlzdDsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTcucHJvZHVjdFR5cGVTZWxlY3RlZChfdGhpczE3LmVkaXRpbmdJdGVtLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VUeXBlSWQsIHRydWUpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IC8vIEdFVCBVTklUUwoKCiAgICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0V2l0aEtleXdvcmQoJ2RpcmVjdG9yeS91bml0cycsIF90aGlzMTcudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXMxNy51bml0cyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjMpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["CreateOrUpdate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <base-create-or-update-wrapper\r\n        @save=\"save\"\r\n        has-save-suspend\r\n        :custom-title=\"$t('actions.add_to_reestr')\"\r\n    >\r\n        <ValidationObserver\r\n            ref=\"observer\"\r\n            v-slot=\"{}\"\r\n        >\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseInputWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.orderNumber\"\r\n                        :label=\"$t('column.order_number')\"\r\n                        :placeholder=\"$t('column.order_number')\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseDatePickerWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        :label=\"$t('column.added_date_to_reestr')\"\r\n                        :placeholder=\"$t('column.added_date_to_reestr')\"\r\n                        disable-after\r\n                        v-model=\"editingItem.reestrAcceptedDate\"\r\n                        lang=\"ru\"\r\n                    ></BaseDatePickerWithValidation>\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.contractorId\"\r\n                        :has-next-page=\"hasNextPageContractors\"\r\n                        @reachedEndOfList=\"contractorReachedEndOfList\"\r\n                        @search-change=\"debounceSearchContractors\"\r\n                        :searchable=\"true\"\r\n                        :allow-empty=\"false\"\r\n                        preserve-search\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingContractors\"\r\n                        :internal-search=\"false\"\r\n                        :options=\"contractors.map(e => e.id)\"\r\n                        :label=\"$t('column.business_entity')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelContractor\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                        with-create-addition\r\n                    >\r\n                        <template v-slot:append-slot>\r\n                            <b-button\r\n                                @click=\"contractorCreateModal = true\"\r\n                                variant=\"outline-primary\"\r\n                                style=\"padding: 2.5px 10px; font-size: 1.2rem;\"\r\n                            >\r\n                                <i class=\"mdi mdi-plus-circle\"></i>\r\n                            </b-button>\r\n                        </template>\r\n                    </BaseMultiselectWithValidation>\r\n                    <BaseModalForCreate\r\n                        v-model=\"contractorCreateModal\"\r\n                        without-list-search\r\n                        use-component-save-fn\r\n                        mainApiUrl=\"contractor\"\r\n                        createFormName=\"CreateFormContractor\"\r\n                        @new-ref-created-without-list-search=\"newRefCreated\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.directoryProductOrServiceTypeId\"\r\n                        @select=\"productTypeSelected\"\r\n                        :options=\"productTypes.map(e => e.id)\"\r\n                        :label=\"$t('column.product_or_service_type')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelProductType\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <!-- $can('republic', 'for reestr') -->\r\n                    <b-row>\r\n                        <b-col :cols=\"$can('republic', 'for reestr') ? 8 : 12\">\r\n                            <BaseMultiselectWithValidation\r\n                                v-if=\"editingItem.isRepublic && !editingItem.contractorId\"\r\n                                rules=\"required\"\r\n                                class=\"required\"\r\n                                disabled\r\n                                :custom-styles=\"$can('republic', 'for reestr') ? `grid-template-columns: 38% 62%;` : ''\"\r\n                                :options=\"regions.map(e => e.regionId)\"\r\n                                :value=\"null\"\r\n                                :label=\"$t('column.region')\"\r\n                                :placeholder=\"$t('messages.please_select_business_entity')\"\r\n                                :custom-label=\"customLabelRegion\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                            <BaseMultiselectWithValidation\r\n                                v-else-if=\"editingItem.isRepublic && !contractorHasParent\"\r\n                                rules=\"required\"\r\n                                class=\"required\"\r\n                                multiple\r\n                                :hide-selected=\"true\"\r\n                                :close-on-select=\"false\"\r\n                                :custom-styles=\"$can('republic', 'for reestr') ? `grid-template-columns: 38% 62%;` : ''\"\r\n                                v-model=\"editingItem.regionIds\"\r\n                                :options=\"regions.map(e => e.regionId)\"\r\n                                @select=\"regionSelected\"\r\n                                :label=\"$t('column.region')\"\r\n                                placeholder=\"\"\r\n                                :custom-label=\"customLabelRegion\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                            <BaseMultiselectWithValidation\r\n                                v-else\r\n                                rules=\"required\"\r\n                                class=\"required\"\r\n                                :custom-styles=\"$can('republic', 'for reestr') ? `grid-template-columns: 38% 62%;` : ''\"\r\n                                v-model=\"editingItem.regionId\"\r\n                                :options=\"regions.map(e => e.regionId)\"\r\n                                @select=\"regionSelected\"\r\n                                :label=\"$t('column.region')\"\r\n                                placeholder=\"\"\r\n                                :custom-label=\"customLabelRegion\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                        </b-col>\r\n                        <b-col\r\n                            cols=\"4\"\r\n                            v-if=\"$can('republic', 'for reestr')\"\r\n                        >\r\n                            <div class=\"form-check form-check-right\">\r\n                                <input\r\n                                    v-model=\"editingItem.isRepublic\"\r\n                                    class=\"form-check-input\"\r\n                                    type=\"checkbox\"\r\n                                    id=\"formCheckIsLegal\"\r\n                                />\r\n                                <label\r\n                                    class=\"form-check-label font-weight-normal\"\r\n                                    for=\"formCheckIsLegal\"\r\n                                >\r\n                                    {{ $t('column.is_republic') }}\r\n                                </label>\r\n                            </div>\r\n                        </b-col>\r\n                    </b-row>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.directoryProductOrServiceId\"\r\n                        :options=\"products.map(el => el.id)\"\r\n                        :label=\"$t('submodules.product_or_services.title')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelProduct\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                        :has-next-page=\"hasNextPageProductOrServices\"\r\n                        @reachedEndOfList=\"productOrServicesReachedEndOfList\"\r\n                        @search-change=\"debounceSearchProductOrServices\"\r\n                        :searchable=\"true\"\r\n                        :allow-empty=\"false\"\r\n                        preserve-search\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingProductOrServices\"\r\n                        :internal-search=\"false\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <b-row\r\n                v-if=\"isDominant && editingItem.isRepublic && !contractorHasParent\"\r\n                class=\"mb-3\"\r\n            >\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <b-row>\r\n                        <b-col cols=\"8\">\r\n                            <BaseMultiselectWithValidation\r\n                                v-if=\"editingItem.isGroup\"\r\n                                rules=\"required\"\r\n                                class=\"required\"\r\n                                custom-styles=\"grid-template-columns: 38% 62%;\"\r\n                                v-model=\"editingItem.groupOfIndividualsId\"\r\n                                :options=\"groupOfIndividuals.map(e => e.id)\"\r\n                                :label=\"$t('column.group_of_individuals')\"\r\n                                placeholder=\"\"\r\n                                :custom-label=\"customLabelGroupOfIndividuals\"\r\n                                open-direction=\"bottom\"\r\n                                :max-height=\"600\"\r\n                                :show-labels=\"false\"\r\n                            />\r\n                        </b-col>\r\n                        <b-col cols=\"4\">\r\n                            <div class=\"form-check form-check-right\">\r\n                                <input\r\n                                    v-model=\"editingItem.isGroup\"\r\n                                    class=\"form-check-input\"\r\n                                    type=\"checkbox\"\r\n                                    id=\"formCheckIsGroup\"\r\n                                />\r\n                                <label\r\n                                    class=\"form-check-label font-weight-normal\"\r\n                                    for=\"formCheckIsGroup\"\r\n                                >\r\n                                    {{ $t('column.is_group') }}\r\n                                </label>\r\n                            </div>\r\n                        </b-col>\r\n                    </b-row>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        v-if=\"!editingItem.isRepublic\"\r\n                        not-required\r\n                        v-model=\"editingItem.districtIds\"\r\n                        multiple\r\n                        :close-on-select=\"false\"\r\n                        :hide-selected=\"true\"\r\n                        :options=\"districts.map(e => e.id)\"\r\n                        :label=\"$t('column.district')\"\r\n                        :custom-label=\"customLabelDistrict\"\r\n                        placeholder=\"\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        v-if=\"isDominant\"\r\n                        not-required\r\n                        v-model=\"editingItem.okedId\"\r\n                        :options=\"okeds.map(e => e.id)\"\r\n                        :label=\"$t('column.oked')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelOked\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                        :has-next-page=\"hasNextPageOked\"\r\n                        @reachedEndOfList=\"okedReachedEndOfList\"\r\n                        @search-change=\"debounceSearchOked\"\r\n                        :searchable=\"true\"\r\n                        preserve-search\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingOked\"\r\n                        :internal-search=\"false\"\r\n                    />\r\n                    <BaseMultiselectWithValidation\r\n                        v-else\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        :allow-empty=\"false\"\r\n                        v-model=\"editingItem.okedId\"\r\n                        :options=\"okeds.map(e => e.id)\"\r\n                        :label=\"$t('column.oked')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelOked\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                        :has-next-page=\"hasNextPageOked\"\r\n                        @reachedEndOfList=\"okedReachedEndOfList\"\r\n                        @search-change=\"debounceSearchOked\"\r\n                        :searchable=\"true\"\r\n                        preserve-search\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingOked\"\r\n                        :internal-search=\"false\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <b-row\r\n                v-if=\"isDominant\"\r\n                class=\"mb-3\"\r\n            >\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        not-required\r\n                        v-model=\"editingItem.tnvedId\"\r\n                        :options=\"tnveds.map(e => e.id)\"\r\n                        :label=\"$t('column.tnved_code')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelTnved\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                        :has-next-page=\"hasNextPageTnved\"\r\n                        @reachedEndOfList=\"tnvedReachedEndOfList\"\r\n                        @search-change=\"debounceSearchTnved\"\r\n                        :searchable=\"true\"\r\n                        preserve-search\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingTnved\"\r\n                        :internal-search=\"false\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        not-required\r\n                        v-model=\"editingItem.skpId\"\r\n                        :options=\"skps.map(e => e.id)\"\r\n                        :label=\"$t('column.skp_code')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelSkp\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                        :has-next-page=\"hasNextPageSkp\"\r\n                        @reachedEndOfList=\"skpReachedEndOfList\"\r\n                        @search-change=\"debounceSearchSkp\"\r\n                        :searchable=\"true\"\r\n                        preserve-search\r\n                        :clear-on-select=\"false\"\r\n                        :loading=\"isLoadingSkp\"\r\n                        :internal-search=\"false\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseInputWithValidation\r\n                        rules=\"required|positive\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.governmentPercentage\"\r\n                        :label=\"$t('column.government_percentage')\"\r\n                        :placeholder=\"$t('column.government_percentage')\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.unitId\"\r\n                        :options=\"units.map(el => el.id)\"\r\n                        :label=\"$t('column.unit')\"\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelUnit\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isModeCreate\"\r\n                        name=\"supplementDoc\"\r\n                        rules=\"required\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                class=\"required\"\r\n                                ref=\"supplementDocUploader\"\r\n                                v-model=\"editingItem.supplementDocs\"\r\n                                data-vv-name=\"supplementDocFile\"\r\n                                data-vv-as=\"SupplementDocFile\"\r\n                                :max-files=\"1\"\r\n                                :label-on-top=\"false\"\r\n                                :label=\"$t('column.ilova')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseTextareaWithValidation\r\n                        not-required\r\n                        v-model=\"editingItem.comment\"\r\n                        max-rows=\"8\"\r\n                        :label=\"$t('column.comment')\"\r\n                        :placeholder=\"$t('column.comment')\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n\r\n            <!-- PRICE_APPROVAL_BASIS -->\r\n            <b-row\r\n                v-if=\"isNatural\"\r\n                class=\"mb-3\"\r\n            >\r\n                <b-col cols=\"12\">\r\n                    <h5 class=\"m-0 text-center\">\r\n                        {{ $t('column.price_approval_basis') }}\r\n                    </h5>\r\n                    <hr class=\"my-2\">\r\n                </b-col>\r\n                <b-col\r\n                    v-for=\"(el, index) in editingItem.priceApprovalDtos\"\r\n                    :key=\"`price-approval-dto-${index}`\"\r\n                    cols=\"12\"\r\n                >\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <b-row>\r\n                                <b-col\r\n                                    sm=\"12\"\r\n                                    md=\"6\"\r\n                                >\r\n                                    <BaseDatePickerWithValidation\r\n                                        not-required\r\n                                        custom-styles=\"grid-template-columns: 40% 60%;\"\r\n                                        :label=\"$t('column.date')\"\r\n                                        disable-after\r\n                                        v-model=\"el.priceApprovalDate\"\r\n                                        lang=\"ru\"\r\n                                    ></BaseDatePickerWithValidation>\r\n                                </b-col>\r\n                                <b-col\r\n                                    sm=\"12\"\r\n                                    md=\"6\"\r\n                                >\r\n                                    <BaseDatePickerWithValidation\r\n                                        not-required\r\n                                        custom-styles=\"grid-template-columns: 40% 60%;\"\r\n                                        :label=\"$t('column.effective_date_price')\"\r\n                                        disable-after\r\n                                        v-model=\"el.priceEffectiveDate\"\r\n                                        lang=\"ru\"\r\n                                    ></BaseDatePickerWithValidation>\r\n                                </b-col>\r\n                            </b-row>\r\n\r\n                        </b-col>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                not-required\r\n                                v-model=\"el.priceApprovalNumber\"\r\n                                :label=\"$t('column.number')\"\r\n                            />\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <ValidationProvider\r\n                                v-if=\"isModeCreate\"\r\n                                name=\"priceApprovalFiles\"\r\n                                rules=\"\"\r\n                                mode=\"passive\"\r\n                            >\r\n                                <template v-slot:default=\"\">\r\n                                    <BaseFileUploaderWithValidation\r\n                                        not-required\r\n                                        v-model=\"el.priceApprovalFiles\"\r\n                                        :max-files=\"5\"\r\n                                        :label-on-top=\"false\"\r\n                                        :label=\"$t('column.file')\"\r\n                                    ></BaseFileUploaderWithValidation>\r\n                                </template>\r\n                            </ValidationProvider>\r\n                        </b-col>\r\n\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <b-row>\r\n                                <b-col\r\n                                    cols=\"12\"\r\n                                    class=\"mb-3\"\r\n                                >\r\n                                    <BaseInputWithValidation\r\n                                        rules=\"positiveNotZero\"\r\n                                        v-model=\"el.currentPriceWithDuty\"\r\n                                        :label=\"$t('column.current_price_with_duty')\"\r\n                                    />\r\n                                </b-col>\r\n                                <b-col\r\n                                    cols=\"12\"\r\n                                    class=\"mb-3\"\r\n                                >\r\n                                    <BaseInputWithValidation\r\n                                        rules=\"positiveNotZero\"\r\n                                        v-model=\"el.currentPriceWithoutDuty\"\r\n                                        :label=\"$t('column.current_price_without_duty')\"\r\n                                    />\r\n                                </b-col>\r\n                                <b-col\r\n                                    sm=\"12\"\r\n                                    md=\"10\"\r\n                                    class=\"mb-3\"\r\n                                >\r\n                                    <BaseTextareaWithValidation\r\n                                        not-required\r\n                                        v-model=\"el.additionalInformation\"\r\n                                        custom-styles=\"grid-template-columns: 30% 70%;\"\r\n                                        :label=\"$t('column.additional_info')\"\r\n                                    />\r\n                                </b-col>\r\n                                <b-col\r\n                                    sm=\"12\"\r\n                                    md=\"2\"\r\n                                    class=\"d-flex align-items-start justify-content-end\"\r\n                                >\r\n                                    <b-btn\r\n                                        v-if=\"index == editingItem.priceApprovalDtos.length - 1\"\r\n                                        variant=\"success\"\r\n                                        class=\"mr-2\"\r\n                                        size=\"sm\"\r\n                                        @click=\"addPriceApprovalDto\"\r\n                                    ><i class=\"mdi mdi-plus\"></i></b-btn>\r\n                                    <b-btn\r\n                                        v-if=\"editingItem.priceApprovalDtos.length > 1\"\r\n                                        variant=\"danger\"\r\n                                        size=\"sm\"\r\n                                        @click=\"editingItem.priceApprovalDtos.splice(index, 1)\"\r\n                                    ><i class=\"mdi mdi-trash-can\"></i></b-btn>\r\n                                </b-col>\r\n                            </b-row>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <hr class=\"my-2\">\r\n                </b-col>\r\n            </b-row>\r\n            <!-- <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <b-row>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseDatePickerWithValidation\r\n                                not-required\r\n                                custom-styles=\"grid-template-columns: 40% 60%;\"\r\n                                :label=\"$t('column.date')\"\r\n                                disable-after\r\n                                v-model=\"editingItem.priceApprovalDate\"\r\n                                lang=\"ru\"\r\n                            ></BaseDatePickerWithValidation>\r\n                        </b-col>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseDatePickerWithValidation\r\n                                not-required\r\n                                custom-styles=\"grid-template-columns: 40% 60%;\"\r\n                                :label=\"$t('column.effective_date_price')\"\r\n                                disable-after\r\n                                v-model=\"editingItem.priceEffectiveDate\"\r\n                                lang=\"ru\"\r\n                            ></BaseDatePickerWithValidation>\r\n                        </b-col>\r\n                    </b-row>\r\n\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseInputWithValidation\r\n                        not-required\r\n                        v-model=\"editingItem.priceApprovalNumber\"\r\n                        :label=\"$t('column.number')\"\r\n                    />\r\n                </b-col> -->\r\n            <!-- <b-row\r\n                v-if=\"isNatural\"\r\n                class=\"mb-3\"\r\n            >\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <ValidationProvider\r\n                        v-if=\"isModeCreate\"\r\n                        name=\"priceApprovalFiles\"\r\n                        rules=\"\"\r\n                        mode=\"passive\"\r\n                    >\r\n                        <template v-slot:default=\"\">\r\n                            <BaseFileUploaderWithValidation\r\n                                not-required\r\n                                v-model=\"editingItem.priceApprovalFiles\"\r\n                                :max-files=\"5\"\r\n                                :label-on-top=\"false\"\r\n                                :label=\"$t('column.file')\"\r\n                            ></BaseFileUploaderWithValidation>\r\n                        </template>\r\n                    </ValidationProvider>\r\n                </b-col>\r\n\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <b-row>\r\n                        <b-col\r\n                            cols=\"12\"\r\n                            class=\"mb-3\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                rules=\"positiveNotZero\"\r\n                                v-model=\"editingItem.currentPriceWithDuty\"\r\n                                :label=\"$t('column.current_price_with_duty')\"\r\n                            />\r\n                        </b-col>\r\n                        <b-col\r\n                            cols=\"12\"\r\n                            class=\"mb-3\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                rules=\"positiveNotZero\"\r\n                                v-model=\"editingItem.currentPriceWithoutDuty\"\r\n                                :label=\"$t('column.current_price_without_duty')\"\r\n                            />\r\n                        </b-col>\r\n                        <b-col\r\n                            cols=\"12\"\r\n                            class=\"mb-3\"\r\n                        >\r\n                            <BaseTextareaWithValidation\r\n                                not-required\r\n                                v-model=\"editingItem.additionalInformation\"\r\n                                :label=\"$t('column.additional_info')\"\r\n                            />\r\n                        </b-col>\r\n                    </b-row>\r\n                </b-col>\r\n                <hr class=\"my-2\">\r\n            </b-row> -->\r\n            <!-- END OF PRICE_APPROVAL_BASIS FORM -->\r\n            <!-- ANNOUNCED_MEDIA_DTO -->\r\n            <b-row\r\n                v-if=\"isNatural\"\r\n                class=\"mb-3\"\r\n            >\r\n                <b-col cols=\"12\">\r\n                    <h5 class=\"m-0 text-center\">\r\n                        {{ $t('column.announced_media') }}\r\n                    </h5>\r\n                    <hr class=\"my-2\">\r\n                </b-col>\r\n\r\n                <b-col\r\n                    v-for=\"(el, index) in editingItem.announcedMediaDtos\"\r\n                    :key=\"`announced-media-${index}`\"\r\n                    cols=\"12\"\r\n                >\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                not-required\r\n                                v-model=\"el.announcedMediaName\"\r\n                                :label=\"$t('column.name')\"\r\n                            />\r\n                        </b-col>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                not-required\r\n                                v-model=\"el.announcedMediaLink\"\r\n                                :label=\"$t('column.link')\"\r\n                            />\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <ValidationProvider\r\n                                v-if=\"isModeCreate\"\r\n                                name=\"annuncedMediaFiles\"\r\n                                rules=\"\"\r\n                                mode=\"passive\"\r\n                            >\r\n                                <template v-slot:default=\"\">\r\n                                    <BaseFileUploaderWithValidation\r\n                                        not-required\r\n                                        v-model=\"el.announcedMediaFiles\"\r\n                                        :max-files=\"10\"\r\n                                        :label-on-top=\"false\"\r\n                                        :label=\"$t('column.files')\"\r\n                                    ></BaseFileUploaderWithValidation>\r\n                                </template>\r\n                            </ValidationProvider>\r\n                        </b-col>\r\n\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"5\"\r\n                        >\r\n                            <BaseDatePickerWithValidation\r\n                                not-required\r\n                                custom-styles=\"grid-template-columns: 30% 70%;\"\r\n                                :label=\"$t('column.date')\"\r\n                                disable-after\r\n                                v-model=\"el.announcedMediaDate\"\r\n                                lang=\"ru\"\r\n                            ></BaseDatePickerWithValidation>\r\n                        </b-col>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"1\"\r\n                            class=\"d-flex align-items-start justify-content-end\"\r\n                        >\r\n                            <b-btn\r\n                                v-if=\"index == editingItem.announcedMediaDtos.length - 1\"\r\n                                variant=\"success\"\r\n                                class=\"mr-2\"\r\n                                size=\"sm\"\r\n                                @click=\"addAnnouncedMediaDto\"\r\n                            ><i class=\"mdi mdi-plus\"></i></b-btn>\r\n                            <b-btn\r\n                                v-if=\"editingItem.announcedMediaDtos.length > 1\"\r\n                                variant=\"danger\"\r\n                                size=\"sm\"\r\n                                @click=\"editingItem.announcedMediaDtos.splice(index, 1)\"\r\n                            ><i class=\"mdi mdi-trash-can\"></i></b-btn>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <hr class=\"my-2\">\r\n                </b-col>\r\n            </b-row>\r\n            <!-- END OF ANNOUNCED_MEDIA_DTO FORM -->\r\n\r\n            <!-- COMMISSION_APPLICATION_DTO -->\r\n            <b-row class=\"mb-3\">\r\n                <b-col cols=\"12\">\r\n                    <h5 class=\"m-0 text-center\">\r\n                        {{ $t('column.commission_applications') }}\r\n                    </h5>\r\n                    <hr class=\"my-2\">\r\n                </b-col>\r\n\r\n                <b-col\r\n                    v-for=\"(el, index) in editingItem.commissionApplicationDtos\"\r\n                    :key=\"`commission-application-${index}`\"\r\n                    cols=\"12\"\r\n                >\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseDatePickerWithValidation\r\n                                not-required\r\n                                :label=\"$t('column.date')\"\r\n                                disable-after\r\n                                v-model=\"el.commencementDate\"\r\n                                lang=\"ru\"\r\n                            ></BaseDatePickerWithValidation>\r\n                        </b-col>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                not-required\r\n                                v-model=\"el.commencementNumber\"\r\n                                :label=\"$t('column.number')\"\r\n                            />\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                not-required\r\n                                v-model=\"el.initiatorName\"\r\n                                :label=\"$t('column.initiator')\"\r\n                            />\r\n                        </b-col>\r\n\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                not-required\r\n                                v-model=\"el.completionWorkType\"\r\n                                :label=\"$t('column.finishing_type')\"\r\n                            />\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                rules=\"positiveNotZero\"\r\n                                v-model=\"el.instructionAmount\"\r\n                                :label=\"$t('column.showcase_amount')\"\r\n                            />\r\n                        </b-col>\r\n\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"6\"\r\n                        >\r\n                            <BaseInputWithValidation\r\n                                rules=\"positiveNotZero\"\r\n                                v-model=\"el.residueAmount\"\r\n                                :label=\"$t('column.remainder_amount')\"\r\n                            />\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mb-3\">\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"5\"\r\n                        >\r\n                            <BaseDatePickerWithValidation\r\n                                not-required\r\n                                :label=\"$t('column.finishing_date')\"\r\n                                custom-styles=\"grid-template-columns: 30% 70%;\"\r\n                                disable-after\r\n                                v-model=\"el.completionWorkDate\"\r\n                                lang=\"ru\"\r\n                            ></BaseDatePickerWithValidation>\r\n                        </b-col>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"1\"\r\n                            class=\"d-flex align-items-start justify-content-end\"\r\n                        >\r\n                            <b-btn\r\n                                v-if=\"index == editingItem.commissionApplicationDtos.length - 1\"\r\n                                variant=\"success\"\r\n                                class=\"mr-2\"\r\n                                size=\"sm\"\r\n                                @click=\"addCommissionApplicationDto\"\r\n                            ><i class=\"mdi mdi-plus\"></i></b-btn>\r\n                            <b-btn\r\n                                v-if=\"editingItem.commissionApplicationDtos.length > 1\"\r\n                                variant=\"danger\"\r\n                                size=\"sm\"\r\n                                @click=\"editingItem.commissionApplicationDtos.splice(index, 1)\"\r\n                            ><i class=\"mdi mdi-trash-can\"></i></b-btn>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <hr class=\"my-2\">\r\n                </b-col>\r\n            </b-row>\r\n            <!-- END OF COMMISSION_APPLICATION_DTO FORM -->\r\n        </ValidationObserver>\r\n    </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'reestr/contractor-reestr-documents'\r\nconst APPEND_API_URL_NATURAL = 'estestveniy'\r\nconst APPEND_API_URL_DOMINANT = 'daminiriushiy'\r\nconst OKED_API_URL = 'reestr/info-oked'\r\nconst SKP_API_URL = 'reestr/info-skp'\r\nconst TNVED_API_URL = 'reestr/info-tnved'\r\nconst PRICE_APPROVAL_API_URL = 'reestr/contractor-reestr-documents/get/price-approval'\r\nconst ANNOUNCED_MEDIA_API_URL = 'reestr/contractor-reestr-documents/get/announced-media'\r\nconst COMMISSION_APPLICATION_API_URL = 'reestr/contractor-reestr-documents/get/commission-application'\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nimport helperService from \"@/shared/services/helper.service\"\r\n\r\nexport default {\r\n    name: \"CreateOrUpdate\",\r\n    /*\r\n    * COMPONENTS */\r\n    components: {},\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            editingItem: {},\r\n            publicPath: process.env.BASE_URL,\r\n            defaultCommissionApplicationDto: {},\r\n            defaultAnnouncedMediaDto: {},\r\n            defaultPriceApprovalDto: {},\r\n            regions: [],\r\n            districts: [],\r\n            hasNextPageContractors: false,\r\n            hasNextPageProductOrServices: false,\r\n            contractors: [],\r\n            debounce: null,\r\n            isLoadingContractors: false,\r\n            isLoadingProductOrServices: false,\r\n            contractorSearchPayload: {},\r\n            productOrServicesSearchPayload: {},\r\n            productTypes: [],\r\n            products: [],\r\n            units: [],\r\n            // OKED VARIABLES\r\n            okeds: [],\r\n            hasNextPageOked: false,\r\n            isLoadingOked: false,\r\n            okedSearchPayload: {},\r\n            // ----------------\r\n            // SKP VARIABLES\r\n            skps: [],\r\n            hasNextPageSkp: false,\r\n            isLoadingSkp: false,\r\n            skpSearchPayload: {},\r\n            // ----------------\r\n            // TNVED VARIABLES\r\n            tnveds: [],\r\n            hasNextPageTnved: false,\r\n            isLoadingTnved: false,\r\n            tnvedSearchPayload: {},\r\n            // ----------------\r\n            contractorCreateModal: false,\r\n            groupOfIndividuals: []\r\n        }\r\n    },\r\n    /*\r\n    * COMPUTED */\r\n    computed: {\r\n        computedObserver () {\r\n            return this.$refs.observer\r\n        },\r\n        isModeCreate () {\r\n            return this.$route.name === 'CreateNaturalContractorReestr' || this.$route.name === 'CreateDominantContractorReestr'\r\n        },\r\n        isDominant () {\r\n            return this.$route.name === 'CreateDominantContractorReestr' || this.$route.name === 'UpdateDominantContractorReestr'\r\n        },\r\n        isNatural () {\r\n            return this.$route.name === 'CreateNaturalContractorReestr' || this.$route.name === 'UpdateNaturalContractorReestr'\r\n        },\r\n        contractorHasParent () {\r\n            let contractor = this.contractors.find(el => el.id == this.editingItem.contractorId)\r\n            if (contractor) {\r\n                return contractor.parent\r\n            } else {\r\n                return false\r\n            }\r\n        }\r\n    },\r\n    /*\r\n    * METHODS */\r\n    methods: {\r\n        save () {\r\n            this.computedObserver.validate().then(async valid => {\r\n                if (valid) {\r\n                    if (this.isDominant && !this.editingItem.okedId && !this.editingItem.skpId) {\r\n                        this.$toast(this.$t('messages.oked_or_skp_is_required'), { type: 'error' });\r\n                        return\r\n                    }\r\n                    if (!this.isDominant || !this.editingItem.isRepublic && this.contractorHasParent) {\r\n                        this.editingItem.isGroup = false\r\n                    }\r\n                    let tmpPriceApprovalFiles = (this.editingItem.priceApprovalFiles && this.editingItem.priceApprovalFiles.length) ? JSON.parse(JSON.stringify(this.editingItem.priceApprovalFiles)) : []\r\n                    let tmpProductOrServices = JSON.parse(JSON.stringify(this.editingItem.directoryProductOrServiceId))\r\n                    let tmpAnnouncedMedia = JSON.parse(JSON.stringify(this.editingItem.announcedMediaDtos))\r\n                    let tmpPriceApprovalDtos = JSON.parse(JSON.stringify(this.editingItem.priceApprovalDtos))\r\n                    let tmpCommissions = JSON.parse(JSON.stringify(this.editingItem.commissionApplicationDtos))\r\n                    if (this.editingItem.id) {\r\n                        let payload = await this.makeAndReturnFormDataForBase64()\r\n                        helperService.updateReestr(MAIN_API_URL, payload, `for-acceptance-${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}/${this.editingItem.id}`, true).then(res => {\r\n                            this.computedObserver.reset()\r\n                            this.editingItem = Object.assign({}, {});\r\n                            this.$router.go(-1)\r\n                            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                        })\r\n                    } else {\r\n                        let payload = await this.makeAndReturnFormDataForBase64()\r\n                        crudAndListsService.create(MAIN_API_URL, payload,\r\n                            `for-acceptance-${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}`, true).then(res => {\r\n                                this.computedObserver.reset()\r\n                                this.editingItem = Object.assign({}, {});\r\n                                this.$router.go(-1)\r\n                                this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                            })\r\n                            .catch(e => {\r\n                                this.editingItem.directoryProductOrServiceId = JSON.parse(JSON.stringify(tmpProductOrServices))\r\n                                this.editingItem.commissionApplicationDtos = JSON.parse(JSON.stringify(tmpCommissions))\r\n                                this.editingItem.announcedMediaDtos = JSON.parse(JSON.stringify(tmpAnnouncedMedia))\r\n                                this.editingItem.priceApprovalDtos = JSON.parse(JSON.stringify(tmpPriceApprovalDtos))\r\n                                this.editingItem.priceApprovalFiles = JSON.parse(JSON.stringify(tmpPriceApprovalFiles))\r\n                            })\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        },\r\n        async setFilesFromServer () {\r\n            // ILOVA\r\n            fetch(this.publicPath + this.editingItem.fileUrl)\r\n                .then((res) => res.blob())\r\n                .then((myBlob) => {\r\n                    myBlob.name = f.name;\r\n                    myBlob.lastModified = new Date();\r\n                    const myFile = new File([myBlob], f.name, {\r\n                        type: myBlob.type,\r\n                    });\r\n\r\n                    let url = this.publicPath + f.url;\r\n                    this.$refs.supplementDocUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n                })\r\n                .catch(e => console.log(e));\r\n\r\n            // this.editingItem.objectPhotoList.forEach(f => {\r\n            //     fetch(this.publicPath + f.url)\r\n            //         .then((res) => res.blob())\r\n            //         .then((myBlob) => {\r\n            //             myBlob.name = f.name;\r\n            //             myBlob.lastModified = new Date();\r\n            //             const myFile = new File([myBlob], f.name, {\r\n            //                 type: myBlob.type,\r\n            //             });\r\n\r\n            //             let url = this.publicPath + f.url;\r\n            //             this.$refs.photosUploader.$refs.dropzone.manuallyAddFile(myFile, url);\r\n            //         })\r\n            //         .catch(e => console.log(e));\r\n            // })\r\n        },\r\n        async regionSelected ($event, dontResetDistrict = false) {\r\n            if (!dontResetDistrict) {\r\n                this.editingItem.districtIds = []\r\n            }\r\n            // GET DISTRICTS\r\n            if ($event)\r\n                await helperService.getGeoLocationsByParentId($event)\r\n                    .then(res => {\r\n                        this.districts = res.data\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n                    })\r\n        },\r\n        addCommissionApplicationDto () {\r\n            let tmp = Object.assign({}, this.defaultCommissionApplicationDto)\r\n            this.editingItem.commissionApplicationDtos.push(tmp)\r\n        },\r\n        addAnnouncedMediaDto () {\r\n            let tmp = Object.assign({}, this.defaultAnnouncedMediaDto)\r\n            this.editingItem.announcedMediaDtos.push(tmp)\r\n        },\r\n        addPriceApprovalDto () {\r\n            let tmp = Object.assign({}, this.defaultPriceApprovalDto)\r\n            this.editingItem.priceApprovalDtos.push(tmp)\r\n        },\r\n        newRefCreated (formName) {\r\n            if (formName == 'CreateFormContractor') {\r\n                this.fetchContractorsWithKeyword('', true)\r\n            }\r\n        },\r\n        /* makeAndReturnQueryParams () {\r\n            let queryString = `contractorId=${this.editingItem.contractorId}\r\n                         &directoryProductOrServiceTypeId=${this.editingItem.directoryProductOrServiceTypeId}\r\n                         &governmentPercentage=${this.editingItem.governmentPercentage}\r\n                         &orderNumber=${this.editingItem.orderNumber}\r\n                         &reestrAcceptedDate=${this.editingItem.reestrAcceptedDate}`\r\n            this.editingItem.directoryProductOrServiceId.forEach(id => {\r\n                queryString += `&directoryProductOrServiceId=${id}`\r\n            })\r\n            return queryString\r\n        }, */\r\n        getBase64 (file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = () => resolve(reader.result);\r\n                reader.onerror = error => reject(error);\r\n            });\r\n        },\r\n        async makeAndReturnFormDataForBase64 () {\r\n            // this.editingItem.supplementDocs = this.editingItem.supplementDocs.map(f => f.file.dataURL)\r\n            let vm = this\r\n            /* if (this.editingItem.priceApprovalFiles && this.editingItem.priceApprovalFiles.length) {\r\n                if (this.editingItem.priceApprovalFiles[0].file.dataURL) {\r\n                    this.editingItem.priceApprovalFiles = this.editingItem.priceApprovalFiles[0].file.dataURL\r\n                } else {\r\n                    let res = await this.getBase64(this.editingItem.priceApprovalFiles[0].file)\r\n                    this.editingItem.priceApprovalFiles = res\r\n                }\r\n            } */\r\n            /* let base64PriceFiles = []\r\n            if (this.editingItem.priceApprovalFiles) {\r\n                this.editingItem.priceApprovalFiles.forEach(async f => {\r\n                    if (f.file.dataURL) {\r\n                        base64PriceFiles.push(f.file.dataURL)\r\n                    } else {\r\n                        let res = await this.getBase64(f.file)\r\n                        base64PriceFiles.push(res)\r\n                    }\r\n                })\r\n            }\r\n            this.editingItem.priceApprovalFiles = base64PriceFiles */\r\n            /* this.editingItem.priceApprovalFiles = this.editingItem.priceApprovalFiles ? this.editingItem.priceApprovalFiles.map(async function (f) {\r\n                let url = null\r\n                if (f.file.dataURL) {\r\n                    url = f.file.dataURL\r\n                } else {\r\n                    let res = await vm.getBase64(f.file)\r\n                    url = res\r\n                }\r\n                return url\r\n            }) : [] */\r\n            this.editingItem.announcedMediaDtos = await this.editingItem.announcedMediaDtos.filter(el => {\r\n                if (el.announcedMediaName) {\r\n                    let base64AnnouncementFiles = []\r\n                    if (el.announcedMediaFiles) {\r\n                        el.announcedMediaFiles.forEach(async f => {\r\n                            if (f.file.dataURL) {\r\n                                base64AnnouncementFiles.push(f.file.dataURL)\r\n                            } else {\r\n                                let res = await this.getBase64(f.file)\r\n                                base64AnnouncementFiles.push(res)\r\n                            }\r\n                        })\r\n                    }\r\n                    el.announcedMediaFiles = base64AnnouncementFiles\r\n                    /* el.announcedMediaFiles = el.announcedMediaFiles ? el.announcedMediaFiles.map(async function (f) {\r\n                        let url = null\r\n                        if (f.file.dataURL) {\r\n                            url = f.file.dataURL\r\n                        } else {\r\n                            let res = await vm.getBase64(f.file)\r\n                            url = res\r\n                        }\r\n                        return url\r\n                    }) : [] */\r\n                    return el\r\n                }\r\n            })\r\n\r\n            this.editingItem.priceApprovalDtos = await this.editingItem.priceApprovalDtos.filter(el => {\r\n                if (el.priceApprovalNumber) {\r\n                    let base64PriceApprovalFiles = []\r\n                    if (el.priceApprovalFiles) {\r\n                        el.priceApprovalFiles.forEach(async f => {\r\n                            if (f.file.dataURL) {\r\n                                base64PriceApprovalFiles.push(f.file.dataURL)\r\n                            } else {\r\n                                let res = await this.getBase64(f.file)\r\n                                base64PriceApprovalFiles.push(res)\r\n                            }\r\n                        })\r\n                    }\r\n                    el.priceApprovalFiles = base64PriceApprovalFiles\r\n                    return el\r\n                }\r\n            })\r\n\r\n            this.editingItem.commissionApplicationDtos = this.editingItem.commissionApplicationDtos.filter(el => {\r\n                if (el.commencementNumber && el.initiatorName) {\r\n                    return el\r\n                }\r\n            })\r\n            // this.editingItem.okedIds = []\r\n            // this.editingItem.directoryProductOrServiceId = this.editingItem.directoryProductOrServiceId.map(el => {\r\n            //     this.editingItem.okedIds.push(el.okedId)\r\n            //     return el.id\r\n            // })\r\n            if (this.editingItem.supplementDocs && this.editingItem.supplementDocs[0].file.dataURL) {\r\n                this.editingItem.file = this.editingItem.supplementDocs[0].file.dataURL\r\n                // delete this.editingItem.supplementDocs\r\n                return this.editingItem\r\n            } else if (this.editingItem.supplementDocs) {\r\n                let res = await this.getBase64(this.editingItem.supplementDocs[0].file)\r\n                this.editingItem.file = res\r\n                // delete this.editingItem.supplementDocs\r\n                return this.editingItem\r\n                /* this.getBase64(this.editingItem.supplementDocs[0].file).then(data => {\r\n                    \r\n                }) */\r\n            } else {\r\n                return this.editingItem\r\n            }\r\n\r\n        },\r\n        customLabelRegion (opt) {\r\n            let selected = this.regions.find(e => e.regionId == (opt.regionId ? opt.regionId : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.regionNameRu,\r\n                    nameLt: selected.regionNameLt,\r\n                    nameUz: selected.regionNameUz,\r\n                })}`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelDistrict (opt) {\r\n            let selectedDistrict = this.districts.find(e => e.id == opt);\r\n            if (selectedDistrict) {\r\n                return `${this.getName({\r\n                    nameRu: selectedDistrict.nameRu,\r\n                    nameLt: selectedDistrict.nameLt,\r\n                    nameUz: selectedDistrict.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelProduct (opt) {\r\n            let selected = this.products.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelUnit (opt) {\r\n            let selected = this.units.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelGroupOfIndividuals (opt) {\r\n            let selected = this.groupOfIndividuals.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${selected.name}`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelProductType (opt) {\r\n            let selected = this.productTypes.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        async productTypeSelected ($event, dontResetDistrict = false) {\r\n            if (!dontResetDistrict) {\r\n                this.products = []\r\n                this.editingItem.directoryProductOrServiceId = null\r\n                this.productOrServicesSearchPayload.page = 1\r\n            }\r\n            if ($event) {\r\n                // GET PRODUCT_OR_SERVICES\r\n                await this.fetchProductOrServices($event)\r\n                // await helperService.getProductsByProdectTypeId($event)\r\n                //     .then(res => {\r\n                //         this.products = res.data\r\n                //     })\r\n                //     .catch(e => {\r\n                //         this.products = []\r\n                //         console.log(e)\r\n                //     })\r\n            }\r\n        },\r\n        contractorReachedEndOfList (e) {\r\n            if (e && !this.isLoadingContractors) {\r\n                this.fetchContractors()\r\n            }\r\n        },\r\n        productOrServicesReachedEndOfList (e) {\r\n            if (e) {\r\n                this.fetchProductOrServices(this.editingItem.directoryProductOrServiceTypeId)\r\n            }\r\n        },\r\n        customLabelContractor (opt) {\r\n            let selected = this.contractors.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${selected.fullName}`\r\n            }\r\n            return ``;\r\n        },\r\n        async debounceSearchProductOrServices (searchText) {\r\n            clearTimeout(this.debounce);\r\n            this.debounce = setTimeout(async () => {\r\n                await this.fetchProductOrServicesWithKeyword(searchText);\r\n            }, 1000);\r\n        },\r\n        async debounceSearchContractors (searchText) {\r\n            clearTimeout(this.debounce);\r\n            this.debounce = setTimeout(async () => {\r\n                await this.fetchContractorsWithKeyword(searchText);\r\n            }, 1000);\r\n        },\r\n        fetchProductOrServicesWithKeyword (keyword) {\r\n            this.products = []\r\n            this.productOrServicesSearchPayload.page = 1\r\n            this.productOrServicesSearchPayload.keyword = keyword ? keyword : ''\r\n            this.fetchProductOrServices(this.editingItem.directoryProductOrServiceTypeId)\r\n        },\r\n        // OKED METHODS\r\n        okedReachedEndOfList (e) {\r\n            if (e) {\r\n                this.fetchOkeds()\r\n            }\r\n        },\r\n        async debounceSearchOked (searchText) {\r\n            clearTimeout(this.debounce);\r\n            this.debounce = setTimeout(async () => {\r\n                await this.fetchOkedsWithKeyword(searchText);\r\n            }, 1000);\r\n        },\r\n        fetchOkedsWithKeyword (keyword) {\r\n            this.okeds = []\r\n            this.okedSearchPayload.page = 1\r\n            this.okedSearchPayload.keyword = keyword ? keyword : ''\r\n            this.fetchOkeds()\r\n        },\r\n        async fetchOkeds () {\r\n            this.isLoadingOked = true\r\n            await crudAndListsService.searchListWithKeyword(OKED_API_URL, this.okedSearchPayload)\r\n                .then(res => {\r\n                    this.okeds.push(...res.data.list)\r\n                    this.hasNextPageOked = res.data.total / this.okedSearchPayload.itemsPerPage > this.okedSearchPayload.page\r\n                    this.okedSearchPayload.page += 1\r\n                    if (!this.isModeCreate && this.editingItem.okedId) {\r\n                        let foundItm = this.okeds.find(el => el.id == this.editingItem.okedId)\r\n                        if (!foundItm && this.editingItem.infoOkedDto) {\r\n                            this.okeds.push(this.editingItem.infoOkedDto)\r\n                        }\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    this.okeds = []\r\n                })\r\n                .finally(() => {\r\n                    this.isLoadingOked = false\r\n                })\r\n        },\r\n        customLabelOked (opt) {\r\n            let selected = this.okeds.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${selected.code} - ${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })}`\r\n            }\r\n            return ``;\r\n        },\r\n        // --------------------------\r\n\r\n        // SKP METHODS\r\n        skpReachedEndOfList (e) {\r\n            if (e) {\r\n                this.fetchSkps()\r\n            }\r\n        },\r\n        async debounceSearchSkp (searchText) {\r\n            clearTimeout(this.debounce);\r\n            this.debounce = setTimeout(async () => {\r\n                await this.fetchSkpsWithKeyword(searchText);\r\n            }, 1000);\r\n        },\r\n        fetchSkpsWithKeyword (keyword) {\r\n            this.skps = []\r\n            this.skpSearchPayload.page = 1\r\n            this.skpSearchPayload.keyword = keyword ? keyword : ''\r\n            this.fetchSkps()\r\n        },\r\n        async fetchSkps () {\r\n            this.isLoadingSkp = true\r\n            await crudAndListsService.searchListWithKeyword(SKP_API_URL, this.skpSearchPayload)\r\n                .then(res => {\r\n                    this.skps.push(...res.data.list)\r\n                    this.hasNextPageSkp = res.data.total / this.skpSearchPayload.itemsPerPage > this.skpSearchPayload.page\r\n                    this.skpSearchPayload.page += 1\r\n                    if (!this.isModeCreate && this.editingItem.skpId) {\r\n                        let foundItm = this.skps.find(el => el.id == this.editingItem.skpId)\r\n                        if (!foundItm && this.editingItem.infoSKPDto) {\r\n                            this.skps.push(this.editingItem.infoSKPDto)\r\n                        }\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    this.skps = []\r\n                })\r\n                .finally(() => {\r\n                    this.isLoadingSkp = false\r\n                })\r\n        },\r\n        customLabelSkp (opt) {\r\n            let selected = this.skps.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${selected.code} - ${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })}`\r\n            }\r\n            return ``;\r\n        },\r\n        // --------------------------\r\n\r\n        // TNVED METHODS\r\n        tnvedReachedEndOfList (e) {\r\n            if (e) {\r\n                this.fetchTnveds()\r\n            }\r\n        },\r\n        async debounceSearchTnved (searchText) {\r\n            clearTimeout(this.debounce);\r\n            this.debounce = setTimeout(async () => {\r\n                await this.fetchTnvedsWithKeyword(searchText);\r\n            }, 1000);\r\n        },\r\n        fetchTnvedsWithKeyword (keyword) {\r\n            this.tnveds = []\r\n            this.tnvedSearchPayload.page = 1\r\n            this.tnvedSearchPayload.keyword = keyword ? keyword : ''\r\n            this.fetchTnveds()\r\n        },\r\n        async fetchTnveds () {\r\n            this.isLoadingTnved = true\r\n            await crudAndListsService.searchListWithKeyword(TNVED_API_URL, this.tnvedSearchPayload)\r\n                .then(res => {\r\n                    this.tnveds.push(...res.data.list)\r\n                    this.hasNextPageTnved = res.data.total / this.tnvedSearchPayload.itemsPerPage > this.tnvedSearchPayload.page\r\n                    this.tnvedSearchPayload.page += 1\r\n                    if (!this.isModeCreate && this.editingItem.tnvedId) {\r\n                        let foundItm = this.tnveds.find(el => el.id == this.editingItem.tnvedId)\r\n                        if (!foundItm && this.editingItem.infoTNVEDDto) {\r\n                            this.tnveds.push(this.editingItem.infoTNVEDDto)\r\n                        }\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    this.tnveds = []\r\n                })\r\n                .finally(() => {\r\n                    this.isLoadingTnved = false\r\n                })\r\n        },\r\n        customLabelTnved (opt) {\r\n            let selected = this.tnveds.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${selected.code} - ${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })}`\r\n            }\r\n            return ``;\r\n        },\r\n        // --------------------------\r\n        async fetchProductOrServices (typeId) {\r\n            this.isLoadingProductOrServices = true\r\n            await helperService.getProductOrServicesByTypeId(typeId, this.productOrServicesSearchPayload)\r\n                .then(res => {\r\n                    this.products.push(...res.data.list)\r\n                    this.hasNextPageProductOrServices = res.data.total / this.productOrServicesSearchPayload.itemsPerPage > this.productOrServicesSearchPayload.page\r\n                    this.productOrServicesSearchPayload.page += 1\r\n                    if (!this.isModeCreate && this.editingItem.directoryProductOrServiceId) {\r\n                        let foundItm = this.products.find(el => el.id == this.editingItem.directoryProductOrServiceId)\r\n                        if (!foundItm && this.editingItem.directoryProductOrServiceDto) {\r\n                            this.products.push(this.editingItem.directoryProductOrServiceDto)\r\n                        }\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    this.products = []\r\n                })\r\n                .finally(() => {\r\n                    this.isLoadingProductOrServices = false\r\n                })\r\n        },\r\n        fetchContractorsWithKeyword (keyword, makeFirstSelected = false) {\r\n            this.contractors = []\r\n            this.contractorSearchPayload.page = 1\r\n            this.contractorSearchPayload.keyword = keyword ? keyword : ''\r\n            // this.contractorSearchPayload.sortBy = []\r\n            // this.contractorSearchPayload.sortBy.push('created')\r\n            // this.contractorSearchPayload.sortDesc = []\r\n            // this.contractorSearchPayload.sortDesc.push(false)\r\n            this.fetchContractors(makeFirstSelected)\r\n        },\r\n        async fetchContractors (makeFirstSelected) {\r\n            this.contractorSearchPayload.sortBy = []\r\n            this.contractorSearchPayload.sortBy.push('created')\r\n            this.contractorSearchPayload.sortDesc = []\r\n            this.contractorSearchPayload.sortDesc.push(true)\r\n            this.isLoadingContractors = true\r\n            await crudAndListsService.searchListWithKeyword('contractor', this.contractorSearchPayload, 'by-contractor')\r\n                .then(res => {\r\n                    this.contractors.push(...res.data.list)\r\n                    this.hasNextPageContractors = res.data.total / this.contractorSearchPayload.itemsPerPage > this.contractorSearchPayload.page\r\n                    this.contractorSearchPayload.page += 1\r\n                    if (makeFirstSelected) {\r\n                        this.editingItem.contractorId = this.contractors.length ? this.contractors[0].id : null\r\n                    }\r\n                    if (!this.isModeCreate && this.editingItem.contractorId) {\r\n                        let contractorFound = this.contractors.find(el => el.id == this.editingItem.contractorId)\r\n                        if (!contractorFound && this.editingItem.contractorDto) {\r\n                            this.contractors.push(this.editingItem.contractorDto)\r\n                        }\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    this.contractors = []\r\n                })\r\n                .finally(() => {\r\n                    this.isLoadingContractors = false\r\n                })\r\n        },\r\n    },\r\n    /*\r\n    * CREATED */\r\n    async created () {\r\n        this.contractorSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n        this.productOrServicesSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n        this.okedSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n        this.skpSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n        this.tnvedSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n        this.var_default_search_payload.itemsPerPage = 500\r\n        if (this.isModeCreate) {\r\n            await crudAndListsService.getEmpty(MAIN_API_URL)\r\n                .then(res => {\r\n                    this.editingItem = res.data\r\n                    crudAndListsService.getEmptyCustomUrl(`${ANNOUNCED_MEDIA_API_URL}/empty`)\r\n                        .then(res => {\r\n                            this.defaultAnnouncedMediaDto = res.data\r\n                            if (!this.editingItem.announcedMediaDtos || !this.editingItem.announcedMediaDtos.length) {\r\n                                this.editingItem.announcedMediaDtos = []\r\n                                let tmp = Object.assign({}, this.defaultAnnouncedMediaDto)\r\n                                this.editingItem.announcedMediaDtos.push(tmp)\r\n                            }\r\n                        })\r\n                        .catch(e => {\r\n                            console.log(e)\r\n                        })\r\n\r\n                    crudAndListsService.getEmptyCustomUrl(`${PRICE_APPROVAL_API_URL}/empty`)\r\n                        .then(res => {\r\n                            this.defaultPriceApprovalDto = res.data\r\n                            if (!this.editingItem.priceApprovalDtos || !this.editingItem.priceApprovalDtos.length) {\r\n                                this.editingItem.priceApprovalDtos = []\r\n                                let tmp = Object.assign({}, this.defaultPriceApprovalDto)\r\n                                this.editingItem.priceApprovalDtos.push(tmp)\r\n                            }\r\n                        })\r\n                        .catch(e => {\r\n                            console.log(e)\r\n                        })\r\n\r\n                    crudAndListsService.getEmptyCustomUrl(`${COMMISSION_APPLICATION_API_URL}/empty`)\r\n                        .then(res => {\r\n                            this.defaultCommissionApplicationDto = res.data\r\n                            if (!this.editingItem.commissionApplicationDtos || !this.editingItem.commissionApplicationDtos.length) {\r\n                                this.editingItem.commissionApplicationDtos = []\r\n                                let tmp = Object.assign({}, this.defaultCommissionApplicationDto)\r\n                                this.editingItem.commissionApplicationDtos.push(tmp)\r\n                            }\r\n                        })\r\n                        .catch(e => {\r\n                            console.log(e)\r\n                        })\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n\r\n        } else {\r\n            await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, true)\r\n                .then(res => {\r\n                    if (res.data.documentStatusCode != 'PENDING') {\r\n                        this.$router.go(-1)\r\n                    }\r\n                    this.editingItem = res.data\r\n                    // this.setFilesFromServer()\r\n\r\n                    if (!this.editingItem.announcedMediaDtos || !this.editingItem.announcedMediaDtos.length) {\r\n                        crudAndListsService.getEmptyCustomUrl(`${ANNOUNCED_MEDIA_API_URL}/empty`)\r\n                            .then(res => {\r\n                                this.defaultAnnouncedMediaDto = res.data\r\n                                if (!this.editingItem.announcedMediaDtos || !this.editingItem.announcedMediaDtos.length) {\r\n                                    this.editingItem.announcedMediaDtos = []\r\n                                    let tmp = Object.assign({}, this.defaultAnnouncedMediaDto)\r\n                                    this.editingItem.announcedMediaDtos.push(tmp)\r\n                                }\r\n                            })\r\n                            .catch(e => {\r\n                                console.log(e)\r\n                            })\r\n                    }\r\n\r\n                    if (!this.editingItem.priceApprovalDtos || !this.editingItem.priceApprovalDtos.length) {\r\n                        crudAndListsService.getEmptyCustomUrl(`${PRICE_APPROVAL_API_URL}/empty`)\r\n                            .then(res => {\r\n                                this.defaultPriceApprovalDto = res.data\r\n                                if (!this.editingItem.priceApprovalDtos || !this.editingItem.priceApprovalDtos.length) {\r\n                                    this.editingItem.priceApprovalDtos = []\r\n                                    let tmp = Object.assign({}, this.defaultPriceApprovalDto)\r\n                                    this.editingItem.priceApprovalDtos.push(tmp)\r\n                                }\r\n                            })\r\n                            .catch(e => {\r\n                                console.log(e)\r\n                            })\r\n                    }\r\n\r\n                    if (!this.editingItem.commissionApplicationDtos || !this.editingItem.commissionApplicationDtos.length) {\r\n                        crudAndListsService.getEmptyCustomUrl(`${COMMISSION_APPLICATION_API_URL}/empty`)\r\n                            .then(res => {\r\n                                this.defaultCommissionApplicationDto = res.data\r\n                                if (!this.editingItem.commissionApplicationDtos || !this.editingItem.commissionApplicationDtos.length) {\r\n                                    this.editingItem.commissionApplicationDtos = []\r\n                                    let tmp = Object.assign({}, this.defaultCommissionApplicationDto)\r\n                                    this.editingItem.commissionApplicationDtos.push(tmp)\r\n                                }\r\n                            })\r\n                            .catch(e => {\r\n                                console.log(e)\r\n                            })\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        }\r\n        // GET CONTRACTORS\r\n        await this.fetchContractors()\r\n\r\n        // GET OKEDS\r\n        await this.fetchOkeds()\r\n\r\n        if (this.isDominant) {\r\n            // GET SKPS\r\n            await this.fetchSkps()\r\n\r\n            // GET TNVEDS\r\n            await this.fetchTnveds()\r\n\r\n            // GET GROUP_OF_INDIVIDUALS\r\n            crudAndListsService\r\n                .searchList('reestr/group-of-individuals', this.var_default_search_payload)\r\n                .then((res) => {\r\n                    this.groupOfIndividuals = res.data.list;\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        }\r\n\r\n        // GET REGIONS\r\n        await helperService.fetchRegionsForContractorReestrByCurrentUserId()\r\n            .then(res => {\r\n                this.regions = res.data\r\n                this.regionSelected(this.editingItem.regionId, true)\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        if (this.$route.name.includes('Create') || this.$route.name.includes('Update')) {\r\n            // GET PRODUCT_OR_SERVICE_TYPES\r\n            crudAndListsService\r\n                .searchList('directory/product-or-service-types', this.var_default_search_payload, this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : '')\r\n                .then((res) => {\r\n                    this.productTypes = res.data.list;\r\n                    this.productTypeSelected(this.editingItem.directoryProductOrServiceTypeId, true)\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        }\r\n\r\n        // GET UNITS\r\n        crudAndListsService\r\n            .searchListWithKeyword('directory/units', this.var_default_search_payload)\r\n            .then((res) => {\r\n                this.units = res.data.list;\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.col-form-label {\r\n    padding-top: 0;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n}\r\n</style>"],"sourceRoot":"src/modules/reestr-contractors/modules/natural"}]}