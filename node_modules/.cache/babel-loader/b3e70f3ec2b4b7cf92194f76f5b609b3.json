{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\components\\base\\BaseModalForCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\components\\base\\BaseModalForCreate.vue","mtime":1674799498718},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJhc2VNb2RhbEZvckNyZWF0ZSIsCiAgcHJvcHM6IHsKICAgIHVzZUNvbXBvbmVudFNhdmVGbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHdpdGhvdXRMaXN0U2VhcmNoOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbWFpbkFwaVVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgY3JlYXRlRm9ybU5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGxpc3RzOiB7CiAgICAgIHR5cGU6IFtPYmplY3QsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0sCiAgICBhZGRpdGlvbmFsUGFyYW1zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IG51bGwKICAgIH0KICB9LAogIC8qDQogICogQ09NUE9ORU5UUyAqLwogIGNvbXB1dGVkOiB7CiAgICBjb21wb25lbnRGaWxlOiBmdW5jdGlvbiBjb21wb25lbnRGaWxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBpbXBvcnQoIkAvc2hhcmVkL3ZpZXdzL2NvbXBvbmVudHMvIi5jb25jYXQoX3RoaXMuY3JlYXRlRm9ybU5hbWUsICIudnVlIikpOwogICAgICB9OwogICAgfQogIH0sCiAgLyoNCiAgKiBEQVRBICovCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlubmVyVmFsdWU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGlzdFNlYXJjaEFmdGVyU2F2ZTogZnVuY3Rpb24gbGlzdFNlYXJjaEFmdGVyU2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmICghdGhpcy53aXRob3V0TGlzdFNlYXJjaCkgewogICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdCh0aGlzLm1haW5BcGlVcmwsIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLiRlbWl0KCduZXctcmVmLWNyZWF0ZWQnLCByZXMuZGF0YS5saXN0LCByZXMuZGF0YS5saXN0WzBdLmlkLCBfdGhpczIuY3JlYXRlRm9ybU5hbWUpOwogICAgICAgICAgX3RoaXMyLmlubmVyVmFsdWUgPSBmYWxzZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgnbmV3LXJlZi1jcmVhdGVkLXdpdGhvdXQtbGlzdC1zZWFyY2gnLCB0aGlzLmNyZWF0ZUZvcm1OYW1lKTsKICAgICAgICB0aGlzLmlubmVyVmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBpZiAodGhpcy51c2VDb21wb25lbnRTYXZlRm4pIHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm1DcmVhdGUuc2F2ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybUNyZWF0ZS4kcmVmcy5vYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4oZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5jcmVhdGUoX3RoaXMzLm1haW5BcGlVcmwsIF90aGlzMy4kcmVmcy5mb3JtQ3JlYXRlLmVkaXRpbmdJdGVtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczMuJHJlZnMuZm9ybUNyZWF0ZS4kcmVmcy5vYnNlcnZlci5yZXNldCgpOwogICAgICAgICAgICAgIGlmIChfdGhpczMuJHJlZnMuZm9ybUNyZWF0ZS5lZGl0aW5nSXRlbS5hZGRyZXNzRHRvKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuJHJlZnMuZm9ybUNyZWF0ZS5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHsKICAgICAgICAgICAgICAgICAgYWRkcmVzc0R0bzoge30KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczMuJHJlZnMuZm9ybUNyZWF0ZS5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMzLmxpc3RTZWFyY2hBZnRlclNhdmUoKTsKICAgICAgICAgICAgICAvKiBpZiAoIXRoaXMud2l0aG91dExpc3RTZWFyY2gpIHsNCiAgICAgICAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2UNCiAgICAgICAgICAgICAgICAgICAgICAuc2VhcmNoTGlzdCh0aGlzLm1haW5BcGlVcmwsIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpDQogICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCduZXctcmVmLWNyZWF0ZWQnLCByZXMuZGF0YS5saXN0LCByZXMuZGF0YS5saXN0WzBdLmlkLCB0aGlzLmNyZWF0ZUZvcm1OYW1lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVyVmFsdWUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCduZXctcmVmLWNyZWF0ZWQtd2l0aG91dC1saXN0LXNlYXJjaCcsIHRoaXMuY3JlYXRlRm9ybU5hbWUpDQogICAgICAgICAgICAgICAgICB0aGlzLmlubmVyVmFsdWUgPSBmYWxzZQ0KICAgICAgICAgICAgICB9ICovCiAgICAgICAgICAgICAgX3RoaXMzLiR0b2FzdChfdGhpczMuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7CiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczMuJHRvYXN0KF90aGlzMy4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwgewogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyBIYW5kbGVzIGludGVybmFsIG1vZGVsIGNoYW5nZXMuCiAgICBpbm5lclZhbHVlOiBmdW5jdGlvbiBpbm5lclZhbHVlKG5ld1ZhbCkgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIG5ld1ZhbCk7CiAgICB9LAogICAgLy8gSGFuZGxlcyBleHRlcm5hbCBtb2RlbCBjaGFuZ2VzLgogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKG5ld1ZhbCkgewogICAgICB0aGlzLmlubmVyVmFsdWUgPSBuZXdWYWw7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMudmFsdWUpIHsKICAgICAgdGhpcy5pbm5lclZhbHVlID0gdGhpcy52YWx1ZTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;AAmCA;AAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC,8BACA;IACA;IACAK;MACAN;MACAC,8BACA;IACA;IACAM;MACAP;IACA;EACA;EACA;AACA;EACAQ;IACAC;MAAA;MACA;QAAA;MAAA;IACA;EACA;EACA;AACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC,oBACAC,6DACAC;UACA;UACA;QACA,GACAC;UACAC;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;MACA;QACA;UACA;YACAL;cACA;cACA;gBACA;kBAAAM;gBAAA;cACA;gBACA;cACA;cACA;cACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;cACA;gBAAApB;cAAA;YACA;UACA;YACA;cAAAA;YAAA;UACA;QACA;MACA;IACA;EACA;EACAqB;IACA;IACAV;MACA;IACA;IACA;IACAJ;MACA;IACA;EACA;EACAe;IACA;MACA;IACA;EACA;AACA","names":["name","props","useComponentSaveFn","type","default","withoutListSearch","mainApiUrl","createFormName","lists","additionalParams","value","computed","componentFile","data","innerValue","methods","listSearchAfterSave","crudAndListsService","searchList","then","catch","console","save","addressDto","watch","created"],"sourceRoot":"src/components/base","sources":["BaseModalForCreate.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <b-modal\r\n            v-model=\"innerValue\"\r\n            size=\"xl\"\r\n            :title=\"``\"\r\n        >\r\n            <component\r\n                v-bind:is=\"componentFile\"\r\n                :additional-params=\"additionalParams\"\r\n                ref=\"formCreate\"\r\n                :customIsModeCreate=\"true\"\r\n                @saved=\"listSearchAfterSave\"\r\n            ></component>\r\n            <template #modal-footer>\r\n                <b-button\r\n                    size=\"sm\"\r\n                    variant=\"danger\"\r\n                    @click=\"innerValue = false\"\r\n                >\r\n                    {{ $t('actions.cancel') }}\r\n                </b-button>\r\n                <b-button\r\n                    size=\"sm\"\r\n                    variant=\"success\"\r\n                    @click=\"save\"\r\n                >\r\n                    {{ $t('actions.save') }}\r\n                </b-button>\r\n            </template>\r\n        </b-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\";\r\n\r\nexport default {\r\n    name: \"BaseModalForCreate\",\r\n    props: {\r\n        useComponentSaveFn: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        withoutListSearch: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        mainApiUrl: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        createFormName: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        lists: {\r\n            type: [Object, String],\r\n            default: () => {\r\n            },\r\n        },\r\n        additionalParams: {\r\n            type: Object,\r\n            default: () => {\r\n            },\r\n        },\r\n        value: {\r\n            type: null\r\n        }\r\n    },\r\n    /*\r\n    * COMPONENTS */\r\n    computed: {\r\n        componentFile () {\r\n            return () => import(`@/shared/views/components/${this.createFormName}.vue`);\r\n        }\r\n    },\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            innerValue: false\r\n        }\r\n    },\r\n    methods: {\r\n        listSearchAfterSave () {\r\n            if (!this.withoutListSearch) {\r\n                crudAndListsService\r\n                    .searchList(this.mainApiUrl, this.var_default_search_payload)\r\n                    .then((res) => {\r\n                        this.$emit('new-ref-created', res.data.list, res.data.list[0].id, this.createFormName)\r\n                        this.innerValue = false\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n                    })\r\n            } else {\r\n                this.$emit('new-ref-created-without-list-search', this.createFormName)\r\n                this.innerValue = false\r\n            }\r\n        },\r\n        save () {\r\n            if (this.useComponentSaveFn) {\r\n                this.$refs.formCreate.save()\r\n            } else {\r\n                this.$refs.formCreate.$refs.observer.validate().then(valid => {\r\n                    if (valid) {\r\n                        crudAndListsService.create(this.mainApiUrl, this.$refs.formCreate.editingItem).then(res => {\r\n                            this.$refs.formCreate.$refs.observer.reset()\r\n                            if (this.$refs.formCreate.editingItem.addressDto) {\r\n                                this.$refs.formCreate.editingItem = Object.assign({}, { addressDto: {} });\r\n                            } else {\r\n                                this.$refs.formCreate.editingItem = Object.assign({}, {});\r\n                            }\r\n                            this.listSearchAfterSave()\r\n                            /* if (!this.withoutListSearch) {\r\n                                crudAndListsService\r\n                                    .searchList(this.mainApiUrl, this.var_default_search_payload)\r\n                                    .then((res) => {\r\n                                        this.$emit('new-ref-created', res.data.list, res.data.list[0].id, this.createFormName)\r\n                                        this.innerValue = false\r\n                                    })\r\n                                    .catch(e => {\r\n                                        console.log(e)\r\n                                    })\r\n                            } else {\r\n                                this.$emit('new-ref-created-without-list-search', this.createFormName)\r\n                                this.innerValue = false\r\n                            } */\r\n                            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                        })\r\n                    } else {\r\n                        this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                    }\r\n                })\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        // Handles internal model changes.\r\n        innerValue (newVal) {\r\n            this.$emit('input', newVal);\r\n        },\r\n        // Handles external model changes.\r\n        value (newVal) {\r\n            this.innerValue = newVal;\r\n        }\r\n    },\r\n    created () {\r\n        if (this.value) {\r\n            this.innerValue = this.value;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}