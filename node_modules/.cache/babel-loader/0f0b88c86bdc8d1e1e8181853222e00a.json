{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\projects\\tasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\projects\\tasks.vue","mtime":1674799497710},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9BQ1JVIFBST0pFQ1QvRmFpciBUZWNoL2FjcnUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCBQYWdlSGVhZGVyIGZyb20gIi4vcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIkAvYXBwLmNvbmZpZyI7CmltcG9ydCBCb2FyZCBmcm9tICIuL2JvYXJkIjsKaW1wb3J0IHByb2plY3RTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL3Byb2plY3RTZXJ2aWNlIjsKaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwovKioNCiAqIEthbmJhbi1ib2FyZCBjb21wb25lbnQNCiAqLwppbXBvcnQgUHJvakVtcGxveWVlcyBmcm9tICIuL3Byb2otZW1wbG95ZXMiOwppbXBvcnQgeyBDb250YWluZXIsIERyYWdnYWJsZSB9IGZyb20gInZ1ZS1zbW9vdGgtZG5kIjsKaW1wb3J0IGNvbG9ycyBmcm9tICJAL2NvbXBvbmVudHMvY29sb3JzIjsKaW1wb3J0IENhcmRJbmZvIGZyb20gIi4vY2FyZC1pbmZvIjsKaW1wb3J0IEJvYXJkTW9iaWxlIGZyb20gIi4vYm9hcmRzLW1vYmlsZSI7CmltcG9ydCBpMThuIGZyb20gIkAvaTE4biI7CmV4cG9ydCBkZWZhdWx0IHsKICB3YXRjaDogewogICAgd2lkdGhXaW5kb3c6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2KSB7CiAgICAgICAgdGhpcy5zZXRXaW5kb3dXaWR0aFByaXZhdGUodik7CiAgICAgIH0KICAgIH0KICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICBiOiB7CiAgICAgIG5hbWU6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfQogICAgfQogIH0sCiAgcGFnZTogewogICAgdGl0bGU6IGkxOG4udCgndGFza3NfbGlzdCcpLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czogewogICAgY29sb3JzOiBjb2xvcnMsCiAgICBQYWdlSGVhZGVyOiBQYWdlSGVhZGVyLAogICAgQm9hcmQ6IEJvYXJkLAogICAgRHJhZ2dhYmxlOiBEcmFnZ2FibGUsCiAgICBQcm9qRW1wbG95ZWVzOiBQcm9qRW1wbG95ZWVzLAogICAgQ29udGFpbmVyOiBDb250YWluZXIsCiAgICBDYXJkSW5mbzogQ2FyZEluZm8sCiAgICBCb2FyZE1vYmlsZTogQm9hcmRNb2JpbGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cHBlckRyb3BQbGFjZWhvbGRlck9wdGlvbnM6IHsKICAgICAgICBjbGFzc05hbWU6ICJjYXJkcy1kcm9wLXByZXZpZXciLAogICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAiMTUwIiwKICAgICAgICBzaG93T25Ub3A6IHRydWUKICAgICAgfSwKICAgICAgcHJvamVjdDoge30sCiAgICAgIGlzTW9kYWw6IGZhbHNlLAogICAgICBjb21wb25lbnRLZXk6IDAsCiAgICAgIGlzQWRkQm9hcmQ6IGZhbHNlLAogICAgICB0aXRsZTogdGhpcy4kdCgidGFza3NfbGlzdCIpLAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBpdGVtczogW3sKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJtZW51IiksCiAgICAgICAgaHJlZjogIi8iCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJwcm9qIiksCiAgICAgICAgaHJlZjogIi9wcm9qZWN0cyIKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoInRhc2tzX2xpc3QiKSwKICAgICAgICBhY3RpdmU6IHRydWUKICAgICAgfV0sCiAgICAgIGJvYXJkczogW10sCiAgICAgIGI6IHsKICAgICAgICBuYW1lOiAiIgogICAgICB9LAogICAgICBiSWQ6IG51bGwsCiAgICAgIGRyYWc6IGZhbHNlLAogICAgICB0YXNrQ2FyZDoge30sCiAgICAgIHJlbW92ZWRDYXJkQm9hcmQ6IG51bGwsCiAgICAgIGRyb3BSZXM6IG51bGwsCiAgICAgIHNlbGVjdGVkQ29sb3I6ICIiLAogICAgICBpc0NhcmQ6IGZhbHNlLAogICAgICBtb2JpbGVCb2FyZDogZmFsc2UsCiAgICAgIG1vYmlsZXNtOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFdpbmRvd1dpZHRoUHJpdmF0ZTogZnVuY3Rpb24gc2V0V2luZG93V2lkdGhQcml2YXRlKHYpIHsKICAgICAgaWYgKHYgPCA5OTIpIHsKICAgICAgICB0aGlzLm1vYmlsZUJvYXJkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vYmlsZUJvYXJkID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHYgPCA0MjApIHsKICAgICAgICB0aGlzLm1vYmlsZXNtID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vYmlsZXNtID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjbGlja0NhcmRUYXNrOiBmdW5jdGlvbiBjbGlja0NhcmRUYXNrKGNhcmQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5pc0NhcmQgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kcmVmcy5jYXJkSW5mb1JlZi5zZXRDYXJkSW5mb0RhdGEoY2FyZCk7CiAgICAgICAgX3RoaXMuJHJlZnMuY2FyZEluZm9SZWYucmVzZXQoKTsKICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICBzZWxlY3RDb2xvcjogZnVuY3Rpb24gc2VsZWN0Q29sb3IodikgewogICAgICB0aGlzLnNlbGVjdGVkQ29sb3IgPSB2OwogICAgfSwKICAgIHNldFByb2o6IGZ1bmN0aW9uIHNldFByb2oocHJvaikgewogICAgICB0aGlzLnByb2plY3QgPSBwcm9qOwogICAgfSwKICAgIGdldENoaWxkUGF5bG9hZDogZnVuY3Rpb24gZ2V0Q2hpbGRQYXlsb2FkKGluZGV4KSB7CiAgICAgIHJldHVybiB0aGlzLmJvYXJkc1tpbmRleF07CiAgICB9LAogICAgb25Ecm9wOiBmdW5jdGlvbiBvbkRyb3AoZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHBheWxvYWQgPSB7CiAgICAgICAgaW5kZXhCZWZvcmU6IDAsCiAgICAgICAgaW5kZXhBZnRlcjogMCwKICAgICAgICBwcm9qZWN0VGFza0lkOiBlLnBheWxvYWQuaWQKICAgICAgfTsKICAgICAgaWYgKGUuYWRkZWRJbmRleCAhPSBudWxsKSB7CiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGUuYWRkZWRJbmRleDsKICAgICAgICB2YXIgYWZ0ZXJJdGVtID0gdGhpcy5ib2FyZHNbY3VycmVudEluZGV4ICsgMV07CiAgICAgICAgdmFyIGJlZm9yZUl0ZW0gPSB0aGlzLmJvYXJkc1tjdXJyZW50SW5kZXggLSAxXTsKICAgICAgICBpZiAoYmVmb3JlSXRlbSkgewogICAgICAgICAgdGhpcy4kc2V0KHBheWxvYWQsICJpbmRleEJlZm9yZSIsIGJlZm9yZUl0ZW0uaWQpOwogICAgICAgIH0KICAgICAgICBpZiAoYWZ0ZXJJdGVtKSB7CiAgICAgICAgICB0aGlzLiRzZXQocGF5bG9hZCwgImluZGV4QWZ0ZXIiLCBhZnRlckl0ZW0uaWQpOwogICAgICAgIH0KICAgICAgICBwcm9qZWN0U2VydmljZS5jaGFuZ2VJbmRleChwYXlsb2FkKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocnMpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXBwbHlEcmFnKF90aGlzMi5ib2FyZHMsIGUpOwogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfdGhpczIuYm9hcmRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmJvYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzWyIiLmNvbmNhdChlLmlkLCAiLWJvYXJkUmVmIildWzBdLmZvcmNlUmVyZW5kZXIoKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlTW9kYWw6IGZ1bmN0aW9uIHRvZ2dsZU1vZGFsKF9yZWYyKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgdGFzayA9IF9yZWYyLnRhc2ssCiAgICAgICAgYm9hcmQgPSBfcmVmMi5ib2FyZDsKICAgICAgdGhpcy50YXNrQ2FyZCA9IHRhc2s7CiAgICAgIHRoaXMuYklkID0gYm9hcmQuaWQ7CiAgICAgIHRoaXMuaXNNb2RhbCA9IHRydWU7CiAgICAgIHByb2plY3RTZXJ2aWNlLmxpc3RDYXJkRW1wbG95ZWVzKHRhc2suaWQpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgaWYgKHJzLmRhdGFbMF0gIT0gbnVsbCkgewogICAgICAgICAgX3RoaXMzLiRyZWZzLnByb2pFbXBSZWYuc2V0U2VsZWN0ZWQocnMuZGF0YSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRCb2FyZDogZnVuY3Rpb24gYWRkQm9hcmQoKSB7CiAgICAgIHRoaXMuaXNBZGRCb2FyZCA9IHRydWU7CiAgICAgIHRoaXMuYi5uYW1lID0gIiI7CiAgICAgIHRoaXMuYklkID0gbnVsbDsKICAgIH0sCiAgICBlZGl0Qm9hcmQ6IGZ1bmN0aW9uIGVkaXRCb2FyZChiKSB7CiAgICAgIHRoaXMuaXNBZGRCb2FyZCA9IHRydWU7CiAgICAgIHRoaXMuYi5uYW1lID0gYi5uYW1lOwogICAgICB0aGlzLmIuY29sb3IgPSBiLmNvbG9yOwogICAgICB0aGlzLmJJZCA9IGIuaWQ7CiAgICB9LAogICAgcmVzZXRCb2FyZDogZnVuY3Rpb24gcmVzZXRCb2FyZCgpIHsKICAgICAgdGhpcy5saXN0Qm9hcmRzKCk7CiAgICAgIHRoaXMuaXNBZGRCb2FyZCA9IGZhbHNlOwogICAgICB0aGlzLmIubmFtZSA9ICIiOwogICAgfSwKICAgIGNyZWF0ZUJvYXJkOiBmdW5jdGlvbiBjcmVhdGVCb2FyZChiKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBiLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgaWYgKCF0aGlzLiR2LmIuJGFueUVycm9yKSB7CiAgICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICAgICAgaWYgKHRoaXMuYklkKSB7CiAgICAgICAgICBwcm9qZWN0U2VydmljZS51cGRhdGVCb2FyZCh0aGlzLmJJZCwgewogICAgICAgICAgICBuYW1lOiB0aGlzLmIubmFtZSwKICAgICAgICAgICAgY29sb3I6IHRoaXMuc2VsZWN0ZWRDb2xvcgogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgICAgX3RoaXM0LnJlc2V0Qm9hcmQoKTsKICAgICAgICAgICAgX3RoaXM0LnN1Y2Nlc3NFZGl0ZWQoKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpZCkgewogICAgICAgICAgICBwcm9qZWN0U2VydmljZS5jcmVhdGVCb2FyZChpZCwgewogICAgICAgICAgICAgIG5hbWU6IHRoaXMuYi5uYW1lLAogICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnNlbGVjdGVkQ29sb3IKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgICAgICBfdGhpczQuc3VjY2Vzc1NhdmVkKCk7CiAgICAgICAgICAgICAgX3RoaXM0LnJlc2V0Qm9hcmQoKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIC8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGxpc3RCb2FyZHM6IGZ1bmN0aW9uIGxpc3RCb2FyZHMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgcHJvamVjdFNlcnZpY2UubGlzdEJvYXJkcyhpZCwgewogICAgICAgICAgcGFnZTogMCwKICAgICAgICAgIGl0ZW1zUGVyUGFnZTogMTAKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgX3RoaXM1LmJvYXJkcyA9IHJzLmRhdGE7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRUYXNrQ2FyZDogZnVuY3Rpb24gc2V0VGFza0NhcmQoZGF0YSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdGhpcy5ib2FyZHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LmlkID09IGRhdGEuYm9hcmRJZCkgewogICAgICAgICAgX3RoaXM2LiRzZXQoZWxlbWVudCwgInByb2plY3RUYXNrQ2FyZHNEdG8iLCBkYXRhLmxpc3QpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9hZE1vcmVUYXNrQ2FyZDogZnVuY3Rpb24gbG9hZE1vcmVUYXNrQ2FyZChfcmVmMykgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgdmFyIGJvYXJkSWQgPSBfcmVmMy5ib2FyZElkLAogICAgICAgIGxpc3QgPSBfcmVmMy5saXN0OwogICAgICB0aGlzLmJvYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgIGlmIChlbC5pZCA9PSBib2FyZElkKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBlbC5wcm9qZWN0VGFza0NhcmRzRHRvLmNvbmNhdChsaXN0KTsKICAgICAgICAgIF90aGlzNy4kc2V0KGVsLCAicHJvamVjdFRhc2tDYXJkc0R0byIsIHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbEI6IGZ1bmN0aW9uIGNhbmNlbEIoKSB7CiAgICAgIHRoaXMuaXNBZGRCb2FyZCA9IGZhbHNlOwogICAgICB0aGlzLmIubmFtZSA9ICIiOwogICAgfSwKICAgIHJlY2FsY3VsYXRlOiBmdW5jdGlvbiByZWNhbGN1bGF0ZShpZCkgewogICAgICBpZiAodGhpcy4kcmVmc1siIi5jb25jYXQoaWQsICItYm9hcmRSZWYiKV1bMF0pIHsKICAgICAgICB0aGlzLiRyZWZzWyIiLmNvbmNhdChpZCwgIi1ib2FyZFJlZiIpXVswXS5yZWNhbGN1bGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShtZW1iZXJzKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICBpZiAodGhpcy50YXNrQ2FyZC5pZCAmJiBtZW1iZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICBwcm9qZWN0U2VydmljZS51cGRhdGVUYXNrQ2FyZCh0aGlzLnRhc2tDYXJkLmlkLCAiIiwgbnVsbCwgbWVtYmVycykudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgIGlmIChfdGhpczgubW9iaWxlQm9hcmQpIHsKICAgICAgICAgICAgX3RoaXM4LiRyZWZzLm1vYmlsZUJvYXJkUmVmLnJlZnJlc2goKTsKICAgICAgICAgICAgX3RoaXM4LmlzTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXM4LnN1Y2Nlc3NFZGl0ZWQoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgX3RoaXM4LiRyZWZzWyIiLmNvbmNhdChfdGhpczguYklkLCAiLWJvYXJkUmVmIildWzBdLmxpc3RUYXNrcyhfdGhpczguYklkKTsKICAgICAgICAgIF90aGlzOC5pc01vZGFsID0gZmFsc2U7CiAgICAgICAgICBfdGhpczguc3VjY2Vzc0VkaXRlZCgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzOC5pc01vZGFsID0gZmFsc2U7CiAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbnRlckluZm8oKTsKICAgICAgfQogICAgfSwKICAgIHNldFNvdXJjZUlkOiBmdW5jdGlvbiBzZXRTb3VyY2VJZChiLCBkKSB7CiAgICAgIHRoaXMucmVtb3ZlZENhcmRCb2FyZCA9IGI7CiAgICAgIHRoaXMuZHJvcFJlcyA9IGQ7CiAgICB9LAogICAgcmVtb3ZlQnlJbmRleDogZnVuY3Rpb24gcmVtb3ZlQnlJbmRleCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnJlbW92ZWRDYXJkQm9hcmQgJiYgdGhpcy5kcm9wUmVzKSB7CiAgICAgICAgdGhpcy5ib2FyZHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKF90aGlzOS5yZW1vdmVkQ2FyZEJvYXJkLmlkID09PSBlLmlkKSB7CiAgICAgICAgICAgIHZhciBmb3VuZEluZGV4ID0gZS5wcm9qZWN0VGFza0NhcmRzRHRvLmZpbmRJbmRleChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgIHJldHVybiBkLmlkID09IF90aGlzOS5kcm9wUmVzLnBheWxvYWQoKS5pZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGUucHJvamVjdFRhc2tDYXJkc0R0by5zcGxpY2UoZm91bmRJbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBwdXNoQnlJbmRleDogZnVuY3Rpb24gcHVzaEJ5SW5kZXgoYklkLCBkcm9wUmVzKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgdGhpcy5ib2FyZHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmlkID09PSBiSWQpIHsKICAgICAgICAgIF90aGlzMTAuJHNldChlLCAicHJvamVjdFRhc2tDYXJkc0R0byIsIF90aGlzMTAuYXBwbHlEcmFnQ2FyZChlLnByb2plY3RUYXNrQ2FyZHNEdG8sIGRyb3BSZXMpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vRk9SIERSQUcgRFJPUCBDT01PTkVOVAogICAgYXBwbHlEcmFnOiBmdW5jdGlvbiBhcHBseURyYWcoYXJyLCBkcmFnUmVzdWx0KSB7CiAgICAgIHZhciByZW1vdmVkSW5kZXggPSBkcmFnUmVzdWx0LnJlbW92ZWRJbmRleCwKICAgICAgICBhZGRlZEluZGV4ID0gZHJhZ1Jlc3VsdC5hZGRlZEluZGV4LAogICAgICAgIHBheWxvYWQgPSBkcmFnUmVzdWx0LnBheWxvYWQ7CiAgICAgIGlmIChyZW1vdmVkSW5kZXggPT09IG51bGwgJiYgYWRkZWRJbmRleCA9PT0gbnVsbCkgcmV0dXJuIGFycjsKICAgICAgdmFyIHJlc3VsdCA9IF90b0NvbnN1bWFibGVBcnJheShhcnIpOwogICAgICB2YXIgaXRlbVRvQWRkID0gcGF5bG9hZDsKICAgICAgaWYgKHJlbW92ZWRJbmRleCAhPT0gbnVsbCkgewogICAgICAgIGl0ZW1Ub0FkZCA9IHJlc3VsdC5zcGxpY2UocmVtb3ZlZEluZGV4LCAxKVswXTsKICAgICAgfQogICAgICBpZiAoYWRkZWRJbmRleCAhPT0gbnVsbCkgewogICAgICAgIHJlc3VsdC5zcGxpY2UoYWRkZWRJbmRleCwgMCwgaXRlbVRvQWRkKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGFwcGx5RHJhZ0NhcmQ6IGZ1bmN0aW9uIGFwcGx5RHJhZ0NhcmQoYXJyLCBkcmFnUmVzdWx0KSB7CiAgICAgIHZhciByZW1vdmVkSW5kZXggPSBkcmFnUmVzdWx0LnJlbW92ZWRJbmRleCwKICAgICAgICBhZGRlZEluZGV4ID0gZHJhZ1Jlc3VsdC5hZGRlZEluZGV4LAogICAgICAgIHBheWxvYWQgPSBkcmFnUmVzdWx0LnBheWxvYWQ7CiAgICAgIGlmIChyZW1vdmVkSW5kZXggPT09IG51bGwgJiYgYWRkZWRJbmRleCA9PT0gbnVsbCkgcmV0dXJuIGFycjsKICAgICAgdmFyIHJlc3VsdCA9IF90b0NvbnN1bWFibGVBcnJheShhcnIpOwogICAgICB2YXIgaXRlbVRvQWRkID0gcGF5bG9hZCgpOwogICAgICBpZiAocmVtb3ZlZEluZGV4ICE9PSBudWxsKSB7CiAgICAgICAgaXRlbVRvQWRkID0gcmVzdWx0LnNwbGljZShyZW1vdmVkSW5kZXgsIDEpWzBdOwogICAgICB9CiAgICAgIGlmIChhZGRlZEluZGV4ICE9PSBudWxsKSB7CiAgICAgICAgcmVzdWx0LnNwbGljZShhZGRlZEluZGV4LCAwLCBpdGVtVG9BZGQpOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMTEgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpczExLmxpc3RCb2FyZHMoKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczExLmlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF90aGlzMTEuc2V0V2luZG93V2lkdGhQcml2YXRlKF90aGlzMTEud2lkdGhXaW5kb3cpOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;IACAC;MACAC;QACA;MACA;IACA;EACA;EACAC;IACAC;MACAC;QAAAC;MAAA;IACA;EACA;EACAC;IACAC;IACAC,OACA;MACAJ;MACAK;IACA;EAEA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACApB;MACAqB;MACAC,QACA;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAE;MACA,EACA;MACAC;MACA9B;QACAC;MACA;MACA8B;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;QACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACAC;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IAEAC;MAAA;MACA;QACAC;QACAC;QACAC;MACA;MACA;QACA;QACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACAC,eACAC,qBACAC;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACA;gBAAA;kBAAA;kBACA;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA,CACA;UAAA;YAAA;UAAA;QAAA,KACAC;UACA;QAAA,CACA;MACA;IACA;IACAC;MAAA;MAAA;QAAAC;MACA;MACA;MACA;MACAL,eACAM,2BACAJ;QACA;UACA;QACA;MACA,GACAC;QACA;MAAA,CACA;IACA;IAEAI;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA7D;MACA;MACA;MACA;QACA;QACA;UACAmD,eACAW;YACA7D;YACA8D;UACA,GACAV;YACA;YACA;UACA,GACAC;YACA;UAAA,CACA;QACA;UACA;YACAH,eACAU;cAAA5D;cAAA8D;YAAA,GACAV;cACA;cACA;YACA,GACAC;cACA;YAAA,CACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAU;MAAA;MACA;MACA;QACAb,eACAa;UAAA7D;UAAA8D;QAAA,GACAZ;UACA;QACA,GACAC;UACA;QAAA,CACA;MACA;QACA;MACA;IACA;IACAY;MAAA;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAAC;MACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACApB,eACAqB,oDACAnB;UACA;YACA;YACA;YACA;YACA;UACA;UACA;UACA;UACA;QACA,GACAC;UACA;UACA;QACA;MACA;QACA;MACA;IACA;IACAmB;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACA,iDACA;cAAA;YAAA,EACA;YACAC;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA,aACAD,GACA,uBACA,sDACA;QACA;MACA;IACA;IACA;IACAE;MACA;QAAAC;QAAAC;MACA;MAEA;MACA;MAEA;QACAC;MACA;MAEA;QACAC;MACA;MAEA;IACA;IAEAC;MACA;QAAAJ;QAAAC;MACA;MAEA;MACA;MAEA;QACAC;MACA;MAEA;QACAC;MACA;MAEA;IACA;EACA;EACAE;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACA;UAAA;YACAC;cACA;YACA;YACA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EACA;AACA","names":["watch","widthWindow","handler","validations","b","name","required","page","title","meta","content","components","colors","PageHeader","Board","Draggable","ProjEmployees","Container","CardInfo","BoardMobile","data","upperDropPlaceholderOptions","className","animationDuration","showOnTop","project","isModal","componentKey","isAddBoard","submitted","items","text","href","active","boards","bId","drag","taskCard","removedCardBoard","dropRes","selectedColor","isCard","mobileBoard","mobilesm","methods","setWindowWidthPrivate","clickCardTask","setTimeout","selectColor","setProj","getChildPayload","onDrop","indexBefore","indexAfter","projectTaskId","projectService","changeIndex","then","catch","toggleModal","board","listCardEmployees","addBoard","editBoard","resetBoard","createBoard","updateBoard","color","listBoards","itemsPerPage","setTaskCard","loadMoreTaskCard","list","cancelB","recalculate","save","updateTaskCard","setSourceId","removeByIndex","e","pushByIndex","applyDrag","addedIndex","payload","itemToAdd","result","applyDragCard","created","window"],"sourceRoot":"src/modules/projects","sources":["tasks.vue"],"sourcesContent":["<script>\r\nimport PageHeader from \"./page-header\";\r\nimport appConfig from \"@/app.config\";\r\nimport Board from \"./board\";\r\n\r\nimport projectService from \"@/shared/services/projectService\";\r\nimport { required } from \"vuelidate/lib/validators\";\r\n/**\r\n * Kanban-board component\r\n */\r\nimport ProjEmployees from \"./proj-employes\";\r\nimport { Container, Draggable } from \"vue-smooth-dnd\";\r\nimport colors from \"@/components/colors\";\r\nimport CardInfo from \"./card-info\";\r\nimport BoardMobile from \"./boards-mobile\";\r\nimport i18n from \"@/i18n\";\r\nexport default {\r\n  watch: {\r\n    widthWindow: {\r\n      handler(v) {\r\n        this.setWindowWidthPrivate(v);\r\n      },\r\n    },\r\n  },\r\n  validations: {\r\n    b: {\r\n      name: { required },\r\n    },\r\n  },\r\n  page: {\r\n    title: i18n.t('tasks_list'),\r\n    meta: [\r\n      {\r\n        name: \"description\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n  components: {\r\n    colors,\r\n    PageHeader,\r\n    Board,\r\n    Draggable,\r\n    ProjEmployees,\r\n    Container,\r\n    CardInfo,\r\n    BoardMobile,\r\n  },\r\n  data() {\r\n    return {\r\n      upperDropPlaceholderOptions: {\r\n        className: \"cards-drop-preview\",\r\n        animationDuration: \"150\",\r\n        showOnTop: true,\r\n      },\r\n      project: {},\r\n      isModal: false,\r\n      componentKey: 0,\r\n      isAddBoard: false,\r\n      title: this.$t(\"tasks_list\"),\r\n      submitted: false,\r\n      items: [\r\n        {\r\n          text: this.$t(\"menu\"),\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: this.$t(\"proj\"),\r\n          href: \"/projects\",\r\n        },\r\n        {\r\n          text: this.$t(\"tasks_list\"),\r\n          active: true,\r\n        },\r\n      ],\r\n      boards: [],\r\n      b: {\r\n        name: \"\",\r\n      },\r\n      bId: null,\r\n      drag: false,\r\n      taskCard: {},\r\n      removedCardBoard: null,\r\n      dropRes: null,\r\n      selectedColor: \"\",\r\n      isCard: false,\r\n      mobileBoard: false,\r\n      mobilesm: false,\r\n    };\r\n  },\r\n  methods: {\r\n    setWindowWidthPrivate(v) {\r\n      if (v < 992) {\r\n        this.mobileBoard = true;\r\n      } else {\r\n        this.mobileBoard = false;\r\n      }\r\n      if (v < 420) {\r\n        this.mobilesm = true;\r\n      } else {\r\n        this.mobilesm = false;\r\n      }\r\n    },\r\n    clickCardTask(card) {\r\n      this.isCard = true;\r\n      setTimeout(() => {\r\n        this.$refs.cardInfoRef.setCardInfoData(card);\r\n        this.$refs.cardInfoRef.reset();\r\n      }, 200);\r\n    },\r\n    selectColor(v) {\r\n      this.selectedColor = v;\r\n    },\r\n    setProj(proj) {\r\n      this.project = proj;\r\n    },\r\n    getChildPayload(index) {\r\n      return this.boards[index];\r\n    },\r\n\r\n    onDrop(e) {\r\n      let payload = {\r\n        indexBefore: 0,\r\n        indexAfter: 0,\r\n        projectTaskId: e.payload.id,\r\n      };\r\n      if (e.addedIndex != null) {\r\n        let currentIndex = e.addedIndex;\r\n        let afterItem = this.boards[currentIndex + 1];\r\n        let beforeItem = this.boards[currentIndex - 1];\r\n        if (beforeItem) {\r\n          this.$set(payload, \"indexBefore\", beforeItem.id);\r\n        }\r\n        if (afterItem) {\r\n          this.$set(payload, \"indexAfter\", afterItem.id);\r\n        }\r\n        projectService\r\n          .changeIndex(payload)\r\n          .then(async (rs) => {\r\n            this.boards = await this.applyDrag(this.boards, e);\r\n            this.boards.forEach((e) => {\r\n              this.$refs[`${e.id}-boardRef`][0].forceRerender();\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          });\r\n      }\r\n    },\r\n    toggleModal({ task, board }) {\r\n      this.taskCard = task;\r\n      this.bId = board.id;\r\n      this.isModal = true;\r\n      projectService\r\n        .listCardEmployees(task.id)\r\n        .then((rs) => {\r\n          if (rs.data[0] != null) {\r\n            this.$refs.projEmpRef.setSelected(rs.data);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          // this.catchErr(err);\r\n        });\r\n    },\r\n\r\n    addBoard() {\r\n      this.isAddBoard = true;\r\n      this.b.name = \"\";\r\n      this.bId = null;\r\n    },\r\n    editBoard(b) {\r\n      this.isAddBoard = true;\r\n      this.b.name = b.name;\r\n      this.b.color = b.color;\r\n      this.bId = b.id;\r\n    },\r\n    resetBoard() {\r\n      this.listBoards();\r\n      this.isAddBoard = false;\r\n      this.b.name = \"\";\r\n    },\r\n    createBoard(b) {\r\n      b.preventDefault();\r\n      this.$v.$touch();\r\n      this.submitted = true;\r\n      if (!this.$v.b.$anyError) {\r\n        let id = this.$route.query.id;\r\n        if (this.bId) {\r\n          projectService\r\n            .updateBoard(this.bId, {\r\n              name: this.b.name,\r\n              color: this.selectedColor,\r\n            })\r\n            .then((rs) => {\r\n              this.resetBoard();\r\n              this.successEdited();\r\n            })\r\n            .catch((err) => {\r\n              // this.catchErr(err);\r\n            });\r\n        } else {\r\n          if (id) {\r\n            projectService\r\n              .createBoard(id, { name: this.b.name, color: this.selectedColor })\r\n              .then((rs) => {\r\n                this.successSaved();\r\n                this.resetBoard();\r\n              })\r\n              .catch((err) => {\r\n                // this.catchErr(err);\r\n              });\r\n          } else {\r\n            this.$router.go(-1);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    listBoards() {\r\n      let id = this.$route.query.id;\r\n      if (id) {\r\n        projectService\r\n          .listBoards(id, { page: 0, itemsPerPage: 10 })\r\n          .then((rs) => {\r\n            this.boards = rs.data;\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          });\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    setTaskCard(data) {\r\n      this.boards.forEach((element) => {\r\n        if (element.id == data.boardId) {\r\n          this.$set(element, \"projectTaskCardsDto\", data.list);\r\n        }\r\n      });\r\n    },\r\n    loadMoreTaskCard({ boardId, list }) {\r\n      this.boards.forEach((el) => {\r\n        if (el.id == boardId) {\r\n          let value = el.projectTaskCardsDto.concat(list);\r\n          this.$set(el, \"projectTaskCardsDto\", value);\r\n        }\r\n      });\r\n    },\r\n    cancelB() {\r\n      this.isAddBoard = false;\r\n      this.b.name = \"\";\r\n    },\r\n    recalculate(id) {\r\n      if (this.$refs[`${id}-boardRef`][0]) {\r\n        this.$refs[`${id}-boardRef`][0].recalculate();\r\n      }\r\n    },\r\n    save(members) {\r\n      if (this.taskCard.id && members.length > 0) {\r\n        projectService\r\n          .updateTaskCard(this.taskCard.id, \"\", null, members)\r\n          .then((rs) => {\r\n            if (this.mobileBoard) {\r\n              this.$refs.mobileBoardRef.refresh();\r\n              this.isModal = false;\r\n              this.successEdited();\r\n              return;\r\n            }\r\n            this.$refs[`${this.bId}-boardRef`][0].listTasks(this.bId);\r\n            this.isModal = false;\r\n            this.successEdited();\r\n          })\r\n          .catch((err) => {\r\n            this.isModal = false;\r\n            // this.catchErr(err);\r\n          });\r\n      } else {\r\n        this.enterInfo();\r\n      }\r\n    },\r\n    setSourceId(b, d) {\r\n      this.removedCardBoard = b;\r\n      this.dropRes = d;\r\n    },\r\n    removeByIndex() {\r\n      if (this.removedCardBoard && this.dropRes) {\r\n        this.boards.forEach((e) => {\r\n          if (this.removedCardBoard.id === e.id) {\r\n            let foundIndex = e.projectTaskCardsDto.findIndex(\r\n              (d) => d.id == this.dropRes.payload().id\r\n            );\r\n            e.projectTaskCardsDto.splice(foundIndex, 1);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    pushByIndex(bId, dropRes) {\r\n      this.boards.forEach((e) => {\r\n        if (e.id === bId) {\r\n          this.$set(\r\n            e,\r\n            \"projectTaskCardsDto\",\r\n            this.applyDragCard(e.projectTaskCardsDto, dropRes)\r\n          );\r\n        }\r\n      });\r\n    },\r\n    //FOR DRAG DROP COMONENT\r\n    applyDrag(arr, dragResult) {\r\n      const { removedIndex, addedIndex, payload } = dragResult;\r\n      if (removedIndex === null && addedIndex === null) return arr;\r\n\r\n      const result = [...arr];\r\n      let itemToAdd = payload;\r\n\r\n      if (removedIndex !== null) {\r\n        itemToAdd = result.splice(removedIndex, 1)[0];\r\n      }\r\n\r\n      if (addedIndex !== null) {\r\n        result.splice(addedIndex, 0, itemToAdd);\r\n      }\r\n\r\n      return result;\r\n    },\r\n\r\n    applyDragCard(arr, dragResult) {\r\n      const { removedIndex, addedIndex, payload } = dragResult;\r\n      if (removedIndex === null && addedIndex === null) return arr;\r\n\r\n      const result = [...arr];\r\n      let itemToAdd = payload();\r\n\r\n      if (removedIndex !== null) {\r\n        itemToAdd = result.splice(removedIndex, 1)[0];\r\n      }\r\n\r\n      if (addedIndex !== null) {\r\n        result.splice(addedIndex, 0, itemToAdd);\r\n      }\r\n\r\n      return result;\r\n    },\r\n  },\r\n  async created() {\r\n    await this.listBoards();\r\n    window.addEventListener(\"resize\", () => {\r\n      this.innerWidth = window.innerWidth;\r\n    });\r\n    this.setWindowWidthPrivate(this.widthWindow);\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <PageHeader\r\n      :mobile=\"mobilesm\"\r\n      @setProj=\"setProj\"\r\n      @addBoard=\"addBoard\"\r\n      :title=\"title\"\r\n      :items=\"items\"\r\n    />\r\n    <b-sidebar\r\n      backdrop-variant=\"dark\"\r\n      backdrop\r\n      class=\"sd\"\r\n      shadow\r\n      sidebar-class=\"p-0\"\r\n      :no-header=\"true\"\r\n      right\r\n      v-model=\"isModal\"\r\n    >\r\n      <div v-if=\"isModal\">\r\n        <proj-employees\r\n          @save=\"save\"\r\n          @cancel=\"isModal = false\"\r\n          ref=\"projEmpRef\"\r\n        />\r\n      </div>\r\n    </b-sidebar>\r\n    <!-- card info  -->\r\n    <b-sidebar\r\n      backdrop-variant=\"dark\"\r\n      backdrop\r\n      class=\"sd\"\r\n      shadow\r\n      sidebar-class=\"p-0\"\r\n      :no-header=\"true\"\r\n      right\r\n      v-model=\"isCard\"\r\n    >\r\n      <CardInfo :isCard=\"isCard\" ref=\"cardInfoRef\" />\r\n    </b-sidebar>\r\n    <!-- card info end -->\r\n    <div v-if=\"mobileBoard\">\r\n      <BoardMobile\r\n        ref=\"mobileBoardRef\"\r\n        @setTaskCard=\"setTaskCard\"\r\n        @toggleModal=\"toggleModal\"\r\n        @loadMoreTaskCard=\"loadMoreTaskCard\"\r\n        @clickCardTask=\"clickCardTask\"\r\n        :list=\"boards\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"con\" id=\"style-2\" v-else>\r\n      <Container\r\n        drag-class=\"card-ghost\"\r\n        drop-class=\"card-ghost-drop\"\r\n        :get-child-payload=\"getChildPayload\"\r\n        drag-handle-selector=\".column-drag-handle\"\r\n        :drop-placeholder=\"upperDropPlaceholderOptions\"\r\n        orientation=\"horizontal\"\r\n        @drop=\"onDrop\"\r\n      >\r\n        <Draggable\r\n          v-for=\"(item, index) in boards\"\r\n          :key=\"item.id + 'DRAGGABLEITEM'\"\r\n        >\r\n          <Board\r\n            @clickCardTask=\"clickCardTask\"\r\n            :proj=\"project\"\r\n            @setSourceId=\"setSourceId\"\r\n            @removeByIndex=\"removeByIndex\"\r\n            @pushByIndex=\"pushByIndex\"\r\n            :indexB=\"index\"\r\n            @toggleModal=\"toggleModal\"\r\n            :ref=\"`${item.id}-boardRef`\"\r\n            class=\"box\"\r\n            @editBoard=\"editBoard\"\r\n            @successDelete=\"listBoards\"\r\n            @loadMoreTaskCard=\"loadMoreTaskCard\"\r\n            @setTaskCard=\"setTaskCard\"\r\n            :board=\"item\"\r\n          />\r\n        </Draggable>\r\n      </Container>\r\n    </div>\r\n    <b-modal\r\n      v-model=\"isAddBoard\"\r\n      size=\"md\"\r\n      :no-close-on-backdrop=\"true\"\r\n      @cancel=\"cancelB\"\r\n      @ok=\"createBoard\"\r\n      :ok-variant=\"'success'\"\r\n      :cancel-variant=\"'outline-danger'\"\r\n      :ok-title=\"$t('actions.save')\"\r\n      :cancel-title=\"$t('actions.cancel')\"\r\n      hide-header\r\n      body-class=\"p-0\"\r\n    >\r\n      <div class=\"p-4\">\r\n        <b-form-input\r\n          size=\"lg\"\r\n          :class=\"{ 'is-invalid': submitted && $v.b.name.$error }\"\r\n          :placeholder=\"$t('column.name')\"\r\n          v-model=\"b.name\"\r\n          class=\"mb-2\"\r\n        ></b-form-input>\r\n        <colors :propColor=\"b.color\" @selectColor=\"selectColor\" />\r\n      </div>\r\n    </b-modal>\r\n    <!-- end row -->\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.sd {\r\n  .b-sidebar {\r\n    width: 700px !important;\r\n    background: white;\r\n  }\r\n}\r\n.con {\r\n  max-width: 160rem;\r\n  width: 100%;\r\n  height: 70vh;\r\n  margin: 0 auto;\r\n  overflow: auto;\r\n}\r\n.cards-drop-preview {\r\n  background-color: rgb(240, 240, 247, 1) !important;\r\n  border: 1px dashed #abc !important;\r\n  margin: 0px 5px 5px 5px !important;\r\n}\r\n\r\n.box {\r\n  width: 22rem;\r\n  flex: 0 0 auto;\r\n  margin-right: 10px;\r\n  // max-height: 66vh;\r\n}\r\n\r\n// #style-2::-webkit-scrollbar-track {\r\n//   box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\r\n//   border-radius: 10px;\r\n//   background-color: #f5f5f5;\r\n// }\r\n\r\n// #style-2::-webkit-scrollbar {\r\n//   width: 12px;\r\n//   height: 14px;\r\n//   background-color: #f5f5f5;\r\n// }\r\n\r\n// #style-2::-webkit-scrollbar-thumb {\r\n//   border-radius: 10px;\r\n//   box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n//   background-color: #556ee6;\r\n// }\r\n</style>\r\n"]}]}