{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\router\\index.js","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\router\\index.js","mtime":1674799498163},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1667355397815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IFRva2VuU2VydmljZSB9IGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3N0b3JhZ2Uuc2VydmljZSc7CmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnOwppbXBvcnQgTlByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCB7IGJ1cyB9IGZyb20gIi4uL21haW4iOwppbXBvcnQgaTE4biBmcm9tICIuLi9pMThuIjsKTlByb2dyZXNzLmNvbmZpZ3VyZSh7CiAgc2hvd1NwaW5uZXI6IGZhbHNlCn0pOwpOUHJvZ3Jlc3MuY29uZmlndXJlKHsKICBlYXNpbmc6ICdlYXNlJywKICBzcGVlZDogNTAwCn0pOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IHJvdXRlcywKICBtb2RlOiAnaGlzdG9yeScsCiAgc2Nyb2xsQmVoYXZpb3I6IGZ1bmN0aW9uIHNjcm9sbEJlaGF2aW9yKHRvLCBmcm9tLCBzYXZlZFBvc2l0aW9uKSB7CiAgICBpZiAoc2F2ZWRQb3NpdGlvbikgewogICAgICByZXR1cm4gc2F2ZWRQb3NpdGlvbjsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH07CiAgICB9CiAgfQp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgTlByb2dyZXNzLnN0YXJ0KCk7CiAgTlByb2dyZXNzLnNldCgwLjI1KTsKICB2YXIgaXNQdWJsaWMgPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnB1YmxpYzsKICB9KTsKICB2YXIgb25seVdoZW5Mb2dnZWRPdXQgPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLm9ubHlXaGVuTG9nZ2VkT3V0OwogIH0pOwogIHZhciBsb2dnZWRJbiA9ICEhVG9rZW5TZXJ2aWNlLmdldFRva2VuKCk7CiAgdmFyIGlzT3BlbiA9ICdoYXNQZXJtJyBpbiB0by5tZXRhID8gISF0by5tZXRhLmhhc1Blcm0oKSA6IHRydWU7CiAgaWYgKCFpc1B1YmxpYyAmJiAhbG9nZ2VkSW4gJiYgdG8ubmFtZSAhPT0gJ1JlZ2lzdGVyJykgewogICAgcmV0dXJuIG5leHQoewogICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgcXVlcnk6IHsKICAgICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGggPT09ICcvbG9naW4nID8gJy8nIDogdG8uZnVsbFBhdGgKICAgICAgfSAvLyBTdG9yZSB0aGUgZnVsbCBwYXRoIHRvIHJlZGlyZWN0IHRoZSB1c2VyIHRvIGFmdGVyIGxvZ2luCiAgICB9KTsKICB9CiAgLy8gRG8gbm90IGFsbG93IHVzZXIgdG8gdmlzaXQgbG9naW4gcGFnZSBvciByZWdpc3RlciBwYWdlIGlmIHRoZXkgYXJlIGxvZ2dlZCBpbgogIGlmIChsb2dnZWRJbiAmJiBvbmx5V2hlbkxvZ2dlZE91dCkgewogICAgcmV0dXJuIG5leHQoJy8nKTsKICB9CiAgaWYgKCFpc09wZW4pIHsKICAgIHJldHVybiBuZXh0KCcvJyk7CiAgfQogIGlmIChmcm9tLm5hbWUgIT09IG51bGwpIHsKICAgIGlmICgoZnJvbS5uYW1lLnN0YXJ0c1dpdGgoJ0NyZWF0ZScpIHx8IGZyb20ubmFtZS5zdGFydHNXaXRoKCdVcGRhdGUnKSkgJiYgYnVzLnJlYWN0aXZlTGVhdmVXaXRoQ29uZmlybSkgewogICAgICBidXMuJGJ2TW9kYWwubXNnQm94Q29uZmlybShpMThuLnQoJ21lc3NhZ2VzLmNhbmNlbF90aXRsZScpLCB7CiAgICAgICAgb2tUaXRsZTogaTE4bi50KCdhY3Rpb25zLmNvbmZpcm0nKSwKICAgICAgICBjYW5jZWxUaXRsZTogaTE4bi50KCdhY3Rpb25zLmNhbmNlbCcpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBuZXh0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5leHQoZmFsc2UpOwogICAgICAgICAgTlByb2dyZXNzLmRvbmUoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAvLyBBbiBlcnJvciBvY2N1cnJlZAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKCkgewogIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIE5Qcm9ncmVzcy5kb25lKCk7CiAgfSwgMjUwKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"names":["Vue","VueRouter","TokenService","routes","NProgress","bus","i18n","configure","showSpinner","easing","speed","use","router","mode","scrollBehavior","to","from","savedPosition","x","y","beforeEach","next","start","set","isPublic","matched","some","record","meta","public","onlyWhenLoggedOut","loggedIn","getToken","isOpen","hasPerm","name","path","query","redirect","fullPath","startsWith","reactiveLeaveWithConfirm","$bvModal","msgBoxConfirm","t","okTitle","cancelTitle","then","value","done","catch","err","afterEach","setTimeout"],"sources":["C:/ACRU PROJECT/Fair Tech/acru-frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport { TokenService } from '@/shared/services/storage.service'\r\nimport routes from './routes'\r\nimport NProgress from 'nprogress'\r\nimport { bus } from \"../main\";\r\nimport i18n from \"../i18n\";\r\n\r\nNProgress.configure({ showSpinner: false });\r\nNProgress.configure({ easing: 'ease', speed: 500 });\r\n\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n    routes,\r\n    mode: 'history',\r\n    scrollBehavior (to, from, savedPosition) {\r\n        if (savedPosition) {\r\n            return savedPosition\r\n        } else {\r\n            return { x: 0, y: 0 }\r\n        }\r\n    },\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    NProgress.start()\r\n    NProgress.set(0.25)\r\n    const isPublic = to.matched.some(record => record.meta.public)\r\n    const onlyWhenLoggedOut = to.matched.some(record => record.meta.onlyWhenLoggedOut)\r\n    const loggedIn = !!TokenService.getToken();\r\n    const isOpen = ('hasPerm' in to.meta) ? !!to.meta.hasPerm() : true;\r\n    if (!isPublic && !loggedIn && to.name !== 'Register') {\r\n        return next({\r\n            path: '/login',\r\n            query: { redirect: to.fullPath === '/login' ? '/' : to.fullPath }  // Store the full path to redirect the user to after login\r\n        });\r\n    }\r\n    // Do not allow user to visit login page or register page if they are logged in\r\n    if (loggedIn && onlyWhenLoggedOut) {\r\n        return next('/')\r\n    }\r\n    if (!isOpen) {\r\n        return next('/');\r\n    }\r\n    if (from.name !== null) {\r\n        if ((from.name.startsWith('Create') || from.name.startsWith('Update')) && bus.reactiveLeaveWithConfirm) {\r\n            bus.$bvModal\r\n                .msgBoxConfirm(i18n.t('messages.cancel_title'), {\r\n                    okTitle: i18n.t('actions.confirm'),\r\n                    cancelTitle: i18n.t('actions.cancel'),\r\n                }).then(value => {\r\n                    if (value) {\r\n                        next()\r\n                    } else {\r\n                        next(false)\r\n                        NProgress.done()\r\n                    }\r\n                }).catch(err => {\r\n                    // An error occurred\r\n                })\r\n        } else {\r\n            next();\r\n        }\r\n    } else {\r\n        next()\r\n    }\r\n});\r\n\r\nrouter.afterEach(() => {\r\n    setTimeout(() => NProgress.done(), 250)\r\n})\r\n\r\nexport default router\r\n"],"mappings":"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"}]}