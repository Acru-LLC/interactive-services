{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\elektr\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\elektr\\Index.vue","mtime":1681726774217},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwp2YXIgTUFJTl9BUElfVVJMID0gJy8nOwp2YXIgSU5URUdSQVRJT05fQVBJX1VSTCA9ICcvc3RhdGlzdGljcy1pbmZvL2RlcGxveS1pbmZvcm1hdGlvbic7CmltcG9ydCBjcnVkQW5kTGlzdFNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlJzsKaW1wb3J0IEluZm8gZnJvbSAnLi9tZXRob2RzL21ldGhvZHMxL21ldGhvZHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSW5mbzogSW5mbwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmdUYWJsZUl0ZW1zOiBmYWxzZSwKICAgICAganNvbl9kYXRhOiBbXSwKICAgICAgc2VhcmNoS2V5d29yZDogJycsCiAgICAgIHNlbGVjdGVkOiAyMCwKICAgICAgYWN0aXZlRGVwOiB7fSwKICAgICAgdGFibGVJdGVtczogW10sCiAgICAgIHRvdGFsSXRlbXM6IDAsCiAgICAgIHNlYXJjaEludGVydmFsOiBudWxsCiAgICB9OwogIH0sCiAgLyoNCiAgQ09NUFVURUQgKi8KICBjb21wdXRlZDogewogICAgbnVtYmVyT2ZQYWdlczogZnVuY3Rpb24gbnVtYmVyT2ZQYWdlcygpIHsKICAgICAgcmV0dXJuICF0aGlzLnRvdGFsSXRlbXMgfHwgdGhpcy50b3RhbEl0ZW1zIDw9IDAgfHwgdGhpcy50b3RhbEl0ZW1zIDwgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPyAxIDogdGhpcy50b3RhbEl0ZW1zIC8gdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2U7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkb3dubG9hZEV4Y2VsOiBmdW5jdGlvbiBkb3dubG9hZEV4Y2VsKCkgewogICAgICB0aGlzLmpzb25fZGF0YSA9IHRoaXMudGFibGVJdGVtczsKICAgIH0sCiAgICBzZWxlY3RMaXN0OiBmdW5jdGlvbiBzZWxlY3RMaXN0KCRldmVudCkgewogICAgICBpZiAoJGV2ZW50ID09PSAnYWxsJykgewogICAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gdGhpcy50b3RhbEl0ZW1zOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gJGV2ZW50OwogICAgICB9CiAgICAgIHRoaXMuZmV0Y2hUYWJsZUl0ZW1zKCk7CiAgICB9LAogICAgZmV0Y2hUYWJsZUl0ZW1zOiBmdW5jdGlvbiBmZXRjaFRhYmxlSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSB0cnVlOwogICAgICB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLmtleXdvcmQgPSB0aGlzLnNlYXJjaEtleXdvcmQ7CiAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuc29ydERlc2MucHVzaChmYWxzZSk7CiAgICAgIGNydWRBbmRMaXN0U2VydmljZS5zZWFyY2hMaXN0V2l0aEtleXdvcmQoTUFJTl9BUElfVVJMLCB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50YWJsZUl0ZW1zID0gcmVzLmRhdGEubGlzdDsKICAgICAgICBfdGhpcy50b3RhbEl0ZW1zID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMudGFibGVJdGVtcyA9IFtdOwogICAgICAgIF90aGlzLnRvdGFsSXRlbXMgPSAwOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nVGFibGVJdGVtcyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBkb3dubG9hZEFsbEluZm86IGZ1bmN0aW9uIGRvd25sb2FkQWxsSW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGNydWRBbmRMaXN0U2VydmljZS5kb3dubG9hZEludGVncmF0aW9uRGF0YShJTlRFR1JBVElPTl9BUElfVVJMKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi4kdG9hc3QoX3RoaXMyLiR0KCdzdWJtb2R1bGVzLmludGVncmF0aW9uLnN0YXRpc3RpY3NfaW5mby5kb3dubG9hZF9zdWNjZXNzJyksIHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICB9LCAyMDApOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi4kdG9hc3QoX3RoaXMyLiR0KCdzdWJtb2R1bGVzLmludGVncmF0aW9uLnN0YXRpc3RpY3NfaW5mby5kb3dubG9hZF9lcnJvcicpLCB7CiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5mZXRjaFRhYmxlSXRlbXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlU2VhcmNoS2V5d29yZDogZnVuY3Rpb24gY2hhbmdlU2VhcmNoS2V5d29yZCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaEludGVydmFsKTsKICAgICAgdGhpcy5zZWFyY2hJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5mZXRjaFRhYmxlSXRlbXMoKTsKICAgICAgfSwgNTAwKTsKICAgIH0sCiAgICBjb25maXJtSXRlbTogZnVuY3Rpb24gY29uZmlybUl0ZW0oaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0ludGVncmF0aW9uU3RhdGlzdGljc0luZm9Db25maXJtJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBpdGVtLmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIC8qIENSRUFURUQgKi9jcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8gdGhpcy5mZXRjaFRhYmxlSXRlbXMoKQogIH0sCiAgLyogV0FUQ0ggKi8KICB3YXRjaDogewogICAgJ3Zhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLnBhZ2UnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5mZXRjaFRhYmxlSXRlbXMoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;AAsCA;AACA;AACA;AACA;AAEA;EACAA;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACA;AACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACAC,wFACAC;QACA;QACA;MACA,GACAC;QACA;QACA;MACA,GACAC;QACA;MACA;IACA;IACAC;MAAA;MACAJ,gEACAC;QACAI;UACA;YAAAC;UAAA;QACA;MACA,GACAJ;QACA;UAAAI;QAAA;MACA,GACAH;QACA;MACA;IACA;IACAI;MAAA;MACAC;MACA;QACA;MACA;IACA;IACAC;MACA;QACAC;QACAC;UACAC;QACA;MACA;IACA;EACA;EACA,aACAC;IACA;EAAA,CACA;EACA;EACAC;IACA;MACAC;QACA;MACA;IACA;EACA;AACA","names":["components","Info","data","loadingTableItems","json_data","searchKeyword","selected","activeDep","tableItems","totalItems","searchInterval","computed","numberOfPages","methods","downloadExcel","selectList","fetchTableItems","crudAndListService","then","catch","finally","downloadAllInfo","setTimeout","type","changeSearchKeyword","clearTimeout","confirmItem","name","params","id","created","watch","handler"],"sourceRoot":"src/modules/integration/modules/elektr","sources":["Index.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n        <div class=\"col-md-12 text-sm-start\">\r\n            <b-button class=\"btn btn-warning\" size=\"md\" @click=\"$router.push({name: 'IntegrationMenuIndex'})\">\r\n                {{ $t(\"actions.back\") }}\r\n            </b-button>\r\n        </div>\r\n      <div class=\"col-md-12 text-center\">\r\n        <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.integration.elektr_info.fullTitle') }}</div>\r\n      </div>\r\n<!--      <div class=\"mb-4\">-->\r\n<!--        <b-card-group deck>-->\r\n<!--          <b-card @click=\"$router.push({name: 'IntegrationElektrInfo1Index'})\" style=\"cursor: pointer\"-->\r\n<!--                  bg-variant=\"primary\" text-variant=\"white\" no-header class=\"text-center\">-->\r\n<!--            <b-card-text>{{ $t('submodules.integration.elektr_info.method_1') }}</b-card-text>-->\r\n<!--          </b-card>-->\r\n\r\n<!--          <b-card @click=\"$router.push({name: 'IntegrationElektrInfo2Index'})\" style=\"cursor: pointer\"-->\r\n<!--                  bg-variant=\"warning\" text-variant=\"white\" class=\"text-center\">-->\r\n<!--            <b-card-text>{{ $t('submodules.integration.elektr_info.method_2') }}</b-card-text>-->\r\n<!--          </b-card>-->\r\n<!--        </b-card-group>-->\r\n<!--      </div>-->\r\n      <div class=\"card\">\r\n        <div>\r\n          <b-card no-body>\r\n\r\n            <Info></Info>\r\n\r\n          </b-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst MAIN_API_URL = '/'\r\nconst INTEGRATION_API_URL = '/statistics-info/deploy-information'\r\nimport crudAndListService from '@/shared/services/crud_and_list.service'\r\nimport Info from './methods/methods1/methods'\r\n\r\nexport default {\r\n  components: {\r\n    Info\r\n  },\r\n  data() {\r\n    return {\r\n      loadingTableItems: false,\r\n      json_data: [],\r\n      searchKeyword: '',\r\n      selected: 20,\r\n      activeDep: {},\r\n      tableItems: [],\r\n      totalItems: 0,\r\n      searchInterval: null,\r\n    };\r\n  },\r\n  /*\r\n  COMPUTED */\r\n  computed: {\r\n    numberOfPages() {\r\n      return (!this.totalItems || this.totalItems <= 0 || this.totalItems < this.var_default_search_payload.itemsPerPage) ? 1 : this.totalItems / this.var_default_search_payload.itemsPerPage\r\n    }\r\n  },\r\n  methods: {\r\n    downloadExcel() {\r\n      this.json_data = this.tableItems\r\n    },\r\n    selectList($event) {\r\n      if ($event === 'all') {\r\n        this.var_default_search_payload.itemsPerPage = this.totalItems\r\n      } else {\r\n        this.var_default_search_payload.itemsPerPage = $event\r\n      }\r\n      this.fetchTableItems();\r\n    },\r\n    fetchTableItems() {\r\n      this.loadingTableItems = true\r\n      this.var_default_search_payload.keyword = this.searchKeyword\r\n      this.var_default_search_payload.sortDesc.push(false)\r\n      crudAndListService.searchListWithKeyword(MAIN_API_URL, this.var_default_search_payload)\r\n          .then((res) => {\r\n            this.tableItems = res.data.list;\r\n            this.totalItems = res.data.total;\r\n          })\r\n          .catch(e => {\r\n            this.tableItems = [];\r\n            this.totalItems = 0;\r\n          })\r\n          .finally(() => {\r\n            this.loadingTableItems = false\r\n          })\r\n    },\r\n    downloadAllInfo() {\r\n      crudAndListService.downloadIntegrationData(INTEGRATION_API_URL)\r\n          .then((res) => {\r\n            setTimeout(() => {\r\n              this.$toast(this.$t('submodules.integration.statistics_info.download_success'), {type: 'success'});\r\n            }, 200);\r\n          })\r\n          .catch(e => {\r\n            this.$toast(this.$t('submodules.integration.statistics_info.download_error'), {type: 'error'});\r\n          })\r\n          .finally(() => {\r\n            this.fetchTableItems()\r\n          })\r\n    },\r\n    changeSearchKeyword() {\r\n      clearTimeout(this.searchInterval)\r\n      this.searchInterval = setTimeout(() => {\r\n        this.fetchTableItems()\r\n      }, 500)\r\n    },\r\n    confirmItem(item) {\r\n      this.$router.push({\r\n        name: 'IntegrationStatisticsInfoConfirm',\r\n        params: {\r\n          id: item.id\r\n        }\r\n      })\r\n    },\r\n  },\r\n  /* CREATED */\r\n  created() {\r\n    // this.fetchTableItems()\r\n  },\r\n  /* WATCH */\r\n  watch: {\r\n    'var_default_search_payload.page': {\r\n      handler() {\r\n        this.fetchTableItems()\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n</style>"]}]}