{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\management\\modules\\roles\\UpdateRolePermissions.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\management\\modules\\roles\\UpdateRolePermissions.vue","mtime":1674799497592},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcQUNSVSBQUk9KRUNUXFxGYWlyIFRlY2hcXG9oaXJnaVxcYWNydS1mcm9udGVuZFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXEFDUlUgUFJPSkVDVFxcRmFpciBUZWNoXFxvaGlyZ2lcXGFjcnUtZnJvbnRlbmRcXGFjcnUtZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgTUFJTl9BUElfVVJMID0gJ3JvbGUnOwovKg0KKiBZT1UgTVVTVCBTRU5EIHt7IE1BSU5fQVBJX1VSTCB9fSBUTyBDUlVEX1NFUlZJQ0UgKi8KCmltcG9ydCBjcnVkQW5kTGlzdHNTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2NydWRfYW5kX2xpc3Quc2VydmljZSI7CmltcG9ydCBoZWxwZXJTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2hlbHBlci5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVcGRhdGVSb2xlUGVybWlzc2lvbnMiLAoKICAvKg0KICAqIENPTVBPTkVOVFMgKi8KICBjb21wb25lbnRzOiB7fSwKCiAgLyoNCiAgKiBEQVRBICovCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRpbmdJdGVtOiB7fSwKICAgICAgcGVybXNMaXN0QnlSb2xlSWQ6IHt9CiAgICB9OwogIH0sCgogIC8qDQogICogQ09NUFVURUQgKi8KICBjb21wdXRlZDogewogICAgaXNNb2RlQ3JlYXRlOiBmdW5jdGlvbiBpc01vZGVDcmVhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnQ3JlYXRlUm9sZSc7CiAgICB9LAogICAgY29tcHV0ZWRPYnNlcnZlcjogZnVuY3Rpb24gY29tcHV0ZWRPYnNlcnZlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnMub2JzZXJ2ZXI7CiAgICB9CiAgfSwKCiAgLyoNCiAgKiBNRVRIT0RTICovCiAgbWV0aG9kczogewogICAgYWRkT3JSZW1vdmVBbGw6IGZ1bmN0aW9uIGFkZE9yUmVtb3ZlQWxsKHBlcm1UeXBlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZm91bmRQZXJtT2JqZWN0ID0gdGhpcy5wZXJtc0xpc3RCeVJvbGVJZC5maW5kKGZ1bmN0aW9uIChwZXJtKSB7CiAgICAgICAgcmV0dXJuIHBlcm1UeXBlID09IHBlcm0uZm9yVHlwZS50eXBlOwogICAgICB9KTsKICAgICAgdmFyIHBlcm1JZHNPZlBlcm1UeXBlID0gW107CgogICAgICBpZiAoZm91bmRQZXJtT2JqZWN0KSB7CiAgICAgICAgcGVybUlkc09mUGVybVR5cGUgPSBmb3VuZFBlcm1PYmplY3QubGlzdC5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwuaWQ7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBhbGxGb3VuZGVkID0gcGVybUlkc09mUGVybVR5cGUuZXZlcnkoZnVuY3Rpb24gKGFpKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmVkaXRpbmdJdGVtLnBlcm1pc3Npb25JZHMuaW5jbHVkZXMoYWkpOwogICAgICB9KTsKCiAgICAgIGlmIChhbGxGb3VuZGVkKSB7CiAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5wZXJtaXNzaW9uSWRzID0gdGhpcy5lZGl0aW5nSXRlbS5wZXJtaXNzaW9uSWRzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiAhcGVybUlkc09mUGVybVR5cGUuaW5jbHVkZXMoZWwpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHBlcm1JZHNPZlBlcm1UeXBlLmZvckVhY2goZnVuY3Rpb24gKGlkVG9BZGQpIHsKICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLmVkaXRpbmdJdGVtLnBlcm1pc3Npb25JZHMuZmluZEluZGV4KGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4ID09PSBpZFRvQWRkOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgICAgICBfdGhpcy5lZGl0aW5nSXRlbS5wZXJtaXNzaW9uSWRzLnB1c2goaWRUb0FkZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnaXZlUGVybWlzc2lvbnNUb1JvbGU6IGZ1bmN0aW9uIGdpdmVQZXJtaXNzaW9uc1RvUm9sZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UudXBkYXRlUm9sZVBlcm1pc3Npb25zQnlJZChfdGhpczIuZWRpdGluZ0l0ZW0sIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5nbygtMSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KF90aGlzMi4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlUGVybXNPZlJvbGU6IGZ1bmN0aW9uIGNoYW5nZVBlcm1zT2ZSb2xlKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMzLmRpYWxvZ0ZvclBlcm1zID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzMy5lZGl0aW5nSW5kZXggPSBfdGhpczMucm9sZXNMaXN0LmluZGV4T2YoaXRlbSk7CiAgICAgICAgICAgICAgICBfdGhpczMuZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgICAgICAgICAgIF90aGlzMy5jdXJyZW50Um9sZVBlcm1JZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkoaXRlbS5wZXJtaXNzaW9uSWRzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZ2V0UGVybWlzc2lvbnNMaXN0QnlSb2xlSWQoaXRlbS5pZCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCgogIC8qDQogICogQ1JFQVRFRCAqLwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0QnlJZChNQUlOX0FQSV9VUkwsIF90aGlzNC4kcm91dGUucGFyYW1zLmlkLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzNC5lZGl0aW5nSXRlbSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UucGVybWlzc2lvbnNMaXN0QnlSb2xlSWQoX3RoaXM0LiRyb3V0ZS5wYXJhbXMuaWQsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXM0LnBlcm1zTGlzdEJ5Um9sZUlkID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["UpdateRolePermissions.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <base-create-or-update-wrapper\r\n      @save=\"givePermissionsToRole\"\r\n      has-save-suspend\r\n      :custom-title=\"`${editingItem.name ? editingItem.name : ''} (${$t('submodules.roles.permissions')})`\"\r\n  >\r\n    <b-container\r\n        fluid\r\n        class=\"perm-group-wrapper\"\r\n        v-for=\"(permType, index) in permsListByRoleId\"\r\n        :key=\"`permCardForRole ${permType}-${index}`\"\r\n    >\r\n      <b-row>\r\n        <b-col\r\n            cols=\"12\"\r\n            class=\"form-check perm-group-title\"\r\n        >\r\n          <mark class=\"perm-group-title-icon\"><i class=\"fa fa-check \"></i></mark>\r\n\r\n          <span\r\n              @click=\"addOrRemoveAll(permType.forType.type)\"\r\n              class=\"form-check-label perm-group-title-label\"\r\n          >\r\n                        <mark>{{\r\n                            getName({\r\n                              nameRu: permType.forType.typeNameRu,\r\n                              nameLt: permType.forType.typeNameLt,\r\n                              nameUz: permType.forType.typeNameUz,\r\n                            }) ? getName({\r\n                              nameRu: permType.forType.typeNameRu,\r\n                              nameLt: permType.forType.typeNameLt,\r\n                              nameUz: permType.forType.typeNameUz,\r\n                            }) : permType.forType.type\r\n                          }}</mark>\r\n                    </span>\r\n        </b-col>\r\n\r\n        <b-col\r\n            cols=\"12\"\r\n            class=\"perm-group-single-perm mt-3\"\r\n        >\r\n          <b-row>\r\n            <b-col\r\n                class=\"py-2\"\r\n                cols=\"3\"\r\n                v-for=\"(list, i) in permType.list\"\r\n                :key=\"`perm-checkbox-${i}`\"\r\n            >\r\n              <div class=\"form-check\">\r\n                <input\r\n                    v-model=\"editingItem.permissionIds\"\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    :id=\"'permId' + list.id\"\r\n                    :value=\"list.id\"\r\n                />\r\n                <label\r\n                    class=\"form-check-label font-weight-normal\"\r\n                    :for=\"'permId' + list.id\"\r\n                >\r\n                  {{\r\n                    getName({\r\n                      nameRu: list.name_ru,\r\n                      nameLt: list.name_lt,\r\n                      nameUz: list.name_uz,\r\n                    })\r\n                  }}\r\n                </label>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n          <!-- <div class=\"form-check\">\r\n          </div> -->\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n  </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'role'\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nimport helperService from \"@/shared/services/helper.service\"\r\n\r\nexport default {\r\n  name: \"UpdateRolePermissions\",\r\n  /*\r\n  * COMPONENTS */\r\n  components: {},\r\n  /*\r\n  * DATA */\r\n  data() {\r\n    return {\r\n      editingItem: {},\r\n      permsListByRoleId: {}\r\n    }\r\n  },\r\n  /*\r\n  * COMPUTED */\r\n  computed: {\r\n    isModeCreate() {\r\n      return this.$route.name === 'CreateRole'\r\n    },\r\n    computedObserver() {\r\n      return this.$refs.observer\r\n    }\r\n  },\r\n  /*\r\n  * METHODS */\r\n  methods: {\r\n    addOrRemoveAll(permType) {\r\n      let foundPermObject = this.permsListByRoleId.find(perm => permType == perm.forType.type)\r\n      let permIdsOfPermType = []\r\n      if (foundPermObject) {\r\n        permIdsOfPermType = foundPermObject.list.map(el => {\r\n          return el.id\r\n        })\r\n      }\r\n      let allFounded = permIdsOfPermType.every(ai => this.editingItem.permissionIds.includes(ai));\r\n      if (allFounded) {\r\n        this.editingItem.permissionIds = this.editingItem.permissionIds.filter(function (el) {\r\n          return !permIdsOfPermType.includes(el);\r\n        });\r\n      } else {\r\n        permIdsOfPermType.forEach(idToAdd => {\r\n          let index = this.editingItem.permissionIds.findIndex(x => x === idToAdd);\r\n          if (index === -1) {\r\n            this.editingItem.permissionIds.push(idToAdd)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async givePermissionsToRole() {\r\n      await helperService.updateRolePermissionsById(this.editingItem, true)\r\n          .then(res => {\r\n            this.$router.go(-1)\r\n            this.$toast(this.$t('messages.saved_successfully'), {type: 'success'});\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    async changePermsOfRole(item) {\r\n      this.loading = true;\r\n      this.dialogForPerms = true;\r\n      this.editingIndex = this.rolesList.indexOf(item);\r\n      this.editingItem = Object.assign({}, item);\r\n      this.currentRolePermIds = [...item.permissionIds];\r\n      await this.getPermissionsListByRoleId(item.id);\r\n      this.loading = false\r\n    },\r\n  },\r\n  /*\r\n  * CREATED */\r\n  async created() {\r\n    // GET CURRENT ROLE\r\n    await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, true)\r\n        .then(res => {\r\n          this.editingItem = res.data\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n\r\n    // GET PERMISSIONS_LIST BY ROLE ID\r\n    await helperService.permissionsListByRoleId(this.$route.params.id, true)\r\n        .then(res => {\r\n          this.permsListByRoleId = res.data\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n::v-deep.perm-group-wrapper {\r\n  padding: 1rem;\r\n  border: solid 1px #cccccc;\r\n  border-radius: 1rem;\r\n  margin-top: 3rem;\r\n\r\n  .perm-group-title {\r\n    padding: 0.5rem;\r\n    margin-top: -2.5rem;\r\n    width: 30%;\r\n    margin-right: auto;\r\n    margin-left: auto;\r\n    font-size: 1rem;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #f5f5f5;\r\n    justify-content: center;\r\n    border-radius: 1rem;\r\n\r\n    .perm-group-title-icon {\r\n      background-color: #f5f5f5;\r\n\r\n      i {\r\n        color: green;\r\n      }\r\n    }\r\n\r\n    .perm-group-title-label {\r\n      color: green;\r\n\r\n      mark {\r\n        background-color: #f5f5f5;\r\n      }\r\n    }\r\n  }\r\n\r\n  .perm-group-single-perm {\r\n    font-size: 0.9rem;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/modules/management/modules/roles"}]}