{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\components\\base\\BaseFileUploaderWithValidation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\components\\base\\BaseFileUploaderWithValidation.vue","mtime":1675054786248},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgdnVlMkRyb3B6b25lIGZyb20gInZ1ZTItZHJvcHpvbmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJhc2VGaWxlVXBsb2FkZXJXaXRoVmFsaWRhdGlvbiIsCiAgY29tcG9uZW50czogewogICAgdnVlRHJvcHpvbmU6IHZ1ZTJEcm9wem9uZQogIH0sCiAgcHJvcHM6IHsKICAgIGxhYmVsT25Ub3A6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHdyYXBwZXJDbGFzc2VzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBoaWRlRXJyb3JNc2c6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpbmZvTXNnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbWF4RmlsZXM6IHsKICAgICAgZGVmYXVsdDogNQogICAgfSwKICAgIG1heEZpbGVzaXplOiB7CiAgICAgIGRlZmF1bHQ6IDEwCiAgICB9LAogICAgbWltZXM6IHsKICAgICAgZGVmYXVsdDogbnVsbCwKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3B0aW9uczogewogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgICAgICAgbWF4RmlsZXM6IDUsCiAgICAgICAgbWF4RmlsZXNpemU6IDEwLAogICAgICAgIGFjY2VwdGVkRmlsZXM6IG51bGwsCiAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWUsCiAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogZmFsc2UsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJwogICAgICAgIH0sCiAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiB0aGlzLiR0KCdkcm9wem9uZS5kZWZhdWx0TWVzc2FnZScpLAogICAgICAgIGRpY3RGYWxsYmFja01lc3NhZ2U6IHRoaXMuJHQoJ2Ryb3B6b25lLmZhbGxiYWNrTWVzc2FnZScpLAogICAgICAgIGRpY3RGYWxsYmFja1RleHQ6IHRoaXMuJHQoJ2Ryb3B6b25lLmZhbGxiYWNrVGV4dCcpLAogICAgICAgIGRpY3RGaWxlVG9vQmlnOiB0aGlzLiR0KCdkcm9wem9uZS5maWxlVG9vQmlnJywgewogICAgICAgICAgZmlsZXNpemU6ICd7ZmlsZXNpemV9JywKICAgICAgICAgIG1heEZpbGVzaXplOiAne21heEZpbGVzaXplfScKICAgICAgICB9KSwKICAgICAgICBkaWN0SW52YWxpZEZpbGVUeXBlOiB0aGlzLiR0KCdkcm9wem9uZS5pbnZhbGlkRmlsZVR5cGUnKSwKICAgICAgICBkaWN0UmVzcG9uc2VFcnJvcjogdGhpcy4kdCgnZHJvcHpvbmUucmVzcG9uc2VFcnJvcicsIHsKICAgICAgICAgIHN0YXR1c0NvZGU6ICd7c3RhdHVzQ29kZX0nCiAgICAgICAgfSksCiAgICAgICAgZGljdENhbmNlbFVwbG9hZDogdGhpcy4kdCgnw5cnKSwKICAgICAgICBkaWN0Q2FuY2VsVXBsb2FkQ29uZmlybWF0aW9uOiB0aGlzLiR0KCdkcm9wem9uZS5jYW5jZWxVcGxvYWRDb25maXJtYXRpb24nKSwKICAgICAgICBkaWN0UmVtb3ZlRmlsZTogdGhpcy4kdCgnw5cnKSwKICAgICAgICBkaWN0TWF4RmlsZXNFeGNlZWRlZDogdGhpcy4kdCgnZHJvcHpvbmUubWF4RmlsZXNFeGNlZWRlZCcpCiAgICAgIH0sCiAgICAgIHVwbG9hZGVkOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLm9wdGlvbnMubWF4RmlsZXMgPSB0aGlzLm1heEZpbGVzOwogICAgdGhpcy5vcHRpb25zLm1heEZpbGVzaXplID0gdGhpcy5tYXhGaWxlc2l6ZTsKICAgIHRoaXMub3B0aW9ucy5hY2NlcHRlZEZpbGVzID0gdGhpcy5taW1lczsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdlbmVyYXRlVVVJRDogZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCkgewogICAgICB2YXIgZHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgciA9IChkdCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7CiAgICAgICAgZHQgPSBNYXRoLmZsb29yKGR0IC8gMTYpOwogICAgICAgIHJldHVybiAoYyA9PT0gJ3gnID8gciA6IHIgJiAweDMgfCAweDgpLnRvU3RyaW5nKDE2KTsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoZmlsZSkgewogICAgICB0aGlzLnVwbG9hZGVkID0gdGhpcy51cGxvYWRlZC5maWx0ZXIoZnVuY3Rpb24gKGYpIHsKICAgICAgICByZXR1cm4gZi51dWlkICE9PSAoZmlsZS51cGxvYWQgJiYgZmlsZS51cGxvYWQudXVpZCA/IGZpbGUudXBsb2FkLnV1aWQgOiBmaWxlLnV1aWQpOwogICAgICB9KTsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnVwbG9hZGVkKTsKICAgIH0sCiAgICB1cGxvYWREb25lOiBmdW5jdGlvbiB1cGxvYWREb25lKGZpbGUpIHsKICAgICAgdGhpcy51cGxvYWRlZC5wdXNoKHsKICAgICAgICBmaWxlOiBmaWxlLAogICAgICAgIHV1aWQ6IGZpbGUudXBsb2FkICYmIGZpbGUudXBsb2FkLnV1aWQgPyBmaWxlLnVwbG9hZC51dWlkIDogZmlsZS51dWlkLAogICAgICAgIG5hbWU6IGZpbGUubmFtZQogICAgICB9KTsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnVwbG9hZGVkKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBiYXNlV3JhcHBlckNsYXNzOiBmdW5jdGlvbiBiYXNlV3JhcHBlckNsYXNzKCkgewogICAgICByZXR1cm4gdGhpcy53cmFwcGVyQ2xhc3NlcyArICh0aGlzLmxhYmVsT25Ub3AgPyAnJyA6ICcgYmFzZS1pbnB1dC13cmFwcGVyIGJhc2UtZm9ybS1pbnB1dCBiYXNlLWZvcm0tY29tcG9uZW50Jyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;AAgCA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAM;IACA;IACAC;MACAN;IACA;IACAO;MACAP;IACA;IACAQ;MACAR;MACAD;IACA;EACA;EACAU;IACA;MACAC;QACAC;QACAL;QACAC;QACAK;QACAC;QACAC;QACAC;UACA;QACA;QACAC;QACAC;QACAC;QACAC;UACAC;UACAb;QACA;QACAc;QACAC;UAAAC;QAAA;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;QACA;QACAC;QACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;IACA;IACAC;MACA,mBACA;QACAC;QACAC;QACA1C;MACA,EACA;MACA;IACA;EACA;EACA2C;IACAC;MACA;IACA;EACA;AACA","names":["name","components","vueDropzone","props","labelOnTop","type","default","wrapperClasses","hideErrorMsg","infoMsg","label","required","maxFiles","maxFilesize","mimes","data","options","url","acceptedFiles","addRemoveLinks","autoProcessQueue","headers","dictDefaultMessage","dictFallbackMessage","dictFallbackText","dictFileTooBig","filesize","dictInvalidFileType","dictResponseError","statusCode","dictCancelUpload","dictCancelUploadConfirmation","dictRemoveFile","dictMaxFilesExceeded","uploaded","created","methods","generateUUID","dt","remove","uploadDone","file","uuid","computed","baseWrapperClass"],"sourceRoot":"src/components/base","sources":["BaseFileUploaderWithValidation.vue"],"sourcesContent":["<template>\r\n  <div :class=\"baseWrapperClass\">\r\n    <label class=\"base-form-component__label\" :style=\"!labelOnTop ? 'margin-bottom: 0rem' : ''\">{{ label }}</label>\r\n\r\n    <vue-dropzone\r\n        v-bind=\"$attrs\"\r\n        v-on=\"$listeners\"\r\n        :id=\"`base-dropzone-${label}`\"\r\n        ref=\"dropzone\"\r\n        class=\"base-form-component__main-form-element base-dropzone\"\r\n        :options=\"options\"\r\n        @vdropzone-file-added=\"uploadDone\"\r\n        @vdropzone-removed-file='remove'\r\n        :destroyDropzone=\"true\"\r\n    ></vue-dropzone>\r\n\r\n    <!-- INVALID FEEDBACK -->\r\n    <b-form-invalid-feedback\r\n        v-if=\"!hideErrorMsg\"\r\n        :style=\"{'display': 'block', 'margin-top': '.15rem'}\"\r\n        class=\"base-form-component__invalid-feedback\"\r\n    >\r\n      <!-- {{ validationContext.errors[0] }} -->\r\n    </b-form-invalid-feedback>\r\n    <!-- HELP TEXT -->\r\n    <b-form-text v-if=\"infoMsg\" class=\"base-form-component__info-msg\">\r\n      {{ infoMsg }}\r\n    </b-form-text>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\n\r\nexport default {\r\n  name: \"BaseFileUploaderWithValidation\",\r\n  components: {\r\n    vueDropzone: vue2Dropzone\r\n  },\r\n  props: {\r\n    labelOnTop: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    wrapperClasses: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    hideErrorMsg: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    infoMsg: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    label: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    maxFiles: {\r\n      default: 5,\r\n    },\r\n    maxFilesize: {\r\n      default: 10,\r\n    },\r\n    mimes: {\r\n      default: null,\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      options: {\r\n        url: process.env.BASE_URL,\r\n        maxFiles: 5,\r\n        maxFilesize: 10,\r\n        acceptedFiles: null,\r\n        addRemoveLinks: true,\r\n        autoProcessQueue: false,\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n        },\r\n        dictDefaultMessage: this.$t('dropzone.defaultMessage'),\r\n        dictFallbackMessage: this.$t('dropzone.fallbackMessage'),\r\n        dictFallbackText: this.$t('dropzone.fallbackText'),\r\n        dictFileTooBig: this.$t('dropzone.fileTooBig', {\r\n          filesize: '{filesize}',\r\n          maxFilesize: '{maxFilesize}'\r\n        }),\r\n        dictInvalidFileType: this.$t('dropzone.invalidFileType'),\r\n        dictResponseError: this.$t('dropzone.responseError', { statusCode: '{statusCode}' }),\r\n        dictCancelUpload: this.$t('×'),\r\n        dictCancelUploadConfirmation: this.$t('dropzone.cancelUploadConfirmation'),\r\n        dictRemoveFile: this.$t('×'),\r\n        dictMaxFilesExceeded: this.$t('dropzone.maxFilesExceeded'),\r\n      },\r\n      uploaded: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.options.maxFiles = this.maxFiles;\r\n    this.options.maxFilesize = this.maxFilesize;\r\n    this.options.acceptedFiles = this.mimes;\r\n  },\r\n  methods: {\r\n    generateUUID() {\r\n      let dt = new Date().getTime();\r\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        const r = (dt + Math.random() * 16) % 16 | 0;\r\n        dt = Math.floor(dt / 16);\r\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n      });\r\n    },\r\n    remove(file) {\r\n      this.uploaded = this.uploaded.filter(f => f.uuid !== (file.upload && file.upload.uuid ? file.upload.uuid : file.uuid))\r\n      this.$emit('input', this.uploaded)\r\n    },\r\n    uploadDone(file) {\r\n      this.uploaded.push(\r\n          {\r\n            file: file,\r\n            uuid: file.upload && file.upload.uuid ? file.upload.uuid : file.uuid,\r\n            name: file.name\r\n          }\r\n      )\r\n      this.$emit('input', this.uploaded);\r\n    }\r\n  },\r\n  computed: {\r\n    baseWrapperClass(){\r\n      return this.wrapperClasses + (this.labelOnTop ? '' : ' base-input-wrapper base-form-input base-form-component')\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n::v-deep.base-dropzone .dz-preview .dz-progress {\r\n  display: none;\r\n}\r\n</style>"]}]}