{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\ViewInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\integration\\modules\\e-auction-info\\ViewInfo.vue","mtime":1675054786264},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IGVBdWN0aW9uU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9pbnRlZ3JhdGlvbi9lQXVjdGlvblNlcnZpY2Uuc2VydmljZSc7CmltcG9ydCBMIGZyb20gImxlYWZsZXQiOwppbXBvcnQgeyBMTWFwLCBMTWFya2VyIH0gZnJvbSAidnVlMi1sZWFmbGV0IjsKaW1wb3J0IE1hcmtlckljb24gZnJvbSAibGVhZmxldC9kaXN0L2ltYWdlcy9tYXJrZXItaWNvbi5wbmciOwppbXBvcnQgImxlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaW5mbzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTE1hcDogTE1hcCwKICAgIExNYXJrZXI6IExNYXJrZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaWdodGJveDogZmFsc2UsCiAgICAgIG1hcDogewogICAgICAgIG9iamVjdDogbnVsbCwKICAgICAgICB6b29tOiB0aGlzLm1hcmtlckxhdExvbmcgPyA1IDogMTQsCiAgICAgICAgdmlldzogdGhpcy5tYXJrZXJMYXRMb25nIHx8IFs0MS41LCA2NC41XSwKICAgICAgICBtYXhab29tOiA1MCwKICAgICAgICBtaW5ab29tOiA1LAogICAgICAgIG1heEJvdW5kczogW1szNywgNTddLCBbNDcsIDgwXV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIG1hcE9iamVjdDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaEFkZGl0aW9uYWxJbmZvKCk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmRhdGEpOwogICAgICAgICAgICBtYXBPYmplY3QgPSBfdGhpcy4kcmVmcy5tYXAubWFwT2JqZWN0OwogICAgICAgICAgICBfdGhpcy5tYXAub2JqZWN0ID0gbWFwT2JqZWN0OwogICAgICAgICAgICBMLnRpbGVMYXllcignaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLCB7CiAgICAgICAgICAgICAgbWF4Wm9vbTogX3RoaXMubWFwLm1heFpvb20sCiAgICAgICAgICAgICAgbWluWm9vbTogX3RoaXMubWFwLm1pblpvb20KICAgICAgICAgICAgfSkuYWRkVG8oX3RoaXMubWFwLm9iamVjdCk7CiAgICAgICAgICAgIF90aGlzLm1hcC5vYmplY3Quc2V0TWF4Qm91bmRzKF90aGlzLm1hcC5tYXhCb3VuZHMpOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy5tYXAudmlldyA9IF90aGlzLm1hcmtlckxhdExvbmc7CiAgICAgICAgICAgICAgX3RoaXMubWFwLm9iamVjdC5zZXRWaWV3KF90aGlzLm1hcC52aWV3LCBfdGhpcy5tYXAuem9vbSk7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEFkZGl0aW9uYWxJbmZvOiBmdW5jdGlvbiBmZXRjaEFkZGl0aW9uYWxJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmIChfdGhpczIuZGF0YSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZUF1Y3Rpb25TZXJ2aWNlLmdldEFkZGl0aW9uYWxJbmZvKF90aGlzMi5pbmZvLmlkLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMi5kYXRhID0gZGF0YTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF90aGlzMi5pbmZvID0gX3RoaXMyLmRhdGE7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNob3dMaWdodEJveDogZnVuY3Rpb24gc2hvd0xpZ2h0Qm94KCkgewogICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7CiAgICAgIHRoaXMubGlnaHRib3ggPSBpbmRleDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbWFnZXNMaXN0OiBmdW5jdGlvbiBpbWFnZXNMaXN0KCkgewogICAgICB2YXIgX3RoaXMkZGF0YSRpbWFnZXMkbWFwLCBfdGhpcyRkYXRhJGltYWdlczsKICAgICAgcmV0dXJuIChfdGhpcyRkYXRhJGltYWdlcyRtYXAgPSAoX3RoaXMkZGF0YSRpbWFnZXMgPSB0aGlzLmRhdGEuaW1hZ2VzKSA9PT0gbnVsbCB8fCBfdGhpcyRkYXRhJGltYWdlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YSRpbWFnZXMubWFwKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciB1cmwgPSBfcmVmMi51cmw7CiAgICAgICAgcmV0dXJuICcvJyArIHVybDsKICAgICAgfSkpICE9PSBudWxsICYmIF90aGlzJGRhdGEkaW1hZ2VzJG1hcCAhPT0gdm9pZCAwID8gX3RoaXMkZGF0YSRpbWFnZXMkbWFwIDogW107CiAgICB9LAogICAgbWFya2VyTGF0TG9uZzogZnVuY3Rpb24gbWFya2VyTGF0TG9uZygpIHsKICAgICAgaWYgKHRoaXMuaW5mby5sYXQgJiYgdGhpcy5pbmZvLmxuZykgewogICAgICAgIHJldHVybiBMLmxhdExuZyh0aGlzLmluZm8ubGF0LCB0aGlzLmluZm8ubG5nKTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBteUdyZWVuQ3VzdG9tTWFya2VyOiBmdW5jdGlvbiBteUdyZWVuQ3VzdG9tTWFya2VyKCkgewogICAgICByZXR1cm4gTC5pY29uKHsKICAgICAgICBpY29uVXJsOiBNYXJrZXJJY29uLAogICAgICAgIGljb25BbmNob3I6IG5ldyBMLlBvaW50KDEyLjUsIDQwKSwKICAgICAgICBpY29uU2l6ZTogbmV3IEwuUG9pbnQoMjUsIDQxKQogICAgICB9KTsKICAgIH0KICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgdGhpcy5kYXRhID0ge307CiAgICB0aGlzLmxpZ2h0Ym94ID0gZmFsc2U7CiAgfQp9Ow=="},{"version":3,"mappings":";;;AAyFA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAC;IACAC;EACA;EACAH;IACA;MACAI;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACA;UAAA;YACAC;YACAC;YACA;YACAC;cACAN;cACAC;YACA;YACA;YACAM;cACA;cACA;YACA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA,IACA;gBAAA;gBAAA;cAAA;cAAA;cAAA,OACAC,wDACAC;gBAAA;gBACA;cACA;YAAA;cAAA;cAAA;YAAA;cAEA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MAAA;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QAAA;QAAA;MAAA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;AACA","names":["props","info","type","default","data","components","LMap","LMarker","lightbox","map","object","zoom","view","maxZoom","minZoom","maxBounds","created","console","mapObject","L","setTimeout","methods","fetchAdditionalInfo","eAuctionService","then","showLightBox","computed","imagesList","markerLatLong","myGreenCustomMarker","iconUrl","iconAnchor","iconSize","destroyed"],"sourceRoot":"src/modules/integration/modules/e-auction-info","sources":["ViewInfo.vue"],"sourcesContent":["<template>\r\n  <b-row class=\"p-3\">\r\n    <b-col sm=\"7\">\r\n      <b-card>\r\n        <b-table-simple striped hover bordered>\r\n          <b-tbody>\r\n            <b-tr v-for=\"(detail, index) in data.details\" :key=\"index\">\r\n              <b-td>{{ index + 1 }}</b-td>\r\n              <b-td>{{ detail.key }}</b-td>\r\n              <b-td>{{ detail.value }} {{ detail.unit ? detail.unit : '' }}</b-td>\r\n            </b-tr>\r\n          </b-tbody>\r\n        </b-table-simple>\r\n      </b-card>\r\n    </b-col>\r\n    <b-col sm=\"5\">\r\n      <b-card>\r\n        <b-col cols=\"12\">\r\n          <l-map ref=\"map\" class=\"height-300\">\r\n            <l-marker\r\n                v-if=\"markerLatLong\"\r\n                :lat-lng=\"markerLatLong\"\r\n                :icon=\"myGreenCustomMarker\"\r\n            />\r\n          </l-map>\r\n        </b-col>\r\n      </b-card>\r\n      <b-card>\r\n        <b-row>\r\n          <b-col cols=\"6\">\r\n            <b-carousel\r\n                controls\r\n                indicators\r\n                class=\"rounded-lg shadow-lg\"\r\n                @sliding-start=\"() => true\"\r\n                @sliding-end=\"() => true\"\r\n            >\r\n              <b-carousel-slide\r\n                  v-for=\"({name, url}, imageKey) in data.images\"\r\n                  class=\"max-height-400\"\r\n                  :key=\"imageKey\"\r\n                  :img-src=\"url\"\r\n              >\r\n                <template v-slot:img>\r\n                  <img\r\n                      class=\"cursor-pointer img-fluid w-100 d-block\"\r\n                      :src=\"'/' + url\"\r\n                      :alt=\"name\"\r\n                      loading=\"lazy\"\r\n                      v-b-popover.hover.bottom\r\n                      :title=\"name\"\r\n                      @click=\"showLightBox(imageKey)\"\r\n                  />\r\n                </template>\r\n              </b-carousel-slide>\r\n            </b-carousel>\r\n            <vue-easy-lightbox\r\n                v-if=\"this.lightbox\"\r\n                :visible=\"this.lightbox\"\r\n                :imgs=\"imagesList\"\r\n                :index=\"this.lightbox\"\r\n                @hide=\"showLightBox()\"\r\n            />\r\n          </b-col>\r\n          <b-col cols=\"6\">\r\n            <template v-for=\"({url, name, extension}, dk) in data.documents\">\r\n              <a\r\n                  v-b-popover.hover.bottom\r\n                  :title=\"name\"\r\n                  :href=\"'/' + url\"\r\n                  :download=\"name+'.' + extension\"\r\n                  :key=\"dk\"\r\n                  target=\"_blank\"\r\n                  class=\"btn btn-outline-secondary box-60px\"\r\n              >\r\n                {{ extension.toUpperCase() }}\r\n                <br>\r\n                <i class=\"mdi mdi-download mdi-18px\"/>\r\n              </a>\r\n            </template>\r\n          </b-col>\r\n        </b-row>\r\n      </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n\r\nimport eAuctionService from '@/shared/services/integration/eAuctionService.service'\r\nimport L from \"leaflet\";\r\nimport { LMap, LMarker } from \"vue2-leaflet\";\r\nimport MarkerIcon from \"leaflet/dist/images/marker-icon.png\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default {\r\n  props: {\r\n    info: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    data: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n  },\r\n  components: {\r\n    LMap,\r\n    LMarker,\r\n  },\r\n  data() {\r\n    return {\r\n      lightbox: false,\r\n      map: {\r\n        object: null,\r\n        zoom: this.markerLatLong ? 5 : 14,\r\n        view: this.markerLatLong || [41.5, 64.5],\r\n        maxZoom: 50,\r\n        minZoom: 5,\r\n        maxBounds: [[37, 57], [47, 80]],\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await this.fetchAdditionalInfo();\r\n    console.log(this.data)\r\n    const { mapObject } = this.$refs.map;\r\n    this.map.object = mapObject;\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      maxZoom: this.map.maxZoom,\r\n      minZoom: this.map.minZoom,\r\n    }).addTo(this.map.object);\r\n    this.map.object.setMaxBounds(this.map.maxBounds);\r\n    setTimeout(() => {\r\n      this.map.view = this.markerLatLong;\r\n      this.map.object.setView(this.map.view, this.map.zoom);\r\n    }, 1000)\r\n  },\r\n  methods: {\r\n    async fetchAdditionalInfo() {\r\n      if (!this.data) {\r\n        await eAuctionService.getAdditionalInfo(this.info.id, true)\r\n            .then(({ data }) => {\r\n              this.data = data\r\n            })\r\n      } else {\r\n        this.info = this.data;\r\n      }\r\n    },\r\n    showLightBox(index = null) {\r\n      this.lightbox = index\r\n    }\r\n  },\r\n  computed: {\r\n    imagesList() {\r\n      return this.data.images?.map(({ url }) => '/' + url) ?? [];\r\n    },\r\n    markerLatLong() {\r\n      if (this.info.lat && this.info.lng) {\r\n        return L.latLng(this.info.lat, this.info.lng);\r\n      }\r\n      return null;\r\n    },\r\n    myGreenCustomMarker() {\r\n      return L.icon({\r\n        iconUrl: MarkerIcon,\r\n        iconAnchor: new L.Point(12.5, 40),\r\n        iconSize: new L.Point(25, 41),\r\n      });\r\n    }\r\n  },\r\n  destroyed(){\r\n    this.data = {}\r\n    this.lightbox = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.max-height-400 {\r\n  max-height: 400px;\r\n}\r\n\r\n.height-300 {\r\n  height: 300px;\r\n}\r\n\r\n.box-60px {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: .3em;\r\n  padding: .3em;\r\n}\r\n</style>"]}]}