{"remainingRequest":"D:\\ACRU\\my-fairtech\\node_modules\\babel-loader\\lib\\index.js!D:\\ACRU\\my-fairtech\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ACRU\\my-fairtech\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ACRU\\my-fairtech\\src\\shared\\views\\components\\commission\\document\\FromToEmployees.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\ACRU\\my-fairtech\\src\\shared\\views\\components\\commission\\document\\FromToEmployees.vue","mtime":1719222285909},{"path":"D:\\ACRU\\my-fairtech\\babel.config.js","mtime":1719222278287},{"path":"D:\\ACRU\\my-fairtech\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719222280288},{"path":"D:\\ACRU\\my-fairtech\\node_modules\\babel-loader\\lib\\index.js","mtime":1719222279696},{"path":"D:\\ACRU\\my-fairtech\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719222280288},{"path":"D:\\ACRU\\my-fairtech\\node_modules\\vue-loader\\lib\\index.js","mtime":1719222284893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovQUNSVS9teS1mYWlydGVjaC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L0FDUlUvbXktZmFpcnRlY2gvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8qDQoqIFlPVSBNVVNUIFNFTkQge3sgTUFJTl9BUElfVVJMIH19IFRPIENSVURfU0VSVklDRSAqLwppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Zyb21Ub0VtcGxveWVlcycsCiAgLyogDQogIERBVEEgKi8KICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFpbGluZ1B1cnBvc2VNb2RhbDogZmFsc2UsCiAgICAgIG1haWxpbmdQdXJwb3NlczogW10sCiAgICAgIHByb2Nlc3NNb2RhbDogZmFsc2UsCiAgICAgIHByb2Nlc3NlczogW10sCiAgICAgIGVtcGxveWVlczogW10sCiAgICAgIGFzc2lnbm1lbnQ6IFt7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgZW1wbG95ZWVJZDogbnVsbCwKICAgICAgICB0b0VtcGxveWVlczogW3t9XQogICAgICB9XSwKICAgICAgZmlsdGVyZWRGcm9tRW1wbG95ZWVzOiBbXQogICAgfTsKICB9LAogIC8qIA0KICBNRVRIT0RTICovCiAgbWV0aG9kczogewogICAgaXNQcm9qZWN0T3duZXJDaGFuZ2VkOiBmdW5jdGlvbiBpc1Byb2plY3RPd25lckNoYW5nZWQoZSwgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHRvSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgICAgIHRoaXMuYXNzaWdubWVudCA9IHRoaXMuYXNzaWdubWVudC5tYXAoZnVuY3Rpb24gKGEsIGkpIHsKICAgICAgICBfdGhpcy4kc2V0KGEsICd0b0VtcGxveWVlcycsIGEudG9FbXBsb3llZXMubWFwKGZ1bmN0aW9uIChlbXAsIGlkeCkgewogICAgICAgICAgaWYgKGluZGV4ID09IGkgJiYgdG9JbmRleCA9PSBpZHgpIHsKICAgICAgICAgICAgX3RoaXMuJHNldChlbXAsICdpc1Byb2plY3RPd25lcicsIGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuJHNldChlbXAsICdpc1Byb2plY3RPd25lcicsIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBlbXA7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBhOwogICAgICB9KTsKICAgIH0sCiAgICBlbXBsb3llZVNlbGVjdGVkOiBmdW5jdGlvbiBlbXBsb3llZVNlbGVjdGVkKCkgewogICAgICAvLyB0aGlzLiRlbWl0KCdlbXBsb3llZVNlbGVjdGVkJykKICAgIH0sCiAgICBhZGRNZW1iZXJFbXBsb3llZTogZnVuY3Rpb24gYWRkTWVtYmVyRW1wbG95ZWUobWVtYmVySW5kZXgpIHsKICAgICAgdGhpcy5hc3NpZ25tZW50W21lbWJlckluZGV4XS50b0VtcGxveWVlcy5wdXNoKHt9KTsKICAgIH0sCiAgICBhZGRNZW1iZXI6IGZ1bmN0aW9uIGFkZE1lbWJlcigpIHsKICAgICAgdGhpcy5hc3NpZ25tZW50LnB1c2goewogICAgICAgIGlkOiB0aGlzLmFzc2lnbm1lbnQubGVuZ3RoICsgMSwKICAgICAgICBlbXBsb3llZUlkOiBudWxsLAogICAgICAgIHRvRW1wbG95ZWVzOiBbe31dCiAgICAgIH0pOwogICAgICB0aGlzLmlzUHJvamVjdE93bmVyQ2hhbmdlZChmYWxzZSk7CiAgICB9LAogICAgZGVsZXRlTWVtYmVyOiBmdW5jdGlvbiBkZWxldGVNZW1iZXIoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ICE9PSAwKSB7CiAgICAgICAgdGhpcy5hc3NpZ25tZW50LnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBjdXN0b21MYWJlbE1haWxpbmdQdXJwb3NlOiBmdW5jdGlvbiBjdXN0b21MYWJlbE1haWxpbmdQdXJwb3NlKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLm1haWxpbmdQdXJwb3Nlcy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbFByb2Nlc3M6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsUHJvY2VzcyhvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5wcm9jZXNzZXMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IG9wdDsKICAgICAgfSk7CiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLm5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgY3VzdG9tTGFiZWxFbXBsb3llZXM6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsRW1wbG95ZWVzKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLmVtcGxveWVlcy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0LmlkOwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChzZWxlY3RlZC5lbXBsb3llZUZ1bGxOYW1lLCAiICgiKS5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQuZGVwYXJ0bWVudFBhcmVudE5hbWVVeiwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQuZGVwYXJ0bWVudFBhcmVudE5hbWVMdCwKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQuZGVwYXJ0bWVudFBhcmVudE5hbWVSdQogICAgICAgIH0pLCAiKSIpOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0KICB9LAogIC8qIA0KICBXQVRDSCAqLwogIHdhdGNoOiB7CiAgICBhc3NpZ25tZW50OiB7CiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgICB0aGlzLiRlbWl0KCdhc3NpZ25tZW50Q2hhbmdlZCcpOwogICAgICAgIHRoaXMuZmlsdGVyZWRGcm9tRW1wbG95ZWVzID0gW107CiAgICAgICAgbmV3VmFsLmZvckVhY2goZnVuY3Rpb24gKG1lbWJlcikgewogICAgICAgICAgaWYgKG1lbWJlci50b0VtcGxveWVlcyAmJiBtZW1iZXIudG9FbXBsb3llZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIG1lbWJlci50b0VtcGxveWVlcy5mb3JFYWNoKGZ1bmN0aW9uICh0b0VtcCkgewogICAgICAgICAgICAgIGlmICh0b0VtcC50b0VtcGxveWVlKSB7CiAgICAgICAgICAgICAgICB2YXIgZm91bmRJZHggPSBfdGhpczIuZmlsdGVyZWRGcm9tRW1wbG95ZWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmVtcGxveWVlSWQgPT0gdG9FbXAudG9FbXBsb3llZS5lbXBsb3llZUlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoZm91bmRJZHggPCAwICYmIHRvRW1wLnRvRW1wbG95ZWUuZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICB2YXIgaW5kZXhJbkFzc2lnbm1lbnQgPSBuZXdWYWwuZmluZEluZGV4KGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZnJvbUVtcGxveWVlICYmIG8uZnJvbUVtcGxveWVlLmVtcGxveWVlSWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLmZyb21FbXBsb3llZS5lbXBsb3llZUlkID09IHRvRW1wLnRvRW1wbG95ZWUuZW1wbG95ZWVJZDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGlmIChpbmRleEluQXNzaWdubWVudCA8IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZmlsdGVyZWRGcm9tRW1wbG95ZWVzLnB1c2godG9FbXAudG9FbXBsb3llZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeEluRnJvbUVtcHMgPSBfdGhpczIuZmlsdGVyZWRGcm9tRW1wbG95ZWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZkVtcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZFbXAuZW1wbG95ZWVJZCA9PSB0b0VtcC50b0VtcGxveWVlLmVtcGxveWVlSWQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlkeEluRnJvbUVtcHMgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmZpbHRlcmVkRnJvbUVtcGxveWVlcy5zcGxpY2UoaWR4SW5Gcm9tRW1wcywgMSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvdW5kSWR4ID4gLTEpIHsKICAgICAgICAgICAgICAgICAgLyogbGV0IGluZGV4SW5Bc3NpZ25tZW50ID0gbmV3VmFsLmZpbmRJbmRleChvID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICBpZiAoby5mcm9tRW1wbG95ZWUgJiYgby5mcm9tRW1wbG95ZWUuZW1wbG95ZWVJZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5mcm9tRW1wbG95ZWUuZW1wbG95ZWVJZCA9PSB0b0VtcC50b0VtcGxveWVlLmVtcGxveWVlSWQNCiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgaWYgKGluZGV4SW5Bc3NpZ25tZW50ID4gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcmVkRnJvbUVtcGxveWVlcy5zcGxpY2UoZm91bmRJZHgsIDEpDQogICAgICAgICAgICAgICAgICB9ICovCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgLyogDQogIENSRUFURUQgKi8KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfdGhpczMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gNTAwOwogICAgICAgICAgICAvLyBGRVRDSCBVU0VSUyBXSVRIIEVNUExPWUVFUwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdFdpdGhLZXl3b3JkKCd1c2VyJywgX3RoaXMzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLCAnaW5uZXInLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczMuZW1wbG95ZWVzID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0KCdiZWZvcmUtY29tbWlzc2lvbi9kaXJlY3RvcnkvbWFpbGluZy1wdXJwb3NlJywgX3RoaXMzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLCBudWxsLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczMubWFpbGluZ1B1cnBvc2VzID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"names":["crudAndListsService","name","data","mailingPurposeModal","mailingPurposes","processModal","processes","employees","assignment","id","employeeId","toEmployees","filteredFromEmployees","methods","isProjectOwnerChanged","e","index","_this","toIndex","arguments","length","undefined","map","a","i","$set","emp","idx","employeeSelected","addMemberEmployee","memberIndex","push","addMember","deleteMember","splice","customLabelMailingPurpose","opt","selected","find","concat","getName","nameRu","nameLt","nameUz","customLabelProcess","customLabelEmployees","employeeFullName","departmentParentNameUz","departmentParentNameLt","departmentParentNameRu","watch","deep","handler","newVal","oldVal","_this2","$emit","forEach","member","toEmp","toEmployee","foundIdx","findIndex","el","indexInAssignment","o","fromEmployee","idxInFromEmps","fEmp","created","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","var_default_search_payload","itemsPerPage","searchListWithKeyword","then","res","list","catch","console","log","searchList","stop"],"sources":["src/shared/views/components/commission/document/FromToEmployees.vue"],"sourcesContent":["<template>\r\n    <!-- FROM_TO_EMPLOYEES -->\r\n    <b-row class=\"mb-3\">\r\n        <b-col cols=\"12\">\r\n            <h5 class=\"m-0 text-center\">\r\n                {{ $t('submodules.employees.see_doc_chronology') }}\r\n            </h5>\r\n            <hr class=\"my-2\">\r\n        </b-col>\r\n\r\n        <b-col\r\n            v-for=\"(member, index) in assignment\"\r\n            :key=\"`from-to-employees-${index}`\"\r\n            cols=\"12\"\r\n        >\r\n            <b-row class=\"mb-3\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"4\"\r\n                >\r\n                    <BaseDatePickerWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"member.dateOfCreated\"\r\n                        disable-after\r\n                        :label=\"$t('column.send_date')\"\r\n                        label-on-top\r\n                        custom-styles=\"grid-template-columns: 0 100% 0 !important;\"\r\n                        lang=\"ru\"\r\n                    ></BaseDatePickerWithValidation>\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        v-model=\"member.fromEmployee\"\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        :options=\"index == 0 ? employees : filteredFromEmployees\"\r\n                        :label=\"$t('column.from_whom')\"\r\n                        label-on-top\r\n                        @select=\"employeeSelected\"\r\n                        :custom-label=\"customLabelEmployees\"\r\n                        :placeholder=\"''\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    >\r\n                        <template\r\n                            slot=\"singleLabel\"\r\n                            slot-scope=\"props\"\r\n                        >\r\n                            <span class=\"option__desc\"><span class=\"option__title\"><strong>{{ props.option.employeeFullName }}</strong></span></span> <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentParentNameUz, nameLt: props.option.departmentParentNameLt, nameRu: props.option.departmentParentNameRu}) }}</span></span> / <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentNameUz, nameLt: props.option.departmentNameLt, nameRu: props.option.departmentNameRu}) }}</span></span>\r\n                            <div><span class=\"option__small\"><i>{{ getName({ nameUz: props.option.positionNameUz, nameLt: props.option.positionNameLt, nameRu: props.option.positionNameRu }) }}</i></span></div>\r\n                        </template>\r\n                        <template\r\n                            slot=\"option\"\r\n                            slot-scope=\"props\"\r\n                        >\r\n                            <span class=\"option__desc\"><span class=\"option__title\"><strong>{{ props.option.employeeFullName }}</strong></span></span> <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentParentNameUz, nameLt: props.option.departmentParentNameLt, nameRu: props.option.departmentParentNameRu}) }}</span></span> / <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentNameUz, nameLt: props.option.departmentNameLt, nameRu: props.option.departmentNameRu}) }}</span></span>\r\n                            <div><span class=\"option__small\"><i>{{ getName({ nameUz: props.option.positionNameUz, nameLt: props.option.positionNameLt, nameRu: props.option.positionNameRu }) }}</i></span></div>\r\n                        </template>\r\n                    </BaseMultiselectWithValidation>\r\n                </b-col>\r\n                <!-- <b-col\r\n                    sm=\"12\"\r\n                    md=\"2\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"member.processId\"\r\n                        :options=\"processes.map(e => e.id)\"\r\n                        :label=\"$t('submodules.process.title')\"\r\n                        label-on-top\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelProcess\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    >\r\n                    </BaseMultiselectWithValidation>\r\n                </b-col> -->\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"2\"\r\n                    class=\"d-flex align-items-end justify-content-end\"\r\n                >\r\n                    <b-btn\r\n                        v-if=\"index == assignment.length - 1\"\r\n                        variant=\"success\"\r\n                        class=\"mr-2\"\r\n                        size=\"sm\"\r\n                        @click=\"addMember\"\r\n                    ><i class=\"mdi mdi-plus\"></i></b-btn>\r\n                    <b-btn\r\n                        v-if=\"assignment.length > 1 && index != 0\"\r\n                        variant=\"danger\"\r\n                        size=\"sm\"\r\n                        @click=\"assignment.splice(index, 1)\"\r\n                    ><i class=\"mdi mdi-trash-can\"></i></b-btn>\r\n                </b-col>\r\n            </b-row>\r\n            <b-row\r\n                v-for=\"(toMember, toIndex) in member.toEmployees\"\r\n                :key=\"`${toIndex}-toEmployee`\"\r\n            >\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"4\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        v-model=\"toMember.toEmployee\"\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        :options=\"employees\"\r\n                        :label=\"$t('column.to_whom')\"\r\n                        label-on-top\r\n                        @select=\"employeeSelected\"\r\n                        :custom-label=\"customLabelEmployees\"\r\n                        :placeholder=\"''\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    >\r\n                        <template\r\n                            slot=\"singleLabel\"\r\n                            slot-scope=\"props\"\r\n                        >\r\n                            <span class=\"option__desc\"><span class=\"option__title\"><strong>{{ props.option.employeeFullName }}</strong></span></span> <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentParentNameUz, nameLt: props.option.departmentParentNameLt, nameRu: props.option.departmentParentNameRu}) }}</span></span> / <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentNameUz, nameLt: props.option.departmentNameLt, nameRu: props.option.departmentNameRu}) }}</span></span>\r\n                            <div><span class=\"option__small\"><i>{{ getName({ nameUz: props.option.positionNameUz, nameLt: props.option.positionNameLt, nameRu: props.option.positionNameRu }) }}</i></span></div>\r\n                        </template>\r\n                        <template\r\n                            slot=\"option\"\r\n                            slot-scope=\"props\"\r\n                        >\r\n                            <span class=\"option__desc\"><span class=\"option__title\"><strong>{{ props.option.employeeFullName }}</strong></span></span> <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentParentNameUz, nameLt: props.option.departmentParentNameLt, nameRu: props.option.departmentParentNameRu}) }}</span></span> / <br>\r\n                            <span class=\"option__desc\"><span class=\"option__title\">{{ getName({nameUz: props.option.departmentNameUz, nameLt: props.option.departmentNameLt, nameRu: props.option.departmentNameRu}) }}</span></span>\r\n                            <div><span class=\"option__small\"><i>{{ getName({ nameUz: props.option.positionNameUz, nameLt: props.option.positionNameLt, nameRu: props.option.positionNameRu }) }}</i></span></div>\r\n                        </template>\r\n                    </BaseMultiselectWithValidation>\r\n                </b-col>\r\n\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"3\"\r\n                >\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"toMember.mailingPurposeId\"\r\n                        :options=\"mailingPurposes.map(e => e.id)\"\r\n                        :label=\"$t('submodules.mailing_purpose.title')\"\r\n                        label-on-top\r\n                        placeholder=\"\"\r\n                        :custom-label=\"customLabelMailingPurpose\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    >\r\n                        <!-- <template v-slot:append-slot>\r\n                                        <b-button\r\n                                            @click=\"mailingPurposeModal = true\"\r\n                                            variant=\"outline-primary\"\r\n                                            style=\"padding: 2.5px 10px; font-size: 1.2rem;\"\r\n                                        >\r\n                                            <i class=\"mdi mdi-plus-circle\"></i>\r\n                                        </b-button>\r\n                                    </template> -->\r\n                    </BaseMultiselectWithValidation>\r\n                    <!-- <BaseModalForCreate\r\n                                    v-model=\"mailingPurposeModal\"\r\n                                    mainApiUrl=\"before-commission/directory/mailing-purpose\"\r\n                                    createFormName=\"CreateFormMailingPurpose\"\r\n                                    @new-ref-created=\"newRefCreated\"\r\n                                /> -->\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"5\"\r\n                >\r\n                    <b-row class=\"align-items-end h-100\">\r\n                        <b-col\r\n                            v-if=\"index == assignment.length - 1\"\r\n                            sm=\"12\"\r\n                            md=\"7\"\r\n                        >\r\n                            <b-form-checkbox\r\n                                :id=\"`isProjectOwner-${toIndex}`\"\r\n                                v-model=\"toMember.isProjectOwner\"\r\n                                @change=\"isProjectOwnerChanged($event, index, toIndex)\"\r\n                                name=\"project-owner-checkbox\"\r\n                            >\r\n                                <strong>{{ $t('column.is_project_owner') }}</strong> <span style=\"color: red;\"> *</span>\r\n                            </b-form-checkbox>\r\n                        </b-col>\r\n                        <b-col\r\n                            sm=\"12\"\r\n                            md=\"5\"\r\n                        >\r\n                            <b-btn\r\n                                v-if=\"toIndex == member.toEmployees.length - 1 && index != 0\"\r\n                                variant=\"success\"\r\n                                class=\"mr-2\"\r\n                                size=\"sm\"\r\n                                @click=\"addMemberEmployee(index)\"\r\n                            ><i class=\"mdi mdi-plus\"></i></b-btn>\r\n                            <b-btn\r\n                                v-if=\"member.toEmployees.length > 1 && index !== 0\"\r\n                                variant=\"danger\"\r\n                                size=\"sm\"\r\n                                @click=\"member.toEmployees.splice(toIndex, 1)\"\r\n                            ><i class=\"mdi mdi-trash-can\"></i></b-btn>\r\n                        </b-col>\r\n                    </b-row>\r\n                </b-col>\r\n            </b-row>\r\n            <hr class=\"my-2\">\r\n        </b-col>\r\n    </b-row>\r\n    <!-- END OF FROM_TO_EMPLOYEES FORM -->\r\n</template>\r\n\r\n<script>\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nexport default {\r\n    name: 'FromToEmployees',\r\n    /* \r\n    DATA */\r\n    data () {\r\n        return {\r\n            mailingPurposeModal: false,\r\n            mailingPurposes: [],\r\n            processModal: false,\r\n            processes: [],\r\n            employees: [],\r\n            assignment: [{ id: null, employeeId: null, toEmployees: [{}] }],\r\n            filteredFromEmployees: []\r\n        }\r\n    },\r\n    /* \r\n    METHODS */\r\n    methods: {\r\n        isProjectOwnerChanged (e, index, toIndex = null) {\r\n            this.assignment = this.assignment.map((a, i) => {\r\n                this.$set(a, 'toEmployees', a.toEmployees.map((emp, idx) => {\r\n                    if (index == i && toIndex == idx) {\r\n                        this.$set(emp, 'isProjectOwner', e)\r\n                    } else {\r\n                        this.$set(emp, 'isProjectOwner', false)\r\n                    }\r\n                    return emp\r\n                })) \r\n                return a\r\n            })\r\n        },\r\n        employeeSelected () {\r\n            // this.$emit('employeeSelected')\r\n        },\r\n        addMemberEmployee (memberIndex) {\r\n            this.assignment[memberIndex].toEmployees.push({})\r\n        },\r\n        addMember () {\r\n            this.assignment.push({ id: this.assignment.length + 1, employeeId: null, toEmployees: [{}] })\r\n            this.isProjectOwnerChanged(false)\r\n        },\r\n        deleteMember (index) {\r\n            if (index !== 0) {\r\n                this.assignment.splice(index, 1)\r\n            }\r\n        },\r\n        customLabelMailingPurpose (opt) {\r\n            let selected = this.mailingPurposes.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelProcess (opt) {\r\n            let selected = this.processes.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelEmployees (opt) {\r\n            let selected = this.employees.find(e => e.id == opt.id);\r\n            if (selected) {\r\n                return `${selected.employeeFullName} (${this.getName({ nameUz: selected.departmentParentNameUz, nameLt: selected.departmentParentNameLt, nameRu: selected.departmentParentNameRu })})`\r\n            }\r\n            return ``;\r\n        },\r\n    },\r\n    /* \r\n    WATCH */\r\n    watch: {\r\n        assignment: {\r\n            deep: true,\r\n            handler (newVal, oldVal) {\r\n                this.$emit('assignmentChanged')\r\n                this.filteredFromEmployees = []\r\n                newVal.forEach(member => {\r\n                    if (member.toEmployees && member.toEmployees.length) {\r\n                        member.toEmployees.forEach(toEmp => {\r\n                            if (toEmp.toEmployee) {\r\n                                let foundIdx = this.filteredFromEmployees.findIndex(el => el.employeeId == toEmp.toEmployee.employeeId)\r\n                                if (foundIdx < 0 && toEmp.toEmployee.employeeId) {\r\n                                    let indexInAssignment = newVal.findIndex(o => {\r\n                                        if (o.fromEmployee && o.fromEmployee.employeeId) {\r\n                                            return o.fromEmployee.employeeId == toEmp.toEmployee.employeeId\r\n                                        } else {\r\n                                            return false\r\n                                        }\r\n                                    })\r\n                                    if (indexInAssignment < 0) {\r\n                                        this.filteredFromEmployees.push(toEmp.toEmployee)\r\n                                    } else {\r\n                                        let idxInFromEmps = this.filteredFromEmployees.findIndex(fEmp => fEmp.employeeId == toEmp.toEmployee.employeeId)\r\n                                        if (idxInFromEmps > -1) {\r\n                                            this.filteredFromEmployees.splice(idxInFromEmps, 1)\r\n                                        }\r\n                                    }\r\n                                } else if (foundIdx > -1) {\r\n                                    /* let indexInAssignment = newVal.findIndex(o => {\r\n                                        if (o.fromEmployee && o.fromEmployee.employeeId) {\r\n                                            return o.fromEmployee.employeeId == toEmp.toEmployee.employeeId\r\n                                        } else {\r\n                                            return false\r\n                                        }\r\n                                    })\r\n                                    if (indexInAssignment > -1) {\r\n                                        this.filteredFromEmployees.splice(foundIdx, 1)\r\n                                    } */\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    },\r\n    /* \r\n    CREATED */\r\n    async created () {\r\n        this.var_default_search_payload.itemsPerPage = 500\r\n        // FETCH USERS WITH EMPLOYEES\r\n        await crudAndListsService.searchListWithKeyword('user', this.var_default_search_payload, 'inner', true)\r\n            .then(res => {\r\n                this.employees = res.data.list\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        // FETCH MAILING_PURPOSE\r\n        await crudAndListsService.searchList('before-commission/directory/mailing-purpose', this.var_default_search_payload, null, true)\r\n            .then(res => {\r\n                this.mailingPurposes = res.data.list\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n    }\r\n}\r\n</script>"],"mappings":";;;;;;;;;;AAwOA;AACA;AACA,OAAAA,mBAAA;AACA;EACAC,IAAA;EACA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,mBAAA;MACAC,eAAA;MACAC,YAAA;MACAC,SAAA;MACAC,SAAA;MACAC,UAAA;QAAAC,EAAA;QAAAC,UAAA;QAAAC,WAAA;MAAA;MACAC,qBAAA;IACA;EACA;EACA;AACA;EACAC,OAAA;IACAC,qBAAA,WAAAA,sBAAAC,CAAA,EAAAC,KAAA;MAAA,IAAAC,KAAA;MAAA,IAAAC,OAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MACA,KAAAX,UAAA,QAAAA,UAAA,CAAAc,GAAA,WAAAC,CAAA,EAAAC,CAAA;QACAP,KAAA,CAAAQ,IAAA,CAAAF,CAAA,iBAAAA,CAAA,CAAAZ,WAAA,CAAAW,GAAA,WAAAI,GAAA,EAAAC,GAAA;UACA,IAAAX,KAAA,IAAAQ,CAAA,IAAAN,OAAA,IAAAS,GAAA;YACAV,KAAA,CAAAQ,IAAA,CAAAC,GAAA,oBAAAX,CAAA;UACA;YACAE,KAAA,CAAAQ,IAAA,CAAAC,GAAA;UACA;UACA,OAAAA,GAAA;QACA;QACA,OAAAH,CAAA;MACA;IACA;IACAK,gBAAA,WAAAA,iBAAA;MACA;IAAA,CACA;IACAC,iBAAA,WAAAA,kBAAAC,WAAA;MACA,KAAAtB,UAAA,CAAAsB,WAAA,EAAAnB,WAAA,CAAAoB,IAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAxB,UAAA,CAAAuB,IAAA;QAAAtB,EAAA,OAAAD,UAAA,CAAAY,MAAA;QAAAV,UAAA;QAAAC,WAAA;MAAA;MACA,KAAAG,qBAAA;IACA;IACAmB,YAAA,WAAAA,aAAAjB,KAAA;MACA,IAAAA,KAAA;QACA,KAAAR,UAAA,CAAA0B,MAAA,CAAAlB,KAAA;MACA;IACA;IACAmB,yBAAA,WAAAA,0BAAAC,GAAA;MACA,IAAAC,QAAA,QAAAjC,eAAA,CAAAkC,IAAA,WAAAvB,CAAA;QAAA,OAAAA,CAAA,CAAAN,EAAA,IAAA2B,GAAA;MAAA;MACA,IAAAC,QAAA;QACA,UAAAE,MAAA,MAAAC,OAAA;UACAC,MAAA,EAAAJ,QAAA,CAAAI,MAAA;UACAC,MAAA,EAAAL,QAAA,CAAAK,MAAA;UACAC,MAAA,EAAAN,QAAA,CAAAM;QACA;MAEA;MACA;IACA;IACAC,kBAAA,WAAAA,mBAAAR,GAAA;MACA,IAAAC,QAAA,QAAA/B,SAAA,CAAAgC,IAAA,WAAAvB,CAAA;QAAA,OAAAA,CAAA,CAAAN,EAAA,IAAA2B,GAAA;MAAA;MACA,IAAAC,QAAA;QACA,UAAAE,MAAA,MAAAC,OAAA;UACAC,MAAA,EAAAJ,QAAA,CAAAI,MAAA;UACAC,MAAA,EAAAL,QAAA,CAAAK,MAAA;UACAC,MAAA,EAAAN,QAAA,CAAAM;QACA;MAEA;MACA;IACA;IACAE,oBAAA,WAAAA,qBAAAT,GAAA;MACA,IAAAC,QAAA,QAAA9B,SAAA,CAAA+B,IAAA,WAAAvB,CAAA;QAAA,OAAAA,CAAA,CAAAN,EAAA,IAAA2B,GAAA,CAAA3B,EAAA;MAAA;MACA,IAAA4B,QAAA;QACA,UAAAE,MAAA,CAAAF,QAAA,CAAAS,gBAAA,QAAAP,MAAA,MAAAC,OAAA;UAAAG,MAAA,EAAAN,QAAA,CAAAU,sBAAA;UAAAL,MAAA,EAAAL,QAAA,CAAAW,sBAAA;UAAAP,MAAA,EAAAJ,QAAA,CAAAY;QAAA;MACA;MACA;IACA;EACA;EACA;AACA;EACAC,KAAA;IACA1C,UAAA;MACA2C,IAAA;MACAC,OAAA,WAAAA,QAAAC,MAAA,EAAAC,MAAA;QAAA,IAAAC,MAAA;QACA,KAAAC,KAAA;QACA,KAAA5C,qBAAA;QACAyC,MAAA,CAAAI,OAAA,WAAAC,MAAA;UACA,IAAAA,MAAA,CAAA/C,WAAA,IAAA+C,MAAA,CAAA/C,WAAA,CAAAS,MAAA;YACAsC,MAAA,CAAA/C,WAAA,CAAA8C,OAAA,WAAAE,KAAA;cACA,IAAAA,KAAA,CAAAC,UAAA;gBACA,IAAAC,QAAA,GAAAN,MAAA,CAAA3C,qBAAA,CAAAkD,SAAA,WAAAC,EAAA;kBAAA,OAAAA,EAAA,CAAArD,UAAA,IAAAiD,KAAA,CAAAC,UAAA,CAAAlD,UAAA;gBAAA;gBACA,IAAAmD,QAAA,QAAAF,KAAA,CAAAC,UAAA,CAAAlD,UAAA;kBACA,IAAAsD,iBAAA,GAAAX,MAAA,CAAAS,SAAA,WAAAG,CAAA;oBACA,IAAAA,CAAA,CAAAC,YAAA,IAAAD,CAAA,CAAAC,YAAA,CAAAxD,UAAA;sBACA,OAAAuD,CAAA,CAAAC,YAAA,CAAAxD,UAAA,IAAAiD,KAAA,CAAAC,UAAA,CAAAlD,UAAA;oBACA;sBACA;oBACA;kBACA;kBACA,IAAAsD,iBAAA;oBACAT,MAAA,CAAA3C,qBAAA,CAAAmB,IAAA,CAAA4B,KAAA,CAAAC,UAAA;kBACA;oBACA,IAAAO,aAAA,GAAAZ,MAAA,CAAA3C,qBAAA,CAAAkD,SAAA,WAAAM,IAAA;sBAAA,OAAAA,IAAA,CAAA1D,UAAA,IAAAiD,KAAA,CAAAC,UAAA,CAAAlD,UAAA;oBAAA;oBACA,IAAAyD,aAAA;sBACAZ,MAAA,CAAA3C,qBAAA,CAAAsB,MAAA,CAAAiC,aAAA;oBACA;kBACA;gBACA,WAAAN,QAAA;kBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;gBATA;cAWA;YACA;UACA;QACA;MACA;IACA;EACA;EACA;AACA;EACAQ,OAAA,WAAAA,QAAA;IAAA,IAAAC,MAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAT,MAAA,CAAAU,0BAAA,CAAAC,YAAA;YACA;YAAAJ,QAAA,CAAAE,IAAA;YAAA,OACA/E,mBAAA,CAAAkF,qBAAA,SAAAZ,MAAA,CAAAU,0BAAA,iBACAG,IAAA,WAAAC,GAAA;cACAd,MAAA,CAAA/D,SAAA,GAAA6E,GAAA,CAAAlF,IAAA,CAAAmF,IAAA;YACA,GACAC,KAAA,WAAAvE,CAAA;cACAwE,OAAA,CAAAC,GAAA,CAAAzE,CAAA;YACA;UAAA;YAAA8D,QAAA,CAAAE,IAAA;YAAA,OAGA/E,mBAAA,CAAAyF,UAAA,gDAAAnB,MAAA,CAAAU,0BAAA,cACAG,IAAA,WAAAC,GAAA;cACAd,MAAA,CAAAlE,eAAA,GAAAgF,GAAA,CAAAlF,IAAA,CAAAmF,IAAA;YACA,GACAC,KAAA,WAAAvE,CAAA;cACAwE,OAAA,CAAAC,GAAA,CAAAzE,CAAA;YACA;UAAA;UAAA;YAAA,OAAA8D,QAAA,CAAAa,IAAA;QAAA;MAAA,GAAAhB,OAAA;IAAA;EACA;AACA"}]}