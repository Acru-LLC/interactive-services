{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\excel-table\\modules\\final-forecast\\Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\excel-table\\modules\\final-forecast\\Update.vue","mtime":1674799497254},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcb2hpcmdpXFxhY3J1LWZyb250ZW5kXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGkxOG4gZnJvbSAiLi4vLi4vLi4vLi4vaTE4biI7CnZhciBNQUlOX0FQSV9VUkwgPSAnc3RhdGlzdGljLXJlcG9ydCc7CmltcG9ydCBEYXRlUGlja2VyIGZyb20gInZ1ZTItZGF0ZXBpY2tlciI7CmltcG9ydCBJbmZvIGZyb20gIi4vSW5mbyI7CmltcG9ydCBhcHBDb25maWcgZnJvbSAiQC9hcHAuY29uZmlnIjsKaW1wb3J0IGFwaVNlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvYXBpLnNlcnZpY2UiOwp2YXIgdXJscyA9IHsKICBjcmVhdGU6IE1BSU5fQVBJX1VSTCArICcvY3JlYXRlJywKICB1cGRhdGU6IE1BSU5fQVBJX1VSTCArICcvdXBkYXRlLycsCiAgZ2V0OiBNQUlOX0FQSV9VUkwgKyAnL2dldC1ieS1pZC8nLAogIHF1YXJ0ZXI6IE1BSU5fQVBJX1VSTCArICcvZGlyZWN0b3J5L3F1YXJ0ZXIvbGlzdC1zZWFyY2gnLAogIG1lYXN1cmVtZW50VW5pdDogTUFJTl9BUElfVVJMICsgJy9kaXJlY3RvcnkvbWVhc3VyZW1lbnQtdW5pdC9saXN0LXNlYXJjaCcsCiAgaW5uZXJFbXBsb3llZTogJy9lbXBsb3llZS9saXN0LXNlYXJjaC9pbm5lcicsCiAgZ2V0QnlJZEVtcGxveWVlOiAnL2VtcGxveWVlL2dldC8nLAogIGNvbmZpcm1RdWFydGVyVmFsdWU6ICcvc3RhdGlzdGljLXJlcG9ydC9jb25maXJtLXF1YXJ0ZXItcGxhbi8nCn07CmV4cG9ydCBkZWZhdWx0IHsKICBwYWdlOiB7CiAgICB0aXRsZTogaTE4bi50KCdzdWJtb2R1bGVzLmZpbmFsX2ZvcmVjYXN0LnRpdGxlJyksCiAgICBtZXRhOiBbewogICAgICBuYW1lOiAiZGVzY3JpcHRpb24iLAogICAgICBjb250ZW50OiBhcHBDb25maWcuZGVzY3JpcHRpb24KICAgIH1dCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBEYXRlUGlja2VyOiBEYXRlUGlja2VyLAogICAgSW5mbzogSW5mbwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHt9LAogICAgICBtb2RhbDogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIHN0ZXA6ICcnLAogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICBpbmZvVHlwZUtleTogJycsCiAgICAgICAgcGFyZW50SW5kZXg6IDAsCiAgICAgICAgY2hpbGRJbmRleDogdW5kZWZpbmVkLAogICAgICAgIHF1YXJ0ZXJLZXk6IHVuZGVmaW5lZAogICAgICB9LAogICAgICBpbmZvVHlwZUxpc3Q6IFt7CiAgICAgICAgY29kZTogJ0ZJTkFMJywKICAgICAgICBuYW1lOiBpMThuLnQoJ3N1Ym1vZHVsZXMuZmluYWxfZm9yZWNhc3QuaW5mb190eXBlX2ZpbmFsJykKICAgICAgfSwgewogICAgICAgIGNvZGU6ICdESVJFQ1RMWScsCiAgICAgICAgbmFtZTogaTE4bi50KCdzdWJtb2R1bGVzLmZpbmFsX2ZvcmVjYXN0LmluZm9fdHlwZV9kaXJlY3RseScpCiAgICAgIH1dLAogICAgICBxdWFydGVyTGlzdDogW10sCiAgICAgIG1lYXN1cmVtZW50VW5pdExpc3Q6IFtdLAogICAgICBtZWFzdXJlbWVudFVuaXRNYXA6IHt9LAogICAgICBlbXBsb3llZUxpc3RNYXA6IHt9LAogICAgICBlbXBsb3llZUlkTGlzdDogW10sCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEVtcGxveWVlSW5uZXJMaXN0OiBmdW5jdGlvbiBnZXRFbXBsb3llZUlubmVyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlbXBsb3llZUxpc3RLZXl3b3JkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKICAgICAgYXBpU2VydmljZS5wb3N0KHVybHMuaW5uZXJFbXBsb3llZSArICc/a2V5d29yZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGVtcGxveWVlTGlzdEtleXdvcmQpLCB7CiAgICAgICAgaXRlbXNQZXJQYWdlOiAxMCwKICAgICAgICBwYWdlOiAwCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlcy5kYXRhLmxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXMuZW1wbG95ZWVMaXN0TWFwW2l0ZW0uaWRdID0gaXRlbTsKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5lbXBsb3llZUlkTGlzdCA9IE9iamVjdC5rZXlzKF90aGlzLmVtcGxveWVlTGlzdE1hcCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNlcmlhbGl6ZU1lYXN1cmVtZW50VW5pdDogZnVuY3Rpb24gc2VyaWFsaXplTWVhc3VyZW1lbnRVbml0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubWVhc3VyZW1lbnRVbml0TWFwID0ge307CiAgICAgIHRoaXMubWVhc3VyZW1lbnRVbml0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX3RoaXMyLm1lYXN1cmVtZW50VW5pdE1hcFtpdGVtLmlkXSA9IGl0ZW07CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5Nb2RhbDogZnVuY3Rpb24gb3Blbk1vZGFsKHNob3csIHN0ZXAsIGluZm9UeXBlS2V5LCBwYXJlbnRJbmRleCwgY2hpbGRJbmRleCkgewogICAgICB2YXIgcXVhcnRlcktleSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogdW5kZWZpbmVkOwoKICAgICAgaWYgKHBhcmVudEluZGV4ICE9PSB1bmRlZmluZWQgJiYgY2hpbGRJbmRleCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgc3RlcCArPSAnX2NoaWxkJzsKICAgICAgfQoKICAgICAgdGhpcy5tb2RhbC5zaG93ID0gc2hvdzsKICAgICAgdGhpcy5tb2RhbC5zdGVwID0gc3RlcDsKICAgICAgdGhpcy5tb2RhbC5pbmZvVHlwZUtleSA9IGluZm9UeXBlS2V5OwogICAgICB0aGlzLm1vZGFsLnBhcmVudEluZGV4ID0gcGFyZW50SW5kZXg7CiAgICAgIHRoaXMubW9kYWwuY2hpbGRJbmRleCA9IGNoaWxkSW5kZXg7CiAgICAgIHRoaXMubW9kYWwucXVhcnRlcktleSA9IHF1YXJ0ZXJLZXk7CiAgICB9LAogICAgY3VzdG9tTGFiZWxBZERlc2lnblR5cGU6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsQWREZXNpZ25UeXBlKGlkKSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuZW1wbG95ZWVMaXN0TWFwW2lkXTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiBzZWxlY3RlZC5mdWxsTmFtZTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIGN1c3RvbUxhYmVsTWVhc3VyZW1lbnRVbml0TGlzdDogZnVuY3Rpb24gY3VzdG9tTGFiZWxNZWFzdXJlbWVudFVuaXRMaXN0KGlkKSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMubWVhc3VyZW1lbnRVbml0TGlzdFtpZF07CgogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXROYW1lKHt9KTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIG9uRW1wbG95ZWVDaGFuZ2U6IGZ1bmN0aW9uIG9uRW1wbG95ZWVDaGFuZ2Uoc2VsZWN0ZWRMaXN0KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRMaXN0KTsKCiAgICAgIGlmICh0aGlzLm1vZGFsLnN0ZXAgPT09ICdlbXBsb3llZV9jaGlsZCcpIHsKICAgICAgICB0aGlzLmZvcm0uU3RhdGlzdGljUmVwb3J0SW5mb0R0b1t0aGlzLm1vZGFsLnBhcmVudEluZGV4XS5jaGlsZHJlblt0aGlzLm1vZGFsLmNoaWxkSW5kZXhdLmVtcGxveWVlRnVsbE5hbWVzID0gc2VsZWN0ZWRMaXN0Lm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy5lbXBsb3llZUxpc3RNYXBbZV0ubGFzdE5hbWUgKyAnICcgKyBfdGhpczMuZW1wbG95ZWVOYW1lRmlyc3RDaGFyKF90aGlzMy5lbXBsb3llZUxpc3RNYXBbZV0uZmlyc3ROYW1lKSArICcgJyArIF90aGlzMy5lbXBsb3llZU5hbWVGaXJzdENoYXIoX3RoaXMzLmVtcGxveWVlTGlzdE1hcFtlXS5taWRkbGVOYW1lKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGFsLnN0ZXAgPT09ICdlbXBsb3llZScpIHsKICAgICAgICB0aGlzLmZvcm0uU3RhdGlzdGljUmVwb3J0SW5mb0R0b1t0aGlzLm1vZGFsLnBhcmVudEluZGV4XS5lbXBsb3llZUZ1bGxOYW1lcyA9IHNlbGVjdGVkTGlzdC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuZW1wbG95ZWVMaXN0TWFwW2VdLmxhc3ROYW1lICsgJyAnICsgX3RoaXMzLmVtcGxveWVlTmFtZUZpcnN0Q2hhcihfdGhpczMuZW1wbG95ZWVMaXN0TWFwW2VdLmZpcnN0TmFtZSkgKyAnICcgKyBfdGhpczMuZW1wbG95ZWVOYW1lRmlyc3RDaGFyKF90aGlzMy5lbXBsb3llZUxpc3RNYXBbZV0ubWlkZGxlTmFtZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJHJlZnNbJ2luZm9UeXBlJ11bdGhpcy5tb2RhbC5pbmZvVHlwZUtleV0uc2VyaWFsaXplSXRlbXMoKTsKICAgIH0sCiAgICBvbkVtcGxveWVlS2V5VXA6IGZ1bmN0aW9uIG9uRW1wbG95ZWVLZXlVcChpbnB1dCkgewogICAgICB0aGlzLmdldEVtcGxveWVlSW5uZXJMaXN0KGlucHV0KTsKICAgIH0sCiAgICBlbXBsb3llZU5hbWVGaXJzdENoYXI6IGZ1bmN0aW9uIGVtcGxveWVlTmFtZUZpcnN0Q2hhcihuYW1lKSB7CiAgICAgIHZhciBmcyA9IG5hbWUuY2hhckF0KDApICsgbmFtZS5jaGFyQXQoMSk7CgogICAgICBpZiAoWydzaCcsICdjaCcsICJvJyIsICJnJyJdLmluZGV4T2YoZnMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdgJywgIiciKSkgIT09IC0xKSB7CiAgICAgICAgcmV0dXJuIGZzOwogICAgICB9CgogICAgICByZXR1cm4gbmFtZS5jaGFyQXQoMCk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zYXZlTG9hZGluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zYXZlTG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBkYXRhID0gdGhpcy5mb3JtLlN0YXRpc3RpY1JlcG9ydEhlYWRlckR0bzsKICAgICAgZGF0YS5hbGxJbmZvcyA9IHRoaXMuZm9ybS5TdGF0aXN0aWNSZXBvcnRJbmZvRHRvOwogICAgICBhcGlTZXJ2aWNlLnBvc3QodXJscy51cGRhdGUgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC4kdG9hc3QoX3RoaXM0LiR0KCdtZXNzYWdlcy5zYXZlZF9zdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNC5zZXJpYWxpemVNZWFzdXJlbWVudFVuaXQoKTsKCiAgICAgICAgX3RoaXM0LnNhdmVMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ0luZGV4RmluYWxGb3JlY2FzdCcKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBzZXJpYWxpemVFbXBsb3llZUlkczogZnVuY3Rpb24gc2VyaWFsaXplRW1wbG95ZWVJZHMoaW5mb0xpc3QpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gaW5mb0xpc3QubWFwKGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgaW5mby5lbXBsb3llZUlkcyA9IGluZm8uYXR0YWNoZWRFbXBsb3llZUR0b3MubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAodHlwZW9mIF90aGlzNS5lbXBsb3llZUxpc3RNYXBbZS5lbXBsb3llZUlkXSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgX3RoaXM1LmVtcGxveWVlTGlzdE1hcFtlLmVtcGxveWVlSWRdID0ge307CiAgICAgICAgICAgIGFwaVNlcnZpY2UuZ2V0KHVybHMuZ2V0QnlJZEVtcGxveWVlICsgZS5lbXBsb3llZUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICB2YXIgX3JlcyRkYXRhID0gcmVzLmRhdGEsCiAgICAgICAgICAgICAgICAgIGlkID0gX3JlcyRkYXRhLmlkLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZSA9IF9yZXMkZGF0YS5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lID0gX3JlcyRkYXRhLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgZnVsbE5hbWUgPSBfcmVzJGRhdGEuZnVsbE5hbWUsCiAgICAgICAgICAgICAgICAgIG1pZGRsZU5hbWUgPSBfcmVzJGRhdGEubWlkZGxlTmFtZTsKICAgICAgICAgICAgICBfdGhpczUuZW1wbG95ZWVMaXN0TWFwW2UuZW1wbG95ZWVJZF0gPSB7CiAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICBsYXN0TmFtZTogbGFzdE5hbWUsCiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0TmFtZSwKICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBmdWxsTmFtZSwKICAgICAgICAgICAgICAgIG1pZGRsZU5hbWU6IG1pZGRsZU5hbWUKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZS5lbXBsb3llZUlkOwogICAgICAgIH0pOwogICAgICAgIF90aGlzNS5lbXBsb3llZUlkTGlzdCA9IE9iamVjdC5rZXlzKF90aGlzNS5lbXBsb3llZUxpc3RNYXApOwogICAgICAgIGluZm8uZW1wbG95ZWVGdWxsTmFtZXMgPSBpbmZvLmF0dGFjaGVkRW1wbG95ZWVEdG9zLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuZW1wbG95ZWVMYXN0TmFtZSArICcgJyArIGUuZW1wbG95ZWVGaXJzdE5hbWUgKyAnICcgKyBlLmVtcGxveWVlTWlkZGxlTmFtZTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGluZm8uY2hpbGRyZW4pIHsKICAgICAgICAgIGluZm8uY2hpbGRyZW4gPSBfdGhpczUuc2VyaWFsaXplRW1wbG95ZWVJZHMoaW5mby5jaGlsZHJlbik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaW5mbzsKICAgICAgfSk7CiAgICB9LAogICAgY29uZmlybVF1YXJ0ZXJWYWx1ZTogZnVuY3Rpb24gY29uZmlybVF1YXJ0ZXJWYWx1ZShfcmVmKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIGlkID0gX3JlZi5pZDsKICAgICAgdGhpcy5jbmYoKS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciB2YWx1ZSA9IF9yZWYyLnZhbHVlOwoKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIGFwaVNlcnZpY2UucG9zdCh1cmxzLmNvbmZpcm1RdWFydGVyVmFsdWUgKyBpZCwge30sIHRydWUpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuaGFuZGxlQ3JlYXRlZCgpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHRvYXN0KF90aGlzNi4kdCgnc3VjY2VzcycpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHt9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNyZWF0ZWQ6IGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZWQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy5nZXRFbXBsb3llZUlubmVyTGlzdCgpOwogICAgICBhcGlTZXJ2aWNlLnBvc3QodXJscy5nZXQgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHJlcyA9IHsKICAgICAgICAgIFN0YXRpc3RpY1JlcG9ydEhlYWRlckR0bzogcmVzcG9uc2UuZGF0YS5oZWFkZXIsCiAgICAgICAgICBTdGF0aXN0aWNSZXBvcnRJbmZvRHRvOiByZXNwb25zZS5kYXRhLmluZm9MaXN0CiAgICAgICAgfTsKICAgICAgICByZXMuU3RhdGlzdGljUmVwb3J0SW5mb0R0byA9IF90aGlzNy5zZXJpYWxpemVFbXBsb3llZUlkcyhyZXMuU3RhdGlzdGljUmVwb3J0SW5mb0R0byk7CgogICAgICAgIGlmIChyZXMuU3RhdGlzdGljUmVwb3J0SW5mb0R0by5sZW5ndGggPT09IDEgJiYgcmVzLlN0YXRpc3RpY1JlcG9ydEluZm9EdG9bMF0uaW5mb1R5cGUgPT09IG51bGwpIHsKICAgICAgICAgIF90aGlzNy5pbmZvVHlwZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgcmVzLlN0YXRpc3RpY1JlcG9ydEluZm9EdG9baW5kZXhdID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuU3RhdGlzdGljUmVwb3J0SW5mb0R0b1swXSkpOwogICAgICAgICAgICByZXMuU3RhdGlzdGljUmVwb3J0SW5mb0R0b1tpbmRleF0uaW5mb1R5cGUgPSBpdGVtLmNvZGU7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzNy5mb3JtID0gcmVzOwogICAgICB9KTsKICAgICAgYXBpU2VydmljZS5wb3N0KHVybHMucXVhcnRlciwgewogICAgICAgIGl0ZW1zUGVyUGFnZTogMTAwLAogICAgICAgIHBhZ2U6IDAKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczcucXVhcnRlckxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgIH0pOwogICAgICBhcGlTZXJ2aWNlLnBvc3QodXJscy5tZWFzdXJlbWVudFVuaXQsIHsKICAgICAgICBpdGVtc1BlclBhZ2U6IDEwMCwKICAgICAgICBwYWdlOiAwCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM3Lm1lYXN1cmVtZW50VW5pdExpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaGFuZGxlQ3JlYXRlZCgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldFRhYmxlTWF4Um93czogZnVuY3Rpb24gZ2V0VGFibGVNYXhSb3dzKCkgewogICAgICByZXR1cm4gNCArIHRoaXMucXVhcnRlckxpc3QubGVuZ3RoOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG1lYXN1cmVtZW50VW5pdExpc3Q6IGZ1bmN0aW9uIG1lYXN1cmVtZW50VW5pdExpc3QoKSB7CiAgICAgIHRoaXMuc2VyaWFsaXplTWVhc3VyZW1lbnRVbml0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Update.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12 text-center\">\r\n      <div class=\"btn btn-outline-dark btn-secondary float-left\" @click=\"$router.push({name: 'IndexFinalForecast'})\">\r\n        {{ $t('actions.back') }}\r\n      </div>\r\n      <div class=\"h5 mb-4 d-inline-block\">{{ $t('submodules.final_forecast.title') }}</div>\r\n      <div class=\"btn btn-success float-right\" @click=\"save\">{{ $t('actions.save') }}</div>\r\n      <div class=\"btn btn-primary float-right\">{{ $t('actions.excel') }}</div>\r\n    </div>\r\n    <div class=\"col-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <table class=\"table table-sm table-bordered table-condensed vertical-align-middle\">\r\n                <thead>\r\n                <tr>\r\n                  <th :colspan=\"getTableMaxRows\">\r\n                    <div @click=\"openModal(true, 'decisionName')\" class=\"form-control h-auto\">\r\n                      {{\r\n                        form.StatisticReportHeaderDto ? getName({\r\n                          nameUz: form.StatisticReportHeaderDto.decisionNameUz,\r\n                          nameRu: form.StatisticReportHeaderDto.decisionNameRu,\r\n                          nameLt: form.StatisticReportHeaderDto.decisionNameLt,\r\n                        }) : ''\r\n                      }}\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n                <tr class=\"text-center\">\r\n                  <th rowspan=\"3\">№</th>\r\n                  <th rowspan=\"3\">\r\n                    {{$t('submodules.final_forecast.state_program_and_target_indicator')}}\r\n                  </th>\r\n                  <th rowspan=\"3\">{{ $t('column.employee') }}</th>\r\n                  <th rowspan=\"3\">{{ $t('column.unit') }}</th>\r\n                  <th :colspan=\"quarterList.length || 1\">\r\n                    <div @click=\"openModal(true, 'year')\" class=\"form-control\">\r\n                      {{\r\n                        $t('submodules.final_forecast.year_plan', {year: form.StatisticReportHeaderDto ? form.StatisticReportHeaderDto.year : ''})\r\n                      }}\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n                <tr>\r\n                  <th v-for=\"(quarterItem, quarterKey) in quarterList\" :key=\"quarterKey\" class=\"text-center\">\r\n                    {{\r\n                      getName({\r\n                        nameUz: quarterItem.nameUz,\r\n                        nameRu: quarterItem.nameRu,\r\n                        nameLt: quarterItem.nameLt,\r\n                      })\r\n                    }}\r\n                  </th>\r\n                </tr>\r\n                <tr>\r\n                  <th class=\"text-center\" :colspan=\"quarterList.length || 1\">{{ $t('submodules.final_forecast.plan') }}</th>\r\n                </tr>\r\n                <tr class=\"text-center\">\r\n                  <th colspan=\"3\">\r\n                    <div @click=\"openModal(true, 'organizationName')\" class=\"form-control h-auto\">\r\n                      {{\r\n                        form.StatisticReportHeaderDto ? getName({\r\n                          nameUz: form.StatisticReportHeaderDto.organizationNameUz,\r\n                          nameRu: form.StatisticReportHeaderDto.organizationNameRu,\r\n                          nameLt: form.StatisticReportHeaderDto.organizationNameLt,\r\n                        }) : ''\r\n                      }}\r\n                    </div>\r\n                  </th>\r\n                  <th>\r\n                    <div @click=\"openModal(true,'header_measurement_unit')\"\r\n                         class=\"form-control form-control-sm\"\r\n                         style=\"height: auto;min-height: calc(1.5em + 0.5rem + 2px)\">\r\n                      {{\r\n                        form.StatisticReportHeaderDto && measurementUnitMap && measurementUnitMap[form.StatisticReportHeaderDto.measurementUnitId] ? getName({\r\n                          nameUz: measurementUnitMap[form.StatisticReportHeaderDto.measurementUnitId].nameUz,\r\n                          nameRu: measurementUnitMap[form.StatisticReportHeaderDto.measurementUnitId].nameRu,\r\n                          nameLt: measurementUnitMap[form.StatisticReportHeaderDto.measurementUnitId].nameLt,\r\n                        }) : '-'\r\n                      }}\r\n                    </div>\r\n                  </th>\r\n                  <th :colspan=\"quarterList.length || 1\">\r\n                    <div @click=\"openModal(true, 'value')\" class=\"form-control\">\r\n                      {{ form.StatisticReportHeaderDto ? form.StatisticReportHeaderDto.value : '' }}\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n                <tr class=\"text-center\">\r\n                  <td></td>\r\n                  <th :colspan=\"getTableMaxRows-1\">\r\n                    <div @click=\"openModal(true, 'strategicPurpose')\" class=\"form-control h-auto\">\r\n                      {{\r\n                        form.StatisticReportHeaderDto ? getName({\r\n                          nameUz: form.StatisticReportHeaderDto.strategicPurposeUz,\r\n                          nameRu: form.StatisticReportHeaderDto.strategicPurposeRu,\r\n                          nameLt: form.StatisticReportHeaderDto.strategicPurposeLt,\r\n                        }) : ''\r\n                      }}\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n                </thead>\r\n                <Info v-for=\"(infoTypeItem, infoTypeKey) in infoTypeList\"\r\n                      :key=\"infoTypeKey\"\r\n                      :infoTypeKey=\"infoTypeKey\"\r\n                      :infoType=\"infoTypeItem\"\r\n                      :statisticReportInfoDto=\"form.StatisticReportInfoDto\"\r\n                      :getTableMaxRows=\"getTableMaxRows\"\r\n                      :quarterList=\"quarterList\"\r\n                      ref=\"infoType\"\r\n                      :measurementUnitList=\"measurementUnitList\"\r\n                      :measurementUnitMap=\"measurementUnitMap\"\r\n                      @open-parent-modal=\"openModal\"\r\n                      @confirm-quarter-value=\"confirmQuarterValue\"\r\n                />\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <b-modal id=\"modal-1\" :title=\"modal.title\" v-model=\"modal.show\">\r\n      <div v-if=\"modal.step === 'decisionName'\">\r\n        <h5>{{ $t('submodules.final_forecast.decision_name') }}</h5>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Uz' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.decisionNameUz\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Lt' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.decisionNameLt\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Ru' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.decisionNameRu\">\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'organizationName'\">\r\n        <h5>{{ $t('submodules.final_forecast.organization_name') }}</h5>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Uz' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.organizationNameUz\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Lt' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.organizationNameLt\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Ru' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.organizationNameRu\">\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'strategicPurpose'\">\r\n        <h5>{{ $t('submodules.final_forecast.strategic_purpose') }}</h5>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Uz' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.strategicPurposeUz\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Lt' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.strategicPurposeLt\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Ru' }}</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"form.StatisticReportHeaderDto.strategicPurposeRu\">\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'year'\">\r\n        <h5>{{ $t('submodules.final_forecast.year') }}</h5>\r\n        <div class=\"form-group\">\r\n          <date-picker\r\n              class=\"d-block w-100\"\r\n              type=\"year\"\r\n              format=\"YYYY\"\r\n              v-model=\"form.StatisticReportHeaderDto.year\"\r\n              :first-day-of-week=\"1\"\r\n          ></date-picker>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'value'\">\r\n        <h5>{{ $t('submodules.final_forecast.value') }}</h5>\r\n        <div class=\"form-group\">\r\n          <input\r\n              class=\"form-control\"\r\n              type=\"number\"\r\n              step=\"any\"\r\n              v-model=\"form.StatisticReportHeaderDto.value\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'header_measurement_unit'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ $t('submodules.measurement_unit.title') }}</label>\r\n          <select class=\"form-control form-control-sm\"\r\n                  v-model=\"form.StatisticReportHeaderDto.measurementUnitId\"\r\n          >\r\n            <option value=\"\" readonly=\"\"></option>\r\n            <option v-for=\"(measurementUnitItem, measurementUnitKey) in measurementUnitList\"\r\n                    :key=\"measurementUnitKey\"\r\n                    :value=\"measurementUnitItem.id\">\r\n              {{\r\n                getName({\r\n                  nameUz: measurementUnitItem.nameUz,\r\n                  nameRu: measurementUnitItem.nameRu,\r\n                  nameLt: measurementUnitItem.nameLt,\r\n                })\r\n              }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'measurement_unit'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ $t('submodules.measurement_unit.title') }}</label>\r\n          <select class=\"form-control form-control-sm\"\r\n                  v-model=\"form.StatisticReportInfoDto[modal.parentIndex].measurementUnitId\"\r\n          >\r\n            <option value=\"\" readonly=\"\"></option>\r\n            <option v-for=\"(measurementUnitItem, measurementUnitKey) in measurementUnitList\"\r\n                    :key=\"measurementUnitKey\"\r\n                    :value=\"measurementUnitItem.id\">\r\n              {{\r\n                getName({\r\n                  nameUz: measurementUnitItem.nameUz,\r\n                  nameRu: measurementUnitItem.nameRu,\r\n                  nameLt: measurementUnitItem.nameLt,\r\n                })\r\n              }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'measurement_unit_child'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ $t('submodules.measurement_unit.title') }}</label>\r\n          <select class=\"form-control form-control-sm\"\r\n                  v-model=\"form.StatisticReportInfoDto[modal.parentIndex].children[modal.childIndex].measurementUnitId\"\r\n          >\r\n            <option value=\"\" readonly=\"\"></option>\r\n            <option v-for=\"(measurementUnitItem, measurementUnitKey) in measurementUnitList\"\r\n                    :key=\"measurementUnitKey\"\r\n                    :value=\"measurementUnitItem.id\">\r\n              {{\r\n                getName({\r\n                  nameUz: measurementUnitItem.nameUz,\r\n                  nameRu: measurementUnitItem.nameRu,\r\n                  nameLt: measurementUnitItem.nameLt,\r\n                })\r\n              }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'info_name'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Uz' }}</label>\r\n          <textarea class=\"form-control\" v-model=\"form.StatisticReportInfoDto[modal.parentIndex].nameUz\"></textarea>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Lt' }}</label>\r\n          <textarea class=\"form-control\" v-model=\"form.StatisticReportInfoDto[modal.parentIndex].nameLt\"></textarea>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Ru' }}</label>\r\n          <textarea class=\"form-control\" v-model=\"form.StatisticReportInfoDto[modal.parentIndex].nameRu\"></textarea>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'info_name_child'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Uz' }}</label>\r\n          <textarea class=\"form-control\"\r\n                    v-model=\"form.StatisticReportInfoDto[modal.parentIndex].children[modal.childIndex].nameUz\"></textarea>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Lt' }}</label>\r\n          <textarea class=\"form-control\"\r\n                    v-model=\"form.StatisticReportInfoDto[modal.parentIndex].children[modal.childIndex].nameLt\"></textarea>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>{{ 'Ru' }}</label>\r\n          <textarea class=\"form-control\"\r\n                    v-model=\"form.StatisticReportInfoDto[modal.parentIndex].children[modal.childIndex].nameRu\"></textarea>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'employee'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ $t('assign_employee') }}</label>\r\n          <BaseMultiselectWithValidation\r\n              not-required\r\n              multiple\r\n              v-model=\"form.StatisticReportInfoDto[modal.parentIndex].employeeIds\"\r\n              @input=\"onEmployeeChange\"\r\n              @search-change=\"onEmployeeKeyUp\"\r\n              :options=\"employeeIdList\"\r\n              :hide-selected=\"true\"\r\n              :close-on-select=\"false\"\r\n              :placeholder=\"$t('assign_employee')\"\r\n              :custom-label=\"customLabelAdDesignType\"\r\n              open-direction=\"bottom\"\r\n              style=\"width: 100%;\"\r\n              :max-height=\"600\"\r\n              :show-labels=\"false\"\r\n              :only-form-element=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'employee_child'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ $t('assign_employee') }}</label>\r\n          <BaseMultiselectWithValidation\r\n              not-required\r\n              multiple\r\n              v-model=\"form.StatisticReportInfoDto[modal.parentIndex].children[modal.childIndex].employeeIds\"\r\n              @input=\"onEmployeeChange\"\r\n              @search-change=\"onEmployeeKeyUp\"\r\n              :options=\"employeeIdList\"\r\n              :hide-selected=\"true\"\r\n              :close-on-select=\"false\"\r\n              :placeholder=\"$t('assign_employee')\"\r\n              :custom-label=\"customLabelAdDesignType\"\r\n              open-direction=\"bottom\"\r\n              style=\"width: 100%;\"\r\n              :max-height=\"600\"\r\n              :show-labels=\"false\"\r\n              :only-form-element=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'quarter_plan'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ $t('column.value') }}</label>\r\n          <input class=\"form-control\"\r\n                 type=\"number\"\r\n                 step=\"any\"\r\n                 v-model=\"form.StatisticReportInfoDto[modal.parentIndex].quarterValueDtoList[modal.quarterKey].plan\" />\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"modal.step === 'quarter_plan_child'\">\r\n        <div class=\"form-group\">\r\n          <label>{{ $t('column.value') }}</label>\r\n          <input class=\"form-control\"\r\n                 type=\"number\"\r\n                 step=\"any\"\r\n                 v-model=\"form.StatisticReportInfoDto[modal.parentIndex].children[modal.childIndex].quarterValueDtoList[modal.quarterKey].plan\" />\r\n        </div>\r\n      </div>\r\n      <template #modal-footer>\r\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"modal.show = false;\">{{ $t('actions.save') }}</button>\r\n      </template>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport i18n from \"../../../../i18n\";\r\n\r\nconst MAIN_API_URL = 'statistic-report'\r\n\r\nimport DatePicker from \"vue2-datepicker\";\r\nimport Info from \"./Info\";\r\nimport appConfig from \"@/app.config\";\r\nimport apiService from \"@/shared/services/api.service\";\r\n\r\nconst urls = {\r\n  create: MAIN_API_URL + '/create',\r\n  update: MAIN_API_URL + '/update/',\r\n  get: MAIN_API_URL + '/get-by-id/',\r\n  quarter: MAIN_API_URL + '/directory/quarter/list-search',\r\n  measurementUnit: MAIN_API_URL + '/directory/measurement-unit/list-search',\r\n  innerEmployee: '/employee/list-search/inner',\r\n  getByIdEmployee: '/employee/get/',\r\n  confirmQuarterValue: '/statistic-report/confirm-quarter-plan/',\r\n}\r\n\r\nexport default {\r\n  page: {\r\n    title: i18n.t('submodules.final_forecast.title'),\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    DatePicker,\r\n    Info,\r\n  },\r\n  data() {\r\n    return {\r\n      form: {},\r\n      modal: {\r\n        show: false,\r\n        step: '',\r\n        title: \"\",\r\n        infoTypeKey: '',\r\n        parentIndex: 0,\r\n        childIndex: undefined,\r\n        quarterKey: undefined,\r\n      },\r\n      infoTypeList: [\r\n        {\r\n          code: 'FINAL',\r\n          name: i18n.t('submodules.final_forecast.info_type_final'),\r\n        },\r\n        {\r\n          code: 'DIRECTLY',\r\n          name: i18n.t('submodules.final_forecast.info_type_directly'),\r\n        },\r\n      ],\r\n      quarterList: [],\r\n      measurementUnitList: [],\r\n      measurementUnitMap: {},\r\n      employeeListMap: {},\r\n      employeeIdList: [],\r\n      saveLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    getEmployeeInnerList(employeeListKeyword = '') {\r\n      apiService.post(urls.innerEmployee + '?keyword=' + encodeURIComponent(employeeListKeyword), {\r\n        itemsPerPage: 10,\r\n        page: 0,\r\n      }).then(res => {\r\n        res.data.list.forEach(item => {\r\n          this.employeeListMap[item.id] = item;\r\n        });\r\n        this.employeeIdList = Object.keys(this.employeeListMap)\r\n      });\r\n    },\r\n    serializeMeasurementUnit() {\r\n      this.measurementUnitMap = {}\r\n      this.measurementUnitList.forEach(item => {\r\n        this.measurementUnitMap[item.id] = item\r\n      })\r\n    },\r\n    openModal(show, step, infoTypeKey, parentIndex, childIndex, quarterKey = undefined) {\r\n      if (parentIndex !== undefined && childIndex !== undefined) {\r\n        step += '_child'\r\n      }\r\n      this.modal.show = show;\r\n      this.modal.step = step;\r\n      this.modal.infoTypeKey = infoTypeKey;\r\n      this.modal.parentIndex = parentIndex;\r\n      this.modal.childIndex = childIndex;\r\n      this.modal.quarterKey = quarterKey;\r\n    },\r\n    customLabelAdDesignType(id) {\r\n      let selected = this.employeeListMap[id];\r\n      if (selected) {\r\n        return selected.fullName;\r\n      }\r\n      return '';\r\n    },\r\n    customLabelMeasurementUnitList(id) {\r\n      let selected = this.measurementUnitList[id];\r\n      if (selected) {\r\n        return this.getName({});\r\n      }\r\n      return '';\r\n    },\r\n    onEmployeeChange(selectedList) {\r\n      console.log(selectedList)\r\n      if (this.modal.step === 'employee_child') {\r\n        this.form.StatisticReportInfoDto[this.modal.parentIndex].children[this.modal.childIndex].employeeFullNames = selectedList.map(e => {\r\n          return this.employeeListMap[e].lastName + ' ' + this.employeeNameFirstChar(this.employeeListMap[e].firstName) + ' ' + this.employeeNameFirstChar(this.employeeListMap[e].middleName);\r\n        });\r\n      } else if (this.modal.step === 'employee') {\r\n        this.form.StatisticReportInfoDto[this.modal.parentIndex].employeeFullNames = selectedList.map(e => {\r\n          return this.employeeListMap[e].lastName + ' ' + this.employeeNameFirstChar(this.employeeListMap[e].firstName) + ' ' + this.employeeNameFirstChar(this.employeeListMap[e].middleName);\r\n        });\r\n      }\r\n      this.$refs['infoType'][this.modal.infoTypeKey].serializeItems()\r\n    },\r\n    onEmployeeKeyUp(input) {\r\n      this.getEmployeeInnerList(input);\r\n    },\r\n    employeeNameFirstChar(name) {\r\n      let fs = name.charAt(0) + name.charAt(1);\r\n      if (['sh', 'ch', \"o'\", \"g'\"].indexOf(fs.toLowerCase().replace('`', \"'\")) !== -1) {\r\n        return fs;\r\n      }\r\n      return name.charAt(0);\r\n    },\r\n    save() {\r\n      if (this.saveLoading) {\r\n        return;\r\n      }\r\n      this.saveLoading = true;\r\n      let data = this.form.StatisticReportHeaderDto;\r\n      data.allInfos = this.form.StatisticReportInfoDto;\r\n      apiService.post(urls.update + this.$route.params.id, data).then(res => {\r\n        this.$toast(this.$t('messages.saved_successfully'), {\r\n          type: 'success'\r\n        });\r\n        this.serializeMeasurementUnit();\r\n        this.saveLoading = false;\r\n        this.$router.push({name: 'IndexFinalForecast'})\r\n      }).catch(err => {\r\n        this.saveLoading = false;\r\n      });\r\n    },\r\n    serializeEmployeeIds(infoList) {\r\n      return infoList.map(info => {\r\n        info.employeeIds = info.attachedEmployeeDtos.map((e) => {\r\n          if (typeof this.employeeListMap[e.employeeId] === 'undefined') {\r\n            this.employeeListMap[e.employeeId] = {};\r\n            apiService.get(urls.getByIdEmployee + e.employeeId).then(res => {\r\n              const {id, lastName, firstName, fullName, middleName} = res.data;\r\n              this.employeeListMap[e.employeeId] = {\r\n                id: id,\r\n                lastName: lastName,\r\n                firstName: firstName,\r\n                fullName: fullName,\r\n                middleName: middleName\r\n              }\r\n            });\r\n          }\r\n          return e.employeeId;\r\n        });\r\n        this.employeeIdList = Object.keys(this.employeeListMap)\r\n        info.employeeFullNames = info.attachedEmployeeDtos.map(e => {\r\n          return e.employeeLastName +' '+ e.employeeFirstName +' '+ e.employeeMiddleName;\r\n        });\r\n        if (info.children) {\r\n          info.children = this.serializeEmployeeIds(info.children);\r\n        }\r\n        return info;\r\n      });\r\n    },\r\n    confirmQuarterValue({id}) {\r\n      this.cnf().then(({value}) => {\r\n        if (value) {\r\n          apiService.post(urls.confirmQuarterValue + id, {}, true).then(async res => {\r\n            await this.handleCreated()\r\n            await this.$toast(this.$t('success'), {\r\n              type: 'success'\r\n            });\r\n          }).catch(err => {\r\n          });\r\n        }\r\n      })\r\n    },\r\n    handleCreated() {\r\n      this.getEmployeeInnerList();\r\n      apiService.post(urls.get + this.$route.params.id).then(response => {\r\n        let res = {\r\n          StatisticReportHeaderDto: response.data.header,\r\n          StatisticReportInfoDto: response.data.infoList,\r\n        };\r\n        res.StatisticReportInfoDto = this.serializeEmployeeIds(res.StatisticReportInfoDto);\r\n        if (res.StatisticReportInfoDto.length === 1 && res.StatisticReportInfoDto[0].infoType === null) {\r\n          this.infoTypeList.forEach((item, index) => {\r\n            res.StatisticReportInfoDto[index] = JSON.parse(JSON.stringify(res.StatisticReportInfoDto[0]));\r\n            res.StatisticReportInfoDto[index].infoType = item.code;\r\n          });\r\n        }\r\n        this.form = res;\r\n      });\r\n      apiService.post(urls.quarter, {\r\n        itemsPerPage: 100,\r\n        page: 0,\r\n      }).then(response => {\r\n        this.quarterList = response.data.list;\r\n      });\r\n      apiService.post(urls.measurementUnit, {\r\n        itemsPerPage: 100,\r\n        page: 0,\r\n      }).then(response => {\r\n        this.measurementUnitList = response.data.list;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.handleCreated()\r\n  },\r\n  computed: {\r\n    getTableMaxRows: function () {\r\n      return 4 + (this.quarterList.length)\r\n    },\r\n  },\r\n  watch: {\r\n    measurementUnitList: function () {\r\n      this.serializeMeasurementUnit()\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.vertical-align-middle th, .vertical-align-middle td {\r\n  vertical-align: middle;\r\n}\r\n</style>"],"sourceRoot":"src/modules/excel-table/modules/final-forecast"}]}