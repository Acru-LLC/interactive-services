{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\shared\\services\\api.service.js","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\shared\\services\\api.service.js","mtime":1675054786290},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1667355397815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBUb2tlblNlcnZpY2UgfSBmcm9tICIuL3N0b3JhZ2Uuc2VydmljZSI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0YXRlL3N0b3JlIjsKCi8vIGltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuL3VzZXIuc2VydmljZSI7CgovLyBGVU5DVElPTiBGT1IgQ0hFQ0tJTkcgSUYgU1RSSU5HIElTIEpTT04gUEFSU0FCTEUKZnVuY3Rpb24gaXNKc29uKHN0cikgewogIHRyeSB7CiAgICBKU09OLnBhcnNlKHN0cik7CiAgfSBjYXRjaCAoZSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KICByZXR1cm4gdHJ1ZTsKfQp2YXIgQXBpU2VydmljZSA9IHsKICAvLyBTdG9yZXMgdGhlIDQwMSBpbnRlcmNlcHRvciBwb3NpdGlvbiBzbyB0aGF0IGl0IGNhbiBiZSBsYXRlciBlamVjdGVkIHdoZW4gbmVlZGVkCiAgXzQwMWludGVyY2VwdG9yOiBudWxsLAogIF9yZXF1ZXN0SW50ZXJjZXB0b3I6IG51bGwsCiAgaW5pdDogZnVuY3Rpb24gaW5pdChiYXNlVVJMKSB7CiAgICBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gYmFzZVVSTDsKICB9LAogIHNldEhlYWRlcjogZnVuY3Rpb24gc2V0SGVhZGVyKCkgewogICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIi5jb25jYXQoVG9rZW5TZXJ2aWNlLmdldFRva2VuKCkpOwogIH0sCiAgcmVtb3ZlSGVhZGVyOiBmdW5jdGlvbiByZW1vdmVIZWFkZXIoKSB7CiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbiA9IHt9OwogIH0sCiAgYWxsOiBmdW5jdGlvbiBhbGwocmVzb3VyY2UsIHdpdGhMb2FkZXIpIHsKICAgIHJldHVybiBheGlvcy5hbGwocmVzb3VyY2UsIHsKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlcgogICAgfSk7CiAgfSwKICBzcHJlYWQ6IGZ1bmN0aW9uIHNwcmVhZCgpIHsKICAgIHJldHVybiBheGlvcy5zcHJlYWQuYXBwbHkoYXhpb3MsIGFyZ3VtZW50cyk7CiAgfSwKICBnZXQ6IGZ1bmN0aW9uIGdldChyZXNvdXJjZSwgd2l0aExvYWRlcikgewogICAgcmV0dXJuIGF4aW9zLmdldChyZXNvdXJjZSwgewogICAgICB3aXRoTG9hZGVyOiB3aXRoTG9hZGVyCiAgICB9KTsKICB9LAogIHBvc3Q6IGZ1bmN0aW9uIHBvc3QocmVzb3VyY2UsIGRhdGEpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9OwogICAgcmV0dXJuIGF4aW9zLnBvc3QocmVzb3VyY2UsIGRhdGEsIF9vYmplY3RTcHJlYWQoewogICAgICB3aXRoTG9hZGVyOiB3aXRoTG9hZGVyCiAgICB9LCBjb25maWcpKTsKICB9LAogIHBvc3RGaWxlOiBmdW5jdGlvbiBwb3N0RmlsZShyZXNvdXJjZSwgZGF0YSkgewogICAgdmFyIHdpdGhMb2FkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogICAgcmV0dXJuIGF4aW9zLnBvc3QocmVzb3VyY2UsIGRhdGEsIHsKICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIsCiAgICAgIHdpdGhMb2FkZXI6IHdpdGhMb2FkZXIKICAgIH0pOwogIH0sCiAgcG9zdEZpbGVQcm9maWxlOiBmdW5jdGlvbiBwb3N0RmlsZVByb2ZpbGUocmVzb3VyY2UsIGRhdGEpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICAgIHJldHVybiBheGlvcy5wdXQocmVzb3VyY2UsIGRhdGEsIHsKICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIsCiAgICAgIHdpdGhMb2FkZXI6IHdpdGhMb2FkZXIKICAgIH0pOwogIH0sCiAgZ2V0RmlsZTogZnVuY3Rpb24gZ2V0RmlsZShyZXNvdXJjZSkgewogICAgdmFyIHdpdGhMb2FkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgcmV0dXJuIGF4aW9zLmdldChyZXNvdXJjZSwgewogICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlcgogICAgfSk7CiAgfSwKICBmb3JtRGF0YUZpbGU6IGZ1bmN0aW9uIGZvcm1EYXRhRmlsZShyZXNvdXJjZSwgZGF0YSkgewogICAgdmFyIHdpdGhMb2FkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogICAgcmV0dXJuIGF4aW9zLnBvc3QocmVzb3VyY2UsIGRhdGEsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgfSwKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlcgogICAgfSk7CiAgfSwKICBmb3JtRGF0YVB1dDogZnVuY3Rpb24gZm9ybURhdGFQdXQocmVzb3VyY2UsIGRhdGEpIHsKICAgIHJldHVybiBheGlvcy5wdXQocmVzb3VyY2UsIGRhdGEsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgfQogICAgfSk7CiAgfSwKICBwdXQ6IGZ1bmN0aW9uIHB1dChyZXNvdXJjZSwgZGF0YSkgewogICAgdmFyIHdpdGhMb2FkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogICAgcmV0dXJuIGF4aW9zLnB1dChyZXNvdXJjZSwgZGF0YSwgewogICAgICB3aXRoTG9hZGVyOiB3aXRoTG9hZGVyCiAgICB9KTsKICB9LAogIGRlbGV0ZTogZnVuY3Rpb24gX2RlbGV0ZShyZXNvdXJjZSkgewogICAgdmFyIHdpdGhMb2FkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgcmV0dXJuIGF4aW9zLmRlbGV0ZShyZXNvdXJjZSwgewogICAgICB3aXRoTG9hZGVyOiB3aXRoTG9hZGVyCiAgICB9KTsKICB9LAogIC8qKg0KICAgKiBQZXJmb3JtIGEgY3VzdG9tIGF4aW9zIHJlcXVlc3QuDQogICAqDQogICAqIGRhdGEgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOg0KICAgKiAgLSBtZXRob2QNCiAgICogIC0gdXJsDQogICAqICAtIGRhdGEgLi4uIHJlcXVlc3QgcGF5bG9hZA0KICAgKiAgLSBhdXRoIChvcHRpb25hbCkNCiAgICogICAgLSB1c2VybmFtZQ0KICAgKiAgICAtIHBhc3N3b3JkDQogICAqKi8KICBjdXN0b21SZXF1ZXN0OiBmdW5jdGlvbiBjdXN0b21SZXF1ZXN0KGRhdGEpIHsKICAgIHJldHVybiBheGlvcyhkYXRhKTsKICB9LAogIG1vdW50NDAxSW50ZXJjZXB0b3I6IGZ1bmN0aW9uIG1vdW50NDAxSW50ZXJjZXB0b3IoKSB7CiAgICB2YXIgcmVxdWVzdENvdW50ID0gMDsKICAgIHZhciBtZXNzYWdlcyA9IFtdOwogICAgdGhpcy5fNDAxaW50ZXJjZXB0b3IgPSBheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBpZiAocmVxdWVzdENvdW50ID4gMCkgLyogREVDUkVNRU5UIFJFUVVFU1QgQ09VTlQgKi8KICAgICAgICByZXF1ZXN0Q291bnQtLTsKICAgICAgLyogR0xPQkFMIExPQURJTkcgT1ZFUkxBWSBQQVJUICovCiAgICAgIGlmIChyZXF1ZXN0Q291bnQgPT09IDApIHsKICAgICAgICAvLyBDSEVDSyBJRiBUSEVSRSBXRVJFIEFOWSBFUlJPUlMKICAgICAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgc3RvcmUuY29tbWl0KCJTRVRfR0xPQkFMX1NOQUNLQkFSIiwgbWVzc2FnZXMpOwogICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICAgIFZ1ZS4kdG9hc3QobXNnLm1lc3NhZ2UsIHsKICAgICAgICAgICAgICB0eXBlOiBtc2cudHlwZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgbWVzc2FnZXMgPSBbXTsKICAgICAgICB9CiAgICAgICAgc3RvcmUuY29tbWl0KCJTRVRfR0xPQkFMX0xPQURJTkciLCBmYWxzZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfSwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZXJyb3IpIHsKICAgICAgICB2YXIgYWxlcnRQYXlsb2FkOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8qIERFQ1JFTUVOVCBSRVFVRVNUIENPVU5UICovCiAgICAgICAgICAgICAgaWYgKHJlcXVlc3RDb3VudCA+IDApIHJlcXVlc3RDb3VudC0tOwogICAgICAgICAgICAgIC8qIEdMT0JBTCBMT0FESU5HIE9WRVJMQVkgQU5EIFNIT1dJTkcgRVJST1IgTUVTU0FHRVMgUEFSVCAqLwogICAgICAgICAgICAgIGFsZXJ0UGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXF1ZXN0LnJlc3BvbnNlID8gaXNKc29uKGVycm9yLnJlcXVlc3QucmVzcG9uc2UpID8gSlNPTi5wYXJzZShlcnJvci5yZXF1ZXN0LnJlc3BvbnNlKS5tZXNzYWdlLnN1YnN0cmluZygwLCAxMjApIDogZXJyb3IucmVxdWVzdC5yZXNwb25zZSA6ICIoIi5jb25jYXQoZXJyb3IucmVxdWVzdC5zdGF0dXMsICIpIC0gU29tZXRoaW5nIHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluIiksCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IucmVxdWVzdC5yZXNwb25zZSA/IGlzSnNvbihlcnJvci5yZXF1ZXN0LnJlc3BvbnNlKSA/IEpTT04ucGFyc2UoZXJyb3IucmVxdWVzdC5yZXNwb25zZSkuZGV0YWlscyA6IGVycm9yLnJlcXVlc3QucmVzcG9uc2UgOiBbXSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIC8qIEFERCBFUlJPUiBNRVNTQUdFIFRPIEdMT0JBTCBNRVNTQUdFUyBTVEFURSAqLwogICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goYWxlcnRQYXlsb2FkKTsKICAgICAgICAgICAgICBpZiAocmVxdWVzdENvdW50ID09PSAwKSB7CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoIlNFVF9HTE9CQUxfTE9BRElORyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgiU0VUX0dMT0JBTF9TTkFDS0JBUiIsIG1lc3NhZ2VzKTsKICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVxdWVzdC5zdGF0dXMgPT09IDQxNykgewogICAgICAgICAgICAgICAgICAgIFZ1ZS4kdG9hc3QoJ1VzaGJ1IGhhcmFrYXRuaSBhbWFsZ2Egb3NoaXJpc2ggdWNodW4gc2l6ZGEgcnV4c2F0IHlvXCdxJywgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogbXNnLnR5cGUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBWdWUuJHRvYXN0KG1zZy5tZXNzYWdlLCB7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBtc2cudHlwZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gW107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgICAgICAgICAgICBpZiAoZXJyb3IucmVxdWVzdCkgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlcXVlc3Quc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9nb3V0Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIElmIGVycm9yIHdhcyBub3QgNDAxIGp1c3QgcmVqZWN0IGFzIGlzCiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKTsKICAgIHRoaXMuX3JlcXVlc3RJbnRlcmNlcHRvciA9IGF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgIGlmIChjb25maWcud2l0aExvYWRlcikgewogICAgICAgIC8qIEdMT0JBTCBMT0FESU5HIE9WRVJMQVkgUEFSVCAqLwogICAgICAgIHN0b3JlLmNvbW1pdCgiU0VUX0dMT0JBTF9MT0FESU5HIiwgdHJ1ZSk7CiAgICAgICAgLyogSU5DUkVNRU5UIFJFUVVFU1QgQ09VTlQgKi8KICAgICAgICByZXF1ZXN0Q291bnQrKzsKICAgICAgfQogICAgICByZXR1cm4gY29uZmlnOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGlmIChyZXF1ZXN0Q291bnQgPiAwKSAvKiBERUNSRU1FTlQgUkVRVUVTVCBDT1VOVCAqLwogICAgICAgIHJlcXVlc3RDb3VudC0tOwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgfSk7CiAgfSwKICB1bm1vdW50NDAxSW50ZXJjZXB0b3I6IGZ1bmN0aW9uIHVubW91bnQ0MDFJbnRlcmNlcHRvcigpIHsKICAgIC8vIEVqZWN0IHRoZSBpbnRlcmNlcHRvcgogICAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmVqZWN0KHRoaXMuXzQwMWludGVyY2VwdG9yKTsKICAgIGF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LmVqZWN0KHRoaXMuX3JlcXVlc3RJbnRlcmNlcHRvcik7CiAgfSwKICByZXNwb25zZVR5cGVCbG9iOiBmdW5jdGlvbiByZXNwb25zZVR5cGVCbG9iKHVybCwgd2l0aExvYWRlcikgewogICAgcmV0dXJuIGF4aW9zLmdldCh1cmwsIHsKICAgICAgd2l0aExvYWRlcjogd2l0aExvYWRlciwKICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgQXBpU2VydmljZTs="},{"version":3,"names":["Vue","axios","TokenService","store","isJson","str","JSON","parse","e","ApiService","_401interceptor","_requestInterceptor","init","baseURL","defaults","setHeader","headers","common","getToken","removeHeader","all","resource","withLoader","spread","get","post","data","config","postFile","responseType","postFileProfile","put","getFile","formDataFile","formDataPut","delete","customRequest","mount401Interceptor","requestCount","messages","interceptors","response","use","length","commit","forEach","msg","$toast","message","type","error","alertPayload","show","request","substring","status","description","details","push","dispatch","Promise","reject","unmount401Interceptor","eject","responseTypeBlob","url"],"sources":["C:/ACRU PROJECT/Fair Tech/acru-frontend/src/shared/services/api.service.js"],"sourcesContent":["import Vue from 'vue'\r\nimport axios from \"axios\";\r\nimport { TokenService } from \"./storage.service\";\r\nimport store from \"@/state/store\";\r\n\r\n// import UserService from \"./user.service\";\r\n\r\n// FUNCTION FOR CHECKING IF STRING IS JSON PARSABLE\r\nfunction isJson (str) {\r\n  try {\r\n    JSON.parse(str);\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nconst ApiService = {\r\n  // Stores the 401 interceptor position so that it can be later ejected when needed\r\n  _401interceptor: null,\r\n  _requestInterceptor: null,\r\n\r\n  init (baseURL) {\r\n    axios.defaults.baseURL = baseURL;\r\n  },\r\n\r\n  setHeader () {\r\n    axios.defaults.headers.common[\r\n      \"Authorization\"\r\n    ] = `Bearer ${TokenService.getToken()}`;\r\n  },\r\n\r\n  removeHeader () {\r\n    axios.defaults.headers.common = {};\r\n  },\r\n\r\n  all (resource, withLoader) {\r\n    return axios.all(resource, { withLoader: withLoader });\r\n  },\r\n\r\n  spread (...args) {\r\n    return axios.spread(...args);\r\n  },\r\n\r\n  get (resource, withLoader) {\r\n    return axios.get(resource, { withLoader: withLoader });\r\n  },\r\n\r\n  post (resource, data, withLoader = false, config = {}) {\r\n    return axios.post(resource, data, { withLoader: withLoader, ...config });\r\n  },\r\n  postFile (resource, data, withLoader = false) {\r\n    return axios.post(resource, data, {\r\n      responseType: \"blob\",\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  postFileProfile (resource, data, withLoader = false) {\r\n    return axios.put(resource, data, {\r\n      responseType: \"blob\",\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  getFile (resource, withLoader = false) {\r\n    return axios.get(resource, {\r\n      responseType: \"blob\",\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  formDataFile (resource, data, withLoader = false) {\r\n    return axios.post(resource, data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      },\r\n      withLoader: withLoader\r\n    });\r\n  },\r\n  formDataPut (resource, data) {\r\n    return axios.put(resource, data,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        },\r\n      })\r\n  },\r\n  put (resource, data, withLoader = false) {\r\n    return axios.put(resource, data, { withLoader: withLoader });\r\n  },\r\n\r\n  delete (resource, withLoader = false) {\r\n    return axios.delete(resource, { withLoader: withLoader });\r\n  },\r\n\r\n  /**\r\n   * Perform a custom axios request.\r\n   *\r\n   * data is an object containing the following properties:\r\n   *  - method\r\n   *  - url\r\n   *  - data ... request payload\r\n   *  - auth (optional)\r\n   *    - username\r\n   *    - password\r\n   **/\r\n  customRequest (data) {\r\n    return axios(data);\r\n  },\r\n\r\n  mount401Interceptor () {\r\n    let requestCount = 0;\r\n    let messages = [];\r\n    this._401interceptor = axios.interceptors.response.use(\r\n      response => {\r\n        if (requestCount > 0)\r\n          /* DECREMENT REQUEST COUNT */\r\n          requestCount--;\r\n        /* GLOBAL LOADING OVERLAY PART */\r\n        if (requestCount === 0) {\r\n          // CHECK IF THERE WERE ANY ERRORS\r\n          if (messages.length > 0) {\r\n            store.commit(\"SET_GLOBAL_SNACKBAR\", messages);\r\n            messages.forEach(msg => {\r\n              Vue.$toast(msg.message, { type: msg.type })\r\n            })\r\n            messages = [];\r\n          }\r\n\r\n          store.commit(\"SET_GLOBAL_LOADING\", false);\r\n        }\r\n        return response;\r\n      },\r\n      async error => {\r\n        /* DECREMENT REQUEST COUNT */\r\n        if (requestCount > 0)\r\n          requestCount--;\r\n        /* GLOBAL LOADING OVERLAY AND SHOWING ERROR MESSAGES PART */\r\n        let alertPayload = {\r\n          show: true,\r\n          message: error.request.response\r\n            ? (isJson(error.request.response)\r\n              ? JSON.parse(error.request.response).message.substring(0, 120)\r\n              : error.request.response)\r\n            : `(${error.request.status}) - Something wrong, please try again`,\r\n          description: error.request.response\r\n            ? isJson(error.request.response)\r\n              ? JSON.parse(error.request.response).details\r\n              : error.request.response\r\n            : [],\r\n          type: \"error\"\r\n        };\r\n        /* ADD ERROR MESSAGE TO GLOBAL MESSAGES STATE */\r\n        messages.push(alertPayload);\r\n        if (requestCount === 0) {\r\n          store.commit(\"SET_GLOBAL_LOADING\", false);\r\n          store.commit(\"SET_GLOBAL_SNACKBAR\", messages);\r\n          messages.forEach(msg => {\r\n            if (error.request.status === 417) {\r\n              Vue.$toast('Ushbu harakatni amalga oshirish uchun sizda ruxsat yo\\'q', { type: msg.type });\r\n            } else {\r\n              Vue.$toast(msg.message, { type: msg.type })\r\n            }\r\n          })\r\n          messages = [];\r\n        }\r\n        /* ------------------------------------------- */\r\n        if (error.request) {\r\n          if (error.request.status === 401) {\r\n            store.dispatch(\"auth/logout\");\r\n          }\r\n        }\r\n        // If error was not 401 just reject as is\r\n        throw error;\r\n      }\r\n    );\r\n    this._requestInterceptor = axios.interceptors.request.use(\r\n      function (config) {\r\n        if (config.withLoader) {\r\n          /* GLOBAL LOADING OVERLAY PART */\r\n          store.commit(\"SET_GLOBAL_LOADING\", true);\r\n          /* INCREMENT REQUEST COUNT */\r\n          requestCount++;\r\n        }\r\n\r\n        return config;\r\n      },\r\n      function (error) {\r\n        if (requestCount > 0)\r\n          /* DECREMENT REQUEST COUNT */\r\n          requestCount--;\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  },\r\n  unmount401Interceptor () {\r\n    // Eject the interceptor\r\n    axios.interceptors.response.eject(this._401interceptor);\r\n    axios.interceptors.request.eject(this._requestInterceptor);\r\n  },\r\n  responseTypeBlob(url, withLoader) {\r\n    return axios.get(url, {\r\n      withLoader: withLoader,\r\n      responseType: 'blob'\r\n    });\r\n  }\r\n};\r\n\r\nexport default ApiService;\r\n"],"mappings":"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"}]}