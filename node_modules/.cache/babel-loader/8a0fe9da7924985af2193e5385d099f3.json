{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\shared\\views\\components\\CreateFormContractor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\shared\\views\\components\\CreateFormContractor.vue","mtime":1675054786293},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcQUNSVSBQUk9KRUNUXFxGYWlyIFRlY2hcXGFjcnUtZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHRvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKiBZT1UgTVVTVCBTRU5EIHt7IE1BSU5fQVBJX1VSTCB9fSBUTyBDUlVEX1NFUlZJQ0UgKi8KaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlIjsKaW1wb3J0IGhlbHBlclNlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvaGVscGVyLnNlcnZpY2UiOwp2YXIgTUFJTl9BUElfVVJMID0gJ2NvbnRyYWN0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNyZWF0ZUZvcm1Db250cmFjdG9yIiwKCiAgLyoqIFBST1BTICovCiAgcHJvcHM6IHsKICAgIGN1c3RvbUlzTW9kZUNyZWF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCgogIC8qKiBDT01QT05FTlRTICovCiAgY29tcG9uZW50czoge30sCgogIC8qKiBEQVRBICovCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvdW5kZXJzRmllbGRzOiBbewogICAgICAgIGxhYmVsOiAiIyIsCiAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwKICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICBrZXk6ICJpbmRleCIKICAgICAgfSwgewogICAgICAgIGtleTogJ2Z1bGxOYW1lJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm5hbWUnKQogICAgICB9LCB7CiAgICAgICAga2V5OiAnaW5uJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmlubicpCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdwbmZsJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnBlcnNvbmFsX251bWJlcicpCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICd0eXBlJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnR5cGUnKQogICAgICB9LCB7CiAgICAgICAga2V5OiAnZm91bmRlclNoYXJlUGVyY2VudCcsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5zaGFyZV9wZXJjZW50YWdlJykKICAgICAgfSwgewogICAgICAgIGtleTogJ2ZvdW5kZXJTaGFyZVN1bScsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5zaGFyZV9zdW0nKQogICAgICB9XSwKICAgICAgb3JpZ2luYWxEdG86IHsKICAgICAgICBhZGRyZXNzRHRvOiB7fSwKICAgICAgICBmb3VuZGVyc0R0b3M6IFtdCiAgICAgIH0sCiAgICAgIG9yaWdpbmFsSW5uOiBudWxsLAogICAgICBvcmlnaW5hbFBpbmZsOiBudWxsLAogICAgICAvLyBDT05UUkFDVE9SIFNFTEVDVF9BTkRfQ1JFQVRFIFZBUlMKICAgICAgaGFzTmV4dFBhZ2VDb250cmFjdG9yczogZmFsc2UsCiAgICAgIGNvbnRyYWN0b3JzOiBbXSwKICAgICAgZGVib3VuY2U6IG51bGwsCiAgICAgIGlzTG9hZGluZ0NvbnRyYWN0b3JzOiBmYWxzZSwKICAgICAgY29udHJhY3RvckNyZWF0ZU1vZGFsOiBmYWxzZSwKICAgICAgY29udHJhY3RvclNlYXJjaFBheWxvYWQ6IHt9LAogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgZm9ybU9mT3duZXJzaGlwczogW10sCiAgICAgIHJlZ2lvbnM6IFtdLAogICAgICBkaXN0cmljdHM6IFtdLAogICAgICBzdGF0dXNlczogW10sCiAgICAgIGVkaXRpbmdJdGVtOiB7CiAgICAgICAgYWRkcmVzc0R0bzoge30sCiAgICAgICAgZm91bmRlcnNEdG9zOiBbXQogICAgICB9LAogICAgICBkZWZhdWx0Rm91bmRlcjogewogICAgICAgIGZvdW5kZXJOYW1lOiBudWxsLAogICAgICAgIHBlcmNlbnRhZ2U6IG51bGwKICAgICAgfQogICAgfTsKICB9LAoKICAvKiogQ09NUFVURUQgKi8KICBjb21wdXRlZDogewogICAgaXNNb2RlQ3JlYXRlOiBmdW5jdGlvbiBpc01vZGVDcmVhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1c3RvbUlzTW9kZUNyZWF0ZSA/IHRoaXMuY3VzdG9tSXNNb2RlQ3JlYXRlIDogdGhpcy4kcm91dGUubmFtZSA9PT0gJ0NyZWF0ZUNvbnRyYWN0b3InOwogICAgfSwKICAgIGNvbXB1dGVkT2JzZXJ2ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkT2JzZXJ2ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyOwogICAgfSwKICAgIGNvbXB1dGVkRm91bmRlcnNEdG9zOiBmdW5jdGlvbiBjb21wdXRlZEZvdW5kZXJzRHRvcygpIHsKICAgICAgdmFyIF90aGlzJGVkaXRpbmdJdGVtJHJlZywgX3RoaXMkZWRpdGluZ0l0ZW0kcmVnMjsKCiAgICAgIGlmICgoKF90aGlzJGVkaXRpbmdJdGVtJHJlZyA9IHRoaXMuZWRpdGluZ0l0ZW0ucmVnQ29udHJhY3RvckR0bykgPT09IG51bGwgfHwgX3RoaXMkZWRpdGluZ0l0ZW0kcmVnID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkZWRpdGluZ0l0ZW0kcmVnMiA9IF90aGlzJGVkaXRpbmdJdGVtJHJlZy5mb3VuZGVycykgPT09IG51bGwgfHwgX3RoaXMkZWRpdGluZ0l0ZW0kcmVnMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZWRpdGluZ0l0ZW0kcmVnMi5sZW5ndGgpID4gMCkgewogICAgICAgIHJldHVybiB0aGlzLmVkaXRpbmdJdGVtLnJlZ0NvbnRyYWN0b3JEdG8uZm91bmRlcnMubWFwKGZ1bmN0aW9uIChmb3VuZGVyLCBpbmRleCkgewogICAgICAgICAgaWYgKGZvdW5kZXIuZm91bmRlckluZGl2aWR1YWwpIHsKICAgICAgICAgICAgdmFyIF9mb3VuZGVyJGZvdW5kZXJJbmRpdiwgX2ZvdW5kZXIkZm91bmRlckluZGl2MiwgX2ZvdW5kZXIkZm91bmRlckluZGl2MywgX2ZvdW5kZXIkZm91bmRlckluZGl2NCwgX2ZvdW5kZXIkZm91bmRlckluZGl2NSwgX2ZvdW5kZXIkZm91bmRlckluZGl2NjsKCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LAogICAgICAgICAgICAgIGZ1bGxOYW1lOiAiIi5jb25jYXQoZm91bmRlci5mb3VuZGVySW5kaXZpZHVhbC5sYXN0TmFtZSwgIiAiKS5jb25jYXQoZm91bmRlci5mb3VuZGVySW5kaXZpZHVhbC5maXJzdE5hbWUsICIgIikuY29uY2F0KGZvdW5kZXIuZm91bmRlckluZGl2aWR1YWwubWlkZGxlTmFtZSksCiAgICAgICAgICAgICAgaW5uOiAoX2ZvdW5kZXIkZm91bmRlckluZGl2ID0gZm91bmRlci5mb3VuZGVySW5kaXZpZHVhbC50aW4pICE9PSBudWxsICYmIF9mb3VuZGVyJGZvdW5kZXJJbmRpdiAhPT0gdm9pZCAwID8gX2ZvdW5kZXIkZm91bmRlckluZGl2IDogbnVsbCwKICAgICAgICAgICAgICBwbmZsOiAoX2ZvdW5kZXIkZm91bmRlckluZGl2MiA9IGZvdW5kZXIuZm91bmRlckluZGl2aWR1YWwucGluZmwpICE9PSBudWxsICYmIF9mb3VuZGVyJGZvdW5kZXJJbmRpdjIgIT09IHZvaWQgMCA/IF9mb3VuZGVyJGZvdW5kZXJJbmRpdjIgOiBudWxsLAogICAgICAgICAgICAgIHR5cGU6IG51bGwsCiAgICAgICAgICAgICAgaXNMZWdhbDogZmFsc2UsCiAgICAgICAgICAgICAgZm91bmRlclNoYXJlUGVyY2VudDogKF9mb3VuZGVyJGZvdW5kZXJJbmRpdjMgPSAoX2ZvdW5kZXIkZm91bmRlckluZGl2NCA9IGZvdW5kZXIuZm91bmRlckluZGl2aWR1YWwpID09PSBudWxsIHx8IF9mb3VuZGVyJGZvdW5kZXJJbmRpdjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mb3VuZGVyJGZvdW5kZXJJbmRpdjQuZm91bmRlclNoYXJlUGVyY2VudCkgIT09IG51bGwgJiYgX2ZvdW5kZXIkZm91bmRlckluZGl2MyAhPT0gdm9pZCAwID8gX2ZvdW5kZXIkZm91bmRlckluZGl2MyA6IG51bGwsCiAgICAgICAgICAgICAgZm91bmRlclNoYXJlU3VtOiAoX2ZvdW5kZXIkZm91bmRlckluZGl2NSA9IChfZm91bmRlciRmb3VuZGVySW5kaXY2ID0gZm91bmRlci5mb3VuZGVySW5kaXZpZHVhbCkgPT09IG51bGwgfHwgX2ZvdW5kZXIkZm91bmRlckluZGl2NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZvdW5kZXIkZm91bmRlckluZGl2Ni5mb3VuZGVyU2hhcmVTdW0pICE9PSBudWxsICYmIF9mb3VuZGVyJGZvdW5kZXJJbmRpdjUgIT09IHZvaWQgMCA/IF9mb3VuZGVyJGZvdW5kZXJJbmRpdjUgOiBudWxsCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGZvdW5kZXIuZm91bmRlckxlZ2FsKSB7CiAgICAgICAgICAgIHZhciBfZm91bmRlciRmb3VuZGVyTGVnYWwsIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDIsIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDMsIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDQsIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDUsIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDYsIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDcsIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDg7CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgICBmdWxsTmFtZTogKF9mb3VuZGVyJGZvdW5kZXJMZWdhbCA9IChfZm91bmRlciRmb3VuZGVyTGVnYWwyID0gZm91bmRlci5mb3VuZGVyTGVnYWwpID09PSBudWxsIHx8IF9mb3VuZGVyJGZvdW5kZXJMZWdhbDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mb3VuZGVyJGZvdW5kZXJMZWdhbDIubmFtZSkgIT09IG51bGwgJiYgX2ZvdW5kZXIkZm91bmRlckxlZ2FsICE9PSB2b2lkIDAgPyBfZm91bmRlciRmb3VuZGVyTGVnYWwgOiBudWxsLAogICAgICAgICAgICAgIGlubjogKF9mb3VuZGVyJGZvdW5kZXJMZWdhbDMgPSAoX2ZvdW5kZXIkZm91bmRlckxlZ2FsNCA9IGZvdW5kZXIuZm91bmRlckxlZ2FsKSA9PT0gbnVsbCB8fCBfZm91bmRlciRmb3VuZGVyTGVnYWw0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZm91bmRlciRmb3VuZGVyTGVnYWw0LnRpbikgIT09IG51bGwgJiYgX2ZvdW5kZXIkZm91bmRlckxlZ2FsMyAhPT0gdm9pZCAwID8gX2ZvdW5kZXIkZm91bmRlckxlZ2FsMyA6IG51bGwsCiAgICAgICAgICAgICAgcG5mbDogbnVsbCwKICAgICAgICAgICAgICB0eXBlOiBudWxsLAogICAgICAgICAgICAgIGlzTGVnYWw6IHRydWUsCiAgICAgICAgICAgICAgZm91bmRlclNoYXJlUGVyY2VudDogKF9mb3VuZGVyJGZvdW5kZXJMZWdhbDUgPSAoX2ZvdW5kZXIkZm91bmRlckxlZ2FsNiA9IGZvdW5kZXIuZm91bmRlckxlZ2FsKSA9PT0gbnVsbCB8fCBfZm91bmRlciRmb3VuZGVyTGVnYWw2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZm91bmRlciRmb3VuZGVyTGVnYWw2LmZvdW5kZXJTaGFyZVBlcmNlbnQpICE9PSBudWxsICYmIF9mb3VuZGVyJGZvdW5kZXJMZWdhbDUgIT09IHZvaWQgMCA/IF9mb3VuZGVyJGZvdW5kZXJMZWdhbDUgOiBudWxsLAogICAgICAgICAgICAgIGZvdW5kZXJTaGFyZVN1bTogKF9mb3VuZGVyJGZvdW5kZXJMZWdhbDcgPSAoX2ZvdW5kZXIkZm91bmRlckxlZ2FsOCA9IGZvdW5kZXIuZm91bmRlckxlZ2FsKSA9PT0gbnVsbCB8fCBfZm91bmRlciRmb3VuZGVyTGVnYWw4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZm91bmRlciRmb3VuZGVyTGVnYWw4LmZvdW5kZXJTaGFyZVN1bSkgIT09IG51bGwgJiYgX2ZvdW5kZXIkZm91bmRlckxlZ2FsNyAhPT0gdm9pZCAwID8gX2ZvdW5kZXIkZm91bmRlckxlZ2FsNyA6IG51bGwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZWRpdGluZ0l0ZW0uZm91bmRlcnNEdG9zOwogICAgfQogIH0sCgogIC8qKiBNRVRIT0RTICovCiAgbWV0aG9kczogewogICAgLy8gQ09OVFJBQ1RPUiBTRUxFQ1RfQU5EX0NSRUFURSBNRVRIT0RTCiAgICBjb250cmFjdG9yUmVhY2hlZEVuZE9mTGlzdDogZnVuY3Rpb24gY29udHJhY3RvclJlYWNoZWRFbmRPZkxpc3QoZSkgewogICAgICBpZiAoZSAmJiAhdGhpcy5pc0xvYWRpbmdDb250cmFjdG9ycykgewogICAgICAgIHRoaXMuZmV0Y2hDb250cmFjdG9ycygpOwogICAgICB9CiAgICB9LAogICAgZGVib3VuY2VTZWFyY2hDb250cmFjdG9yczogZnVuY3Rpb24gZGVib3VuY2VTZWFyY2hDb250cmFjdG9ycyhzZWFyY2hUZXh0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmRlYm91bmNlKTsKICAgICAgICAgICAgICAgIF90aGlzLmRlYm91bmNlID0gc2V0VGltZW91dCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaENvbnRyYWN0b3JzV2l0aEtleXdvcmQoc2VhcmNoVGV4dCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgfSkpLCAxMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3VzdG9tTGFiZWxDb250cmFjdG9yOiBmdW5jdGlvbiBjdXN0b21MYWJlbENvbnRyYWN0b3Iob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuY29udHJhY3RvcnMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IG9wdDsKICAgICAgfSk7CgogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHNlbGVjdGVkLmZ1bGxOYW1lKTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZDogZnVuY3Rpb24gZmV0Y2hDb250cmFjdG9yc1dpdGhLZXl3b3JkKGtleXdvcmQpIHsKICAgICAgdmFyIG1ha2VGaXJzdFNlbGVjdGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgdGhpcy5jb250cmFjdG9ycyA9IFtdOwogICAgICB0aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnBhZ2UgPSAxOwogICAgICB0aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLmtleXdvcmQgPSBrZXl3b3JkID8ga2V5d29yZCA6ICcnOwogICAgICB0aGlzLmZldGNoQ29udHJhY3RvcnMobWFrZUZpcnN0U2VsZWN0ZWQpOwogICAgfSwKICAgIGZldGNoQ29udHJhY3RvcnM6IGZ1bmN0aW9uIGZldGNoQ29udHJhY3RvcnMobWFrZUZpcnN0U2VsZWN0ZWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnNvcnRCeSA9IFtdOwoKICAgICAgICAgICAgICAgIF90aGlzMi5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5zb3J0QnkucHVzaCgnY3JlYXRlZCcpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5zb3J0RGVzYyA9IFtdOwoKICAgICAgICAgICAgICAgIF90aGlzMi5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5zb3J0RGVzYy5wdXNoKHRydWUpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5pc0xvYWRpbmdDb250cmFjdG9ycyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0V2l0aEtleXdvcmQoJ2NvbnRyYWN0b3InLCBfdGhpczIuY29udHJhY3RvclNlYXJjaFBheWxvYWQsICdieS1jb250cmFjdG9yJywgIV90aGlzMi5jdXN0b21Jc01vZGVDcmVhdGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyJGNvbnRyYWN0b3JzOwoKICAgICAgICAgICAgICAgICAgKF90aGlzMiRjb250cmFjdG9ycyA9IF90aGlzMi5jb250cmFjdG9ycykucHVzaC5hcHBseShfdGhpczIkY29udHJhY3RvcnMsIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5saXN0KSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuaGFzTmV4dFBhZ2VDb250cmFjdG9ycyA9IHJlcy5kYXRhLnRvdGFsIC8gX3RoaXMyLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLml0ZW1zUGVyUGFnZSA+IF90aGlzMi5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5wYWdlOwogICAgICAgICAgICAgICAgICBfdGhpczIuY29udHJhY3RvclNlYXJjaFBheWxvYWQucGFnZSArPSAxOwoKICAgICAgICAgICAgICAgICAgaWYgKG1ha2VGaXJzdFNlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVkaXRpbmdJdGVtLnBhcmVudElkID0gX3RoaXMyLmNvbnRyYWN0b3JzLmxlbmd0aCA/IF90aGlzMi5jb250cmFjdG9yc1swXS5pZCA6IG51bGw7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICBfdGhpczIuY29udHJhY3RvcnMgPSBbXTsKICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuaXNMb2FkaW5nQ29udHJhY3RvcnMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBuZXdSZWZDcmVhdGVkOiBmdW5jdGlvbiBuZXdSZWZDcmVhdGVkKGZvcm1OYW1lKSB7CiAgICAgIGlmIChmb3JtTmFtZSA9PSAnQ3JlYXRlRm9ybUNvbnRyYWN0b3InKSB7CiAgICAgICAgdGhpcy5mZXRjaENvbnRyYWN0b3JzV2l0aEtleXdvcmQoJycsIHRydWUpOwogICAgICB9CiAgICB9LAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBhZGRGb3VuZGVyRHRvOiBmdW5jdGlvbiBhZGRGb3VuZGVyRHRvKCkgewogICAgICB2YXIgdG1wID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0Rm91bmRlcik7CiAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uZm91bmRlcnNEdG9zLnB1c2godG1wKTsKICAgIH0sCiAgICBzZXREZWZhdWx0QWN0aXZlU3RhdHVzOiBmdW5jdGlvbiBzZXREZWZhdWx0QWN0aXZlU3RhdHVzKCkgewogICAgICB2YXIgYWN0aXZlU3RhdHVzID0gdGhpcy5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5jb2RlID09ICdBQ1RJVkUnOwogICAgICB9KTsKCiAgICAgIGlmIChhY3RpdmVTdGF0dXMpIHsKICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnN0YXR1c0lkID0gYWN0aXZlU3RhdHVzLmlkOwogICAgICB9CiAgICB9LAogICAgcmVnaW9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIHJlZ2lvblNlbGVjdGVkKCRldmVudCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZG9udFJlc2V0RGlzdHJpY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvbnRSZXNldERpc3RyaWN0ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoIWRvbnRSZXNldERpc3RyaWN0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lZGl0aW5nSXRlbS5hZGRyZXNzRHRvLmRpc3RyaWN0SWQgPSBudWxsOwogICAgICAgICAgICAgICAgfSAvLyBHRVQgRElTVFJJQ1RTCgoKICAgICAgICAgICAgICAgIGlmICghJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZ2V0R2VvTG9jYXRpb25zQnlQYXJlbnRJZCgkZXZlbnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczMuZGlzdHJpY3RzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YWxpZGF0ZUlubjogZnVuY3Rpb24gdmFsaWRhdGVJbm4oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UudmFsaWRhdGVJbm5Gcm9tQXBpKF90aGlzNC5lZGl0aW5nSXRlbS5pbm4pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5jb21wdXRlZE9ic2VydmVyLnNldEVycm9ycyh7CiAgICAgICAgICAgICAgICAgICAgSU5OOiBbX3RoaXM0LiR0KCd2YWxpZGF0b3IuaW5uJyldCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCByZXMuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHZhbGlkYXRlUGluZmw6IGZ1bmN0aW9uIHZhbGlkYXRlUGluZmwoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM1LmVkaXRpbmdJdGVtLnBpbmZsKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jb21wdXRlZE9ic2VydmVyLnNldEVycm9ycyh7CiAgICAgICAgICAgICAgICAgICAgcGluZmw6IFtfdGhpczUuJHQoJ3ZhbGlkYXRvci5yZXF1aXJlZCcpXQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmVkaXRpbmdJdGVtLnBpbmZsLmxlbmd0aCAhPT0gMTQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNvbXB1dGVkT2JzZXJ2ZXIuc2V0RXJyb3JzKHsKICAgICAgICAgICAgICAgICAgICBwaW5mbDogW190aGlzNS4kdCgndmFsaWRhdG9yLnJlZ2V4JyldCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZXRGb3VuZGVyc0Zyb21Tb2xpcTogZnVuY3Rpb24gc2V0Rm91bmRlcnNGcm9tU29saXEoKSB7CiAgICAgIHZhciBmb3VuZGVyc0Zyb21Tb2xpcSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHZhciBmb3VuZGVyc0R0b3MgPSBmb3VuZGVyc0Zyb21Tb2xpcS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgdmFyIGZvdW5kZXJEdG8gPSB7CiAgICAgICAgICBjb250cmFjdG9ySWQ6IG51bGwsCiAgICAgICAgICBmb3VuZGVyQWRkcmVzc0lkOiBudWxsLAogICAgICAgICAgZm91bmRlckNvbnRhY3RJZDogbnVsbCwKICAgICAgICAgIGZvdW5kZXJJbmRpdmlkdWFsSWQ6IG51bGwsCiAgICAgICAgICBmb3VuZGVyTGVnYWxJZDogbnVsbCwKICAgICAgICAgIGZvdW5kZXJTaGFyZVBlcmNlbnQ6IGVsLmZvdW5kZXJJbmRpdmlkdWFsID8gZWwuZm91bmRlckluZGl2aWR1YWwuZm91bmRlclNoYXJlUGVyY2VudCA6IGVsLmZvdW5kZXJMZWdhbCA/IGVsLmZvdW5kZXJMZWdhbC5mb3VuZGVyU2hhcmVQZXJjZW50IDogbnVsbCwKICAgICAgICAgIGZvdW5kZXJTaGFyZVN1bTogZWwuZm91bmRlckluZGl2aWR1YWwgPyBlbC5mb3VuZGVySW5kaXZpZHVhbC5mb3VuZGVyU2hhcmVTdW0gOiBlbC5mb3VuZGVyTGVnYWwgPyBlbC5mb3VuZGVyTGVnYWwuZm91bmRlclNoYXJlU3VtIDogbnVsbCwKICAgICAgICAgIGZ1bGxOYW1lOiBlbC5mb3VuZGVyTGVnYWwgPyBlbC5mb3VuZGVyTGVnYWwubmFtZSA6IGVsLmZvdW5kZXJJbmRpdmlkdWFsID8gIiIuY29uY2F0KGVsLmZvdW5kZXJJbmRpdmlkdWFsLmZpcnN0TmFtZSwgIiAiKS5jb25jYXQoZWwuZm91bmRlckluZGl2aWR1YWwubGFzdE5hbWUsICIgIikuY29uY2F0KGVsLmZvdW5kZXJJbmRpdmlkdWFsLm1pZGRsZU5hbWUgPyBlbC5mb3VuZGVySW5kaXZpZHVhbC5taWRkbGVOYW1lIDogJycpIDogbnVsbCwKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgaW5uOiBlbC5mb3VuZGVyTGVnYWwgPyBlbC5mb3VuZGVyTGVnYWwudGluIDogZWwuZm91bmRlckluZGl2aWR1YWwgPyBlbC5mb3VuZGVySW5kaXZpZHVhbC50aW4gOiBudWxsLAogICAgICAgICAgaXNMZWdhbDogZWwuZm91bmRlckxlZ2FsID8gdHJ1ZSA6IGVsLmZvdW5kZXJJbmRpdmlkdWFsID8gZmFsc2UgOiBudWxsLAogICAgICAgICAgcG5mbDogZWwuZm91bmRlckluZGl2aWR1YWwgPyBlbC5mb3VuZGVySW5kaXZpZHVhbC5waW5mbCA6IG51bGwKICAgICAgICB9OwoKICAgICAgICBpZiAoZm91bmRlckR0by5pbm4pIHsKICAgICAgICAgIHJldHVybiBmb3VuZGVyRHRvOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuJHNldCh0aGlzLmVkaXRpbmdJdGVtLCAnZm91bmRlcnNEdG9zJywgZm91bmRlcnNEdG9zKTsKICAgIH0sCiAgICBmaW5kQ29udHJhY3RvckJ5SW5uOiBmdW5jdGlvbiBmaW5kQ29udHJhY3RvckJ5SW5uKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIuZmllbGRzLklOTi52YWxpZCkgaGVscGVyU2VydmljZS52YWxpZGF0ZUlubkZyb21BcGkodGhpcy5lZGl0aW5nSXRlbS5pbm4sIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgaWYgKF90aGlzNi5lZGl0aW5nSXRlbS5pbm4gIT0gX3RoaXM2Lm9yaWdpbmFsSW5uKSB7CiAgICAgICAgICAgIGhlbHBlclNlcnZpY2UuZ2V0Q29udHJhY3RvckluZm9CeUlubkZvckNyZWF0ZShfdGhpczYuZWRpdGluZ0l0ZW0uaW5uLCBfdGhpczYuZWRpdGluZ0l0ZW0ucGluZmwsIF90aGlzNi5lZGl0aW5nSXRlbS5pc1l1ciwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzLmRhdGEpOwoKICAgICAgICAgICAgICBfdGhpczYuc2V0RGVmYXVsdEFjdGl2ZVN0YXR1cygpOyAvLyBGRVRDSCBESVNUUklDVFMKCgogICAgICAgICAgICAgIF90aGlzNi5yZWdpb25TZWxlY3RlZChfdGhpczYuZWRpdGluZ0l0ZW0uYWRkcmVzc0R0by5yZWdpb25JZCwgdHJ1ZSk7IC8vIENIRUNLIEFORCBTRVQgRk9VTkRFUlMgRlJPTSBTT0xJUQoKCiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJlZ0NvbnRyYWN0b3JEdG8gJiYgcmVzLmRhdGEucmVnQ29udHJhY3RvckR0by5mb3VuZGVycykgewogICAgICAgICAgICAgICAgX3RoaXM2LnNldEZvdW5kZXJzRnJvbVNvbGlxKHJlcy5kYXRhLnJlZ0NvbnRyYWN0b3JEdG8uZm91bmRlcnMpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczYuc2V0Rm91bmRlcnNGcm9tU29saXEoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7Ly8gdGhpcy5jb21wdXRlZE9ic2VydmVyLnNldEVycm9ycyh7IElOTjogW3RoaXMuJHQoJ3ZhbGlkYXRvci5pbm5fZXhpc3QnKV0gfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaGVscGVyU2VydmljZS5nZXRDb250cmFjdG9ySW5mb0J5SW5uRm9yVXBkYXRlKF90aGlzNi5lZGl0aW5nSXRlbS5pbm4sIF90aGlzNi5lZGl0aW5nSXRlbS5waW5mbCwgX3RoaXM2LmVkaXRpbmdJdGVtLmlzWXVyLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCByZXMuZGF0YSk7CgogICAgICAgICAgICAgIF90aGlzNi4kc2V0KF90aGlzNi5lZGl0aW5nSXRlbSwgJ2FkZHJlc3NEdG8nLCBfdGhpczYub3JpZ2luYWxEdG8uYWRkcmVzc0R0byk7CgogICAgICAgICAgICAgIF90aGlzNi4kc2V0KF90aGlzNi5lZGl0aW5nSXRlbSwgJ21vYmlsZU51bWJlcicsIF90aGlzNi5vcmlnaW5hbER0by5tb2JpbGVOdW1iZXIpOwoKICAgICAgICAgICAgICBfdGhpczYuJHNldChfdGhpczYuZWRpdGluZ0l0ZW0sICdlbWFpbCcsIF90aGlzNi5vcmlnaW5hbER0by5lbWFpbCk7CgogICAgICAgICAgICAgIF90aGlzNi4kc2V0KF90aGlzNi5lZGl0aW5nSXRlbSwgJ2NhblJlZ2lzdGVyJywgX3RoaXM2Lm9yaWdpbmFsRHRvLmNhblJlZ2lzdGVyKTsKCiAgICAgICAgICAgICAgX3RoaXM2LnNldERlZmF1bHRBY3RpdmVTdGF0dXMoKTsgLy8gRkVUQ0ggRElTVFJJQ1RTCgoKICAgICAgICAgICAgICBfdGhpczYucmVnaW9uU2VsZWN0ZWQoX3RoaXM2LmVkaXRpbmdJdGVtLmFkZHJlc3NEdG8ucmVnaW9uSWQsIHRydWUpOyAvLyBDSEVDSyBBTkQgU0VUIEZPVU5ERVJTIEZST00gU09MSVEKCgogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yZWdDb250cmFjdG9yRHRvICYmIHJlcy5kYXRhLnJlZ0NvbnRyYWN0b3JEdG8uZm91bmRlcnMpIHsKICAgICAgICAgICAgICAgIF90aGlzNi5zZXRGb3VuZGVyc0Zyb21Tb2xpcShyZXMuZGF0YS5yZWdDb250cmFjdG9yRHRvLmZvdW5kZXJzKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM2LnNldEZvdW5kZXJzRnJvbVNvbGlxKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgey8vIHRoaXMuY29tcHV0ZWRPYnNlcnZlci5zZXRFcnJvcnMoeyBJTk46IFt0aGlzLiR0KCd2YWxpZGF0b3IuaW5uX2V4aXN0JyldIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM2LmNvbXB1dGVkT2JzZXJ2ZXIuc2V0RXJyb3JzKHsKICAgICAgICAgICAgSU5OOiBbX3RoaXM2LiR0KCd2YWxpZGF0b3IuaW5uJyldCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbmRDb250cmFjdG9yQnlQaW5mbDogZnVuY3Rpb24gZmluZENvbnRyYWN0b3JCeVBpbmZsKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIuZmllbGRzLlBJTkZMLnZhbGlkKSBpZiAodGhpcy5lZGl0aW5nSXRlbS5waW5mbCAhPT0gdGhpcy5vcmlnaW5hbFBpbmZsKSB7CiAgICAgICAgaGVscGVyU2VydmljZS5nZXRDb250cmFjdG9ySW5mb0J5SW5uRm9yQ3JlYXRlKHRoaXMuZWRpdGluZ0l0ZW0uaW5uLCB0aGlzLmVkaXRpbmdJdGVtLnBpbmZsLCB0aGlzLmVkaXRpbmdJdGVtLmlzWXVyLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwogICAgICAgICAgX3RoaXM3LmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7CgogICAgICAgICAgX3RoaXM3LnNldERlZmF1bHRBY3RpdmVTdGF0dXMoKTsgLy8gRkVUQ0ggRElTVFJJQ1RTCgoKICAgICAgICAgIF90aGlzNy5yZWdpb25TZWxlY3RlZChfdGhpczcuZWRpdGluZ0l0ZW0uYWRkcmVzc0R0by5yZWdpb25JZCwgdHJ1ZSk7IC8vIENIRUNLIEFORCBTRVQgRk9VTkRFUlMgRlJPTSBTT0xJUQoKCiAgICAgICAgICBpZiAoZGF0YS5yZWdDb250cmFjdG9yRHRvICYmIGRhdGEucmVnQ29udHJhY3RvckR0by5mb3VuZGVycykgewogICAgICAgICAgICBfdGhpczcuc2V0Rm91bmRlcnNGcm9tU29saXEoZGF0YS5yZWdDb250cmFjdG9yRHRvLmZvdW5kZXJzKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNy5zZXRGb3VuZGVyc0Zyb21Tb2xpcSgpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGVscGVyU2VydmljZS5nZXRDb250cmFjdG9ySW5mb0J5SW5uRm9yVXBkYXRlKHRoaXMuZWRpdGluZ0l0ZW0uaW5uLCB0aGlzLmVkaXRpbmdJdGVtLnBpbmZsLCB0aGlzLmVkaXRpbmdJdGVtLmlzWXVyLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNy5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHJlcy5kYXRhKTsKCiAgICAgICAgICBfdGhpczcuJHNldChfdGhpczcuZWRpdGluZ0l0ZW0sICdhZGRyZXNzRHRvJywgX3RoaXM3Lm9yaWdpbmFsRHRvLmFkZHJlc3NEdG8pOwoKICAgICAgICAgIF90aGlzNy4kc2V0KF90aGlzNy5lZGl0aW5nSXRlbSwgJ21vYmlsZU51bWJlcicsIF90aGlzNy5vcmlnaW5hbER0by5tb2JpbGVOdW1iZXIpOwoKICAgICAgICAgIF90aGlzNy4kc2V0KF90aGlzNy5lZGl0aW5nSXRlbSwgJ2VtYWlsJywgX3RoaXM3Lm9yaWdpbmFsRHRvLmVtYWlsKTsKCiAgICAgICAgICBfdGhpczcuJHNldChfdGhpczcuZWRpdGluZ0l0ZW0sICdjYW5SZWdpc3RlcicsIF90aGlzNy5vcmlnaW5hbER0by5jYW5SZWdpc3Rlcik7CgogICAgICAgICAgX3RoaXM3LnNldERlZmF1bHRBY3RpdmVTdGF0dXMoKTsgLy8gRkVUQ0ggRElTVFJJQ1RTCgoKICAgICAgICAgIF90aGlzNy5yZWdpb25TZWxlY3RlZChfdGhpczcuZWRpdGluZ0l0ZW0uYWRkcmVzc0R0by5yZWdpb25JZCwgdHJ1ZSk7IC8vIENIRUNLIEFORCBTRVQgRk9VTkRFUlMgRlJPTSBTT0xJUQoKCiAgICAgICAgICBpZiAocmVzLmRhdGEucmVnQ29udHJhY3RvckR0byAmJiByZXMuZGF0YS5yZWdDb250cmFjdG9yRHRvLmZvdW5kZXJzKSB7CiAgICAgICAgICAgIF90aGlzNy5zZXRGb3VuZGVyc0Zyb21Tb2xpcShyZXMuZGF0YS5yZWdDb250cmFjdG9yRHRvLmZvdW5kZXJzKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNy5zZXRGb3VuZGVyc0Zyb21Tb2xpcSgpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7Ly8gdGhpcy5jb21wdXRlZE9ic2VydmVyLnNldEVycm9ycyh7IElOTjogW3RoaXMuJHQoJ3ZhbGlkYXRvci5pbm5fZXhpc3QnKV0gfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjdXN0b21MYWJlbERpc3RyaWN0OiBmdW5jdGlvbiBjdXN0b21MYWJlbERpc3RyaWN0KG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWREaXN0cmljdCA9IHRoaXMuZGlzdHJpY3RzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSBvcHQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHNlbGVjdGVkRGlzdHJpY3QpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkRGlzdHJpY3QubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZERpc3RyaWN0Lm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWREaXN0cmljdC5uYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbFJlZ2lvbjogZnVuY3Rpb24gY3VzdG9tTGFiZWxSZWdpb24ob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZFJlZ2lvbiA9IHRoaXMucmVnaW9ucy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZFJlZ2lvbikgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWRSZWdpb24ubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZFJlZ2lvbi5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkUmVnaW9uLm5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGN1c3RvbUxhYmVsRm9ybU9mT3duZXJzaGlwOiBmdW5jdGlvbiBjdXN0b21MYWJlbEZvcm1PZk93bmVyc2hpcChvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5mb3JtT2ZPd25lcnNoaXBzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSBvcHQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgaXNJbm5WYWxpZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC52YWxpZGF0ZUlubigpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBpc0lublZhbGlkID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGlzSW5uVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzOC5jb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOC5lZGl0aW5nSXRlbS5mb3VuZGVyc0R0b3MpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5lZGl0aW5nSXRlbS5mb3VuZGVyc0R0b3MgPSBfdGhpczguZWRpdGluZ0l0ZW0uZm91bmRlcnNEdG9zLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmZvdW5kZXJOYW1lICYmIGVsLmZvdW5kZXJOYW1lLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCAmJiBlbC5wZXJjZW50YWdlOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzOC5pc01vZGVDcmVhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5lZGl0aW5nSXRlbS5pZCA9IF90aGlzOC4kcm91dGUucGFyYW1zLmlkLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnVwZGF0ZShNQUlOX0FQSV9VUkwsIF90aGlzOC5lZGl0aW5nSXRlbSwgbnVsbCwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc0R0bzoge30KICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIHRoaXMuJHJvdXRlci5nbygtMSkKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC4kdG9hc3QoX3RoaXM4LiR0KCdtZXNzYWdlcy5zYXZlZF9zdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC4kZW1pdCgnc2F2ZWQnLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5jcmVhdGUoTUFJTl9BUElfVVJMLCBfdGhpczguZWRpdGluZ0l0ZW0sIG51bGwsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguY29tcHV0ZWRPYnNlcnZlci5yZXNldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgewogICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NEdG86IHt9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiR0b2FzdChfdGhpczguJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRlbWl0KCdzYXZlZCcsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczguJHRvYXN0KF90aGlzOC4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKCiAgLyoqIENSRUFURUQgKi8KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy8gRk9SIENPTlRSQUNUT1IgU0VMRUNUX0FORF9BREQKICAgICAgICAgICAgICBfdGhpczkuY29udHJhY3RvclNlYXJjaFBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczkudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpOwoKICAgICAgICAgICAgICBfdGhpczkuZmV0Y2hDb250cmFjdG9ycygpOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCiAgICAgICAgICAgICAgX3RoaXM5LnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSA9IDUwMDsKCiAgICAgICAgICAgICAgaWYgKCFfdGhpczkuaXNNb2RlQ3JlYXRlKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0RW1wdHkoTUFJTl9BUElfVVJMLCBudWxsLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzOS5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIC8qIGlmICghdGhpcy5lZGl0aW5nSXRlbS5mb3VuZGVyc0R0b3MgfHwgIXRoaXMuZWRpdGluZ0l0ZW0uZm91bmRlcnNEdG9zLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmZvdW5kZXJzRHRvcyA9IFtdDQogICAgICAgICAgICAgICAgICAgIGxldCB0bXBGb3VuZGVyID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0Rm91bmRlcikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5mb3VuZGVyc0R0b3MucHVzaCh0bXBGb3VuZGVyKQ0KICAgICAgICAgICAgICAgIH0gKi8KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5nZXRCeUlkKE1BSU5fQVBJX1VSTCwgX3RoaXM5LiRyb3V0ZS5wYXJhbXMuaWQsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmlzWXVyID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLmlzWXVyID0gQm9vbGVhbighcmVzLmRhdGEucGluZmwgJiYgcmVzLmRhdGEuaW5uKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczkuZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczkuZWRpdGluZ0l0ZW0uaW5uLCBfdGhpczkuZWRpdGluZ0l0ZW0pOwogICAgICAgICAgICAgICAgX3RoaXM5Lm9yaWdpbmFsSW5uID0gX3RoaXM5LmVkaXRpbmdJdGVtLmlubjsKICAgICAgICAgICAgICAgIF90aGlzOS5vcmlnaW5hbFBpbmZsID0gX3RoaXM5LmVkaXRpbmdJdGVtLnBpbmZsOwogICAgICAgICAgICAgICAgX3RoaXM5Lm9yaWdpbmFsRHRvID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOwogICAgICAgICAgICAgICAgLyogaWYgKCF0aGlzLmVkaXRpbmdJdGVtLmZvdW5kZXJzRHRvcyB8fCAhdGhpcy5lZGl0aW5nSXRlbS5mb3VuZGVyc0R0b3MubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uZm91bmRlcnNEdG9zID0gW10NCiAgICAgICAgICAgICAgICAgICAgbGV0IHRtcEZvdW5kZXIgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRGb3VuZGVyKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmZvdW5kZXJzRHRvcy5wdXNoKHRtcEZvdW5kZXIpDQogICAgICAgICAgICAgICAgfSAqLwoKICAgICAgICAgICAgICAgIC8qIGlmICghdGhpcy5lZGl0aW5nSXRlbS5mb3VuZGVyc0R0b3MgfHwgIXRoaXMuZWRpdGluZ0l0ZW0uZm91bmRlcnNEdG9zLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmZvdW5kZXJzRHRvcyA9IFtdDQogICAgICAgICAgICAgICAgICAgIGxldCB0bXBGb3VuZGVyID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0Rm91bmRlcikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5mb3VuZGVyc0R0b3MucHVzaCh0bXBGb3VuZGVyKQ0KICAgICAgICAgICAgICAgIH0gKi8KICAgICAgICAgICAgICAgIGlmIChfdGhpczkuZWRpdGluZ0l0ZW0ucGFyZW50SWQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudElkeCA9IF90aGlzOS5jb250cmFjdG9ycy5maW5kSW5kZXgoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzOS5lZGl0aW5nSXRlbS5wYXJlbnRJZDsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAocGFyZW50SWR4IDwgMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzOS5jb250cmFjdG9ycy5wdXNoKF90aGlzOS5lZGl0aW5nSXRlbS5wYXJlbnQpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIC8vIEdFVCBTVEFUVVNFUwogICAgICAgICAgICAgIGhlbHBlclNlcnZpY2UuZ2V0UmVmQnlDb2RlKCdzdGF0dXMnLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzOS5zdGF0dXNlcyA9IHJlcy5kYXRhLmNoaWxkcmVuOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczkuaXNNb2RlQ3JlYXRlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5zZXREZWZhdWx0QWN0aXZlU3RhdHVzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOyAvLyBHRVQgUkVHSU9OUwoKICAgICAgICAgICAgICBoZWxwZXJTZXJ2aWNlLmZldGNoUmVnaW9ucyh0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzOS5yZWdpb25zID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgX3RoaXM5LnJlZ2lvblNlbGVjdGVkKF90aGlzOS5lZGl0aW5nSXRlbS5hZGRyZXNzRHRvLnJlZ2lvbklkLCB0cnVlKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7IC8vIEdFVCBGT1JNX09GX09XTkVSU0hJUAoKICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3QoJ2RpcmVjdG9yeS9mb3JtLW9mLW93bmVyc2hpcHMnLCBfdGhpczkudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQsIG51bGwsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgX3RoaXM5LmZvcm1PZk93bmVyc2hpcHMgPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlOCk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["CreateFormContractor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <ValidationObserver\r\n      ref=\"observer\"\r\n      v-slot=\"{}\"\r\n  >\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\" class=\"mb-4 text-bold\">\r\n        <div class=\"base-input-wrapper base-form-input base-form-component\">\r\n          <label class=\"base-form-component__label\" :class=\"{'font-weight-bold': !editingItem.isYur}\">\r\n            {{ $t('column.yatt_contragent') }}\r\n          </label>\r\n          <b-form-checkbox v-model=\"editingItem.isYur\" switch>\r\n            <span :class=\"{'font-weight-bold': editingItem.isYur}\">\r\n              {{ $t('column.legal_contragent') }}\r\n            </span>\r\n          </b-form-checkbox>\r\n        </div>\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            v-show=\"editingItem.isYur\"\r\n            v-model=\"editingItem.inn\"\r\n            name=\"INN\"\r\n            mask=\"#########\"\r\n            class=\"required\"\r\n            placeholder=\"123456789\"\r\n            with-input-append\r\n            :rules=\"{required: editingItem.isYur, regex: /\\b\\d{9}\\b/}\"\r\n            :label=\"$t('column.inn')\"\r\n            @blur=\"validateInn\"\r\n            @keyup.enter=\"findContractorByInn\"\r\n        >\r\n          <template v-slot:append-slot>\r\n            <b-button\r\n                @click=\"findContractorByInn\"\r\n                variant=\"outline-primary\"\r\n                id=\"contractorSearchButton\"\r\n                style=\"padding: 2.5px 10px; font-size: 1.2rem;\"\r\n            >\r\n              <i class=\"mdi mdi-account-search\"></i>\r\n            </b-button>\r\n          </template>\r\n        </BaseInputWithValidation>\r\n        <BaseInputWithValidation\r\n            v-show=\"!editingItem.isYur\"\r\n            v-model=\"editingItem.pinfl\"\r\n            name=\"PINFL\"\r\n            mask=\"##############\"\r\n            class=\"required\"\r\n            placeholder=\"12345678901234\"\r\n            with-input-append\r\n            :rules=\"{required: !editingItem.isYur, regex: /\\b\\d{14}\\b/}\"\r\n            :label=\"$t('column.personal_number')\"\r\n            @blur=\"validatePinfl\"\r\n            @keyup.enter=\"findContractorByPinfl\"\r\n        >\r\n          <template v-slot:append-slot>\r\n            <b-button\r\n                @click=\"findContractorByPinfl\"\r\n                variant=\"outline-primary\"\r\n                id=\"contractorSearchButton\"\r\n                style=\"padding: 2.5px 10px; font-size: 1.2rem;\"\r\n            >\r\n              <i class=\"mdi mdi-account-search\"></i>\r\n            </b-button>\r\n          </template>\r\n        </BaseInputWithValidation>\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <!-- PARENT -->\r\n        <BaseMultiselectWithValidation\r\n            not-required\r\n            v-model=\"editingItem.parentId\"\r\n            :has-next-page=\"hasNextPageContractors\"\r\n            @reachedEndOfList=\"contractorReachedEndOfList\"\r\n            @search-change=\"debounceSearchContractors\"\r\n            :searchable=\"true\"\r\n            preserve-search\r\n            :clear-on-select=\"false\"\r\n            :loading=\"isLoadingContractors\"\r\n            :internal-search=\"false\"\r\n            :options=\"contractors.map(e => e.id)\"\r\n            :label=\"$t('column.superior_parent')\"\r\n            :placeholder=\"$t('column.contractor')\"\r\n            :custom-label=\"customLabelContractor\"\r\n            open-direction=\"bottom\"\r\n            :max-height=\"600\"\r\n            :show-labels=\"false\"\r\n            with-create-addition\r\n        >\r\n          <template v-slot:append-slot>\r\n            <b-button\r\n                @click=\"contractorCreateModal = true\"\r\n                variant=\"outline-primary\"\r\n                style=\"padding: 2.5px 10px; font-size: 1.2rem;\"\r\n            >\r\n              <i class=\"mdi mdi-plus-circle\"></i>\r\n            </b-button>\r\n          </template>\r\n        </BaseMultiselectWithValidation>\r\n        <BaseModalForCreate\r\n            v-model=\"contractorCreateModal\"\r\n            without-list-search\r\n            use-component-save-fn\r\n            mainApiUrl=\"contractor\"\r\n            createFormName=\"CreateFormContractor\"\r\n            @new-ref-created-without-list-search=\"newRefCreated\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            rules=\"required\"\r\n            v-model=\"editingItem.fullName\"\r\n            :label=\"$t('column.full_name')\"\r\n            :placeholder=\"$t('column.full_name')\"\r\n            class=\"required\"\r\n        />\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            rules=\"required\"\r\n            v-model=\"editingItem.shortname\"\r\n            :label=\"$t('column.short_name')\"\r\n            :placeholder=\"$t('column.short_name')\"\r\n            class=\"required\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            rules=\"required\"\r\n            v-model=\"editingItem.director\"\r\n            :label=\"$t('column.director')\"\r\n            :placeholder=\"$t('column.director')\"\r\n            class=\"required\"\r\n        />\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            not-required\r\n            v-model=\"editingItem.accounter\"\r\n            :label=\"$t('column.accounter')\"\r\n            :placeholder=\"$t('column.accounter')\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            :rules=\"{required: false, regex: /\\b\\d{5}\\b/}\"\r\n            class=\"\"\r\n            v-model=\"editingItem.oked\"\r\n            mask=\"#####\"\r\n            :label=\"$t('column.oked')\"\r\n            placeholder=\"12345\"\r\n        />\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            not-required\r\n            v-model=\"editingItem.vatCode\"\r\n            :label=\"$t('column.vat_code')\"\r\n            :placeholder=\"$t('column.vat_code')\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseMultiselectWithValidation\r\n            rules=\"required\"\r\n            class=\"required\"\r\n            v-model=\"editingItem.addressDto.regionId\"\r\n            @select=\"regionSelected\"\r\n            :options=\"regions.map(e => e.id)\"\r\n            :label=\"$t('column.region')\"\r\n            :custom-label=\"customLabelRegion\"\r\n            :placeholder=\"$t('column.region')\"\r\n            open-direction=\"bottom\"\r\n            :max-height=\"600\"\r\n            :show-labels=\"false\"\r\n        />\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseMultiselectWithValidation\r\n            rules=\"required\"\r\n            class=\"required\"\r\n            v-model=\"editingItem.addressDto.districtId\"\r\n            :options=\"districts.map(e => e.id)\"\r\n            :label=\"$t('column.district')\"\r\n            :custom-label=\"customLabelDistrict\"\r\n            :placeholder=\"$t('column.district')\"\r\n            open-direction=\"bottom\"\r\n            :max-height=\"600\"\r\n            :show-labels=\"false\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            not-required\r\n            v-model=\"editingItem.address\"\r\n            :label=\"$t('column.address')\"\r\n            :placeholder=\"$t('column.address')\"\r\n        />\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            not-required\r\n            v-model=\"editingItem.mobileNumber\"\r\n            :label=\"$t('column.mobile_number')\"\r\n            mask=\"+998#########\"\r\n            placeholder=\"+998#########\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseMultiselectWithValidation\r\n            not-required\r\n            v-model=\"editingItem.formOfOwnershipId\"\r\n            :options=\"formOfOwnerships.map(e => e.id)\"\r\n            :label=\"$t('submodules.form_of_ownership.title')\"\r\n            :custom-label=\"customLabelFormOfOwnership\"\r\n            placeholder=\"\"\r\n            open-direction=\"bottom\"\r\n            :max-height=\"600\"\r\n            :show-labels=\"false\"\r\n        />\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\">\r\n        <BaseInputWithValidation\r\n            not-required\r\n            v-model=\"editingItem.faxNumber\"\r\n            :label=\"$t('column.fax_number')\"\r\n            :placeholder=\"$t('column.fax_number')\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\" >\r\n        <BaseInputWithValidation\r\n            not-required\r\n            v-model=\"editingItem.phoneNumber\"\r\n            :label=\"$t('column.phone_number')\"\r\n            mask=\"+998#########\"\r\n            placeholder=\"+998#########\"\r\n        />\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\" >\r\n        <BaseInputWithValidation\r\n            rules=\"email\"\r\n            v-model=\"editingItem.email\"\r\n            :label=\"$t('column.mail')\"\r\n            :placeholder=\"$t('column.mail')\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col sm=\"12\" md=\"6\" >\r\n        <!-- STATUS -->\r\n        <BaseSelectWithValidation\r\n            v-model=\"editingItem.statusId\"\r\n            class=\"required\"\r\n            rules=\"required\"\r\n            :label=\"$t('column.status')\"\r\n            value-field=\"id\"\r\n        >\r\n          <template #first>\r\n            <b-form-select-option :value=\"null\" disabled >{{ $t('column.status') }}</b-form-select-option>\r\n            <b-form-select-option v-for=\"(status, index) in statuses\" :key=\"`${status}-${index}`\" :value=\"status.id\" >\r\n              {{\r\n                getName({\r\n                  nameRu: status.nameRu,\r\n                  nameLt: status.nameLt,\r\n                  nameUz: status.nameUz,\r\n                })\r\n              }}\r\n            </b-form-select-option>\r\n          </template>\r\n        </BaseSelectWithValidation>\r\n      </b-col>\r\n      <b-col sm=\"12\" md=\"6\" >\r\n        <div class=\"form-check form-check-right\">\r\n          <input\r\n              v-model=\"editingItem.canRegister\"\r\n              class=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              id=\"formCheckIsLegal\"\r\n          />\r\n          <label\r\n              class=\"form-check-label font-weight-normal\"\r\n              for=\"formCheckIsLegal\"\r\n          >\r\n            {{ $t('column.can_login') }}\r\n          </label>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-3\">\r\n      <b-col cols=\"12\">\r\n        <h5 class=\"m-0 text-center\">\r\n          {{ $t('column.founders') }}\r\n        </h5>\r\n        <hr class=\"my-2\">\r\n        <b-table\r\n            :items=\"computedFoundersDtos\"\r\n            :fields=\"foundersFields\"\r\n            sticky-header=\"400px\"\r\n            bordered\r\n            small\r\n            hover\r\n            show-empty\r\n            striped\r\n        >\r\n          <!-- NUMBER OF ITEM -->\r\n          <template #cell(index)=\"data\">\r\n            {{\r\n              data.index + 1\r\n            }}\r\n          </template>\r\n          <!-- FOUNDER_SHARE_SUM -->\r\n          <template #cell(founderShareSum)=\"data\">\r\n            {{ data.item.founderShareSum | toCurrency }}\r\n          </template>\r\n          <!-- TYPE -->\r\n          <template #cell(type)=\"data\">\r\n            <b-badge\r\n                :variant=\"data.item.isLegal ? 'primary' : 'success'\"\r\n                class=\"font-weight-bold\"\r\n                style=\"font-size: .7rem;\"\r\n            >{{ data.item.isLegal ? $t('column.legal_entity') : $t('column.individual') }}\r\n            </b-badge>\r\n          </template>\r\n          <!-- EMPTY SLOT -->\r\n          <template #empty=\"\">\r\n            <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n          </template>\r\n        </b-table>\r\n      </b-col>\r\n    </b-row>\r\n  </ValidationObserver>\r\n</template>\r\n<script>\r\n/** YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nimport helperService from \"@/shared/services/helper.service\"\r\nconst MAIN_API_URL = 'contractor'\r\nexport default {\r\n  name: \"CreateFormContractor\",\r\n  /** PROPS */\r\n  props: {\r\n    customIsModeCreate: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  /** COMPONENTS */\r\n  components: {},\r\n  /** DATA */\r\n  data() {\r\n    return {\r\n      foundersFields: [\r\n        {\r\n          label: \"#\",\r\n          thClass: \"text-center\",\r\n          tdClass: \"text-center\",\r\n          sortable: false,\r\n          key: \"index\",\r\n        },\r\n        {\r\n          key: 'fullName',\r\n          label: this.$t('column.name'),\r\n        },\r\n        {\r\n          key: 'inn',\r\n          label: this.$t('column.inn'),\r\n        },\r\n        {\r\n          key: 'pnfl',\r\n          label: this.$t('column.personal_number'),\r\n        },\r\n        {\r\n          key: 'type',\r\n          label: this.$t('column.type'),\r\n        },\r\n        {\r\n          key: 'founderSharePercent',\r\n          label: this.$t('column.share_percentage'),\r\n        },\r\n        {\r\n          key: 'founderShareSum',\r\n          label: this.$t('column.share_sum'),\r\n        },\r\n      ],\r\n      originalDto: {\r\n        addressDto: {},\r\n        foundersDtos: []\r\n      },\r\n      originalInn: null,\r\n      originalPinfl: null,\r\n      // CONTRACTOR SELECT_AND_CREATE VARS\r\n      hasNextPageContractors: false,\r\n      contractors: [],\r\n      debounce: null,\r\n      isLoadingContractors: false,\r\n      contractorCreateModal: false,\r\n      contractorSearchPayload: {},\r\n      // ---------------------------------\r\n      formOfOwnerships: [],\r\n      regions: [],\r\n      districts: [],\r\n      statuses: [],\r\n      editingItem: {\r\n        addressDto: {},\r\n        foundersDtos: []\r\n      },\r\n      defaultFounder: {\r\n        founderName: null,\r\n        percentage: null\r\n      }\r\n    }\r\n  },\r\n  /** COMPUTED */\r\n  computed: {\r\n    isModeCreate() {\r\n      return this.customIsModeCreate ? this.customIsModeCreate : this.$route.name === 'CreateContractor'\r\n    },\r\n    computedObserver() {\r\n      return this.$refs.observer\r\n    },\r\n    computedFoundersDtos(){\r\n      if (this.editingItem.regContractorDto?.founders?.length > 0) {\r\n        return this.editingItem.regContractorDto.founders.map((founder, index) => {\r\n          if (founder.founderIndividual) {\r\n            return {\r\n              index: index,\r\n              fullName: `${founder.founderIndividual.lastName} ${founder.founderIndividual.firstName} ${founder.founderIndividual.middleName}`,\r\n              inn: founder.founderIndividual.tin ?? null,\r\n              pnfl: founder.founderIndividual.pinfl ?? null,\r\n              type: null,\r\n              isLegal: false,\r\n              founderSharePercent: founder.founderIndividual?.founderSharePercent ?? null,\r\n              founderShareSum: founder.founderIndividual?.founderShareSum ?? null,\r\n            }\r\n          }\r\n          if (founder.founderLegal) {\r\n            return {\r\n              index: index,\r\n              fullName: founder.founderLegal?.name ?? null,\r\n              inn: founder.founderLegal?.tin ?? null,\r\n              pnfl: null,\r\n              type: null,\r\n              isLegal: true,\r\n              founderSharePercent: founder.founderLegal?.founderSharePercent ?? null,\r\n              founderShareSum: founder.founderLegal?.founderShareSum ?? null,\r\n            }\r\n          }\r\n        })\r\n      }\r\n      return this.editingItem.foundersDtos\r\n    }\r\n  },\r\n  /** METHODS */\r\n  methods: {\r\n    // CONTRACTOR SELECT_AND_CREATE METHODS\r\n    contractorReachedEndOfList(e) {\r\n      if (e && !this.isLoadingContractors) {\r\n        this.fetchContractors()\r\n      }\r\n    },\r\n    async debounceSearchContractors(searchText) {\r\n      clearTimeout(this.debounce);\r\n      this.debounce = setTimeout(async () => {\r\n        await this.fetchContractorsWithKeyword(searchText);\r\n      }, 1000);\r\n    },\r\n    customLabelContractor(opt) {\r\n      let selected = this.contractors.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${selected.fullName}`\r\n      }\r\n      return ``;\r\n    },\r\n    fetchContractorsWithKeyword(keyword, makeFirstSelected = false) {\r\n      this.contractors = []\r\n      this.contractorSearchPayload.page = 1\r\n      this.contractorSearchPayload.keyword = keyword ? keyword : ''\r\n      this.fetchContractors(makeFirstSelected)\r\n    },\r\n    async fetchContractors(makeFirstSelected) {\r\n      this.contractorSearchPayload.sortBy = []\r\n      this.contractorSearchPayload.sortBy.push('created')\r\n      this.contractorSearchPayload.sortDesc = []\r\n      this.contractorSearchPayload.sortDesc.push(true)\r\n      this.isLoadingContractors = true\r\n      await crudAndListsService.searchListWithKeyword('contractor', this.contractorSearchPayload, 'by-contractor', !this.customIsModeCreate)\r\n          .then(res => {\r\n            this.contractors.push(...res.data.list)\r\n            this.hasNextPageContractors = res.data.total / this.contractorSearchPayload.itemsPerPage > this.contractorSearchPayload.page\r\n            this.contractorSearchPayload.page += 1\r\n            if (makeFirstSelected) {\r\n              this.editingItem.parentId = this.contractors.length ? this.contractors[0].id : null\r\n            }\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n            this.contractors = []\r\n          })\r\n          .finally(() => {\r\n            this.isLoadingContractors = false\r\n          })\r\n    },\r\n    newRefCreated(formName) {\r\n      if (formName == 'CreateFormContractor') {\r\n        this.fetchContractorsWithKeyword('', true)\r\n      }\r\n    },\r\n    // ------------------------------------\r\n    addFounderDto() {\r\n      let tmp = Object.assign({}, this.defaultFounder)\r\n      this.editingItem.foundersDtos.push(tmp)\r\n    },\r\n    setDefaultActiveStatus() {\r\n      let activeStatus = this.statuses.find(el => el.code == 'ACTIVE')\r\n      if (activeStatus) {\r\n        this.editingItem.statusId = activeStatus.id\r\n      }\r\n    },\r\n    async regionSelected($event, dontResetDistrict = false) {\r\n      if (!dontResetDistrict) {\r\n        this.editingItem.addressDto.districtId = null\r\n      }\r\n      // GET DISTRICTS\r\n      if ($event)\r\n        await helperService.getGeoLocationsByParentId($event)\r\n            .then(res => {\r\n              this.districts = res.data\r\n            })\r\n            .catch(e => {\r\n              console.log(e)\r\n            })\r\n    },\r\n    async validateInn() {\r\n      let res = await helperService.validateInnFromApi(this.editingItem.inn)\r\n      if (!res.data) {\r\n        this.computedObserver.setErrors({INN: [this.$t('validator.inn')]});\r\n      }\r\n      return res.data\r\n    },\r\n    async validatePinfl() {\r\n      if (!this.editingItem.pinfl) {\r\n        this.computedObserver.setErrors({pinfl: [this.$t('validator.required')]});\r\n      }\r\n      if (this.editingItem.pinfl.length !== 14) {\r\n        this.computedObserver.setErrors({pinfl: [this.$t('validator.regex')]});\r\n      }\r\n    },\r\n    setFoundersFromSoliq(foundersFromSoliq = []) {\r\n      let foundersDtos = foundersFromSoliq.filter(el => {\r\n        let founderDto = {\r\n          contractorId: null,\r\n          founderAddressId: null,\r\n          founderContactId: null,\r\n          founderIndividualId: null,\r\n          founderLegalId: null,\r\n          founderSharePercent: el.founderIndividual ? el.founderIndividual.founderSharePercent : el.founderLegal ? el.founderLegal.founderSharePercent : null,\r\n          founderShareSum: el.founderIndividual ? el.founderIndividual.founderShareSum : el.founderLegal ? el.founderLegal.founderShareSum : null,\r\n          fullName: el.founderLegal ? el.founderLegal.name : el.founderIndividual ? `${el.founderIndividual.firstName} ${el.founderIndividual.lastName} ${el.founderIndividual.middleName ? el.founderIndividual.middleName : ''}` : null,\r\n          id: null,\r\n          inn: el.founderLegal ? el.founderLegal.tin : el.founderIndividual ? el.founderIndividual.tin : null,\r\n          isLegal: el.founderLegal ? true : el.founderIndividual ? false : null,\r\n          pnfl: el.founderIndividual ? el.founderIndividual.pinfl : null,\r\n        }\r\n        if (founderDto.inn) {\r\n          return founderDto\r\n        }\r\n      })\r\n      this.$set(this.editingItem, 'foundersDtos', foundersDtos);\r\n    },\r\n    findContractorByInn() {\r\n      if (this.computedObserver.fields.INN.valid)\r\n        helperService.validateInnFromApi(this.editingItem.inn, true)\r\n            .then(res => {\r\n              if (res.data) {\r\n                if (this.editingItem.inn != this.originalInn) {\r\n                  helperService.getContractorInfoByInnForCreate(this.editingItem.inn, this.editingItem.pinfl, this.editingItem.isYur, true)\r\n                      .then(res => {\r\n                        this.editingItem = Object.assign({}, res.data)\r\n                        this.setDefaultActiveStatus()\r\n                        // FETCH DISTRICTS\r\n                        this.regionSelected(this.editingItem.addressDto.regionId, true)\r\n                        // CHECK AND SET FOUNDERS FROM SOLIQ\r\n                        if (res.data.regContractorDto && res.data.regContractorDto.founders) {\r\n                          this.setFoundersFromSoliq(res.data.regContractorDto.founders)\r\n                        } else {\r\n                          this.setFoundersFromSoliq()\r\n                        }\r\n                      })\r\n                      .catch(e => {\r\n                        // this.computedObserver.setErrors({ INN: [this.$t('validator.inn_exist')] });\r\n                      })\r\n                } else {\r\n                  helperService.getContractorInfoByInnForUpdate(this.editingItem.inn, this.editingItem.pinfl, this.editingItem.isYur, true)\r\n                      .then(res => {\r\n                        this.editingItem = Object.assign({}, res.data)\r\n                        this.$set(this.editingItem, 'addressDto', this.originalDto.addressDto)\r\n                        this.$set(this.editingItem, 'mobileNumber', this.originalDto.mobileNumber)\r\n                        this.$set(this.editingItem, 'email', this.originalDto.email)\r\n                        this.$set(this.editingItem, 'canRegister', this.originalDto.canRegister)\r\n                        this.setDefaultActiveStatus()\r\n                        // FETCH DISTRICTS\r\n                        this.regionSelected(this.editingItem.addressDto.regionId, true)\r\n                        // CHECK AND SET FOUNDERS FROM SOLIQ\r\n                        if (res.data.regContractorDto && res.data.regContractorDto.founders) {\r\n                          this.setFoundersFromSoliq(res.data.regContractorDto.founders)\r\n                        } else {\r\n                          this.setFoundersFromSoliq()\r\n                        }\r\n                      })\r\n                      .catch(e => {\r\n                        // this.computedObserver.setErrors({ INN: [this.$t('validator.inn_exist')] });\r\n                      })\r\n                }\r\n              } else {\r\n                this.computedObserver.setErrors({INN: [this.$t('validator.inn')]});\r\n              }\r\n            })\r\n            .catch(e => {\r\n              console.log(e)\r\n            })\r\n    },\r\n    findContractorByPinfl() {\r\n      if (this.computedObserver.fields.PINFL.valid)\r\n        if (this.editingItem.pinfl !== this.originalPinfl) {\r\n          helperService.getContractorInfoByInnForCreate(this.editingItem.inn, this.editingItem.pinfl, this.editingItem.isYur, true)\r\n              .then(({ data }) => {\r\n                this.editingItem = Object.assign({}, data)\r\n                this.setDefaultActiveStatus()\r\n                // FETCH DISTRICTS\r\n                this.regionSelected(this.editingItem.addressDto.regionId, true)\r\n                // CHECK AND SET FOUNDERS FROM SOLIQ\r\n                if (data.regContractorDto && data.regContractorDto.founders) {\r\n                  this.setFoundersFromSoliq(data.regContractorDto.founders)\r\n                } else {\r\n                  this.setFoundersFromSoliq()\r\n                }\r\n              })\r\n              .catch(e => {\r\n              })\r\n        } else {\r\n          helperService.getContractorInfoByInnForUpdate(this.editingItem.inn, this.editingItem.pinfl, this.editingItem.isYur, true)\r\n              .then(res => {\r\n                this.editingItem = Object.assign({}, res.data)\r\n                this.$set(this.editingItem, 'addressDto', this.originalDto.addressDto)\r\n                this.$set(this.editingItem, 'mobileNumber', this.originalDto.mobileNumber)\r\n                this.$set(this.editingItem, 'email', this.originalDto.email)\r\n                this.$set(this.editingItem, 'canRegister', this.originalDto.canRegister)\r\n                this.setDefaultActiveStatus()\r\n                // FETCH DISTRICTS\r\n                this.regionSelected(this.editingItem.addressDto.regionId, true)\r\n                // CHECK AND SET FOUNDERS FROM SOLIQ\r\n                if (res.data.regContractorDto && res.data.regContractorDto.founders) {\r\n                  this.setFoundersFromSoliq(res.data.regContractorDto.founders)\r\n                } else {\r\n                  this.setFoundersFromSoliq()\r\n                }\r\n              })\r\n              .catch(e => {\r\n                // this.computedObserver.setErrors({ INN: [this.$t('validator.inn_exist')] });\r\n              })\r\n        }\r\n    },\r\n    customLabelDistrict(opt) {\r\n      let selectedDistrict = this.districts.find(e => e.id == opt);\r\n      if (selectedDistrict) {\r\n        return `${this.getName({\r\n          nameRu: selectedDistrict.nameRu,\r\n          nameLt: selectedDistrict.nameLt,\r\n          nameUz: selectedDistrict.nameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    customLabelRegion(opt) {\r\n      let selectedRegion = this.regions.find(e => e.id == opt);\r\n      if (selectedRegion) {\r\n        return `${this.getName({\r\n          nameRu: selectedRegion.nameRu,\r\n          nameLt: selectedRegion.nameLt,\r\n          nameUz: selectedRegion.nameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    customLabelFormOfOwnership(opt) {\r\n      let selected = this.formOfOwnerships.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${this.getName({\r\n          nameRu: selected.nameRu,\r\n          nameLt: selected.nameLt,\r\n          nameUz: selected.nameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    async save() {\r\n      let isInnValid = await this.validateInn()\r\n      if (!isInnValid) {\r\n        return\r\n      }\r\n      this.computedObserver.validate().then(valid => {\r\n        if (valid) {\r\n          if (this.editingItem.foundersDtos) {\r\n            this.editingItem.foundersDtos = this.editingItem.foundersDtos.filter(el => {\r\n              return el.founderName && el.founderName.toString().trim().length && el.percentage\r\n            })\r\n          }\r\n          if (!this.isModeCreate) {\r\n            this.editingItem.id = this.$route.params.id.toString()\r\n            crudAndListsService.update(MAIN_API_URL, this.editingItem, null, true).then(res => {\r\n              this.computedObserver.reset()\r\n              this.editingItem = Object.assign({}, {addressDto: {}});\r\n              // this.$router.go(-1)\r\n              this.$toast(this.$t('messages.saved_successfully'), {type: 'success'});\r\n              this.$emit('saved', res.data)\r\n            })\r\n          } else {\r\n            crudAndListsService.create(MAIN_API_URL, this.editingItem, null, true).then(res => {\r\n              this.computedObserver.reset()\r\n              this.editingItem = Object.assign({}, {addressDto: {}});\r\n              this.$toast(this.$t('messages.saved_successfully'), {type: 'success'});\r\n              this.$emit('saved', res.data)\r\n            })\r\n          }\r\n        } else {\r\n          this.$toast(this.$t('messages.fill_required_fields'), {type: 'error'});\r\n        }\r\n      });\r\n    }\r\n  },\r\n  /** CREATED */\r\n  async created() {\r\n    // FOR CONTRACTOR SELECT_AND_ADD\r\n    this.contractorSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n    this.fetchContractors()\r\n    // -----------------------------\r\n    this.var_default_search_payload.itemsPerPage = 500\r\n    if (this.isModeCreate) {\r\n      crudAndListsService.getEmpty(MAIN_API_URL, null, true)\r\n          .then(res => {\r\n            this.editingItem = Object.assign({}, res.data)\r\n            /* if (!this.editingItem.foundersDtos || !this.editingItem.foundersDtos.length) {\r\n                this.editingItem.foundersDtos = []\r\n                let tmpFounder = Object.assign({}, this.defaultFounder)\r\n                this.editingItem.foundersDtos.push(tmpFounder)\r\n            } */\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    } else {\r\n      await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, true)\r\n          .then(res => {\r\n            if (res.data.isYur === null) {\r\n              res.data.isYur = Boolean(!res.data.pinfl && res.data.inn);\r\n            }\r\n            this.editingItem = Object.assign({}, res.data)\r\n            console.log(this.editingItem.inn, this.editingItem)\r\n            this.originalInn = this.editingItem.inn\r\n            this.originalPinfl = this.editingItem.pinfl\r\n            this.originalDto = JSON.parse(JSON.stringify(res.data))\r\n            /* if (!this.editingItem.foundersDtos || !this.editingItem.foundersDtos.length) {\r\n                this.editingItem.foundersDtos = []\r\n                let tmpFounder = Object.assign({}, this.defaultFounder)\r\n                this.editingItem.foundersDtos.push(tmpFounder)\r\n            } */\r\n            if (this.editingItem.parentId) {\r\n              let parentIdx = this.contractors.findIndex(el => el.id == this.editingItem.parentId)\r\n              if (parentIdx < 0) {\r\n                this.contractors.push(this.editingItem.parent)\r\n              }\r\n            }\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    }\r\n    // GET STATUSES\r\n    helperService.getRefByCode('status', true)\r\n        .then(res => {\r\n          this.statuses = res.data.children\r\n          if (this.isModeCreate) {\r\n            this.setDefaultActiveStatus()\r\n          }\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n    // GET REGIONS\r\n    helperService.fetchRegions(true)\r\n        .then(res => {\r\n          this.regions = res.data\r\n          this.regionSelected(this.editingItem.addressDto.regionId, true)\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n    // GET FORM_OF_OWNERSHIP\r\n    crudAndListsService\r\n        .searchList('directory/form-of-ownerships', this.var_default_search_payload, null, true)\r\n        .then((res) => {\r\n          this.formOfOwnerships = res.data.list;\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.col-form-label {\r\n  padding-top: 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n}\r\n</style>"],"sourceRoot":"src/shared/views/components"}]}