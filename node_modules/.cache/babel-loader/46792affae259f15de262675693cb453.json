{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\letterService.js","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\letterService.js","mtime":1675054786271},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1667355397815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgQXBpU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9hcGkuc2VydmljZSc7CmltcG9ydCBwcm9qZWN0U2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9wcm9qZWN0U2VydmljZSc7Ci8vIGltcG9ydCB7Y3hvbmZpZ3VyZX0gZnJvbSAndmVlLXZhbGlkYXRlJwoKZXhwb3J0IGRlZmF1bHQgewogIGZldGNoQ2hhcnREYXRhQXBwbGljYXRpb25zQnlTdGF0dXNlc0ZvclllYXJGb3JEWEE6IGZ1bmN0aW9uIGZldGNoQ2hhcnREYXRhQXBwbGljYXRpb25zQnlTdGF0dXNlc0ZvclllYXJGb3JEWEEoeWVhcikgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCJhcHBsaWNhdGlvbi1keGEvZ2V0LWRhdGEtZm9yLWNoYXJ0LWJ5LW1vbnRoP3llYXI9Ii5jb25jYXQoeWVhcikpOwogIH0sCiAgZ2l2ZVZpc2FGb3JEWEE6IGZ1bmN0aW9uIGdpdmVWaXNhRm9yRFhBKGFwcGxpY2F0aW9uSWQsIHBhcmFtcykgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL2dldC12aXNhLyIuY29uY2F0KGFwcGxpY2F0aW9uSWQsICI/ZW1wbG95ZWVJZD0iKS5jb25jYXQocGFyYW1zLmlkLCAiJmNvbW1lbnQ9IikuY29uY2F0KHBhcmFtcy5jb21tZW50KSk7CiAgfSwKICBzZW5kVG9Db21taXNzaW9uRnJvbUR4YTogZnVuY3Rpb24gc2VuZFRvQ29tbWlzc2lvbkZyb21EeGEoYXBwbGljYXRpb25JZCwgY29tbWlzc2lvblR5cGVJZCkgewogICAgdmFyIGNvbW1lbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnOwogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL3NlbmQtdG8tY29tbWlzc2lvbi9mcm9tLWR4YS8iLmNvbmNhdChhcHBsaWNhdGlvbklkLCAiLyIpLmNvbmNhdChjb21taXNzaW9uVHlwZUlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpKTsKICB9LAogIFNpZ25hdHVyZUdpdmVWaXNhRm9yRFhBOiBmdW5jdGlvbiBTaWduYXR1cmVHaXZlVmlzYUZvckRYQShkYXRhLCBib2R5RGF0ZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL2FwcHJvdmUtdmlzYS8iLmNvbmNhdChkYXRhLmFwcGxpY2F0aW9uSWQsICI/ZW1wbG95ZWVJZD0iKS5jb25jYXQoZGF0YS5lbXBsb3llZUlkLCAiJmxldHRlcklkPSIpLmNvbmNhdChkYXRhLmxldHRlcklkLCAiJmNvbW1lbnQ9IikuY29uY2F0KGJvZHlEYXRlLmNvbW1lbnQsICImZ2l2ZVZpc2FEYXRlPSIpLmNvbmNhdChib2R5RGF0ZS5naXZlVmlzYURhdGUpKTsKICB9LAogIGZldGNoQ2hhcnREYXRhQ3VycmVudEFwcGxpY2F0aW9uU3RhdHVzZXNGb3JEWEE6IGZ1bmN0aW9uIGZldGNoQ2hhcnREYXRhQ3VycmVudEFwcGxpY2F0aW9uU3RhdHVzZXNGb3JEWEEoKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoImFwcGxpY2F0aW9uLWR4YS9nZXQtZGF0YS1mb3ItY2hhcnQiKTsKICB9LAogIGZldGNoQ2hhcnREYXRhQXBwbGljYXRpb25zQnlTdGF0dXNlc0ZvclllYXI6IGZ1bmN0aW9uIGZldGNoQ2hhcnREYXRhQXBwbGljYXRpb25zQnlTdGF0dXNlc0ZvclllYXIoeWVhcikgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCJiZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9nZXQtZGF0YS1mb3ItY2hhcnQtYnktbW9udGg/eWVhcj0iLmNvbmNhdCh5ZWFyKSk7CiAgfSwKICBmZXRjaENoYXJ0RGF0YUN1cnJlbnRBcHBsaWNhdGlvblN0YXR1c2VzOiBmdW5jdGlvbiBmZXRjaENoYXJ0RGF0YUN1cnJlbnRBcHBsaWNhdGlvblN0YXR1c2VzKCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCJiZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9nZXQtZGF0YS1mb3ItY2hhcnQiKTsKICB9LAogIGxpc3RBcHBsaWNhdGlvbnNCeVN0YXR1czogZnVuY3Rpb24gbGlzdEFwcGxpY2F0aW9uc0J5U3RhdHVzKHBheWxvYWQpIHsKICAgIHZhciBzdGF0dXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogICAgdmFyIGtleXdvcmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnOwogICAgdmFyIG15UGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oe30sIHBheWxvYWQpOwogICAgbXlQYXlsb2FkLnBhZ2UgLT0gMTsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImJlZm9yZS1jb21taXNzaW9uL2FwcGxpY2F0aW9uL2xpc3Qtc2VhcmNoLWJ5LWFwcGxpY2F0aW9uLXN0YXR1cz9rZXl3b3JkPSIuY29uY2F0KGtleXdvcmQsICImc3RhdHVzPSIpLmNvbmNhdChzdGF0dXMgPyBzdGF0dXMgOiAnJyksIG15UGF5bG9hZCk7CiAgfSwKICBsaXN0RFhBX0FwcGxpY2F0aW9uc0J5U3RhdHVzOiBmdW5jdGlvbiBsaXN0RFhBX0FwcGxpY2F0aW9uc0J5U3RhdHVzKHBheWxvYWQpIHsKICAgIHZhciBzdGF0dXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogICAgdmFyIGtleXdvcmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnOwogICAgdmFyIGFjdGl2ZURYQVRhYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogICAgdmFyIG15UGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oe30sIHBheWxvYWQpOwogICAgbXlQYXlsb2FkLnBhZ2UgLT0gMTsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImFwcGxpY2F0aW9uLWR4YS9saXN0LXNlYXJjaC9ieS1zdGF0dXM/a2V5d29yZD0iLmNvbmNhdChrZXl3b3JkLCAiJnN0YXR1cz0iKS5jb25jYXQoc3RhdHVzID8gc3RhdHVzIDogJycsICImYXBwbGljYXRpb25UeXBlPSIpLmNvbmNhdChhY3RpdmVEWEFUYWIgPT0gJ0ZPUl9TQUxFJyA/ICdGT1JfU0FMRScgOiAnRk9SX0FERCcpLCBteVBheWxvYWQpOwogIH0sCiAgZ2V0TGlzdE1vbml0b3I6IGZ1bmN0aW9uIGdldExpc3RNb25pdG9yKF9yZWYsIGFjdGl2ZURYQVRhYikgewogICAgdmFyIHBhcmFtcyA9IF9yZWYucGFyYW1zLAogICAgICBzZWFyY2ggPSBfcmVmLnNlYXJjaDsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9hcHBsaWNhdGlvbi1keGEvbGlzdC1zZWFyY2gvYmVmb3JlLXJlZ2lzdGVyP2tleXdvcmQ9Ii5jb25jYXQoc2VhcmNoLCAiJmFwcGxpY2F0aW9uVHlwZT0iKS5jb25jYXQoYWN0aXZlRFhBVGFiID09ICdGT1JfU0FMRScgPyAnRk9SX1NBTEUnIDogJ0ZPUl9BREQnKSwgcGFyYW1zKTsKICB9LAogIGdldFJlZ2lvbnM6IGZ1bmN0aW9uIGdldFJlZ2lvbnMoKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvZGVwYXJ0bWVudC9saXN0LXNlYXJjaC95dXJkZXAiKTsKICB9LAogIGFjY2VwdEFwcGlsY2F0aW9uOiBmdW5jdGlvbiBhY2NlcHRBcHBpbGNhdGlvbihhcHBsaWNhdGlvbl9pZCwgZGVwYXJ0bWVudF9pZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiYXBwbGljYXRpb24tZHhhL3JlY2VpdmU/aWQ9Ii5jb25jYXQoYXBwbGljYXRpb25faWQsICImZGVwYXJ0bWVudF9pZD0iKS5jb25jYXQoZGVwYXJ0bWVudF9pZCA/IGRlcGFydG1lbnRfaWQgOiAnJykpOwogIH0sCiAgYWNjZXB0U2VuZGVyUmVnaW9uOiBmdW5jdGlvbiBhY2NlcHRTZW5kZXJSZWdpb24oYXBwbGljYXRpb25faWQsIGRlcGFydG1lbnRfaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImFwcGxpY2F0aW9uLWR4YS9yZWNlaXZlP2lkPSIuY29uY2F0KGFwcGxpY2F0aW9uX2lkLCAiJmRlcGFydG1lbnRfaWQ9IikuY29uY2F0KGRlcGFydG1lbnRfaWQgPyBkZXBhcnRtZW50X2lkIDogJycpKTsKICB9LAogIGFwcGxpY2F0aW9uUmV2aWV3Tk9UX0NPTVBMRVRFOiBmdW5jdGlvbiBhcHBsaWNhdGlvblJldmlld05PVF9DT01QTEVURShvYmosIElEKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvYmVmb3JlLWNvbW1pc3Npb24vYXBwbGljYXRpb24vYXBwbGljYXRpb24tcmV2aWV3L25vdC1jb21wbGV0ZWQ/aWQ9Ii5jb25jYXQoSUQpLCBvYmopOwogIH0sCiAgZ2V0Qm9keTogZnVuY3Rpb24gZ2V0Qm9keShpZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL2dldEJvZHlCeUlkLyIuY29uY2F0KGlkKSk7CiAgfSwKICB2aWV3UGRmQnlMZXR0ZXJJZDogZnVuY3Rpb24gdmlld1BkZkJ5TGV0dGVySWQobGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9sZXR0ZXJWaWV3LyIuY29uY2F0KGxldHRlcklkKSk7CiAgfSwKICBzYXZlTGV0dGVyQm9keTogZnVuY3Rpb24gc2F2ZUxldHRlckJvZHkobGV0dGVySWQsIHRleHQsIHNpZ25lcikgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9sZXR0ZXJTYXZlP2xldHRlcklkPSIuY29uY2F0KGxldHRlcklkLCAiJnNpZ25lcklkPSIpLmNvbmNhdChzaWduZXIgPyBzaWduZXIgOiAnJyksIHsKICAgICAgYm9keTogdGV4dAogICAgfSk7CiAgfSwKICByZW1vdmVMZXR0ZXI6IGZ1bmN0aW9uIHJlbW92ZUxldHRlcihsZXR0ZXJJZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZGVsZXRlKCIvbGV0dGVyL2RlbGV0ZS8iLmNvbmNhdChsZXR0ZXJJZCkpOwogIH0sCiAgcmVtb3ZlRmlsZTogZnVuY3Rpb24gcmVtb3ZlRmlsZShsZXR0ZXJJZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZGVsZXRlKCIvbGV0dGVyQXR0YWNoZWRGaWxlL2RlbGV0ZS8iLmNvbmNhdChsZXR0ZXJJZCkpOwogIH0sCiAgZ2V0QXR0YWNoZWRGaWxlc0J5SWQ6IGZ1bmN0aW9uIGdldEF0dGFjaGVkRmlsZXNCeUlkKGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXJBdHRhY2hlZEZpbGUvbGlzdC8iLmNvbmNhdChsZXR0ZXJJZCkpOwogIH0sCiAgcHJvamVjdExldHRlcnNCeUxldHRlcklkOiBmdW5jdGlvbiBwcm9qZWN0TGV0dGVyc0J5TGV0dGVySWQobGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImxldHRlci9wcm9qZWN0LWxldHRlcnMvYnktbGV0dGVyLWlkLyIuY29uY2F0KGxldHRlcklkKSk7CiAgfSwKICBjcmVhdGVBdHRhY2hlZEZpbGU6IGZ1bmN0aW9uIGNyZWF0ZUF0dGFjaGVkRmlsZShsZXR0ZXJJZCwgZmlsZSkgewogICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlKTsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmZvcm1EYXRhKCIvbGV0dGVyQXR0YWNoZWRGaWxlL2NyZWF0ZS8iLmNvbmNhdChsZXR0ZXJJZCksIGZvcm1EYXRhKTsKICB9LAogIGdldExpc3REb2N1bWVudFR5cGU6IGZ1bmN0aW9uIGdldExpc3REb2N1bWVudFR5cGUoX3JlZjIsIHYpIHsKICAgIHZhciBwYXJhbXMgPSBfcmVmMi5wYXJhbXMsCiAgICAgIHNlYXJjaCA9IF9yZWYyLnNlYXJjaDsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9kb2NTYW1wbGUvbGlzdD9zZWFyY2g9Ii5jb25jYXQoc2VhcmNoLCAiJmNvZGU9IikuY29uY2F0KHYpLCBwYXJhbXMpOwogIH0sCiAgY29udmVydFRvUGRmQnlBcGk6IGZ1bmN0aW9uIGNvbnZlcnRUb1BkZkJ5QXBpKGNvbmZpZykgewogICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgd2l0aExvYWRlcjsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgd2l0aExvYWRlciA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9jYWxsYmFjaz90eXBlPWNvbnZlcnQiLCBjb25maWcsIHdpdGhMb2FkZXIpKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdChfcmVmMykgewogICAgdmFyIHBhcmFtcyA9IF9yZWYzLnBhcmFtcywKICAgICAgc2VhcmNoID0gX3JlZjMuc2VhcmNoOwogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2RvY3VtZW50L2xpc3QiLCBwYXJhbXMpOwogIH0sCiAgZ2V0QnlJZDogZnVuY3Rpb24gZ2V0QnlJZChpZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvZG9jdW1lbnQvZ2V0LWJ5LWlkLyIuY29uY2F0KGlkKSk7CiAgfSwKICBzZXRMZXR0ZXJSZWp0T3JBY2NlcHQ6IGZ1bmN0aW9uIHNldExldHRlclJlanRPckFjY2VwdChpZCwgYm9vbCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL3JlamVjdC1vci1hY2NlcHQvIi5jb25jYXQoaWQsICI/aXNSZWplY3RlZD0iKS5jb25jYXQoYm9vbCkpOwogIH0sCiAgcmVqZWN0TGV0dGVyVG9SZWplY3Q6IGZ1bmN0aW9uIHJlamVjdExldHRlclRvUmVqZWN0KHBheWxvYWQsIGFzc2lnbm1lbnRJZCwgeCwgeSwgY3VycmVudFBhZ2UsIGNvbW1lbnQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC1yZWplY3QtbGV0dGVyL3RvLXJlamVjdC8iLmNvbmNhdChhc3NpZ25tZW50SWQsICI/Y29tbWVudD0iKS5jb25jYXQoY29tbWVudCwgIiZ4PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIGdldEluY29tZVRvdGFsQ291bnQ6IGZ1bmN0aW9uIGdldEluY29tZVRvdGFsQ291bnQoKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvdG90YWxDb3VudCIpOwogIH0sCiAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZGF0YSkgewogICAgdmFyIHF1ZXJ5X2RhdGEgPSAiP2ZpbGVOYW1lPSIuY29uY2F0KGRhdGEubmFtZSwgIiZyZWdOdW1iZXI9IikuY29uY2F0KGRhdGEucmVnTnVtYmVyLCAiJmRhdGU9IikuY29uY2F0KGRhdGEuZGF0ZSwgIiZkb2NTYW1wbGVJZD0iKS5jb25jYXQoZGF0YS5kb2NTYW1wbGVJZCA9PSAnYmxhbmsnID8gJycgOiBkYXRhLmRvY1NhbXBsZUlkKTsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbGV0dGVyU2F2ZSIuY29uY2F0KHF1ZXJ5X2RhdGEpKTsKICB9LAogIGdldExpc3RMZXR0ZXI6IGZ1bmN0aW9uIGdldExpc3RMZXR0ZXIoX3JlZjQpIHsKICAgIHZhciBwYXJhbXMgPSBfcmVmNC5wYXJhbXMsCiAgICAgIHNlYXJjaCA9IF9yZWY0LnNlYXJjaDsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvZHJhZnRMaXN0P3NlYXJjaD0iLmNvbmNhdChzZWFyY2gpLCBwYXJhbXMpOwogIH0sCiAgZ2V0TGlzdExldHRlckluY29tZTogZnVuY3Rpb24gZ2V0TGlzdExldHRlckluY29tZShfcmVmNSwgYWN0aW9uKSB7CiAgICB2YXIgcGFyYW1zID0gX3JlZjUucGFyYW1zLAogICAgICBzZWFyY2ggPSBfcmVmNS5zZWFyY2g7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL2luY29tZUxpc3Q/c2VhcmNoPSIuY29uY2F0KHNlYXJjaCwgIiZhY3Rpb249IikuY29uY2F0KGFjdGlvbiksIHBhcmFtcyk7CiAgfSwKICBnZXRMaXN0TGV0dGVyVmlzYTogZnVuY3Rpb24gZ2V0TGlzdExldHRlclZpc2EoX3JlZjYsIGFjdGlvbikgewogICAgdmFyIHBhcmFtcyA9IF9yZWY2LnBhcmFtcywKICAgICAgc2VhcmNoID0gX3JlZjYuc2VhcmNoOwogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL2ZvclZpc2FMaXN0P3NlYXJjaD0iLmNvbmNhdChzZWFyY2gsICImYWN0aW9uPSIpLmNvbmNhdChhY3Rpb24pLCBwYXJhbXMpOwogIH0sCiAgZ2V0VmlzYUluZm86IGZ1bmN0aW9uIGdldFZpc2FJbmZvKGFwcGxpY2F0aW9uSWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgibGV0dGVyL3Zpc2EtaW5mby8iLmNvbmNhdChhcHBsaWNhdGlvbklkKSk7CiAgfSwKICBnZXRMaXN0TGV0dGVyU2VuZDogZnVuY3Rpb24gZ2V0TGlzdExldHRlclNlbmQoX3JlZjcpIHsKICAgIHZhciBwYXJhbXMgPSBfcmVmNy5wYXJhbXMsCiAgICAgIHNlYXJjaCA9IF9yZWY3LnNlYXJjaDsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvc2VuZExpc3Q/c2VhcmNoPSIuY29uY2F0KHNlYXJjaCksIHBhcmFtcyk7CiAgfSwKICBnZXRCeUlkTGV0dGVyOiBmdW5jdGlvbiBnZXRCeUlkTGV0dGVyKGlkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvZ2V0LWJ5LWlkLyIuY29uY2F0KGlkKSk7CiAgfSwKICBnZXRCeUlkU2VuZFRvUmFpczogZnVuY3Rpb24gZ2V0QnlJZFNlbmRUb1JhaXMoaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9nZXQtYnktaWQvYnktYXBwbGljYXRpb24taWQvIi5jb25jYXQoaWQpKTsKICB9LAogIGdldFJlamVjdExldHRlcjogZnVuY3Rpb24gZ2V0UmVqZWN0TGV0dGVyKGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvZ2V0LXJlamVjdC1sZXR0ZXIvIi5jb25jYXQobGV0dGVySWQpKTsKICB9LAogIHNlbmREb2M6IGZ1bmN0aW9uIHNlbmREb2MoaWQsIHBhcmFtcykgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9zZW5kLyIuY29uY2F0KGlkKSwgcGFyYW1zKTsKICB9LAogIHNlbmRRdW9ydW06IGZ1bmN0aW9uIHNlbmRRdW9ydW0ocHJvamVjdElkLCBwYXJhbXMpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnB1dCgiL3Byb2plY3Qvbm8tcXVvcnVtLyIuY29uY2F0KHByb2plY3RJZCwgIj9kYXRlPSIpLmNvbmNhdChwYXJhbXMuZGF0ZSksIHBhcmFtcyk7CiAgfSwKICBvbmx5RG9jU2lnbjogZnVuY3Rpb24gb25seURvY1NpZ24ocGF5bG9hZCwgaWQsIHgsIHksIGN1cnJlbnRQYWdlKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQvIi5jb25jYXQoaWQsICI/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBzaWduRGVjaXNpb246IGZ1bmN0aW9uIHNpZ25EZWNpc2lvbihwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UsIGNvbW1lbnQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC9kZWNpc2lvbi8iLmNvbmNhdChpZCwgIj94PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UsICImY29tbWVudD0iKS5jb25jYXQoY29tbWVudCksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgb25seURvY1NpZ25TZW5kVG9SYWlzOiBmdW5jdGlvbiBvbmx5RG9jU2lnblNlbmRUb1JhaXMocGF5bG9hZCwgaWQsIHgsIHksIGN1cnJlbnRQYWdlLCBjb21taXNzaW9uVHlwZUlkLCBjb21taXNzaW9uQ29tbWVudCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9tYWtlU2lnbmVkL2Zyb20tZHhhLyIuY29uY2F0KGlkLCAiLyIpLmNvbmNhdChjb21taXNzaW9uVHlwZUlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1pc3Npb25Db21tZW50LCAiJng9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgb25seURvY1NpZ25TZW5kVG9SYWlzT25Jbm5lcjogZnVuY3Rpb24gb25seURvY1NpZ25TZW5kVG9SYWlzT25Jbm5lcihwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UsIG1hbmFnZW1lbnRFbXBsb3llZUlkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQvdG8tc2lnbi8iLmNvbmNhdChpZCwgIi8iKS5jb25jYXQobWFuYWdlbWVudEVtcGxveWVlSWQsICI/Y29tbWVudD0iKS5jb25jYXQoY29tbWVudCwgIiZ4PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIG9ubHlEb2NTaWduRk9STm90QmVsb25nOiBmdW5jdGlvbiBvbmx5RG9jU2lnbkZPUk5vdEJlbG9uZyhwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC9ub3QtYmVsb25nLyIuY29uY2F0KGlkLCAiP3g9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgb25seURvY1NpZ25Gb3JUb1JldHVybjogZnVuY3Rpb24gb25seURvY1NpZ25Gb3JUb1JldHVybihwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC90by1yZXR1cm4vIi5jb25jYXQoaWQsICI/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBvbmx5RG9jTWFrZVNpZ25lZFRvUmVqZWN0OiBmdW5jdGlvbiBvbmx5RG9jTWFrZVNpZ25lZFRvUmVqZWN0KHBheWxvYWQsIGFzc2lnbm1lbnRJZCwgZW1wbG95ZWVJZCwgY29tbWVudCwgeCwgeSwgY3VycmVudFBhZ2UpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC1jb21wcm9taXNlLWRlY2lzaW9uL3RvLXJlamVjdC8iLmNvbmNhdChhc3NpZ25tZW50SWQsICIvIikuY29uY2F0KGVtcGxveWVlSWQsICI/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlLCAiJmNvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIG9ubHlEb2NTaWduRk9SQmVmb3JlUHJvamVjdDogZnVuY3Rpb24gb25seURvY1NpZ25GT1JCZWZvcmVQcm9qZWN0KHBheWxvYWQsIGlkLCB4LCB5LCBjdXJyZW50UGFnZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgibGV0dGVyL21ha2VTaWduZWQvZnJvbS1keGEvZm9yLWNvbmZpcm0vIi5jb25jYXQoaWQsICI/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBtYWtlU2lnbmVkSW52b2tlTGV0dGVyOiBmdW5jdGlvbiBtYWtlU2lnbmVkSW52b2tlTGV0dGVyKHBheWxvYWQsIHByb2plY3RJZCwgbGV0dGVySWQsIGVtcGxveWVlSWQsIGNvbW1lbnQsIHgsIHksIGN1cnJlbnRQYWdlKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJsZXR0ZXIvbWFrZVNpZ25lZC1pbnZva2UtbGV0dGVyLyIuY29uY2F0KHByb2plY3RJZCwgIi8iKS5jb25jYXQobGV0dGVySWQsICIvIikuY29uY2F0KGVtcGxveWVlSWQsICIvP3g9IikuY29uY2F0KHgsICImeT0iKS5jb25jYXQoeSwgIiZwYWdlPSIpLmNvbmNhdChjdXJyZW50UGFnZSwgIiZjb21tZW50PSIpLmNvbmNhdChjb21tZW50KSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBvbmx5RG9jU2lnbk5vdEJlbG9uZzogZnVuY3Rpb24gb25seURvY1NpZ25Ob3RCZWxvbmcocGF5bG9hZCwgbGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImJlZm9yZS1jb21taXNzaW9uL2FwcGxpY2F0aW9uL2FwcGxpY2F0aW9uLXJldmlldy9ub3QtYmVsb25nP2xldHRlcklkPSIuY29uY2F0KGxldHRlcklkKSwgcGF5bG9hZCk7CiAgfSwKICBvbmx5RG9jU2lnbkZvclJldmlzaW9uOiBmdW5jdGlvbiBvbmx5RG9jU2lnbkZvclJldmlzaW9uKHBheWxvYWQsIGlkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJsZXR0ZXIvZm9yLXJldmlzaW9uL2Zyb20tY29tbWlzc2lvbi8iLmNvbmNhdChpZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50KSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBvbmx5RG9jU2lnbkZvclJSZWplY3RlZEJ5UmFpczogZnVuY3Rpb24gb25seURvY1NpZ25Gb3JSUmVqZWN0ZWRCeVJhaXMocGF5bG9hZCwgbGV0dGVySWQsIGlkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJsZXR0ZXIvZm9yLXJldmlzaW9uL3RvLWNvbW1pc3Npb24vIi5jb25jYXQobGV0dGVySWQsICIvIikuY29uY2F0KGlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIGxldHRlckNhbmNlbGxlZDogZnVuY3Rpb24gbGV0dGVyQ2FuY2VsbGVkKHBheWxvYWQsIGxldHRlcklkLCBhc3NpZ25tZW50SWQsIGNvbW1lbnQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvY2FuY2VsbGVkLyIuY29uY2F0KGxldHRlcklkLCAiLyIpLmNvbmNhdChhc3NpZ25tZW50SWQsICI/Y29tbWVudD0iKS5jb25jYXQoY29tbWVudCksIHBheWxvYWQsIHRydWUpOwogIH0sCiAgcmVzdWx0QXBwbGljYXRpb25Gb3JEWEE6IGZ1bmN0aW9uIHJlc3VsdEFwcGxpY2F0aW9uRm9yRFhBKHBheWxvYWQsIGxldHRlcklkLCBhcHBsaWNhdGlvbkRYQUlkLCBwYXltZW50QW1vdW50KSB7CiAgICB2YXIgZmlsZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IFtdOwogICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgicGF5bWVudEZpbGVzIiwgaXRlbS5maWxlKTsKICAgIH0pOwogICAgcmV0dXJuIEFwaVNlcnZpY2UuZm9ybURhdGFGaWxlKCIvYmVmb3JlLWNvbW1pc3Npb24vYXBwbGljYXRpb24vYXBwbGljYXRpb24tcmV2aWV3L2FjY2VwdGVkP2xldHRlcklkPSIuY29uY2F0KGxldHRlcklkLCAiJmFwcGxpY2F0aW9uRFhBSWQ9IikuY29uY2F0KGFwcGxpY2F0aW9uRFhBSWQsICImcGF5bWVudEFtb3VudD0iKS5jb25jYXQocGF5bWVudEFtb3VudCksIGZvcm1EYXRhKTsKICB9LAogIHJlc3VsdEFwcGxpY2F0aW9uRm9yRFhBUmVqZWN0ZWQ6IGZ1bmN0aW9uIHJlc3VsdEFwcGxpY2F0aW9uRm9yRFhBUmVqZWN0ZWQocGF5bG9hZCwgbGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImJlZm9yZS1jb21taXNzaW9uL2FwcGxpY2F0aW9uL2FwcGxpY2F0aW9uLXJldmlldy9yZWplY3RlZD9sZXR0ZXJJZD0iLmNvbmNhdChsZXR0ZXJJZCksIHBheWxvYWQpOwogIH0sCiAgdXBsb2FkUmVqZWN0TGV0dGVyOiBmdW5jdGlvbiB1cGxvYWRSZWplY3RMZXR0ZXIobGV0dGVySWQsIGxldHRlclR5cGUpIHsKICAgIHZhciBsZXR0ZXJOYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAiUmFkIGV0aXNoIHhhdGkiOwogICAgcmV0dXJuIEFwaVNlcnZpY2UucHV0KCIvbGV0dGVyL3VwbG9hZC1yZWplY3QtbGV0dGVyLyIuY29uY2F0KGxldHRlcklkLCAiP2xldHRlclR5cGU9IikuY29uY2F0KGxldHRlclR5cGUsICImbGV0dGVyTmFtZT0iKS5jb25jYXQobGV0dGVyTmFtZSksIG51bGwsIHRydWUpOwogIH0sCiAgc2lnbkRvYzogZnVuY3Rpb24gc2lnbkRvYyhwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UsIGNvbW1pc3Npb25UeXBlSWQsIGNvbW1pc3Npb25Db21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWROZXcvIi5jb25jYXQoaWQsICIvIikuY29uY2F0KGNvbW1pc3Npb25UeXBlSWQsICI/Y29tbWVudD0iKS5jb25jYXQoY29tbWlzc2lvbkNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBtYWtlU2lnbmVkTmV3V2l0aEhlYWRPZkRlcGFydG1lbnQ6IGZ1bmN0aW9uIG1ha2VTaWduZWROZXdXaXRoSGVhZE9mRGVwYXJ0bWVudChwYXlsb2FkLCBpZCwgeCwgeSwgY3VycmVudFBhZ2UsIGNvbW1pc3Npb25UeXBlSWQsIGNvbW1pc3Npb25Db21tZW50LCBoZWFkT2ZEZXBhcnRtZW50SWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZE5ldy93aXRoSGVhZE9mRGVwYXJ0bWVudC8iLmNvbmNhdChpZCwgIi8iKS5jb25jYXQoY29tbWlzc2lvblR5cGVJZCwgIj9oZWFkT2ZEZXBhcnRtZW50SWQ9IikuY29uY2F0KGhlYWRPZkRlcGFydG1lbnRJZCwgIiZjb21tZW50PSIpLmNvbmNhdChjb21taXNzaW9uQ29tbWVudCwgIiZ4PSIpLmNvbmNhdCh4LCAiJnk9IikuY29uY2F0KHksICImcGFnZT0iKS5jb25jYXQoY3VycmVudFBhZ2UpLCBwYXlsb2FkLCB0cnVlKTsKICB9LAogIG1ha2VTaWduZWRUb0Nsb3NlZDogZnVuY3Rpb24gbWFrZVNpZ25lZFRvQ2xvc2VkKHBheWxvYWQsIGFzc2lnbm1lbnRJZCwgY29tbWVudCwgeCwgeSwgY3VycmVudFBhZ2UpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbWFrZVNpZ25lZC10by1jbG9zZWQvIi5jb25jYXQoYXNzaWdubWVudElkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBzaWduRG9jVG9NYW5hZ2VtZW50OiBmdW5jdGlvbiBzaWduRG9jVG9NYW5hZ2VtZW50KHBheWxvYWQsIGxldHRlckFzc2lnbm1lbnRJZCwgeCwgeSwgY3VycmVudFBhZ2UsIG1hbmFnZW1lbnRFbXBsb3llZUlkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWROZXcvdG8tbWFuYWdlbWVudC8iLmNvbmNhdChsZXR0ZXJBc3NpZ25tZW50SWQsICIvIikuY29uY2F0KG1hbmFnZW1lbnRFbXBsb3llZUlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQsICImeD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlKSwgcGF5bG9hZCwgdHJ1ZSk7CiAgfSwKICBnZXRSZWNlaXZlcnM6IGZ1bmN0aW9uIGdldFJlY2VpdmVycyhpZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL2xldHRlckluZm8vIi5jb25jYXQoaWQpKTsKICB9LAogIG1ha2VBZ3JlZTogZnVuY3Rpb24gbWFrZUFncmVlKGlkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbWFrZUFncmVlZC8iLmNvbmNhdChpZCkpOwogIH0sCiAgbWFrZVJldmlld0ZvckNvbW1pc3Npb246IGZ1bmN0aW9uIG1ha2VSZXZpZXdGb3JDb21taXNzaW9uKGlkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VWaWV3ZWRGb3JDb21taXNzaW9uUHJvamVjdC8iLmNvbmNhdChpZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50ID8gY29tbWVudCA6ICcnKSk7CiAgfSwKICBtYWtlUmV2aWV3Rm9yQ29tbWlzc2lvbk1hbmFnZW1lbnQ6IGZ1bmN0aW9uIG1ha2VSZXZpZXdGb3JDb21taXNzaW9uTWFuYWdlbWVudChsZXR0ZXJBc3NpZ25tZW50SWQsIGNvbW1pc3Npb25UeXBlSWQsIGNvbW1lbnQsIGNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9zZW5kLXRvLWNvbW1pc3Npb24vIi5jb25jYXQobGV0dGVyQXNzaWdubWVudElkLCAiLyIpLmNvbmNhdChjb21taXNzaW9uVHlwZUlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQgPyBjb21tZW50IDogJycsICImY29tcGxldGlvbkRhdGU9IikuY29uY2F0KGNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSA/IGNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSA6ICcnKSk7CiAgfSwKICBtYWtlTGV0dGVyU2VuZEZpbmlzaExldHRlclRvQ2hhaXJtYW46IGZ1bmN0aW9uIG1ha2VMZXR0ZXJTZW5kRmluaXNoTGV0dGVyVG9DaGFpcm1hbihhcHBsaWNhdGlvbklkLCBsZXR0ZXJJZCkgewogICAgdmFyIGNvbW1lbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnOwogICAgcmV0dXJuIEFwaVNlcnZpY2UucHV0KCIvbGV0dGVyL3NlbmQtZmluaXNoLWxldHRlci90by1jaGFpcm1hbi8iLmNvbmNhdChhcHBsaWNhdGlvbklkLCAiLyIpLmNvbmNhdChsZXR0ZXJJZCwgIj9jb21tZW50PSIpLmNvbmNhdChjb21tZW50KSk7CiAgfSwKICBtYWtlU2lnbmVkQmVmb3JlQ29tbWlzc2lvbjogZnVuY3Rpb24gbWFrZVNpZ25lZEJlZm9yZUNvbW1pc3Npb24ocGF5bG9hZCwgbGV0dGVyQXNzaWdubWVudElkLCBjb21tZW50LCB4LCB5LCBjdXJyZW50UGFnZSkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9tYWtlU2lnbmVkL2JlZm9yZS1jb21taXNzaW9uLyIuY29uY2F0KGxldHRlckFzc2lnbm1lbnRJZCwgIi8/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlLCAiJmNvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkKTsKICB9LAogIG1ha2VSZXZpZXc6IGZ1bmN0aW9uIG1ha2VSZXZpZXcoaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9tYWtlVmlld2VkLyIuY29uY2F0KGlkKSk7CiAgfSwKICBtYWtlQWdyZWVkTGV0dGVyVG9DbG9zZWQ6IGZ1bmN0aW9uIG1ha2VBZ3JlZWRMZXR0ZXJUb0Nsb3NlZChsZXR0ZXJBc3NpZ25tZW50SWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9tYWtlVmlld2VkLWxldHRlci90by1jbG9zZWQvIi5jb25jYXQobGV0dGVyQXNzaWdubWVudElkKSk7CiAgfSwKICBtYWtlVmlld2VkTGV0dGVyVG9GaW5pc2g6IGZ1bmN0aW9uIG1ha2VWaWV3ZWRMZXR0ZXJUb0ZpbmlzaChsZXR0ZXJBc3NpZ25tZW50SWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9tYWtlVmlld2VkLWxldHRlci90by1maW5pc2gvIi5jb25jYXQobGV0dGVyQXNzaWdubWVudElkKSk7CiAgfSwKICBtYWtlQWdyZWVkTGV0dGVyOiBmdW5jdGlvbiBtYWtlQWdyZWVkTGV0dGVyKGFzc2lnbm1lbnRJZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCIvbGV0dGVyL21ha2VWaWV3ZWQtbGV0dGVyLyIuY29uY2F0KGFzc2lnbm1lbnRJZCkpOwogIH0sCiAgbWFrZVNpZ25lZEZpbmlzaExldHRlcjogZnVuY3Rpb24gbWFrZVNpZ25lZEZpbmlzaExldHRlcihhc3NpZ25tZW50SWQsIGVtcGxveWVlSWQsIGNvbW1lbnQsIHBheWxvYWQsIHgsIHksIGN1cnJlbnRQYWdlKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCIvbGV0dGVyL21ha2VTaWduZWQtZmluaXNoLWxldHRlci8iLmNvbmNhdChhc3NpZ25tZW50SWQsICIvIikuY29uY2F0KGVtcGxveWVlSWQsICI/eD0iKS5jb25jYXQoeCwgIiZ5PSIpLmNvbmNhdCh5LCAiJnBhZ2U9IikuY29uY2F0KGN1cnJlbnRQYWdlLCAiJmNvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkKTsKICB9LAogIHNhdmVSZWplY3RlZDogZnVuY3Rpb24gc2F2ZVJlamVjdGVkKGxldHRlcklkLCBpZCwgY29tbWVudCwgcGF5bG9hZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdCgiL2xldHRlci9jYW5jZWxsZWQvIi5jb25jYXQobGV0dGVySWQsICIvIikuY29uY2F0KGlkLCAiP2NvbW1lbnQ9IikuY29uY2F0KGNvbW1lbnQpLCBwYXlsb2FkKTsKICB9LAogIHNhdmVRckNvZGU6IGZ1bmN0aW9uIHNhdmVRckNvZGUobGVmdCwgdG9wLCBwYWdlKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvbGV0dGVyQXNQZGY/eD0iLmNvbmNhdChsZWZ0LCAiJnk9IikuY29uY2F0KHRvcCwgIiZwYWdlPSIpLmNvbmNhdChwYWdlIC0gMSkpOwogIH0sCiAgaGFuZGxlU2VuZExldHRlclRvQ2hhaXJtYW46IGZ1bmN0aW9uIGhhbmRsZVNlbmRMZXR0ZXJUb0NoYWlybWFuKGxldHRlcklkLCBjb21tZW50KSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wdXQoIi9sZXR0ZXIvc2VuZC1sZXR0ZXIvdG8tY2hhaXJtYW4vIi5jb25jYXQobGV0dGVySWQsICI/Y29tbWVudD0iKS5jb25jYXQoY29tbWVudCkpOwogIH0sCiAgbGV0dGVyUVJDT0RFOiBmdW5jdGlvbiBsZXR0ZXJRUkNPREUobGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9sZXR0ZXJRUkNvZGUvIi5jb25jYXQobGV0dGVySWQpKTsKICB9LAogIGxldHRlclFSQ09ERVNlbmRUb1JhaXM6IGZ1bmN0aW9uIGxldHRlclFSQ09ERVNlbmRUb1JhaXMobGV0dGVySWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiL2xldHRlci9sZXR0ZXJRUkNvZGUvZnJvbS1keGEvIi5jb25jYXQobGV0dGVySWQpKTsKICB9LAogIGdldERvY1BkZjogZnVuY3Rpb24gZ2V0RG9jUGRmKGxldHRlcklkKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5nZXQoIi9sZXR0ZXIvY29udmVydExldHRlclRvUGRmLyIuY29uY2F0KGxldHRlcklkKSk7CiAgfSwKICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KGRhdGEpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9sZXR0ZXIvbGV0dGVyQ29udmVydCIsIHsKICAgICAgaHRtbDogZGF0YQogICAgfSk7CiAgfSwKICBhcHBsaWNhdGlvblJldmlld05vUGVybWl0UmVxdWlyZWQ6IGZ1bmN0aW9uIGFwcGxpY2F0aW9uUmV2aWV3Tm9QZXJtaXRSZXF1aXJlZChhcHBsaWNhdGlvbklkLCBkZWNpc2lvblRleHQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9iZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9hcHBsaWNhdGlvbi1yZXZpZXcvbm8tcGVybWl0LXJlcXVpcmVkP2FwcGxpY2F0aW9uRFhBSWQ9Ii5jb25jYXQoYXBwbGljYXRpb25JZCksIHsKICAgICAgZGVjaXNpb25fdGV4dDogZGVjaXNpb25UZXh0CiAgICB9LCB0cnVlKTsKICB9LAogIGFwcGxpY2F0aW9uUmVvcGVuUHJvamVjdDogZnVuY3Rpb24gYXBwbGljYXRpb25SZW9wZW5Qcm9qZWN0KGFwcGxpY2F0aW9uSWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIi9iZWZvcmUtY29tbWlzc2lvbi9hcHBsaWNhdGlvbi9yZW9wZW4tcHJvamVjdD9hcHBsaWNhdGlvbklkPSIuY29uY2F0KGFwcGxpY2F0aW9uSWQpLCBudWxsLCB0cnVlKTsKICB9LAogIHJldHVybkFwcGxpY2F0aW9uQnlSZWdpb246IGZ1bmN0aW9uIHJldHVybkFwcGxpY2F0aW9uQnlSZWdpb24oYXBwbGljYXRpb25EeGFJZCwgaWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoImJlZm9yZS1jb21taXNzaW9uL2FwcGxpY2F0aW9uL3JldHVybi10by1jZW50cmFsLXNlY3Rpb24/YXBwbGljYXRpb25EWEFJZD0iLmNvbmNhdChhcHBsaWNhdGlvbkR4YUlkLCAiJmlkPSIpLmNvbmNhdChpZCkpOwogIH0sCiAgZ2V0QWxsTWFuYWdlbWVudEVtcGxveWVlczogZnVuY3Rpb24gZ2V0QWxsTWFuYWdlbWVudEVtcGxveWVlcygpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiZW1wbG95ZWUvZ2V0LWFsbC1lbXBsb3llZS9pbi1tYW5hZ2VtZW50Iik7CiAgfSwKICB1cGxvYWRGaW5pc2hMZXR0ZXI6IGZ1bmN0aW9uIHVwbG9hZEZpbmlzaExldHRlcihhcHBsaWNhdGlvbklkLCBsZXR0ZXJUeXBlLCBsZXR0ZXJOYW1lKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wdXQoIi9sZXR0ZXIvdXBsb2FkLWZpbmlzaC1sZXR0ZXIvIi5jb25jYXQoYXBwbGljYXRpb25JZCwgIj9sZXR0ZXJUeXBlPSIpLmNvbmNhdChsZXR0ZXJUeXBlLCAiJmxldHRlck5hbWU9IikuY29uY2F0KGxldHRlck5hbWUpKTsKICB9LAogIGxldHRlckdldEZpbmlzaExldHRlcjogZnVuY3Rpb24gbGV0dGVyR2V0RmluaXNoTGV0dGVyKGFwcGxpY2F0aW9uSWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgibGV0dGVyL2dldC1maW5pc2gtbGV0dGVyLyIuY29uY2F0KGFwcGxpY2F0aW9uSWQpKTsKICB9LAogIGxldHRlckdldEZpbmlzaExldHRlcldpdGhTaWduZXI6IGZ1bmN0aW9uIGxldHRlckdldEZpbmlzaExldHRlcldpdGhTaWduZXIoYXBwbGljYXRpb25JZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCJsZXR0ZXIvZ2V0LWZpbmlzaC1sZXR0ZXIvd2l0aC1zaWduZXIvIi5jb25jYXQoYXBwbGljYXRpb25JZCkpOwogIH0sCiAgc2VhcmNoTGlzdDogZnVuY3Rpb24gc2VhcmNoTGlzdChtYWluVXJsLCBwYXlsb2FkLCBhcHBlbmRVcmwpIHsKICAgIHZhciB3aXRoTG9hZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTsKICAgIHZhciBteVBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCBwYXlsb2FkKTsKICAgIG15UGF5bG9hZC5wYWdlIC09IDE7CiAgICBpZiAoYXBwZW5kVXJsKSB7CiAgICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIiIuY29uY2F0KG1haW5VcmwsICIvbGlzdC1zZWFyY2gvIikuY29uY2F0KGFwcGVuZFVybCksIHBheWxvYWQgPyBteVBheWxvYWQgOiBwYXlsb2FkLCB3aXRoTG9hZGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBBcGlTZXJ2aWNlLnBvc3QoIiIuY29uY2F0KG1haW5VcmwsICIvbGlzdC1zZWFyY2giKSwgcGF5bG9hZCA/IG15UGF5bG9hZCA6IHBheWxvYWQsIHdpdGhMb2FkZXIpOwogICAgfQogIH0sCiAgZHhhVmlzYURhdGFHZXRGaWxlOiBmdW5jdGlvbiBkeGFWaXNhRGF0YUdldEZpbGUoYXBwbGljYXRpb25JZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCJkeGEtdmlzYS1kYXRhL2dldC1maWxlLyIuY29uY2F0KGFwcGxpY2F0aW9uSWQpKTsKICB9LAogIGNoYW5nZVN0YXR1c1NlcnZpY2U6IGZ1bmN0aW9uIGNoYW5nZVN0YXR1c1NlcnZpY2UoY29tcG9uZW50LCBncmlkKSB7CiAgICB2YXIgc2VsZWN0ZWRGaWx0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgICBjb21wb25lbnQuY25mKCkudGhlbihmdW5jdGlvbiAodikgewogICAgICBpZiAodi52YWx1ZSkgewogICAgICAgIHZhciBzdGF0dXMgPSAnUkVWSUVXX0ZJTklTSEVEJzsKICAgICAgICBpZiAoZ3JpZC5wcm9qZWN0VHlwZSA9PT0gJ0NPTU1JU1NJT04nICYmIGdyaWQuYXBwbGljYXRpb25UeXBlICE9PSAiRlJPTV9EWEEiKSB7CiAgICAgICAgICBzd2l0Y2ggKGdyaWQucmV0dXJuVHlwZSkgewogICAgICAgICAgICBjYXNlICdGT1JfRklOSVNIX1dPUksnOgogICAgICAgICAgICAgIHByb2plY3RTZXJ2aWNlLmdldExldHRlcnNCeUlkKGdyaWQuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKCFyZXMuZGF0YSB8fCByZXMuZGF0YS5sZW5ndGggPD0gMCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfbm90X2V4aXN0JyksIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIG5vdFBkZkRvY3MgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZmlsZVR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpICE9PSAncGRmJyAmJiBbJ0RFQ0lTSU9OX0NPTU1JU1NJT04nLCAnUFJPVE9DT0xfQ09NTUlTU0lPTiddLmluZGV4T2YoZC5sZXR0ZXJUeXBlKSAhPT0gLTE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICAgICAgICAgICAgdmFyIGQgPSBub3RQZGZEb2NzW2ldOwogICAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udmVydFRvUGRmKGQpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXIudXBsb2FkUGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyLnVwbG9hZFBhdGguZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IG5vdFBkZkRvY3MubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vdFBkZkRvY3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgX2xvb3AoaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdGT1JfU1VTUEVORF9XT1JLJzoKICAgICAgICAgICAgICBwcm9qZWN0U2VydmljZS5nZXRMZXR0ZXJzQnlJZChncmlkLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEgfHwgcmVzLmRhdGEubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX25vdF9leGlzdCcpLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBub3RQZGZEb2NzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkLmZpbGVUeXBlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3BkZicgJiYgWydDT01QUk9NSVNFX0RFQ0lTSU9OX1NVU1BFTkQnLCAnUFJPVE9DT0xfU1VTUEVORCddLmluZGV4T2YoZC5sZXR0ZXJUeXBlKSAhPT0gLTE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoaSkgewogICAgICAgICAgICAgICAgICB2YXIgZCA9IG5vdFBkZkRvY3NbaV07CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb252ZXJ0VG9QZGYoZCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgIGlmICghci51cGxvYWRQYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXIudXBsb2FkUGF0aC5lbmRzV2l0aCgnLnBkZicpKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gbm90UGRmRG9jcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsIHN0YXR1cywgc2VsZWN0ZWRGaWx0ZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm90UGRmRG9jcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBfbG9vcDIoaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdGT1JfREVMQVlfV09SSyc6CiAgICAgICAgICAgICAgcHJvamVjdFNlcnZpY2UuZ2V0TGV0dGVyc0J5SWQoZ3JpZC5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhIHx8IHJlcy5kYXRhLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19ub3RfZXhpc3QnKSwgewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgbm90UGRmRG9jcyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZC5maWxlVHlwZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgIT09ICdwZGYnICYmIFsnQ09NUFJPTUlTRV9ERUNJU0lPTl9ERUxBWScsICdQUk9UT0NPTF9ERUxBWSddLmluZGV4T2YoZC5sZXR0ZXJUeXBlKSAhPT0gLTE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBfbG9vcDMgPSBmdW5jdGlvbiBfbG9vcDMoaSkgewogICAgICAgICAgICAgICAgICB2YXIgZCA9IG5vdFBkZkRvY3NbaV07CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb252ZXJ0VG9QZGYoZCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgIGlmICghci51cGxvYWRQYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXIudXBsb2FkUGF0aC5lbmRzV2l0aCgnLnBkZicpKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gbm90UGRmRG9jcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsIHN0YXR1cywgc2VsZWN0ZWRGaWx0ZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm90UGRmRG9jcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBfbG9vcDMoaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdGT1JfUkVTVU1FX1dPUksnOgogICAgICAgICAgICAgIHByb2plY3RTZXJ2aWNlLmdldExldHRlcnNCeUlkKGdyaWQuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKCFyZXMuZGF0YSB8fCByZXMuZGF0YS5sZW5ndGggPD0gMCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfbm90X2V4aXN0JyksIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIG5vdFBkZkRvY3MgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZmlsZVR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpICE9PSAncGRmJyAmJiBbJ0NPTVBST01JU0VfREVDSVNJT05fUkVTVU1FJywgJ1BST1RPQ09MX1JFU1VNRSddLmluZGV4T2YoZC5sZXR0ZXJUeXBlKSAhPT0gLTE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBfbG9vcDQgPSBmdW5jdGlvbiBfbG9vcDQoaSkgewogICAgICAgICAgICAgICAgICB2YXIgZCA9IG5vdFBkZkRvY3NbaV07CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb252ZXJ0VG9QZGYoZCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgIGlmICghci51cGxvYWRQYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXIudXBsb2FkUGF0aC5lbmRzV2l0aCgnLnBkZicpKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gbm90UGRmRG9jcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsIHN0YXR1cywgc2VsZWN0ZWRGaWx0ZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm90UGRmRG9jcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBfbG9vcDQoaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIGNvbXBvbmVudC5jbG9zZVByb2plY3QoZ3JpZC5pZCwgc3RhdHVzLCBzZWxlY3RlZEZpbHRlcik7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHByb2plY3RTZXJ2aWNlLmdldExldHRlcnNCeUlkKGdyaWQuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAoZ3JpZC5hcHBsaWNhdGlvblR5cGUgPT09ICJOT1RfQkVMT05HIikgewogICAgICAgICAgICAgIGlmIChjb21wb25lbnQucHJvamVjdFR5cGUgPT09ICdCRUZPUkVfQ09NTUlTU0lPTicgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoID49IDEgfHwgY29tcG9uZW50LnByb2plY3RUeXBlICE9PSAnQkVGT1JFX0NPTU1JU1NJT04nICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoZ3JpZC5wcm9qZWN0VHlwZSA9PT0gJ0NPTU1JU1NJT04nKSB7CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jbG9zZVByb2plY3QoZ3JpZC5pZCwgc3RhdHVzLCBzZWxlY3RlZEZpbHRlcik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsICdGSU5JU0hFRCcsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfbm90X2V4aXN0JyksIHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGdyaWQuYXBwbGljYXRpb25UeXBlID09PSAiRlJPTV9EWEEiKSB7CiAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5wcm9qZWN0VHlwZSA9PT0gJ0JFRk9SRV9DT01NSVNTSU9OJyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5sZW5ndGggPj0gMSB8fCBjb21wb25lbnQucHJvamVjdFR5cGUgIT09ICdCRUZPUkVfQ09NTUlTU0lPTicgJiYgY29tcG9uZW50LnByb2plY3RUeXBlICE9PSAnQ09NTUlTU0lPTicgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoID49IDApIHsKICAgICAgICAgICAgICAgIGlmIChncmlkLnByb2plY3RUeXBlID09PSAnQ09NTUlTU0lPTicpIHsKICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jbG9zZVByb2plY3QoZ3JpZC5pZCwgc3RhdHVzLCBzZWxlY3RlZEZpbHRlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChncmlkLnByb2plY3RUeXBlID09PSAnQ09NTUlTU0lPTicpIHsKICAgICAgICAgICAgICAgIHZhciBub3RQZGZEb2NzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkLmZpbGVUeXBlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3BkZic7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBfbG9vcDUgPSBmdW5jdGlvbiBfbG9vcDUoaSkgewogICAgICAgICAgICAgICAgICB2YXIgZCA9IG5vdFBkZkRvY3NbaV07CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb252ZXJ0VG9QZGYoZCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgIC8vIENIRUNLIEFORCBSRVNFTkQgMVNUIFJFUVVFU1QKICAgICAgICAgICAgICAgICAgICBpZiAoIXIudXBsb2FkUGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyLnVwbG9hZFBhdGguZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gbm90UGRmRG9jcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsIHN0YXR1cywgc2VsZWN0ZWRGaWx0ZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm90UGRmRG9jcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBfbG9vcDUoaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX25vdF9leGlzdCcpLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LnByb2plY3RUeXBlID09PSAnQkVGT1JFX0NPTU1JU1NJT04nICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+IDEgfHwgY29tcG9uZW50LnByb2plY3RUeXBlICE9PSAnQkVGT1JFX0NPTU1JU1NJT04nICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGlmIChncmlkLnByb2plY3RUeXBlID09PSAnQ09NTUlTU0lPTicpIHsKICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNsb3NlUHJvamVjdChncmlkLmlkLCBzdGF0dXMsIHNlbGVjdGVkRmlsdGVyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbm90UGRmRG9jcyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmZpbGVUeXBlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3BkZic7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB2YXIgY29udmVydFRvUGRmID0gW107CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ3JpZC5yZXR1cm5UeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiRk9SX0NPTU1JU1NJT04iOgogICAgICAgICAgICAgICAgICAgICAgY29udmVydFRvUGRmID0gX25vdFBkZkRvY3MuZmlsdGVyKGZ1bmN0aW9uIChsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsLmxldHRlclR5cGUgPT09ICdSRUZFUkVOQ0UnOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICJGT1JfTk9UX0NPTVBMRVRFRCI6CiAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0VG9QZGYgPSBfbm90UGRmRG9jcy5maWx0ZXIoZnVuY3Rpb24gKGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwubGV0dGVyVHlwZSA9PT0gJ05PVElDRV9OT1RfQ09NUExFVEVEJzsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gJ0ZJTklTSEVEJzsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIkZPUl9OT1RfQkVMT05HIjoKICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRUb1BkZiA9IF9ub3RQZGZEb2NzLmZpbHRlcihmdW5jdGlvbiAobCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbC5sZXR0ZXJUeXBlID09PSAnTk9USUNFX05PVF9CRUxPTkcnOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAnRklOSVNIRUQnOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiRk9SX1JFR0lPTiI6CiAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0VG9QZGYgPSBfbm90UGRmRG9jcy5maWx0ZXIoZnVuY3Rpb24gKGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwubGV0dGVyVHlwZSA9PT0gJ05PVElDRV9SRUdJT04nOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAnRklOSVNIRUQnOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdmFyIGNvbnZlcnRUb1BkZkxlbmd0aCA9IGNvbnZlcnRUb1BkZi5sZW5ndGg7CiAgICAgICAgICAgICAgICAgIHZhciBfbG9vcDYgPSBmdW5jdGlvbiBfbG9vcDYoaSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkID0gY29udmVydFRvUGRmW2ldOwogICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb252ZXJ0VG9QZGYoZCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgICAgLy8gQ0hFQ0sgQU5EIFJFU0VORCAxU1QgUkVRVUVTVAogICAgICAgICAgICAgICAgICAgICAgaWYgKCFyLnVwbG9hZFBhdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LiR0b2FzdChjb21wb25lbnQuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFyLnVwbG9hZFBhdGguZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRvYXN0KGNvbXBvbmVudC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gY29udmVydFRvUGRmTGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuY2xvc2VQcm9qZWN0KGdyaWQuaWQsIHN0YXR1cywgc2VsZWN0ZWRGaWx0ZXIpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBjb252ZXJ0VG9QZGZMZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgICBfbG9vcDYoX2kpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbXBvbmVudC4kdG9hc3QoY29tcG9uZW50LiR0KCdtZXNzYWdlcy5wcm9qZWN0X2ZpbGVzX25vdF9leGlzdCcpLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"names":["ApiService","projectService","fetchChartDataApplicationsByStatusesForYearForDXA","year","get","giveVisaForDXA","applicationId","params","post","id","comment","sendToCommissionFromDxa","commissionTypeId","SignatureGiveVisaForDXA","data","bodyDate","employeeId","letterId","giveVisaDate","fetchChartDataCurrentApplicationStatusesForDXA","fetchChartDataApplicationsByStatusesForYear","fetchChartDataCurrentApplicationStatuses","listApplicationsByStatus","payload","status","keyword","myPayload","Object","assign","page","listDXA_ApplicationsByStatus","activeDXATab","getListMonitor","search","getRegions","acceptAppilcation","application_id","department_id","acceptSenderRegion","applicationReviewNOT_COMPLETE","obj","ID","getBody","viewPdfByLetterId","saveLetterBody","text","signer","body","removeLetter","delete","removeFile","getAttachedFilesById","projectLettersByLetterId","createAttachedFile","file","formData","FormData","append","getListDocumentType","v","convertToPdfByApi","config","withLoader","getList","getById","setLetterRejtOrAccept","bool","rejectLetterToReject","assignmentId","x","y","currentPage","getIncomeTotalCount","upload","query_data","name","regNumber","date","docSampleId","getListLetter","getListLetterIncome","action","getListLetterVisa","getVisaInfo","getListLetterSend","getByIdLetter","getByIdSendToRais","getRejectLetter","sendDoc","sendQuorum","projectId","put","onlyDocSign","signDecision","onlyDocSignSendToRais","commissionComment","onlyDocSignSendToRaisOnInner","managementEmployeeId","onlyDocSignFORNotBelong","onlyDocSignForToReturn","onlyDocMakeSignedToReject","onlyDocSignFORBeforeProject","makeSignedInvokeLetter","onlyDocSignNotBelong","onlyDocSignForRevision","onlyDocSignForRRejectedByRais","letterCancelled","resultApplicationForDXA","applicationDXAId","paymentAmount","files","forEach","item","formDataFile","resultApplicationForDXARejected","uploadRejectLetter","letterType","letterName","signDoc","makeSignedNewWithHeadOfDepartment","headOfDepartmentId","makeSignedToClosed","signDocToManagement","letterAssignmentId","getReceivers","makeAgree","makeReviewForCommission","makeReviewForCommissionManagement","commissionCompletionDate","makeLetterSendFinishLetterToChairman","makeSignedBeforeCommission","makeReview","makeAgreedLetterToClosed","makeViewedLetterToFinish","makeAgreedLetter","makeSignedFinishLetter","saveRejected","saveQrCode","left","top","handleSendLetterToChairman","letterQRCODE","letterQRCODESendToRais","getDocPdf","convert","html","applicationReviewNoPermitRequired","decisionText","decision_text","applicationReopenProject","returnApplicationByRegion","applicationDxaId","getAllManagementEmployees","uploadFinishLetter","letterGetFinishLetter","letterGetFinishLetterWithSigner","searchList","mainUrl","appendUrl","dxaVisaDataGetFile","changeStatusService","component","grid","selectedFilter","cnf","then","value","projectType","applicationType","returnType","getLettersById","res","length","$toast","$t","type","notPdfDocs","filter","d","fileType","toString","toLowerCase","indexOf","i","convertToPdf","r","uploadPath","endsWith","closeProject","catch","e","console","log","l","convertToPdfLength"],"sources":["C:/ACRU PROJECT/Fair Tech/acru-frontend/src/modules/letter/letterService.js"],"sourcesContent":["import ApiService from '@/shared/services/api.service'\r\nimport projectService from '@/shared/services/projectService'\r\n// import {cxonfigure} from 'vee-validate'\r\n\r\nexport default {\r\n  fetchChartDataApplicationsByStatusesForYearForDXA(year) {\r\n    return ApiService.get(`application-dxa/get-data-for-chart-by-month?year=${year}`)\r\n  },\r\n  giveVisaForDXA(applicationId, params) {\r\n    return ApiService.post(`letter/get-visa/${applicationId}?employeeId=${params.id}&comment=${params.comment}`)\r\n  },\r\n  sendToCommissionFromDxa(applicationId, commissionTypeId, comment = '') {\r\n    return ApiService.post(`letter/send-to-commission/from-dxa/${applicationId}/${commissionTypeId}?comment=${comment}`)\r\n  },\r\n  SignatureGiveVisaForDXA(data, bodyDate) {\r\n    return ApiService.post(`letter/approve-visa/${data.applicationId}?employeeId=${data.employeeId}&letterId=${data.letterId}&comment=${bodyDate.comment}&giveVisaDate=${bodyDate.giveVisaDate}`)\r\n  },\r\n  fetchChartDataCurrentApplicationStatusesForDXA() {\r\n    return ApiService.get(`application-dxa/get-data-for-chart`)\r\n  },\r\n  fetchChartDataApplicationsByStatusesForYear(year) {\r\n    return ApiService.get(`before-commission/application/get-data-for-chart-by-month?year=${year}`)\r\n  },\r\n  fetchChartDataCurrentApplicationStatuses() {\r\n    return ApiService.get(`before-commission/application/get-data-for-chart`)\r\n  },\r\n  listApplicationsByStatus: function (payload, status = '', keyword = '') {\r\n    let myPayload = Object.assign({}, payload)\r\n    myPayload.page -= 1\r\n    return ApiService.post(`before-commission/application/list-search-by-application-status?keyword=${keyword}&status=${status ? status : ''}`, myPayload)\r\n  },\r\n  listDXA_ApplicationsByStatus: function (payload, status = '', keyword = '', activeDXATab) {\r\n    let myPayload = Object.assign({}, payload)\r\n    myPayload.page -= 1\r\n    return ApiService.post(`application-dxa/list-search/by-status?keyword=${keyword}&status=${status ? status : ''}&applicationType=${activeDXATab == 'FOR_SALE' ? 'FOR_SALE' : 'FOR_ADD'}`, myPayload)\r\n  },\r\n  getListMonitor({ params, search }, activeDXATab) {\r\n    return ApiService.post(`/application-dxa/list-search/before-register?keyword=${search}&applicationType=${activeDXATab == 'FOR_SALE' ? 'FOR_SALE' : 'FOR_ADD'}`, params)\r\n  },\r\n  getRegions() {\r\n    return ApiService.post(`/department/list-search/yurdep`)\r\n  },\r\n  acceptAppilcation(application_id, department_id) {\r\n    return ApiService.post(`application-dxa/receive?id=${application_id}&department_id=${department_id ? department_id : ''}`)\r\n  },\r\n  acceptSenderRegion(application_id, department_id) {\r\n    return ApiService.post(`application-dxa/receive?id=${application_id}&department_id=${department_id ? department_id : ''}`)\r\n  },\r\n  applicationReviewNOT_COMPLETE(obj, ID) {\r\n    return ApiService.post(`/before-commission/application/application-review/not-completed?id=${ID}`, obj)\r\n  },\r\n  getBody(id) {\r\n    return ApiService.get(`/letter/getBodyById/${id}`)\r\n  },\r\n  viewPdfByLetterId(letterId) {\r\n    return ApiService.get(`/letter/letterView/${letterId}`)\r\n  },\r\n  saveLetterBody(letterId, text, signer) {\r\n    return ApiService.post(`/letter/letterSave?letterId=${letterId}&signerId=${signer ? signer : ''}`, { body: text })\r\n  },\r\n  removeLetter(letterId) {\r\n    return ApiService.delete(`/letter/delete/${letterId}`)\r\n  },\r\n  removeFile(letterId) {\r\n    return ApiService.delete(`/letterAttachedFile/delete/${letterId}`)\r\n  },\r\n  getAttachedFilesById(letterId) {\r\n    return ApiService.get(`/letterAttachedFile/list/${letterId}`)\r\n  },\r\n  projectLettersByLetterId(letterId) {\r\n    return ApiService.post(`letter/project-letters/by-letter-id/${letterId}`)\r\n  },\r\n  createAttachedFile(letterId, file) {\r\n    let formData = new FormData()\r\n    formData.append(\"file\", file)\r\n    return ApiService.formData(`/letterAttachedFile/create/${letterId}`, formData)\r\n  },\r\n  getListDocumentType({ params, search }, v) {\r\n    return ApiService.post(`/docSample/list?search=${search}&code=${v}`, params)\r\n  },\r\n  async convertToPdfByApi(config, withLoader = false) {\r\n    /* try {\r\n        await ApiService.removeHeader()\r\n        // let response = await ApiService.post(fbIp, data);\r\n        // const token = Buffer.from(`m@y(dutyFr##:m@y(dutyFr##P@$Sw0RD)`, 'utf8').toString('base64')\r\n        var requestData = {\r\n            method: 'post',\r\n            url: `http://apivirtual.dataprizma.uz/api/v.1/letter/callback?type=convert`,\r\n            data: config\r\n        };\r\n        let response = await ApiService.customRequest(requestData);\r\n        await ApiService.setHeader()\r\n        return response\r\n    } catch (error) {\r\n        await ApiService.setHeader()\r\n        throw error;\r\n    } */\r\n    return ApiService.post(`/letter/callback?type=convert`, config, withLoader)\r\n  },\r\n  getList({ params, search }) {\r\n    return ApiService.post(`/document/list`, params)\r\n  },\r\n  getById(id) {\r\n    return ApiService.get(`/document/get-by-id/${id}`)\r\n  },\r\n  setLetterRejtOrAccept(id, bool) {\r\n    return ApiService.post(`letter/reject-or-accept/${id}?isRejected=${bool}`)\r\n  },\r\n  rejectLetterToReject(payload, assignmentId, x, y, currentPage, comment) {\r\n    return ApiService.post(`/letter/makeSigned-reject-letter/to-reject/${assignmentId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  getIncomeTotalCount() {\r\n    return ApiService.get(`/letter/totalCount`)\r\n  },\r\n  upload(data) {\r\n    let query_data = `?fileName=${data.name}&regNumber=${data.regNumber}&date=${data.date}&docSampleId=${data.docSampleId == 'blank' ? '' : data.docSampleId}`\r\n    return ApiService.post(`/letter/letterSave${query_data}`)\r\n  },\r\n  getListLetter({ params, search }) {\r\n    return ApiService.post(`/letter/draftList?search=${search}`, params)\r\n  },\r\n  getListLetterIncome({ params, search }, action) {\r\n    return ApiService.post(`/letter/incomeList?search=${search}&action=${action}`, params)\r\n  },\r\n  getListLetterVisa({ params, search }, action) {\r\n    return ApiService.post(`letter/forVisaList?search=${search}&action=${action}`, params)\r\n  },\r\n  getVisaInfo(applicationId) {\r\n    return ApiService.get(`letter/visa-info/${applicationId}`)\r\n  },\r\n  getListLetterSend({ params, search }) {\r\n    return ApiService.post(`/letter/sendList?search=${search}`, params)\r\n  },\r\n\r\n  getByIdLetter(id) {\r\n    return ApiService.get(`/letter/get-by-id/${id}`)\r\n  },\r\n  getByIdSendToRais(id) {\r\n    return ApiService.get(`/letter/get-by-id/by-application-id/${id}`)\r\n  },\r\n  getRejectLetter(letterId) {\r\n    return ApiService.get(`/letter/get-reject-letter/${letterId}`)\r\n  },\r\n  sendDoc(id, params) {\r\n    return ApiService.post(`/letter/send/${id}`, params)\r\n  },\r\n  sendQuorum(projectId, params) {\r\n    return ApiService.put(`/project/no-quorum/${projectId}?date=${params.date}`, params)\r\n  },\r\n  onlyDocSign(payload, id, x, y, currentPage) {\r\n    return ApiService.post(`/letter/makeSigned/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  signDecision(payload, id, x, y, currentPage, comment) {\r\n    return ApiService.post(`/letter/makeSigned/decision/${id}?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload, true)\r\n  },\r\n  onlyDocSignSendToRais(payload, id, x, y, currentPage, commissionTypeId, commissionComment) {\r\n    return ApiService.post(`/letter/makeSigned/from-dxa/${id}/${commissionTypeId}?comment=${commissionComment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  onlyDocSignSendToRaisOnInner(payload, id, x, y, currentPage, managementEmployeeId, comment) {\r\n    return ApiService.post(`/letter/makeSigned/to-sign/${id}/${managementEmployeeId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  onlyDocSignFORNotBelong(payload, id, x, y, currentPage) {\r\n    return ApiService.post(`/letter/makeSigned/not-belong/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  onlyDocSignForToReturn(payload, id, x, y, currentPage) {\r\n    return ApiService.post(`/letter/makeSigned/to-return/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  onlyDocMakeSignedToReject(payload, assignmentId, employeeId, comment, x, y, currentPage) {\r\n    return ApiService.post(`/letter/makeSigned-compromise-decision/to-reject/${assignmentId}/${employeeId}?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload, true)\r\n  },\r\n  onlyDocSignFORBeforeProject(payload, id, x, y, currentPage) {\r\n    return ApiService.post(`letter/makeSigned/from-dxa/for-confirm/${id}?x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  makeSignedInvokeLetter(payload, projectId, letterId, employeeId, comment, x, y, currentPage) {\r\n    return ApiService.post(`letter/makeSigned-invoke-letter/${projectId}/${letterId}/${employeeId}/?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload, true)\r\n  },\r\n  onlyDocSignNotBelong(payload, letterId) {\r\n    return ApiService.post(`before-commission/application/application-review/not-belong?letterId=${letterId}`, payload)\r\n  },\r\n  onlyDocSignForRevision(payload, id, comment) {\r\n    return ApiService.post(`letter/for-revision/from-commission/${id}?comment=${comment}`, payload, true)\r\n  },\r\n  onlyDocSignForRRejectedByRais(payload, letterId, id, comment) {\r\n    return ApiService.post(`letter/for-revision/to-commission/${letterId}/${id}?comment=${comment}`, payload, true)\r\n  },\r\n  letterCancelled(payload, letterId, assignmentId, comment) {\r\n    return ApiService.post(`/letter/cancelled/${letterId}/${assignmentId}?comment=${comment}`, payload, true)\r\n  },\r\n  resultApplicationForDXA(payload, letterId, applicationDXAId, paymentAmount, files = []) {\r\n    const formData = new FormData()\r\n    files.forEach((item) => {\r\n      formData.append(\"paymentFiles\", item.file)\r\n    })\r\n    return ApiService.formDataFile(`/before-commission/application/application-review/accepted?letterId=${letterId}&applicationDXAId=${applicationDXAId}&paymentAmount=${paymentAmount}`, formData)\r\n  },\r\n  resultApplicationForDXARejected(payload, letterId) {\r\n    return ApiService.post(`before-commission/application/application-review/rejected?letterId=${letterId}`, payload)\r\n  },\r\n  uploadRejectLetter(letterId, letterType, letterName = \"Rad etish xati\") {\r\n    return ApiService.put(`/letter/upload-reject-letter/${letterId}?letterType=${letterType}&letterName=${letterName}`, null, true)\r\n  },\r\n  signDoc(payload, id, x, y, currentPage, commissionTypeId, commissionComment) {\r\n    return ApiService.post(`/letter/makeSignedNew/${id}/${commissionTypeId}?comment=${commissionComment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  makeSignedNewWithHeadOfDepartment(payload, id, x, y, currentPage, commissionTypeId, commissionComment, headOfDepartmentId) {\r\n    return ApiService.post(`/letter/makeSignedNew/withHeadOfDepartment/${id}/${commissionTypeId}?headOfDepartmentId=${headOfDepartmentId}&comment=${commissionComment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  makeSignedToClosed(payload, assignmentId, comment, x, y, currentPage) {\r\n    return ApiService.post(`/letter/makeSigned-to-closed/${assignmentId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  signDocToManagement(payload, letterAssignmentId, x, y, currentPage, managementEmployeeId, comment) {\r\n    return ApiService.post(`/letter/makeSignedNew/to-management/${letterAssignmentId}/${managementEmployeeId}?comment=${comment}&x=${x}&y=${y}&page=${currentPage}`, payload, true)\r\n  },\r\n  getReceivers(id) {\r\n    return ApiService.get(`/letter/letterInfo/${id}`)\r\n  },\r\n  makeAgree(id) {\r\n    return ApiService.get(`/letter/makeAgreed/${id}`)\r\n  },\r\n  makeReviewForCommission(id, comment) {\r\n    return ApiService.post(`/letter/makeViewedForCommissionProject/${id}?comment=${comment ? comment : ''}`)\r\n  },\r\n  makeReviewForCommissionManagement(letterAssignmentId, commissionTypeId, comment, commissionCompletionDate) {\r\n    return ApiService.post(`/letter/send-to-commission/${letterAssignmentId}/${commissionTypeId}?comment=${comment ? comment : ''}&completionDate=${commissionCompletionDate ? commissionCompletionDate : ''}`)\r\n  },\r\n  makeLetterSendFinishLetterToChairman(applicationId, letterId, comment = '') {\r\n    return ApiService.put(`/letter/send-finish-letter/to-chairman/${applicationId}/${letterId}?comment=${comment}`)\r\n  },\r\n  makeSignedBeforeCommission(payload, letterAssignmentId, comment, x, y, currentPage) {\r\n    return ApiService.post(`/letter/makeSigned/before-commission/${letterAssignmentId}/?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload)\r\n  },\r\n  makeReview(id) {\r\n    return ApiService.get(`/letter/makeViewed/${id}`)\r\n  },\r\n  makeAgreedLetterToClosed(letterAssignmentId) {\r\n    return ApiService.get(`/letter/makeViewed-letter/to-closed/${letterAssignmentId}`)\r\n  },\r\n  makeViewedLetterToFinish(letterAssignmentId) {\r\n    return ApiService.get(`/letter/makeViewed-letter/to-finish/${letterAssignmentId}`)\r\n  },\r\n  makeAgreedLetter(assignmentId) {\r\n    return ApiService.get(`/letter/makeViewed-letter/${assignmentId}`)\r\n  },\r\n  makeSignedFinishLetter(assignmentId, employeeId, comment, payload, x, y, currentPage) {\r\n    return ApiService.post(`/letter/makeSigned-finish-letter/${assignmentId}/${employeeId}?x=${x}&y=${y}&page=${currentPage}&comment=${comment}`, payload)\r\n  },\r\n  saveRejected(letterId, id, comment, payload) {\r\n    return ApiService.post(`/letter/cancelled/${letterId}/${id}?comment=${comment}`, payload)\r\n  },\r\n  saveQrCode(left, top, page) {\r\n    return ApiService.get(`/letter/letterAsPdf?x=${left}&y=${top}&page=${page - 1}`)\r\n  },\r\n  handleSendLetterToChairman(letterId, comment) {\r\n    return ApiService.put(`/letter/send-letter/to-chairman/${letterId}?comment=${comment}`)\r\n  },\r\n  letterQRCODE(letterId) {\r\n    return ApiService.get(`/letter/letterQRCode/${letterId}`)\r\n  },\r\n  letterQRCODESendToRais(letterId) {\r\n    return ApiService.get(`/letter/letterQRCode/from-dxa/${letterId}`)\r\n  },\r\n  getDocPdf(letterId) {\r\n    return ApiService.get(`/letter/convertLetterToPdf/${letterId}`)\r\n  },\r\n  convert(data) {\r\n    return ApiService.post(`/letter/letterConvert`, { html: data })\r\n  },\r\n  applicationReviewNoPermitRequired(applicationId, decisionText) {\r\n    return ApiService.post(`/before-commission/application/application-review/no-permit-required?applicationDXAId=${applicationId}`, {\r\n      decision_text: decisionText\r\n    }, true)\r\n  },\r\n  applicationReopenProject(applicationId) {\r\n    return ApiService.post(`/before-commission/application/reopen-project?applicationId=${applicationId}`, null, true)\r\n  },\r\n  returnApplicationByRegion(applicationDxaId, id) {\r\n    return ApiService.post(`before-commission/application/return-to-central-section?applicationDXAId=${applicationDxaId}&id=${id}`)\r\n  },\r\n  getAllManagementEmployees() {\r\n    return ApiService.get(`employee/get-all-employee/in-management`)\r\n  },\r\n  uploadFinishLetter(applicationId, letterType, letterName) {\r\n    return ApiService.put(`/letter/upload-finish-letter/${applicationId}?letterType=${letterType}&letterName=${letterName}`)\r\n  },\r\n  letterGetFinishLetter(applicationId) {\r\n    return ApiService.get(`letter/get-finish-letter/${applicationId}`)\r\n  },\r\n  letterGetFinishLetterWithSigner(applicationId) {\r\n    return ApiService.get(`letter/get-finish-letter/with-signer/${applicationId}`)\r\n  },\r\n  searchList: function (mainUrl, payload, appendUrl, withLoader = false) {\r\n    let myPayload = Object.assign({}, payload)\r\n    myPayload.page -= 1\r\n    if (appendUrl) {\r\n      return ApiService.post(`${mainUrl}/list-search/${appendUrl}`, payload ? myPayload : payload, withLoader);\r\n    } else {\r\n      return ApiService.post(`${mainUrl}/list-search`, payload ? myPayload : payload, withLoader);\r\n    }\r\n  },\r\n  dxaVisaDataGetFile(applicationId) {\r\n    return ApiService.get(`dxa-visa-data/get-file/${applicationId}`);\r\n  },\r\n\r\n  changeStatusService(component, grid, selectedFilter = null) {\r\n    component.cnf().then((v) => {\r\n      if (v.value) {\r\n        let status = 'REVIEW_FINISHED';\r\n        if (grid.projectType === 'COMMISSION' && grid.applicationType !== \"FROM_DXA\") {\r\n          switch (grid.returnType) {\r\n            case 'FOR_FINISH_WORK':\r\n              projectService.getLettersById(grid.id)\r\n                .then(res => {\r\n                  if (!res.data || res.data.length <= 0) {\r\n                    return component.$toast(component.$t('messages.project_files_not_exist'), { type: 'error' })\r\n                  }\r\n                  let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                    && ['DECISION_COMMISSION', 'PROTOCOL_COMMISSION'].indexOf(d.letterType) !== -1);\r\n                  for (let i = 0; i < notPdfDocs.length; i++) {\r\n                    const d = notPdfDocs[i];\r\n                    component.convertToPdf(d).then(r => {\r\n                      if (!r.uploadPath) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (i === notPdfDocs.length - 1) {\r\n                        component.closeProject(grid.id, status, selectedFilter)\r\n                      }\r\n                    })\r\n                      .catch(e => console.log(e))\r\n                  }\r\n                })\r\n                .catch(e => {\r\n                  console.log(e)\r\n                })\r\n              break;\r\n            case 'FOR_SUSPEND_WORK':\r\n              projectService.getLettersById(grid.id)\r\n                .then(res => {\r\n                  if (!res.data || res.data.length <= 0) {\r\n                    return component.$toast(component.$t('messages.project_files_not_exist'), { type: 'error' })\r\n                  }\r\n                  let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                    && ['COMPROMISE_DECISION_SUSPEND', 'PROTOCOL_SUSPEND'].indexOf(d.letterType) !== -1);\r\n                  for (let i = 0; i < notPdfDocs.length; i++) {\r\n                    const d = notPdfDocs[i];\r\n                    component.convertToPdf(d).then(r => {\r\n                      if (!r.uploadPath) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (i === notPdfDocs.length - 1) {\r\n                        component.closeProject(grid.id, status, selectedFilter)\r\n                      }\r\n                    })\r\n                      .catch(e => console.log(e))\r\n                  }\r\n                })\r\n                .catch(e => {\r\n                  console.log(e)\r\n                })\r\n              break;\r\n            case 'FOR_DELAY_WORK':\r\n              projectService.getLettersById(grid.id)\r\n                .then(res => {\r\n                  if (!res.data || res.data.length <= 0) {\r\n                    return component.$toast(component.$t('messages.project_files_not_exist'), { type: 'error' })\r\n                  }\r\n                  let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                    && ['COMPROMISE_DECISION_DELAY', 'PROTOCOL_DELAY'].indexOf(d.letterType) !== -1);\r\n                  for (let i = 0; i < notPdfDocs.length; i++) {\r\n                    const d = notPdfDocs[i];\r\n                    component.convertToPdf(d).then(r => {\r\n                      if (!r.uploadPath) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (i === notPdfDocs.length - 1) {\r\n                        component.closeProject(grid.id, status, selectedFilter)\r\n                      }\r\n                    })\r\n                      .catch(e => console.log(e))\r\n                  }\r\n                })\r\n                .catch(e => {\r\n                  console.log(e)\r\n                })\r\n              break;\r\n            case 'FOR_RESUME_WORK':\r\n              projectService.getLettersById(grid.id)\r\n                .then(res => {\r\n                  if (!res.data || res.data.length <= 0) {\r\n                    return component.$toast(component.$t('messages.project_files_not_exist'), { type: 'error' })\r\n                  }\r\n                  let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf'\r\n                    && ['COMPROMISE_DECISION_RESUME', 'PROTOCOL_RESUME'].indexOf(d.letterType) !== -1);\r\n                  for (let i = 0; i < notPdfDocs.length; i++) {\r\n                    const d = notPdfDocs[i];\r\n                    component.convertToPdf(d).then(r => {\r\n                      if (!r.uploadPath) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (i === notPdfDocs.length - 1) {\r\n                        component.closeProject(grid.id, status, selectedFilter)\r\n                      }\r\n                    })\r\n                      .catch(e => console.log(e))\r\n                  }\r\n                })\r\n                .catch(e => {\r\n                  console.log(e)\r\n                })\r\n              break;\r\n            default:\r\n              component.closeProject(grid.id, status, selectedFilter);\r\n              break;\r\n          }\r\n        } else {\r\n          projectService.getLettersById(grid.id)\r\n            .then(res => {\r\n              if (grid.applicationType === \"NOT_BELONG\") {\r\n                if ((component.projectType === 'BEFORE_COMMISSION' && res.data && res.data.length >= 1) || (component.projectType !== 'BEFORE_COMMISSION' && res.data && res.data.length >= 0)) {\r\n                  if (grid.projectType === 'COMMISSION') {\r\n                    component.closeProject(grid.id, status, selectedFilter)\r\n                  } else {\r\n                    component.closeProject(grid.id, 'FINISHED', selectedFilter)\r\n                  }\r\n                } else {\r\n                  component.$toast(component.$t('messages.project_files_not_exist'), { type: 'error' })\r\n                }\r\n              } else if (grid.applicationType === \"FROM_DXA\") {\r\n                if ((component.projectType === 'BEFORE_COMMISSION' && res.data && res.data.length >= 1) || (component.projectType !== 'BEFORE_COMMISSION' && component.projectType !== 'COMMISSION' && res.data && res.data.length >= 0)) {\r\n                  if (grid.projectType === 'COMMISSION') {\r\n                    component.closeProject(grid.id, status, selectedFilter)\r\n                  } else {\r\n                    component.closeProject(grid.id, status, selectedFilter)\r\n                  }\r\n                } else if (grid.projectType === 'COMMISSION') {\r\n                  let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf')\r\n                  for (let i = 0; i < notPdfDocs.length; i++) {\r\n                    const d = notPdfDocs[i];\r\n                    component.convertToPdf(d).then(r => {\r\n                      // CHECK AND RESEND 1ST REQUEST\r\n                      if (!r.uploadPath) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                        component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                      } else if (i == notPdfDocs.length - 1) {\r\n                        component.closeProject(grid.id, status, selectedFilter)\r\n                      }\r\n                    })\r\n                      .catch(e => console.log(e))\r\n                }\r\n                } else {\r\n                  component.$toast(component.$t('messages.project_files_not_exist'), { type: 'error' })\r\n                }\r\n              } else {\r\n                if ((component.projectType === 'BEFORE_COMMISSION' && res.data && res.data.length > 1) || (component.projectType !== 'BEFORE_COMMISSION' && res.data && res.data.length > 0)) {\r\n                  if (grid.projectType === 'COMMISSION') {\r\n                    component.closeProject(grid.id, status, selectedFilter)\r\n                  } else {\r\n                    let notPdfDocs = res.data.filter(d => d.fileType.toString().toLowerCase() !== 'pdf')\r\n                    let convertToPdf = []\r\n                    switch (grid.returnType) {\r\n                      case \"FOR_COMMISSION\":\r\n                        convertToPdf = notPdfDocs.filter(l => l.letterType === 'REFERENCE')\r\n                        break;\r\n                      case \"FOR_NOT_COMPLETED\":\r\n                        convertToPdf = notPdfDocs.filter(l => l.letterType === 'NOTICE_NOT_COMPLETED')\r\n                        status = 'FINISHED'\r\n                        break;\r\n                      case \"FOR_NOT_BELONG\":\r\n                        convertToPdf = notPdfDocs.filter(l => l.letterType === 'NOTICE_NOT_BELONG')\r\n                        status = 'FINISHED'\r\n                        break;\r\n                      case \"FOR_REGION\":\r\n                        convertToPdf = notPdfDocs.filter(l => l.letterType === 'NOTICE_REGION')\r\n                        status = 'FINISHED'\r\n                        break;\r\n                    }\r\n                    let convertToPdfLength = convertToPdf.length;\r\n                    for (let i = 0; i < convertToPdfLength; i++) {\r\n                      const d = convertToPdf[i];\r\n                      component.convertToPdf(d).then(r => {\r\n\r\n                        // CHECK AND RESEND 1ST REQUEST\r\n                        if (!r.uploadPath) {\r\n                          component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                        } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                          component.$toast(component.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                        } else if (i === convertToPdfLength - 1) {\r\n                          component.closeProject(grid.id, status, selectedFilter)\r\n                        }\r\n                      })\r\n                        .catch(e => console.log(e))\r\n                    }\r\n                  }\r\n                } else {\r\n                  component.$toast(component.$t('messages.project_files_not_exist'), { type: 'error' })\r\n                }\r\n              }\r\n            })\r\n            .catch(e => {\r\n              console.log(e)\r\n            })\r\n        }\r\n      }\r\n    });\r\n  },\r\n}\r\n"],"mappings":"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"}]}