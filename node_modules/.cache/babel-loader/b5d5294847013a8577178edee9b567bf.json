{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\contractors\\CreateOrUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\contractors\\CreateOrUpdate.vue","mtime":1667352074537},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDcmVhdGVGb3JtQ29udHJhY3RvciBmcm9tICJAL3NoYXJlZC92aWV3cy9jb21wb25lbnRzL0NyZWF0ZUZvcm1Db250cmFjdG9yIjsKLyoNCiogWU9VIE1VU1QgU0VORCB7eyBNQUlOX0FQSV9VUkwgfX0gVE8gQ1JVRF9TRVJWSUNFICovCi8vIGltcG9ydCBjcnVkQW5kTGlzdHNTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2NydWRfYW5kX2xpc3Quc2VydmljZSIKLy8gaW1wb3J0IGhlbHBlclNlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvaGVscGVyLnNlcnZpY2UiCgp2YXIgTUFJTl9BUElfVVJMID0gJ2NvbnRyYWN0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNyZWF0ZU9yVXBkYXRlIiwKCiAgLyoNCiAgKiBQUk9QUyAqLwogIHByb3BzOiB7CiAgICAvKiBjdXN0b21Jc01vZGVDcmVhdGU6IHsNCiAgICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9ICovCiAgfSwKCiAgLyoNCiAgKiBDT01QT05FTlRTICovCiAgY29tcG9uZW50czogewogICAgQ3JlYXRlRm9ybUNvbnRyYWN0b3I6IENyZWF0ZUZvcm1Db250cmFjdG9yCiAgfSwKCiAgLyoNCiAgKiBEQVRBICovCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8qIGZvcm1PZk93bmVyc2hpcHM6IFtdLA0KICAgICAgcmVnaW9uczogW10sDQogICAgICBkaXN0cmljdHM6IFtdLA0KICAgICAgc3RhdHVzZXM6IFtdLA0KICAgICAgZWRpdGluZ0l0ZW06IHsNCiAgICAgICAgICBhZGRyZXNzRHRvOiB7fQ0KICAgICAgfSAqLwogICAgfTsKICB9LAoKICAvKg0KICAqIENPTVBVVEVEICovCiAgY29tcHV0ZWQ6IHsKICAgIGlzTW9kZUNyZWF0ZTogZnVuY3Rpb24gaXNNb2RlQ3JlYXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ0NyZWF0ZUNvbnRyYWN0b3InOwogICAgfQogICAgLyogY29tcHV0ZWRPYnNlcnZlciAoKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyDQogICAgfSAqLwoKICB9LAoKICAvKg0KICAqIE1FVEhPRFMgKi8KICBtZXRob2RzOiB7CiAgICAvKiBzZXREZWZhdWx0QWN0aXZlU3RhdHVzICgpIHsNCiAgICAgICAgbGV0IGFjdGl2ZVN0YXR1cyA9IHRoaXMuc3RhdHVzZXMuZmluZChlbCA9PiBlbC5jb2RlID09ICdBQ1RJVkUnKQ0KICAgICAgICBpZiAoYWN0aXZlU3RhdHVzKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnN0YXR1c0lkID0gYWN0aXZlU3RhdHVzLmlkDQogICAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIHJlZ2lvblNlbGVjdGVkICgkZXZlbnQsIGRvbnRSZXNldERpc3RyaWN0ID0gZmFsc2UpIHsNCiAgICAgICAgaWYgKCFkb250UmVzZXREaXN0cmljdCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5hZGRyZXNzRHRvLmRpc3RyaWN0SWQgPSBudWxsDQogICAgICAgIH0NCiAgICAgICAgLy8gR0VUIERJU1RSSUNUUw0KICAgICAgICBpZiAoJGV2ZW50KQ0KICAgICAgICAgICAgYXdhaXQgaGVscGVyU2VydmljZS5nZXRHZW9Mb2NhdGlvbnNCeVBhcmVudElkKCRldmVudCkNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3RyaWN0cyA9IHJlcy5kYXRhDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICAgICAgfSkNCiAgICB9LA0KICAgIGZpbmRDb250cmFjdG9yQnlJbm4gKGZyb21CbHVyID0gZmFsc2UpIHsNCiAgICAgICAgaWYgKHRoaXMuY29tcHV0ZWRPYnNlcnZlci5maWVsZHMuSU5OLnZhbGlkIHx8IGZyb21CbHVyKQ0KICAgICAgICAgICAgaGVscGVyU2VydmljZS52YWxpZGF0ZUlubkZyb21BcGkodGhpcy5lZGl0aW5nSXRlbS5pbm4pDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXJTZXJ2aWNlLmdldENvbnRyYWN0b3JJbmZvQnlJbm4odGhpcy5lZGl0aW5nSXRlbS5pbm4pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHJlcy5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERlZmF1bHRBY3RpdmVTdGF0dXMoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGRVRDSCBESVNUUklDVFMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpb25TZWxlY3RlZCh0aGlzLmVkaXRpbmdJdGVtLmFkZHJlc3NEdG8ucmVnaW9uSWQsIHRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tcHV0ZWRPYnNlcnZlci5zZXRFcnJvcnMoeyBJTk46IFt0aGlzLiR0KCd2YWxpZGF0b3IuaW5uX2V4aXN0JyldIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIuc2V0RXJyb3JzKHsgSU5OOiBbdGhpcy4kdCgndmFsaWRhdG9yLmlubicpXSB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICB9LA0KICAgIGN1c3RvbUxhYmVsRGlzdHJpY3QgKG9wdCkgew0KICAgICAgICBsZXQgc2VsZWN0ZWREaXN0cmljdCA9IHRoaXMuZGlzdHJpY3RzLmZpbmQoZSA9PiBlLmlkID09IG9wdCk7DQogICAgICAgIGlmIChzZWxlY3RlZERpc3RyaWN0KSB7DQogICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5nZXROYW1lKHsNCiAgICAgICAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkRGlzdHJpY3QubmFtZVJ1LA0KICAgICAgICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWREaXN0cmljdC5uYW1lTHQsDQogICAgICAgICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZERpc3RyaWN0Lm5hbWVVeiwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfWANCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gYGA7DQogICAgfSwNCiAgICBjdXN0b21MYWJlbFJlZ2lvbiAob3B0KSB7DQogICAgICAgIGxldCBzZWxlY3RlZFJlZ2lvbiA9IHRoaXMucmVnaW9ucy5maW5kKGUgPT4gZS5pZCA9PSBvcHQpOw0KICAgICAgICBpZiAoc2VsZWN0ZWRSZWdpb24pIHsNCiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLmdldE5hbWUoew0KICAgICAgICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWRSZWdpb24ubmFtZVJ1LA0KICAgICAgICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWRSZWdpb24ubmFtZUx0LA0KICAgICAgICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWRSZWdpb24ubmFtZVV6LA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9YA0KICAgICAgICB9DQogICAgICAgIHJldHVybiBgYDsNCiAgICB9LA0KICAgIGN1c3RvbUxhYmVsRm9ybU9mT3duZXJzaGlwIChvcHQpIHsNCiAgICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy5mb3JtT2ZPd25lcnNoaXBzLmZpbmQoZSA9PiBlLmlkID09IG9wdCk7DQogICAgICAgIGlmIChzZWxlY3RlZCkgew0KICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZ2V0TmFtZSh7DQogICAgICAgICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsDQogICAgICAgICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsDQogICAgICAgICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5uYW1lVXosDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH1gDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGBgOw0KICAgIH0sICovCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm1Db250cmFjdG9yLnNhdmUoKTsKICAgICAgLyogdGhpcy5jb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbih2YWxpZCA9PiB7DQogICAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm1Db250cmFjdG9yLmVkaXRpbmdJdGVtLmlkKSB7DQogICAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnVwZGF0ZShNQUlOX0FQSV9VUkwsIHRoaXMuJHJlZnMuZm9ybUNvbnRyYWN0b3IuZWRpdGluZ0l0ZW0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKQ0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybUNvbnRyYWN0b3IuZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB7fSk7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7IHR5cGU6ICdzdWNjZXNzJyB9KTsNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLmNyZWF0ZShNQUlOX0FQSV9VUkwsIHRoaXMuJHJlZnMuZm9ybUNvbnRyYWN0b3IuZWRpdGluZ0l0ZW0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKQ0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybUNvbnRyYWN0b3IuZWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB7fSk7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7IHR5cGU6ICdzdWNjZXNzJyB9KTsNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiR0b2FzdCh0aGlzLiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7IHR5cGU6ICdlcnJvcicgfSk7DQogICAgICAgICAgfQ0KICAgICAgfSk7ICovCiAgICB9CiAgfSwKCiAgLyoNCiAgKiBDUkVBVEVEICovCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8qIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuaXRlbXNQZXJQYWdlID0gNTAwDQogICAgaWYgKHRoaXMuaXNNb2RlQ3JlYXRlKSB7DQogICAgICAgIGF3YWl0IGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0RW1wdHkoTUFJTl9BUElfVVJMKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzLmRhdGEpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICB9KQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGF3YWl0IGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0QnlJZChNQUlOX0FQSV9VUkwsIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbSA9IHJlcy5kYXRhDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICB9KQ0KICAgIH0NCiAgICAgIC8vIEdFVCBTVEFUVVNFUw0KICAgIGF3YWl0IGhlbHBlclNlcnZpY2UuZ2V0UmVmQnlDb2RlKCdzdGF0dXMnKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5zdGF0dXNlcyA9IHJlcy5kYXRhLmNoaWxkcmVuDQogICAgICAgICAgICBpZiAodGhpcy5pc01vZGVDcmVhdGUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNldERlZmF1bHRBY3RpdmVTdGF0dXMoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICB9KQ0KICAgICAgLy8gR0VUIFJFR0lPTlMNCiAgICBhd2FpdCBoZWxwZXJTZXJ2aWNlLmZldGNoUmVnaW9ucygpDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLnJlZ2lvbnMgPSByZXMuZGF0YQ0KICAgICAgICAgICAgdGhpcy5yZWdpb25TZWxlY3RlZCh0aGlzLmVkaXRpbmdJdGVtLmFkZHJlc3NEdG8ucmVnaW9uSWQsIHRydWUpDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgIH0pDQogICAgICAvLyBHRVQgRk9STV9PRl9PV05FUlNISVANCiAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlDQogICAgICAgIC5zZWFyY2hMaXN0KCdkaXJlY3RvcnkvZm9ybS1vZi1vd25lcnNoaXBzJywgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgdGhpcy5mb3JtT2ZPd25lcnNoaXBzID0gcmVzLmRhdGEubGlzdDsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coZSkNCiAgICAgICAgfSkgKi8KCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["CreateOrUpdate.vue"],"names":[],"mappings":";;;;;;;;;;;;AAUA,OAAA,oBAAA,MAAA,gDAAA;AACA;AACA;AACA;AACA;;AACA,IAAA,YAAA,GAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;;AAEA;AACA;AACA,EAAA,KAAA,EAAA;AACA;AACA;AACA;AACA;AAJA,GAJA;;AAUA;AACA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,oBAAA,EAAA;AADA,GAZA;;AAeA;AACA;AACA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA,KAAA;AASA,GA3BA;;AA4BA;AACA;AACA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,KAAA,kBAAA;AACA;AACA;AACA;AACA;;AANA,GA9BA;;AAsCA;AACA;AACA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAA,IAjFA,kBAiFA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,IAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxGA,GAxCA;;AAkJA;AACA;AACA,EAAA,OApJA,qBAoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AA/CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmDA;AAvMA,CAAA","sourcesContent":["<template>\r\n    <base-create-or-update-wrapper\r\n        @save=\"save\"\r\n        has-save-suspend\r\n        :custom-title=\"isModeCreate ? $t('actions.create') : $t('actions.update')\"\r\n    >\r\n        <CreateFormContractor ref=\"formContractor\" @saved=\"$router.go(-1)\"></CreateFormContractor>\r\n    </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nimport CreateFormContractor from \"@/shared/views/components/CreateFormContractor\";\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\n// import crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\n// import helperService from \"@/shared/services/helper.service\"\r\nconst MAIN_API_URL = 'contractor'\r\nexport default {\r\n    name: \"CreateOrUpdate\",\r\n    /*\r\n    * PROPS */\r\n    props: {\r\n        /* customIsModeCreate: {\r\n            type: Boolean,\r\n            default: false\r\n        } */\r\n    },\r\n    /*\r\n    * COMPONENTS */\r\n    components: {\r\n        CreateFormContractor\r\n    },\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            /* formOfOwnerships: [],\r\n            regions: [],\r\n            districts: [],\r\n            statuses: [],\r\n            editingItem: {\r\n                addressDto: {}\r\n            } */\r\n        }\r\n    },\r\n    /*\r\n    * COMPUTED */\r\n    computed: {\r\n        isModeCreate () {\r\n            return this.$route.name === 'CreateContractor'\r\n        },\r\n        /* computedObserver () {\r\n            return this.$refs.observer\r\n        } */\r\n    },\r\n    /*\r\n    * METHODS */\r\n    methods: {\r\n        /* setDefaultActiveStatus () {\r\n            let activeStatus = this.statuses.find(el => el.code == 'ACTIVE')\r\n            if (activeStatus) {\r\n                this.editingItem.statusId = activeStatus.id\r\n            }\r\n        },\r\n        async regionSelected ($event, dontResetDistrict = false) {\r\n            if (!dontResetDistrict) {\r\n                this.editingItem.addressDto.districtId = null\r\n            }\r\n            // GET DISTRICTS\r\n            if ($event)\r\n                await helperService.getGeoLocationsByParentId($event)\r\n                    .then(res => {\r\n                        this.districts = res.data\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n                    })\r\n        },\r\n        findContractorByInn (fromBlur = false) {\r\n            if (this.computedObserver.fields.INN.valid || fromBlur)\r\n                helperService.validateInnFromApi(this.editingItem.inn)\r\n                    .then(res => {\r\n                        if (res.data) {\r\n                            helperService.getContractorInfoByInn(this.editingItem.inn)\r\n                                .then(res => {\r\n                                    this.editingItem = Object.assign({}, res.data)\r\n                                    this.setDefaultActiveStatus()\r\n                                    // FETCH DISTRICTS\r\n                                    this.regionSelected(this.editingItem.addressDto.regionId, true)\r\n                                })\r\n                                .catch(e => {\r\n                                    // this.computedObserver.setErrors({ INN: [this.$t('validator.inn_exist')] });\r\n                                })\r\n                        } else {\r\n                            this.computedObserver.setErrors({ INN: [this.$t('validator.inn')] });\r\n                        }\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n\r\n                    })\r\n        },\r\n        customLabelDistrict (opt) {\r\n            let selectedDistrict = this.districts.find(e => e.id == opt);\r\n            if (selectedDistrict) {\r\n                return `${this.getName({\r\n                    nameRu: selectedDistrict.nameRu,\r\n                    nameLt: selectedDistrict.nameLt,\r\n                    nameUz: selectedDistrict.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelRegion (opt) {\r\n            let selectedRegion = this.regions.find(e => e.id == opt);\r\n            if (selectedRegion) {\r\n                return `${this.getName({\r\n                    nameRu: selectedRegion.nameRu,\r\n                    nameLt: selectedRegion.nameLt,\r\n                    nameUz: selectedRegion.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelFormOfOwnership (opt) {\r\n            let selected = this.formOfOwnerships.find(e => e.id == opt);\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        }, */\r\n        save () {\r\n            this.$refs.formContractor.save()\r\n            /* this.computedObserver.validate().then(valid => {\r\n                if (valid) {\r\n                    if (this.$refs.formContractor.editingItem.id) {\r\n                        crudAndListsService.update(MAIN_API_URL, this.$refs.formContractor.editingItem).then(res => {\r\n                            this.computedObserver.reset()\r\n                            this.$refs.formContractor.editingItem = Object.assign({}, {});\r\n                            this.$router.go(-1)\r\n                            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                        })\r\n                    } else {\r\n                        crudAndListsService.create(MAIN_API_URL, this.$refs.formContractor.editingItem).then(res => {\r\n                            this.computedObserver.reset()\r\n                            this.$refs.formContractor.editingItem = Object.assign({}, {});\r\n                            this.$router.go(-1)\r\n                            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            }); */\r\n        }\r\n    },\r\n    /*\r\n    * CREATED */\r\n    async created () {\r\n        /* this.var_default_search_payload.itemsPerPage = 500\r\n        if (this.isModeCreate) {\r\n            await crudAndListsService.getEmpty(MAIN_API_URL)\r\n                .then(res => {\r\n                    this.editingItem = Object.assign({}, res.data)\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        } else {\r\n            await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id)\r\n                .then(res => {\r\n                    this.editingItem = res.data\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        }\r\n\r\n        // GET STATUSES\r\n        await helperService.getRefByCode('status')\r\n            .then(res => {\r\n                this.statuses = res.data.children\r\n                if (this.isModeCreate) {\r\n                    this.setDefaultActiveStatus()\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        // GET REGIONS\r\n        await helperService.fetchRegions()\r\n            .then(res => {\r\n                this.regions = res.data\r\n                this.regionSelected(this.editingItem.addressDto.regionId, true)\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        // GET FORM_OF_OWNERSHIP\r\n        crudAndListsService\r\n            .searchList('directory/form-of-ownerships', this.var_default_search_payload)\r\n            .then((res) => {\r\n                this.formOfOwnerships = res.data.list;\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            }) */\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.col-form-label {\r\n    padding-top: 0;\r\n}\r\nul {\r\n    list-style-type: none;\r\n}\r\n</style>"],"sourceRoot":"src/modules/references/modules/contractors"}]}