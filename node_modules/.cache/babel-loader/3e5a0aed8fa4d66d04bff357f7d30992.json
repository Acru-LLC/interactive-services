{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\price-stock\\product-name\\CreateOrUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\price-stock\\product-name\\CreateOrUpdate.vue","mtime":1675054786281},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8qKiBZT1UgTVVTVCBTRU5EIHt7IE1BSU5fQVBJX1VSTCB9fSBUTyBDUlVEX1NFUlZJQ0UgKi8KaW1wb3J0IGNydWRBbmRMaXN0U2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOwppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOwp2YXIgTUFJTl9BUElfVVJMID0gJ3ByaWNlL3N0b2NrL3Byb2R1Y3QtbmFtZSc7CmV4cG9ydCBkZWZhdWx0IHsKICAvKiogREFUQSAqL2RhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbXB0eToge30sCiAgICAgIGl0ZW1zOiBbXSwKICAgICAgcHJvZHVjdExpc3Q6IFtdCiAgICB9OwogIH0sCiAgLyoqIENPTVBVVEVEICovCiAgY29tcHV0ZWQ6IHsKICAgIGlzTW9kZUNyZWF0ZTogZnVuY3Rpb24gaXNNb2RlQ3JlYXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ1JlZmVyZW5jZXNQcmljZVN0b2NrUHJvZHVjdE5hbWVDcmVhdGUnOwogICAgfSwKICAgIGNvbXB1dGVkT2JzZXJ2ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkT2JzZXJ2ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyOwogICAgfQogIH0sCiAgLyoqIE1FVEhPRFMgKi8KICBtZXRob2RzOiB7CiAgICB0cmVlQ2xvc2VkOiBmdW5jdGlvbiB0cmVlQ2xvc2VkKHZlZU5hbWUpIHsKICAgICAgdGhpcy5jb21wdXRlZE9ic2VydmVyLnJlZnNbdmVlTmFtZV0udmFsaWRhdGUoKTsKICAgIH0sCiAgICBjdXN0b21MYWJlbFByb2R1Y3RMaXN0OiBmdW5jdGlvbiBjdXN0b21MYWJlbFByb2R1Y3RMaXN0KG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnByb2R1Y3RMaXN0LmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PT0gKG9wdC5pZCA/IG9wdC5pZCA6IG9wdCk7CiAgICAgIH0pOwogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogIiIuY29uY2F0KHNlbGVjdGVkLm5hbWVSdSwgIiAoIikuY29uY2F0KHNlbGVjdGVkLnVuaXROYW1lUnUsICIpIiksCiAgICAgICAgICBuYW1lTHQ6ICIiLmNvbmNhdChzZWxlY3RlZC5uYW1lTHQsICIgKCIpLmNvbmNhdChzZWxlY3RlZC51bml0TmFtZUx0LCAiKSIpLAogICAgICAgICAgbmFtZVV6OiAiIi5jb25jYXQoc2VsZWN0ZWQubmFtZVV6LCAiICgiKS5jb25jYXQoc2VsZWN0ZWQudW5pdE5hbWVVeiwgIikiKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIudmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzLml0ZW1zLmlkKSB7CiAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2UudXBkYXRlKE1BSU5fQVBJX1VSTCwgX3RoaXMuaXRlbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKTsKICAgICAgICAgICAgICBfdGhpcy5pdGVtcyA9IFtdOwogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgIF90aGlzLiR0b2FzdChfdGhpcy4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2UuY3JlYXRlKE1BSU5fQVBJX1VSTCwgX3RoaXMuaXRlbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVkT2JzZXJ2ZXIucmVzZXQoKTsKICAgICAgICAgICAgICBfdGhpcy5pdGVtcyA9IFtdOwogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgIF90aGlzLiR0b2FzdChfdGhpcy4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KF90aGlzLiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkTmV3TGluZTogZnVuY3Rpb24gYWRkTmV3TGluZSgpIHsKICAgICAgdGhpcy5pdGVtcy5wdXNoKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZW1wdHkpKTsKICAgIH0sCiAgICByZW1vdmVMaW5lOiBmdW5jdGlvbiByZW1vdmVMaW5lKGluZGV4KSB7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBmZXRjaFByb2R1Y3RzOiBmdW5jdGlvbiBmZXRjaFByb2R1Y3RzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHNlYXJjaCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgICAgIGNydWRBbmRMaXN0U2VydmljZS5zZWFyY2hMaXN0KCdwcmljZS9wcm9kdWN0JywgewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgaXRlbXNQZXJQYWdlOiAxMDAKICAgICAgfSwgJycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5wcm9kdWN0TGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5sb2FkaW5nVGFibGVJdGVtcyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWFyY2hQcm9kdWN0OiBmdW5jdGlvbiBoYW5kbGVTZWFyY2hQcm9kdWN0KGEsIGIsIGMpIHsKICAgICAgY29uc29sZS5sb2coYSwgYiwgYyk7CiAgICB9CiAgfSwKICAvKiogQ1JFQVRFRCAqL2NyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF90aGlzMy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSA1MDA7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gY3J1ZEFuZExpc3RzU2VydmljZS5nZXRFbXB0eShNQUlOX0FQSV9VUkwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzMy5lbXB0eSA9IHJlcy5kYXRhOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgaWYgKCFfdGhpczMuaXNNb2RlQ3JlYXRlKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMzLmFkZE5ld0xpbmUoKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0QnlJZChNQUlOX0FQSV9VUkwsIF90aGlzMy4kcm91dGUucGFyYW1zLmlkLCBmYWxzZSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgICAgICAgIF90aGlzMy5pdGVtcyA9IFtkYXRhXTsKICAgICAgICAgICAgICB2YXIgZXhpc3QgPSBfdGhpczMucHJvZHVjdExpc3QuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT09IGRhdGEucHJvZHVjdElkOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGlmICghZXhpc3QpIHsKICAgICAgICAgICAgICAgIGNydWRBbmRMaXN0U2VydmljZS5nZXRCeUlkKCdwcmljZS9wcm9kdWN0JywgZGF0YS5wcm9kdWN0SWQpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnByb2R1Y3RMaXN0LnB1c2goZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfdGhpczMuZmV0Y2hQcm9kdWN0cygpOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;AA2DA;AACA;AACA;AAEA;AAEA;EACA,WACAA;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACAC;cACA;cACA;cACA;cACA;gBAAAC;cAAA;YACA;UACA;YACAD;cACA;cACA;cACA;cACA;gBAAAC;cAAA;YACA;UACA;QACA;UACA;YAAAA;UAAA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;MACAC;QAAAC;QAAAC;MAAA,OACAC;QACA;MACA,GACAC;QACAC;MACA,GACAC;QACA;MACA;IACA;IACAC;MACAF;IACA;EACA;EACA,cACAG;IAAA;IAAA;MAAA;QAAA;UAAA;YACA;YAAA;YAAA,OACAb,2CACAQ;cACA;YACA,GACAC;cACAC;YACA;UAAA;YAAA,KACA;cAAA;cAAA;YAAA;YACA;YAAA;YAAA;UAAA;YAAA;YAAA,OAEAV,0EACAQ;cAAA;cACA;cACA;gBAAA;cAAA;cACA;gBACAH;kBAAA;kBACA;gBACA;cACA;YACA,GACAI;cACAC;YACA;UAAA;YAEA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EACA;AACA","names":["data","empty","items","productList","computed","isModeCreate","computedObserver","methods","treeClosed","customLabelProductList","nameRu","nameLt","nameUz","save","crudAndListsService","type","addNewLine","removeLine","fetchProducts","crudAndListService","page","itemsPerPage","then","catch","console","finally","handleSearchProduct","created"],"sourceRoot":"src/modules/references/modules/price-stock/product-name","sources":["CreateOrUpdate.vue"],"sourcesContent":["<template>\r\n  <base-create-or-update-wrapper\r\n      @save=\"save\"\r\n      has-save-suspend\r\n      :custom-title=\"isModeCreate ? $t('actions.create') : $t('actions.update')\"\r\n  >\r\n    <ValidationObserver ref=\"observer\" v-slot=\"{}\">\r\n      <b-row class=\"mb-1\">\r\n        <b-col sm=\"11\">\r\n          <b-row class=\"mb-1\">\r\n            <b-col sm=\"4\">{{ $t('column.connected_product') }}</b-col>\r\n            <b-col sm=\"8\">{{ $t('submodules.integration.price_stock.product_name') }}</b-col>\r\n          </b-row>\r\n        </b-col>\r\n        <b-col sm=\"1\">\r\n          <b-btn v-if=\"isModeCreate\" variant=\"success\" @click=\"addNewLine\">\r\n            <i class=\"fa fa-plus\"></i>\r\n          </b-btn>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mb-1\" v-for=\"(item, key) in items\" :key=\"key\">\r\n        <b-col sm=\"11\">\r\n          <b-row class=\"mb-1\">\r\n            <b-col sm=\"4\">\r\n              <BaseInputWithValidation\r\n                  rules=\"required\"\r\n                  v-model=\"item.spProductName\"\r\n                  label-on-top\r\n                  label=\"\"\r\n                  :placeholder=\"''\"\r\n              />\r\n            </b-col>\r\n            <b-col sm=\"8\">\r\n              <BaseMultiselectWithValidation\r\n                  v-model=\"item.productId\"\r\n                  rules=\"required\"\r\n                  placeholder=\"\"\r\n                  label-on-top\r\n                  open-direction=\"bottom\"\r\n                  :label=\"''\"\r\n                  :options=\"productList.map(el => el.id)\"\r\n                  :searchable=\"true\"\r\n                  :show-labels=\"false\"\r\n                  :custom-label=\"customLabelProductList\"\r\n                  @search-change=\"handleSearchProduct\"\r\n              />\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n        <b-col sm=\"1\">\r\n          <b-btn v-if=\"isModeCreate\" variant=\"danger\" @click=\"removeLine(key)\">\r\n            <i class=\"fa fa-times\"></i>\r\n          </b-btn>\r\n        </b-col>\r\n      </b-row>\r\n    </ValidationObserver>\r\n  </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\n/** YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListService from \"@/shared/services/crud_and_list.service\";\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\";\r\n\r\nconst MAIN_API_URL = 'price/stock/product-name'\r\n\r\nexport default {\r\n  /** DATA */\r\n  data() {\r\n    return {\r\n      empty: {},\r\n      items: [],\r\n      productList: []\r\n    }\r\n  },\r\n  /** COMPUTED */\r\n  computed: {\r\n    isModeCreate() {\r\n      return this.$route.name === 'ReferencesPriceStockProductNameCreate'\r\n    },\r\n    computedObserver() {\r\n      return this.$refs.observer\r\n    }\r\n  },\r\n  /** METHODS */\r\n  methods: {\r\n    treeClosed(veeName) {\r\n      this.computedObserver.refs[veeName].validate();\r\n    },\r\n    customLabelProductList(opt) {\r\n      let selected = this.productList.find(e => e.id === (opt.id ? opt.id : opt));\r\n      if (selected) {\r\n        return this.getName({\r\n          nameRu: `${selected.nameRu} (${selected.unitNameRu})`,\r\n          nameLt: `${selected.nameLt} (${selected.unitNameLt})`,\r\n          nameUz: `${selected.nameUz} (${selected.unitNameUz})`,\r\n        })\r\n      }\r\n      return '';\r\n    },\r\n    save() {\r\n      this.computedObserver.validate().then(valid => {\r\n        if (valid) {\r\n          if (this.items.id) {\r\n            crudAndListsService.update(MAIN_API_URL, this.items).then(res => {\r\n              this.computedObserver.reset()\r\n              this.items = [];\r\n              this.$router.go(-1)\r\n              this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n            })\r\n          } else {\r\n            crudAndListsService.create(MAIN_API_URL, this.items).then(res => {\r\n              this.computedObserver.reset()\r\n              this.items = [];\r\n              this.$router.go(-1)\r\n              this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n            })\r\n          }\r\n        } else {\r\n          this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    addNewLine() {\r\n      this.items.push({ ...this.empty })\r\n    },\r\n    removeLine(index) {\r\n      this.items.splice(index, 1)\r\n    },\r\n    fetchProducts(search = '') {\r\n      crudAndListService.searchList('price/product', { page: 1, itemsPerPage: 100 }, '')\r\n          .then(res => {\r\n            this.productList = res.data.list\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n          .finally(() => {\r\n            this.loadingTableItems = false\r\n          })\r\n    },\r\n    handleSearchProduct(a, b, c) {\r\n      console.log(a, b, c)\r\n    },\r\n  },\r\n  /** CREATED */\r\n  async created() {\r\n    this.var_default_search_payload.itemsPerPage = 500\r\n    await crudAndListsService.getEmpty(MAIN_API_URL)\r\n        .then(res => {\r\n          this.empty = res.data\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n    if (this.isModeCreate) {\r\n      this.addNewLine()\r\n    } else {\r\n      await crudAndListsService.getById(MAIN_API_URL, this.$route.params.id, false)\r\n          .then(({ data }) => {\r\n            this.items = [data]\r\n            const exist = this.productList.find(e => e.id === data.productId)\r\n            if (!exist) {\r\n              crudAndListService.getById('price/product', data.productId).then(({ data }) => {\r\n                this.productList.push(data)\r\n              })\r\n            }\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    }\r\n    this.fetchProducts()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.col-form-label {\r\n  padding-top: 0;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n}\r\n</style>"]}]}