{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\advertisement\\modules\\e-auction-monitoring\\map\\VanillaLeaflet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\advertisement\\modules\\e-auction-monitoring\\map\\VanillaLeaflet.vue","mtime":1674799496565},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcQUNSVSBQUk9KRUNUXFxGYWlyIFRlY2hcXG9oaXJnaVxcYWNydS1mcm9udGVuZFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXEFDUlUgUFJPSkVDVFxcRmFpciBUZWNoXFxvaGlyZ2lcXGFjcnUtZnJvbnRlbmRcXGFjcnUtZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IExNYXAgfSBmcm9tICJ2dWUyLWxlYWZsZXQiOwppbXBvcnQgaGVscGVyU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9oZWxwZXIuc2VydmljZSc7CmltcG9ydCBMIGZyb20gImxlYWZsZXQiOwppbXBvcnQgTGVhZmxldE1hcmtlcmNsdXN0ZXIgZnJvbSAibGVhZmxldC5tYXJrZXJjbHVzdGVyIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RhdGUvc3RvcmUiOwppbXBvcnQgImxlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyI7CmltcG9ydCAibGVhZmxldC5tYXJrZXJjbHVzdGVyL2Rpc3QvTWFya2VyQ2x1c3Rlci5jc3MiOwppbXBvcnQgImxlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MiOwppbXBvcnQgTWFya2VySWNvbiBmcm9tICJsZWFmbGV0L2Rpc3QvaW1hZ2VzL21hcmtlci1pY29uLnBuZyI7CmltcG9ydCBQb3B1cCBmcm9tICIuL1BvcHVwIjsKaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlIjsKdmFyIE1BSU5fQVBJX1VSTCA9ICdjb250cmFjdG9yLWFkdmVydGlzaW5nLWNvbnN0cnVjdGlvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAidi1tYXAiOiBMTWFwLAogICAgUG9wdXA6IFBvcHVwCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0TWFwKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsdGVyUGF5bG9hZDogewogICAgICAgIHBhc3Nwb3J0TnVtYmVyOiAnJywKICAgICAgICBkZXNpZ25UeXBlSWRzOiAnJywKICAgICAgICBjb250cmFjdG9ySWRzOiAnJywKICAgICAgICBkaXN0cmljdElkczogJycsCiAgICAgICAgcmVnaW9uSWRzOiAnJwogICAgICB9LAogICAgICBtYXA6IHsKICAgICAgICBzZWxmOiBudWxsLAogICAgICAgIG1heFpvb206IDE5LAogICAgICAgIG1pblpvb206IDYsCiAgICAgICAgaW5pdFpvb206IDYsCiAgICAgICAgdmlldzogWzQxLjUsIDY0LjVdLAogICAgICAgIGF0dHJpYnV0aW9uOiBbNDEuNSwgNjQuNV0sCiAgICAgICAgbWF4Qm91bmRzOiBbWzM3LCA1NV0sIFs0NiwgNzRdXSwKICAgICAgICBtYXJrZXJzOiBudWxsCiAgICAgIH0sCiAgICAgIGFkTWFya2VyczogW10sCiAgICAgIGFkTWFya2VyT2JqZWN0czogW10sCiAgICAgIGFkRGVzaWduVHlwZXM6IFtdLAogICAgICBzZWFyY2hSZXN1bHRNYXJrZXI6IG51bGwsCiAgICAgIHNsaWRlOiAwLAogICAgICBzbGlkaW5nOiBudWxsLAogICAgICBjdXJyZW50QWREZXRhaWxzOiB7fSwKICAgICAgY3VycmVudEFkSW1nczogW10sCiAgICAgIHN0ckZvckltZ3M6ICcnLAogICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICAgICAgZGlzdHJpY3RzOiBbXSwKICAgICAgcmVnaW9uczogW10sCiAgICAgIGNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkOiB7fSwKICAgICAgaGFzTmV4dFBhZ2VDb250cmFjdG9yczogZmFsc2UsCiAgICAgIGNvbnRyYWN0b3JzOiBbXSwKICAgICAgZGVib3VuY2U6IG51bGwsCiAgICAgIGlzTG9hZGluZ0NvbnRyYWN0b3JzOiBmYWxzZSwKICAgICAgaW5pdGlhbEZpbHRlclBheWxvYWQ6IHsKICAgICAgICBwYXNzcG9ydE51bWJlcjogJycsCiAgICAgICAgY29udHJhY3RvcklkczogW10sCiAgICAgICAgcmVnaW9uSWRzOiBbXSwKICAgICAgICBkaXN0cmljdElkczogW10sCiAgICAgICAgZGVzaWduVHlwZUlkczogW10KICAgICAgfSwKICAgICAgbWFwUG9wdXA6IHsKICAgICAgICBpZDogJ21hcC1wb3B1cCcsCiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgZWxlbWVudDoge30KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdG9yZS5jb21taXQoIlNFVF9HTE9CQUxfTE9BRElORyIsIHRydWUpOwogICAgICAgICAgICAgIF90aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQpOwogICAgICAgICAgICAgIF90aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSA9IDUwMDsKCiAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoKCk7CgogICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgiU0VUX0dMT0JBTF9MT0FESU5HIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIF90aGlzLmZldGNoQ29udHJhY3RvcnMoKTsKCiAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJTRVRfR0xPQkFMX0xPQURJTkciLCB0cnVlKTsKCiAgICAgICAgICAgICAgX3RoaXMuZmV0Y2hBZERlc2lnblR5cGVzKCk7CgogICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgiU0VUX0dMT0JBTF9MT0FESU5HIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIF90aGlzLmZldGNoUmVnaW9uc0ZvckFkdmVydGlzZW1lbnRCeUN1cnJlbnRVc2VySWQoKTsKCiAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJTRVRfR0xPQkFMX0xPQURJTkciLCBmYWxzZSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdE1hcDogZnVuY3Rpb24gaW5pdE1hcCgpIHsKICAgICAgdmFyIG1hcE9iamVjdCA9IHRoaXMuJHJlZnMubWFwLm1hcE9iamVjdDsKICAgICAgdGhpcy5tYXAuc2VsZiA9IG1hcE9iamVjdDsKICAgICAgdmFyIF90aGlzJG1hcCA9IHRoaXMubWFwLAogICAgICAgICAgc2VsZiA9IF90aGlzJG1hcC5zZWxmLAogICAgICAgICAgbWF4Wm9vbSA9IF90aGlzJG1hcC5tYXhab29tLAogICAgICAgICAgbWluWm9vbSA9IF90aGlzJG1hcC5taW5ab29tLAogICAgICAgICAgYXR0cmlidXRpb24gPSBfdGhpcyRtYXAuYXR0cmlidXRpb24sCiAgICAgICAgICB2aWV3ID0gX3RoaXMkbWFwLnZpZXcsCiAgICAgICAgICBpbml0Wm9vbSA9IF90aGlzJG1hcC5pbml0Wm9vbSwKICAgICAgICAgIG1heEJvdW5kcyA9IF90aGlzJG1hcC5tYXhCb3VuZHM7CiAgICAgIEwudGlsZUxheWVyKCdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsIHsKICAgICAgICBtYXhab29tOiBtYXhab29tLAogICAgICAgIG1pblpvb206IG1pblpvb20sCiAgICAgICAgYXR0cmlidXRpb246IGF0dHJpYnV0aW9uCiAgICAgIH0pLmFkZFRvKHNlbGYpOwogICAgICBzZWxmLnNldFZpZXcodmlldywgaW5pdFpvb20pOwogICAgICBzZWxmLnNldE1heEJvdW5kcyhtYXhCb3VuZHMpOwogICAgICB0aGlzLmhhbmRsZUFkZExheWVycygpOwogICAgfSwKICAgIGhhbmRsZUFkZExheWVyczogZnVuY3Rpb24gaGFuZGxlQWRkTGF5ZXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBzZWxmOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzZWxmID0gX3RoaXMyLm1hcC5zZWxmOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIubWFwLm1hcmtlcnMpIHsKICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVMYXllcihfdGhpczIubWFwLm1hcmtlcnMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5tYXAubWFya2VycyA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKHsKICAgICAgICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiBmdW5jdGlvbiBpY29uQ3JlYXRlRnVuY3Rpb24oY2x1c3RlcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBMLmRpdkljb24oewogICAgICAgICAgICAgICAgICAgICAgaHRtbDogY2x1c3Rlci5nZXRBbGxDaGlsZE1hcmtlcnMoKS5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdjbHVzdGVyLWJhcicsCiAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogTC5wb2ludCg0MCwgMzApCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzMi5tYXAubWFya2Vycy5hZGRMYXllcnMoX3RoaXMyLmFkTWFya2VyT2JqZWN0cyk7CgogICAgICAgICAgICAgICAgc2VsZi5hZGRMYXllcihfdGhpczIubWFwLm1hcmtlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaFJlZ2lvbnNGb3JBZHZlcnRpc2VtZW50QnlDdXJyZW50VXNlcklkOiBmdW5jdGlvbiBmZXRjaFJlZ2lvbnNGb3JBZHZlcnRpc2VtZW50QnlDdXJyZW50VXNlcklkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gaGVscGVyU2VydmljZS5mZXRjaFJlZ2lvbnNGb3JBZHZlcnRpc2VtZW50QnlDdXJyZW50VXNlcklkKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5yZWdpb25zID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaEFkRGVzaWduVHlwZXM6IGZ1bmN0aW9uIGZldGNoQWREZXNpZ25UeXBlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZ2V0QWREZXNpZ25UeXBlc0J5QWN0aXZlU3RhdHVzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5hZERlc2lnblR5cGVzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjdXN0b21MYWJlbEFkRGVzaWduVHlwZTogZnVuY3Rpb24gY3VzdG9tTGFiZWxBZERlc2lnblR5cGUob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuYWREZXNpZ25UeXBlcy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT09IChvcHQuaWQgPyBvcHQuaWQgOiBvcHQpOwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoc2VsZWN0ZWQpOwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgcmVzZXRGaWx0ZXI6IGZ1bmN0aW9uIHJlc2V0RmlsdGVyKCkgewogICAgICB0aGlzLmZpbHRlclBheWxvYWQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmluaXRpYWxGaWx0ZXJQYXlsb2FkKTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgdGhpcy5tYXAuc2VsZi5zZXRWaWV3KHRoaXMubWFwLnZpZXcsIHRoaXMubWFwLnpvb20pOwogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGhlbHBlclNlcnZpY2UuZ2V0QWRDb25zdHJ1Y3Rpb25zRm9yTWFwRUF1Y3Rpb24odGhpcy5maWx0ZXJQYXlsb2FkLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUuYWRNYXJrZXJzID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXM1LmFkTWFya2VyT2JqZWN0cyA9IFtdOwogICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHsKICAgICAgICAgIGlmIChlbGVtZW50LmxhdE51bWJlciAmJiBlbGVtZW50LmxuZ051bWJlcikgewogICAgICAgICAgICBsaXN0LnB1c2gobmV3IEwubWFya2VyKFtlbGVtZW50LmxhdE51bWJlciwgZWxlbWVudC5sbmdOdW1iZXJdLCB7CiAgICAgICAgICAgICAgaWNvbjogTC5pY29uKHsKICAgICAgICAgICAgICAgIGljb25Vcmw6IE1hcmtlckljb24KICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5nZXRBZERldGFpbHMoX3RoaXM1LmFkTWFya2Vyc1tpbmRleF0sIGluZGV4KTsKICAgICAgICAgICAgfSkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIF90aGlzNS5hZE1hcmtlck9iamVjdHMgPSBsaXN0OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRTZWFyY2hSZXN1bHRNYXJrZXI6IGZ1bmN0aW9uIGFkZFNlYXJjaFJlc3VsdE1hcmtlcihlKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaFJlc3VsdE1hcmtlcikgewogICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMuc2VhcmNoUmVzdWx0TWFya2VyKTsKICAgICAgfQoKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5zZWFyY2hSZXN1bHRNYXJrZXIgPSBuZXcgTC5NYXJrZXIoZS5sYXRsbmcsIHsKICAgICAgICBpY29uOiBuZXcgTXlDdXN0b21NYXJrZXJGb3JTZWFyY2goKQogICAgICB9KS5hZGRUbyh0aGlzLm1hcCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2bS5tYXAucmVtb3ZlTGF5ZXIodm0uc2VhcmNoUmVzdWx0TWFya2VyKTsKICAgICAgfSk7CiAgICB9LAogICAgb25TbGlkZVN0YXJ0OiBmdW5jdGlvbiBvblNsaWRlU3RhcnQoc2xpZGUpIHsKICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTsKICAgIH0sCiAgICBvblNsaWRlRW5kOiBmdW5jdGlvbiBvblNsaWRlRW5kKHNsaWRlKSB7CiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGdldEFkRGV0YWlsczogZnVuY3Rpb24gZ2V0QWREZXRhaWxzKGFkSW5mbywgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICAvLyBpZiAoIWFkSW5mby5kZXRhaWxzKSB7CiAgICAgIHRoaXMubWFwUG9wdXAuc2hvdyA9IHRydWU7CiAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0QnlJZCgnY29udHJhY3Rvci1hZHZlcnRpc2luZy1jb25zdHJ1Y3Rpb24nLCBhZEluZm8uaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi5jdXJyZW50QWRJbWdzID0gbnVsbDsKICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldEJ5SWQoJ2NvbnRyYWN0b3ItYWR2ZXJ0aXNpbmctY29uc3RydWN0aW9uJywgYWRJbmZvLmlkLCBmYWxzZSwgbnVsbCwgJ3NlY29uZC1hZ2VudC1maWxlcycpLnRoZW4oZnVuY3Rpb24gKHJlc0ZvckZpbGVzKSB7CiAgICAgICAgICBfdGhpczYubWFwUG9wdXAuZWxlbWVudCA9IGFkSW5mbzsKICAgICAgICAgIF90aGlzNi5tYXBQb3B1cC5jdXJyZW50QWREZXRhaWxzID0gYWRJbmZvOwoKICAgICAgICAgIF90aGlzNi4kYnZNb2RhbC5zaG93KF90aGlzNi5tYXBQb3B1cC5pZCk7CgogICAgICAgICAgX3RoaXM2LmN1cnJlbnRBZEltZ3MgPSByZXNGb3JGaWxlcy5kYXRhLm9iamVjdFBob3RvTGlzdDsKCiAgICAgICAgICBpZiAocmVzRm9yRmlsZXMuZGF0YS5wYXNzcG9ydFBob3RvVXJsICYmIHJlc0ZvckZpbGVzLmRhdGEucGFzc3BvcnRQaG90b1VybC51cmwpIHsKICAgICAgICAgICAgX3RoaXM2LmN1cnJlbnRBZEltZ3MucHVzaChyZXNGb3JGaWxlcy5kYXRhLnBhc3Nwb3J0UGhvdG9VcmwpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNi4kc2V0KF90aGlzNi5hZE1hcmtlcnNbaW5kZXhdLCAnZGV0YWlscycsIHJlcy5kYXRhLmNvbnRyYWN0b3JBZHZlcnRpc2luZ0NvbnN0cnVjdGlvbkZvclNlY29uZEFnZW50RHRvKTsKCiAgICAgICAgICBfdGhpczYuJHNldChfdGhpczYuYWRNYXJrZXJzW2luZGV4XSwgJ2ltZ3MnLCBfdGhpczYuY3VycmVudEFkSW1ncyk7CgogICAgICAgICAgX3RoaXM2LmN1cnJlbnRBZERldGFpbHMgPSBfdGhpczYuYWRNYXJrZXJzW2luZGV4XS5kZXRhaWxzOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKCiAgICAgICAgICBfdGhpczYuJHNldChfdGhpczYuYWRNYXJrZXJzW2luZGV4XSwgJ2RldGFpbHMnLCByZXMuZGF0YS5jb250cmFjdG9yQWR2ZXJ0aXNpbmdDb25zdHJ1Y3Rpb25Gb3JTZWNvbmRBZ2VudER0byk7CgogICAgICAgICAgX3RoaXM2LmN1cnJlbnRBZERldGFpbHMgPSBfdGhpczYuYWRNYXJrZXJzW2luZGV4XS5kZXRhaWxzOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsgLy8gfSBlbHNlIHsKICAgICAgLy8gICB0aGlzLiRidk1vZGFsLnNob3codGhpcy5tYXBQb3B1cC5pZCk7CiAgICAgIC8vICAgdGhpcy5jdXJyZW50QWRJbWdzID0gYWRJbmZvLmltZ3MKICAgICAgLy8gICB0aGlzLm1hcFBvcHVwLmVsZW1lbnQgPSBhZEluZm8KICAgICAgLy8gICB0aGlzLm1hcFBvcHVwLmN1cnJlbnRBZERldGFpbHMgPSBhZEluZm8KICAgICAgLy8gICB0aGlzLmN1cnJlbnRBZERldGFpbHMgPSB0aGlzLmFkTWFya2Vyc1tpbmRleF0uZGV0YWlscwogICAgICAvLyB9CiAgICB9LAogICAgY3VzdG9tTGFiZWxEaXN0cmljdDogZnVuY3Rpb24gY3VzdG9tTGFiZWxEaXN0cmljdChvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5kaXN0cmljdHMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IG9wdDsKICAgICAgfSk7CgogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkLm5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQubmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5uYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbFJlZ2lvbjogZnVuY3Rpb24gY3VzdG9tTGFiZWxSZWdpb24ob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMucmVnaW9ucy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUucmVnaW9uSWQgPT0gKG9wdC5yZWdpb25JZCA/IG9wdC5yZWdpb25JZCA6IG9wdCk7CiAgICAgIH0pOwoKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5yZWdpb25OYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLnJlZ2lvbk5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQucmVnaW9uTmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgcmVnaW9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIHJlZ2lvblNlbGVjdGVkKCRldmVudCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgZG9udFJlc2V0RGlzdHJpY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvbnRSZXNldERpc3RyaWN0ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoIWRvbnRSZXNldERpc3RyaWN0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5maWx0ZXJQYXlsb2FkLmRpc3RyaWN0SWRzID0gW107CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoJGV2ZW50ICYmICRldmVudC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZ2V0R2VvTG9jYXRpb25zQnlNdWx0aXBsZVBhcmVudElkcygkZXZlbnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczcuZGlzdHJpY3RzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjdXN0b21MYWJlbENvbnRyYWN0b3I6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsQ29udHJhY3RvcihvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5jb250cmFjdG9ycy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gb3B0OwogICAgICB9KTsKCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoc2VsZWN0ZWQuZnVsbE5hbWUpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgZGVib3VuY2VTZWFyY2hDb250cmFjdG9yczogZnVuY3Rpb24gZGVib3VuY2VTZWFyY2hDb250cmFjdG9ycyhzZWFyY2hUZXh0KSB7CiAgICAgIHZhciBfYXJndW1lbnRzMiA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgc2VsZWN0TmFtZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc2VsZWN0TmFtZSA9IF9hcmd1bWVudHMyLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50czJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMyWzFdIDogJyc7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXM4LmRlYm91bmNlKTsKICAgICAgICAgICAgICAgIF90aGlzOC5kZWJvdW5jZSA9IHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZChzZWFyY2hUZXh0LCBzZWxlY3ROYW1lKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgIH0pKSwgMTAwMCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZldGNoQ29udHJhY3RvcnNXaXRoS2V5d29yZDogZnVuY3Rpb24gZmV0Y2hDb250cmFjdG9yc1dpdGhLZXl3b3JkKGtleXdvcmQsIHNlbGVjdE5hbWUpIHsKICAgICAgdGhpcy5jb250cmFjdG9ycyA9IFtdOwogICAgICB0aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLnBhZ2UgPSAxOwogICAgICB0aGlzLmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLmtleXdvcmQgPSBrZXl3b3JkID8ga2V5d29yZCA6ICcnOwoKICAgICAgaWYgKHNlbGVjdE5hbWUgPT0gJ2NvbnRyYWN0b3InKSB7CiAgICAgICAgdGhpcy5mZXRjaENvbnRyYWN0b3JzKCk7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaENvbnRyYWN0b3JzOiBmdW5jdGlvbiBmZXRjaENvbnRyYWN0b3JzKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczkuaXNMb2FkaW5nQ29udHJhY3RvcnMgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdFdpdGhLZXl3b3JkKCdjb250cmFjdG9yJywgX3RoaXM5LmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLCAnYnktY29udHJhY3RvcicpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICB2YXIgX3RoaXM5JGNvbnRyYWN0b3JzOwoKICAgICAgICAgICAgICAgICAgKF90aGlzOSRjb250cmFjdG9ycyA9IF90aGlzOS5jb250cmFjdG9ycykucHVzaC5hcHBseShfdGhpczkkY29udHJhY3RvcnMsIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5saXN0KSk7CgogICAgICAgICAgICAgICAgICBfdGhpczkuaGFzTmV4dFBhZ2VDb250cmFjdG9ycyA9IHJlcy5kYXRhLnRvdGFsIC8gX3RoaXM5LmNvbnRyYWN0b3JTZWFyY2hQYXlsb2FkLml0ZW1zUGVyUGFnZSA+IF90aGlzOS5jb250cmFjdG9yU2VhcmNoUGF5bG9hZC5wYWdlOwogICAgICAgICAgICAgICAgICBfdGhpczkuY29udHJhY3RvclNlYXJjaFBheWxvYWQucGFnZSArPSAxOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5jb250cmFjdG9ycyA9IFtdOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5pc0xvYWRpbmdDb250cmFjdG9ycyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNvbnRyYWN0b3JSZWFjaGVkRW5kT2ZMaXN0OiBmdW5jdGlvbiBjb250cmFjdG9yUmVhY2hlZEVuZE9mTGlzdChlKSB7CiAgICAgIHZhciBzZWxlY3ROYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKCiAgICAgIGlmIChlKSB7CiAgICAgICAgdGhpcy5mZXRjaENvbnRyYWN0b3JzKCk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAnZmlsdGVyUGF5bG9hZC5yZWdpb25JZHMnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICB0aGlzLnJlZ2lvblNlbGVjdGVkKG5ld1ZhbCk7CiAgICAgIH0KICAgIH0sCiAgICBhZE1hcmtlck9iamVjdHM6IGZ1bmN0aW9uIGFkTWFya2VyT2JqZWN0cygpIHsKICAgICAgdGhpcy5oYW5kbGVBZGRMYXllcnMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["VanillaLeaflet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"col-md-12 text-center\">\r\n        <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.ad_monitoring.title') }}</div>\r\n      </div>\r\n      <div class=\"card\">\r\n        <div class=\"card-body p-0\">\r\n          <div class=\"row p-4\">\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-2 d-flex align-items-end\">\r\n              <BaseInputWithValidation\r\n                  not-required\r\n                  label-on-top\r\n                  v-model=\"filterPayload.passportNumber\"\r\n                  :label=\"$t('column.ad_construction_passport_number')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-2 d-flex align-items-end\">\r\n              <BaseMultiselectWithValidation\r\n                  not-required\r\n                  v-model=\"filterPayload.contractorIds\"\r\n                  multiple\r\n                  :has-next-page=\"hasNextPageContractors\"\r\n                  @reachedEndOfList=\"contractorReachedEndOfList\"\r\n                  @search-change=\"debounceSearchContractors\"\r\n                  :searchable=\"true\"\r\n                  preserve-search\r\n                  :clear-on-select=\"false\"\r\n                  :close-on-select=\"false\"\r\n                  :loading=\"isLoadingContractors\"\r\n                  :internal-search=\"false\"\r\n                  :options=\"contractors.map(e => e.id)\"\r\n                  :hide-selected=\"true\"\r\n                  :label=\"$t('submodules.contractor.title')\"\r\n                  label-on-top\r\n                  style=\"width: 100%;\"\r\n                  placeholder=\"\"\r\n                  :custom-label=\"customLabelContractor\"\r\n                  open-direction=\"bottom\"\r\n                  :max-height=\"600\"\r\n                  :show-labels=\"false\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-2 d-flex align-items-end\">\r\n              <BaseMultiselectWithValidation\r\n                  not-required\r\n                  multiple\r\n                  v-model=\"filterPayload.regionIds\"\r\n                  :options=\"regions.map(e => e.regionId)\"\r\n                  :hide-selected=\"true\"\r\n                  :close-on-select=\"false\"\r\n                  :label=\"$t('column.region')\"\r\n                  label-on-top\r\n                  placeholder=\"\"\r\n                  :custom-label=\"customLabelRegion\"\r\n                  open-direction=\"bottom\"\r\n                  style=\"width: 100%;\"\r\n                  :max-height=\"600\"\r\n                  :show-labels=\"false\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-2 d-flex align-items-end\">\r\n              <BaseMultiselectWithValidation\r\n                  not-required\r\n                  multiple\r\n                  v-model=\"filterPayload.districtIds\"\r\n                  :options=\"districts.map(e => e.id)\"\r\n                  :hide-selected=\"true\"\r\n                  :close-on-select=\"false\"\r\n                  :label=\"$t('column.district')\"\r\n                  label-on-top\r\n                  placeholder=\"\"\r\n                  :custom-label=\"customLabelDistrict\"\r\n                  open-direction=\"bottom\"\r\n                  style=\"width: 100%;\"\r\n                  :max-height=\"600\"\r\n                  :show-labels=\"false\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-2 col-xl-3 d-flex align-items-end\">\r\n              <BaseMultiselectWithValidation\r\n                  not-required\r\n                  multiple\r\n                  v-model=\"filterPayload.designTypeIds\"\r\n                  :options=\"adDesignTypes.map(e => e.id)\"\r\n                  :hide-selected=\"true\"\r\n                  :close-on-select=\"false\"\r\n                  :label=\"$t('column.ad_design_type')\"\r\n                  label-on-top\r\n                  placeholder=\"\"\r\n                  :custom-label=\"customLabelAdDesignType\"\r\n                  open-direction=\"bottom\"\r\n                  style=\"width: 100%;\"\r\n                  :max-height=\"600\"\r\n                  :show-labels=\"false\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4 col-lg-2 col-xl-1 d-flex align-items-end\">\r\n              <b-button\r\n                  variant=\"primary\"\r\n                  size=\"sm\"\r\n                  class=\"me-2\"\r\n                  @click=\"search\"\r\n              >\r\n                <i class=\"mdi mdi-magnify font-size-20 align-middle\"></i>\r\n              </b-button>\r\n              <b-button\r\n                  variant=\"warning\"\r\n                  size=\"sm\"\r\n                  @click=\"resetFilter\"\r\n              >\r\n                <i class=\"mdi mdi-refresh font-size-20 align-middle\"></i>\r\n              </b-button>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <v-map id=\"map\" ref=\"map\"></v-map>\r\n            </div>\r\n          </div>\r\n          <b-modal :id=\"mapPopup.id\" size=\"xl\" v-model=\"mapPopup.show\">\r\n            <template #modal-header v-if=\"!mapPopup.element.details\">\r\n              <h4 class=\"m-0\"><strong>{{ $t('submodules.ad_monitoring.ad_passport_details_title') }}</strong></h4>\r\n            </template>\r\n            <template #modal-title v-else>\r\n              <h4 class=\"m-0 mb-1 d-flex justify-content-between\">\r\n                <strong>{{ $t('submodules.ad_monitoring.ad_passport_details_title') }}</strong>\r\n                <strong v-if=\"currentAdDetails.isUzAvtoYul\" style=\"color: green;\">{{ $t('column.uzavtoyul') }}</strong>\r\n                <strong>{{ $t('column.number_sign') }}: {{ currentAdDetails.passportNumber }}</strong>\r\n              </h4>\r\n            </template>\r\n            <template #modal-footer>&nbsp;</template>\r\n            <popup v-if=\"mapPopup.show\"\r\n                   :currentAdDetails=\"currentAdDetails\"\r\n                   :element=\"mapPopup.element\"\r\n                   :publicPath=\"publicPath\"\r\n                   :currentAdImgs=\"currentAdImgs\"\r\n                   :onSlideStart=\"onSlideStart\"\r\n                   :onSlideEnd=\"onSlideEnd\"\r\n            ></popup>\r\n          </b-modal>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { LMap } from \"vue2-leaflet\";\r\nimport helperService from '@/shared/services/helper.service'\r\nimport L from \"leaflet\";\r\nimport LeafletMarkercluster from \"leaflet.markercluster\";\r\nimport store from \"@/state/store\";\r\n\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"leaflet.markercluster/dist/MarkerCluster.css\";\r\nimport \"leaflet.markercluster/dist/MarkerCluster.Default.css\";\r\nimport MarkerIcon from \"leaflet/dist/images/marker-icon.png\";\r\nimport Popup from \"./Popup\";\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\";\r\n\r\nconst MAIN_API_URL = 'contractor-advertising-construction'\r\nexport default {\r\n  components: {\r\n    \"v-map\": LMap,\r\n    Popup\r\n  },\r\n  mounted() {\r\n    this.initMap();\r\n  },\r\n  data() {\r\n    return {\r\n      filterPayload: {\r\n        passportNumber: '',\r\n        designTypeIds: '',\r\n        contractorIds: '',\r\n        districtIds: '',\r\n        regionIds: '',\r\n      },\r\n      map: {\r\n        self: null,\r\n        maxZoom: 19,\r\n        minZoom: 6,\r\n        initZoom: 6,\r\n        view: [41.5, 64.5],\r\n        attribution: [41.5, 64.5],\r\n        maxBounds: [[37, 55], [46, 74]],\r\n        markers: null,\r\n      },\r\n      adMarkers: [],\r\n      adMarkerObjects: [],\r\n      adDesignTypes: [],\r\n      searchResultMarker: null,\r\n      slide: 0,\r\n      sliding: null,\r\n      currentAdDetails: {},\r\n      currentAdImgs: [],\r\n      strForImgs: '',\r\n      publicPath: process.env.BASE_URL,\r\n      districts: [],\r\n      regions: [],\r\n      contractorSearchPayload: {},\r\n      hasNextPageContractors: false,\r\n      contractors: [],\r\n      debounce: null,\r\n      isLoadingContractors: false,\r\n      initialFilterPayload: {\r\n        passportNumber: '',\r\n        contractorIds: [],\r\n        regionIds: [],\r\n        districtIds: [],\r\n        designTypeIds: []\r\n      },\r\n      mapPopup: {\r\n        id: 'map-popup',\r\n        show: false,\r\n        element: {},\r\n      },\r\n    };\r\n  },\r\n  async created() {\r\n    store.commit(\"SET_GLOBAL_LOADING\", true);\r\n    this.contractorSearchPayload = Object.assign({}, this.var_default_search_payload)\r\n    this.var_default_search_payload.itemsPerPage = 500;\r\n    this.search()\r\n    store.commit(\"SET_GLOBAL_LOADING\", true);\r\n    this.fetchContractors()\r\n    store.commit(\"SET_GLOBAL_LOADING\", true);\r\n    this.fetchAdDesignTypes()\r\n    store.commit(\"SET_GLOBAL_LOADING\", true);\r\n    this.fetchRegionsForAdvertisementByCurrentUserId()\r\n    store.commit(\"SET_GLOBAL_LOADING\", false);\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      const { mapObject } = this.$refs.map;\r\n      this.map.self = mapObject\r\n      const { self, maxZoom, minZoom, attribution, view, initZoom, maxBounds } = this.map;\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        maxZoom: maxZoom,\r\n        minZoom: minZoom,\r\n        attribution: attribution,\r\n      }).addTo(self);\r\n      self.setView(view, initZoom);\r\n      self.setMaxBounds(maxBounds);\r\n      this.handleAddLayers();\r\n    },\r\n    async handleAddLayers(){\r\n      const { self } = this.map;\r\n      if (this.map.markers) {\r\n        self.removeLayer(this.map.markers);\r\n      }\r\n      this.map.markers = L.markerClusterGroup({\r\n        iconCreateFunction: (cluster) => {\r\n          return L.divIcon({\r\n            html: cluster.getAllChildMarkers().length,\r\n            className: 'cluster-bar',\r\n            iconSize: L.point(40, 30)\r\n          });\r\n        },\r\n      });\r\n      this.map.markers.addLayers(this.adMarkerObjects);\r\n      self.addLayer(this.map.markers);\r\n    },\r\n    async fetchRegionsForAdvertisementByCurrentUserId() {\r\n      await helperService.fetchRegionsForAdvertisementByCurrentUserId()\r\n          .then(res => {\r\n            this.regions = res.data\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    async fetchAdDesignTypes() {\r\n      await helperService\r\n          .getAdDesignTypesByActiveStatus()\r\n          .then((res) => {\r\n            this.adDesignTypes = res.data;\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    customLabelAdDesignType(opt) {\r\n      let selected = this.adDesignTypes.find(e => e.id === (opt.id ? opt.id : opt));\r\n      if (selected) {\r\n        return this.getName(selected)\r\n      }\r\n      return '';\r\n    },\r\n    resetFilter() {\r\n      this.filterPayload = Object.assign({}, this.initialFilterPayload)\r\n      this.search()\r\n      this.map.self.setView(this.map.view, this.map.zoom);\r\n    },\r\n    search() {\r\n      helperService.getAdConstructionsForMapEAuction(this.filterPayload, true)\r\n          .then(res => {\r\n            this.adMarkers = res.data\r\n            this.adMarkerObjects = []\r\n            let list = [];\r\n            res.data.forEach((element, index) => {\r\n              if (element.latNumber && element.lngNumber) {\r\n                list.push(new L.marker([element.latNumber, element.lngNumber], {\r\n                  icon: L.icon({\r\n                    iconUrl: MarkerIcon\r\n                  })\r\n                }).on('click', () => this.getAdDetails(this.adMarkers[index], index)))\r\n              }\r\n            });\r\n            this.adMarkerObjects = list;\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    addSearchResultMarker(e) {\r\n      if (this.searchResultMarker) {\r\n        this.map.removeLayer(this.searchResultMarker)\r\n      }\r\n      let vm = this\r\n      this.searchResultMarker = new L.Marker(e.latlng, { icon: new MyCustomMarkerForSearch() }).addTo(this.map).on('click', function (e) {\r\n        vm.map.removeLayer(vm.searchResultMarker)\r\n      });\r\n    },\r\n    onSlideStart(slide) {\r\n      this.sliding = true\r\n    },\r\n    onSlideEnd(slide) {\r\n      this.sliding = false\r\n    },\r\n    getAdDetails(adInfo, index) {\r\n      // if (!adInfo.details) {\r\n        this.mapPopup.show = true\r\n        crudAndListsService.getById('contractor-advertising-construction', adInfo.id)\r\n            .then(res => {\r\n              this.currentAdImgs = null\r\n              crudAndListsService.getById('contractor-advertising-construction', adInfo.id, false, null, 'second-agent-files')\r\n                  .then(resForFiles => {\r\n                    this.mapPopup.element = adInfo\r\n                    this.mapPopup.currentAdDetails = adInfo\r\n                    this.$bvModal.show(this.mapPopup.id);\r\n                    this.currentAdImgs = resForFiles.data.objectPhotoList\r\n                    if (resForFiles.data.passportPhotoUrl && resForFiles.data.passportPhotoUrl.url) {\r\n                      this.currentAdImgs.push(resForFiles.data.passportPhotoUrl)\r\n                    }\r\n                    this.$set(this.adMarkers[index], 'details', res.data.contractorAdvertisingConstructionForSecondAgentDto)\r\n                    this.$set(this.adMarkers[index], 'imgs', this.currentAdImgs)\r\n                    this.currentAdDetails = this.adMarkers[index].details\r\n                  })\r\n                  .catch(e => {\r\n                    console.log(e)\r\n                    this.$set(this.adMarkers[index], 'details', res.data.contractorAdvertisingConstructionForSecondAgentDto)\r\n                    this.currentAdDetails = this.adMarkers[index].details\r\n                  })\r\n            })\r\n            .catch(e => {\r\n              console.log(e)\r\n            })\r\n      // } else {\r\n      //   this.$bvModal.show(this.mapPopup.id);\r\n      //   this.currentAdImgs = adInfo.imgs\r\n      //   this.mapPopup.element = adInfo\r\n      //   this.mapPopup.currentAdDetails = adInfo\r\n      //   this.currentAdDetails = this.adMarkers[index].details\r\n      // }\r\n    },\r\n    customLabelDistrict(opt) {\r\n      let selected = this.districts.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${this.getName({\r\n          nameRu: selected.nameRu,\r\n          nameLt: selected.nameLt,\r\n          nameUz: selected.nameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    customLabelRegion(opt) {\r\n      let selected = this.regions.find(e => e.regionId == (opt.regionId ? opt.regionId : opt));\r\n      if (selected) {\r\n        return `${this.getName({\r\n          nameRu: selected.regionNameRu,\r\n          nameLt: selected.regionNameLt,\r\n          nameUz: selected.regionNameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    async regionSelected($event, dontResetDistrict = false) {\r\n      if (!dontResetDistrict) {\r\n        this.filterPayload.districtIds = []\r\n      }\r\n      if ($event && $event.length) {\r\n        // GET DISTRICTS\r\n        await helperService.getGeoLocationsByMultipleParentIds($event)\r\n            .then(res => {\r\n              this.districts = res.data\r\n            })\r\n            .catch(e => {\r\n              console.log(e)\r\n            })\r\n      }\r\n    },\r\n    customLabelContractor(opt) {\r\n      let selected = this.contractors.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${selected.fullName}`\r\n      }\r\n      return ``;\r\n    },\r\n    async debounceSearchContractors(searchText, selectName = '') {\r\n      clearTimeout(this.debounce);\r\n      this.debounce = setTimeout(async () => {\r\n        await this.fetchContractorsWithKeyword(searchText, selectName);\r\n      }, 1000);\r\n    },\r\n    fetchContractorsWithKeyword(keyword, selectName) {\r\n      this.contractors = []\r\n      this.contractorSearchPayload.page = 1\r\n      this.contractorSearchPayload.keyword = keyword ? keyword : ''\r\n      if (selectName == 'contractor') {\r\n        this.fetchContractors()\r\n      }\r\n    },\r\n    async fetchContractors() {\r\n      this.isLoadingContractors = true\r\n      await crudAndListsService.searchListWithKeyword('contractor', this.contractorSearchPayload, 'by-contractor')\r\n          .then(res => {\r\n            this.contractors.push(...res.data.list)\r\n            this.hasNextPageContractors = res.data.total / this.contractorSearchPayload.itemsPerPage > this.contractorSearchPayload.page\r\n            this.contractorSearchPayload.page += 1\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n            this.contractors = []\r\n          })\r\n          .finally(() => {\r\n            this.isLoadingContractors = false\r\n          })\r\n    },\r\n    contractorReachedEndOfList(e, selectName = '') {\r\n      if (e) {\r\n        this.fetchContractors()\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    'filterPayload.regionIds': {\r\n      handler(newVal, oldVal) {\r\n        this.regionSelected(newVal);\r\n      },\r\n    },\r\n    adMarkerObjects(){\r\n      this.handleAddLayers();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n#map {\r\n  height: calc(100vh - 300px);\r\n  z-index: 1;\r\n}\r\n</style>\r\n<style>\r\n.cluster-bar {    background: #efecec;\r\n  color: #283593;\r\n  border-radius: 10px;\r\n  outline: 1px solid #7d8acf;\r\n  text-align: center;\r\n  line-height: 30px;\r\n  box-shadow: 0 3px 5px #a5aac9;\r\n}\r\n.multiselect__content-wrapper {\r\n  z-index: 500!important;\r\n}\r\n</style>"],"sourceRoot":"src/modules/advertisement/modules/e-auction-monitoring/map"}]}