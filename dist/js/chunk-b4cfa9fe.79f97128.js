(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4cfa9fe"],{"0556":function(t,e,a){"use strict";a("3f64")},"2f55":function(t,e,a){},"3c65":function(t,e,a){"use strict";var s=a("23e7"),i=a("7b0b"),r=a("07fa"),n=a("3a34"),o=a("083a"),c=a("3511"),l=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();s({target:"Array",proto:!0,arity:1,forced:l||u},{unshift:function(t){var e=i(this),a=r(e),s=arguments.length;if(s){c(a+s);var l=a;while(l--){var u=l+s;l in e?e[u]=e[l]:o(e,u)}for(var d=0;d<s;d++)e[d]=arguments[d]}return n(e,a+s)}})},"3f64":function(t,e,a){},"419e":function(t,e,a){"use strict";a.r(e);a("99af");var s=function(){var t=this,e=t._self._c;return e("Layout",[e("div",{staticClass:"col-md-12 text-center"},[e("div",{staticClass:"h4 mb-4 d-inline-block"},[t._v(t._s(t.$t("submodules.chat.title")))])]),e("div",[e("vue-easy-lightbox",{attrs:{visible:t.imageView,imgs:"".concat(t.baseUrl).concat(t.uploadPath)},on:{hide:function(e){t.imageView=!1}}}),e("b-modal",{attrs:{size:"md","no-close-on-backdrop":!0,"hide-header":"","hide-footer":"",centered:"","body-class":"p-0"},model:{value:t.fileModal,callback:function(e){t.fileModal=e},expression:"fileModal"}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderFile,rounded:"sm"}},[t.file?e("file-upload",{ref:"fileComponent",attrs:{file:t.file},on:{cancel:function(){t.fileModal=!1,t.file=null},sendFile:t.sendFile}}):t._e()],1)],1)],1),e("b-form-file",{ref:"fileRef",staticStyle:{display:"none"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),e("b-form-file",{ref:"userAvatarFileRef",staticStyle:{display:"none"},on:{input:t.updateUserAvatar},model:{value:t.fileForUserAvatar,callback:function(e){t.fileForUserAvatar=e},expression:"fileForUserAvatar"}}),e("div",{staticClass:"d-lg-flex"},[e("div",{staticClass:"chat-leftsidebar mr-lg-4"},[e("div",{},[e("div",{staticClass:"py-4"},[e("div",{staticClass:"media align-items-center"},[e("div",{staticClass:"align-self-center mr-3"},[e("div",{staticClass:"avatar-container"},[t.userAvatarLoading?e("b-spinner",{attrs:{variant:"primary",label:"Loading"}}):e("img",{staticClass:"rounded-circle bg-light p-2 image",attrs:{alt:"",src:"".concat(t.userAvatarUrlFromStorage?t.publicPath+t.userAvatarUrlFromStorage:a("c19d"))}}),e("div",{staticClass:"overlay"},[e("div",{staticClass:"avatar-edit-pencil d-flex align-items-center justify-content-center bg-primary",on:{click:t.userAvatarClicked}},[e("i",{staticClass:"mdi mdi-camera-plus-outline text-white",staticStyle:{"font-size":"2rem"}})])])],1)]),e("div",{staticClass:"media-body"},[e("h5",{staticClass:"font-size-15 mt-0 mb-1"},[t._v(" "+t._s("".concat(t.userFullName))+" ")]),e("p",{staticClass:"text-muted mb-0"},[e("i",{staticClass:"mdi mdi-circle text-success align-middle mr-1"}),t._v(" "+t._s(t.$t("active"))+" ")])])])])]),e("div",{staticClass:"chat-leftsidebar-nav mt-0"},[e("b-tabs",{attrs:{pills:"",fill:"","content-class":"my-2"},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},[e("b-tab",{attrs:{title:"Tab 1",active:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"bx bx-chat font-size-20 d-sm-none"}),e("span",{staticClass:"d-none d-sm-block"},[t._v(t._s(t.$t("chat.chat")))])]},proxy:!0}])},[e("div",{staticClass:"search-box chat-search-box py-2 mb-2"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchChat,expression:"searchChat"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchChat},on:{input:function(e){e.target.composing||(t.searchChat=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])]),e("Chats",{ref:"chatComponent",attrs:{username:t.username,ch:t.CHAT},on:{chatClick:t.chatUsername}})],1),e("b-tab",{scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"bx bx-group font-size-20 d-sm-none"}),e("span",{staticClass:"d-none d-sm-block"},[t._v(t._s(t.$t("chat.groups")))])]},proxy:!0}])},[e("div",{staticClass:"search-box chat-search-box py-2 mb-2"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchGroup,expression:"searchGroup"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchGroup},on:{input:function(e){e.target.composing||(t.searchGroup=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])]),e("Groups",{ref:"groupComponent",attrs:{group:t.CHAT,username:t.username},on:{groupClick:t.groupUsername}})],1),e("b-tab",{scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"bx bx-book-content font-size-20 d-sm-none"}),e("span",{staticClass:"d-none d-sm-block"},[t._v(t._s(t.$t("chat.contacts")))])]},proxy:!0}])},[e("b-card-text",[e("div",{staticClass:"search-box chat-search-box py-2 mb-2"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContact,expression:"searchContact"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchContact},on:{input:function(e){e.target.composing||(t.searchContact=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])]),e("Contacts",{ref:"contactComponent",attrs:{username:t.username},on:{contactUsername:t.contactUsername}})],1)],1)],1)],1)]),t.mobileChat?e("div",[e("b-sidebar",{staticClass:"sidebar-chat",attrs:{shadow:"","sidebar-class":"p-0","no-header":!0,right:""},model:{value:t.isSidebarChat,callback:function(e){t.isSidebarChat=e},expression:"isSidebarChat"}},[e("Messages",{ref:"messageRef",attrs:{noMsg:t.noMsg,emojies:t.emojies,username:t.username,messages:t.messages,chatType:t.chatType,submitted:t.submitted,currentContact:t.CHAT,mobileChat:t.mobileChat},on:{back:function(e){t.isSidebarChat=!1},editGroup:t.editGroup,searchMsg:t.searchMsg,deleteMsg:t.deleteMsg,formSubmit:t.formSubmit,fileUpload:t.fileUpload,selectEmoji:t.selectEmoji,deleteGroup:t.deleteGroup,contactUsername:t.contactUsername,viewGroupMembers:t.viewGroupMembers,addMembersToGroup:t.addMembersToGroup,getMessagesByChatId:t.getMessagesByChatId,getMessagesByGroupId:t.getMessagesByGroupId,viewImageFromMessages:t.viewImageFromMessages}})],1)],1):e("Messages",{ref:"messageRef",attrs:{currentContact:t.CHAT,username:t.username,messages:t.messages,emojies:t.emojies,submitted:t.submitted,noMsg:t.noMsg,chatType:t.chatType,mobileChat:t.mobileChat},on:{editGroup:t.editGroup,deleteGroup:t.deleteGroup,addMembersToGroup:t.addMembersToGroup,viewGroupMembers:t.viewGroupMembers,contactUsername:t.contactUsername,searchMsg:t.searchMsg,fileUpload:t.fileUpload,viewImageFromMessages:t.viewImageFromMessages,getMessagesByGroupId:t.getMessagesByGroupId,getMessagesByChatId:t.getMessagesByChatId,selectEmoji:t.selectEmoji,formSubmit:t.formSubmit,deleteMsg:t.deleteMsg}})],1),e("b-modal",{attrs:{size:"lg","no-close-on-backdrop":!0,"hide-header":"","hide-footer":"","body-class":"p-0"},model:{value:t.isEdit,callback:function(e){t.isEdit=e},expression:"isEdit"}},[e("Edit",{ref:"editRef",attrs:{emojies:t.emojies},on:{cancel:function(e){t.isEdit=!1},save:t.saveEdit}})],1),e("b-modal",{attrs:{size:"lg","hide-footer":"","body-class":"p-0","no-close-on-backdrop":!0},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{width:"100%"}},[e("div",{staticClass:"d-flex"},[e("h5",{staticClass:"pre"},[t._v(t._s(t.CHAT.groupName))])]),e("div",[e("b-button",{staticClass:"btn-label",attrs:{variant:"white"}},[t._v(" "+t._s("".concat(t.$t("chat.group_members")))+" "),e("b-badge",{staticClass:"ml-1",attrs:{variant:"primary"}},[t._v(" "+t._s(t.totalGroupMember)+" ")])],1),e("div",{staticClass:"float-right"},[e("b-button",{staticClass:"mr-1",attrs:{variant:"light"},on:{click:t.addMemberFromModal}},[e("i",{staticClass:"fa fa-user-plus"})]),e("b-button",{attrs:{variant:"light"},on:{click:function(e){t.groupMembersModal=!1}}},[e("i",{staticClass:"fa fa-times"})])],1)],1)])]},proxy:!0}]),model:{value:t.groupMembersModal,callback:function(e){t.groupMembersModal=e},expression:"groupMembersModal"}},[e("div",[e("div",{staticClass:"pl-5 pr-5 pb-2 pt-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchGroupMembers,expression:"searchGroupMembers"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchGroupMembers},on:{input:function(e){e.target.composing||(t.searchGroupMembers=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])])]),e("div",[e("GroupMembers",{ref:"groupMemberRef",attrs:{searchValue:t.searchGroupMembers,group:t.CHAT},on:{setTotalForGroupMember:t.setTotalForGroupMember,close:function(e){t.groupMembersModal=!1}}})],1)])]),e("b-modal",{attrs:{size:"lg","hide-footer":"","body-class":"p-0","no-close-on-backdrop":!0},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticStyle:{width:"100%"}},[e("b-button",{staticClass:"float-right",attrs:{variant:"light"},on:{click:function(e){t.addGroupMembersModal=!1}}},[e("i",{staticClass:"fa fa-times"})]),e("div",{staticClass:"d-flex"},[e("h5",{staticClass:"pre"},[t._v(t._s(t.CHAT.groupName))])])],1)]},proxy:!0}]),model:{value:t.addGroupMembersModal,callback:function(e){t.addGroupMembersModal=e},expression:"addGroupMembersModal"}},[e("div",[e("div",{staticClass:"pl-5 pr-5 pb-2 pt-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchGroupMembersAdd,expression:"searchGroupMembersAdd"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchGroupMembersAdd},on:{input:function(e){e.target.composing||(t.searchGroupMembersAdd=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])])]),e("div",[e("AddGroupMembers",{ref:"addGroupMemberRef",attrs:{searchValue:t.searchGroupMembersAdd,group:t.CHAT},on:{close:t.closeModalAddMember}})],1)])]),e("b-modal",{attrs:{size:"lg","body-class":"p-0","no-close-on-backdrop":!0},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticStyle:{width:"100%"}},[e("b-button",{staticClass:"float-right",attrs:{variant:"light"},on:{click:function(e){t.editGroupModal=!1}}},[e("i",{staticClass:"fa fa-times"})])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[e("div",{staticStyle:{width:"100%"}},[e("b-button",{staticClass:"float-right",attrs:{size:"lg",variant:"success"},on:{click:t.saveEditedData}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderEdit,rounded:"sm"}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)],1)]},proxy:!0}]),model:{value:t.editGroupModal,callback:function(e){t.editGroupModal=e},expression:"editGroupModal"}},[e("div",[e("div",[e("EditGroup",{ref:"editGroupRef",attrs:{group:t.CHAT},on:{close:function(e){t.editGroupModal=!1}}})],1)])])],1)},i=[],r=a("c7eb"),n=a("1da1"),o=a("5530"),c=(a("b0c0"),a("a4d3"),a("e01a"),a("d3b7"),a("e9c4"),a("498a"),a("825ae")),l=a("444f"),u=a("c2a4"),d=a("2f62"),p=a("fd69"),m=a("7476"),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card m-0"},[e("div",{staticClass:"card-body"},[t.fileName?e("h4",{staticClass:"card-title mb-4 d-flex",staticStyle:{"align-items":"center"}},[e("FileView",{attrs:{uploadPath:t.fileName}}),e("span",{staticClass:"ml-2"},[t.fileName?e("p",{staticClass:"m-0 pre word-break-all",staticStyle:{"max-width":"390px"}},[t._v(" "+t._s(t.fileName)+" ")]):t._e(),t.fileSize?e("span",{staticClass:"text-primary"},[t._v(" "+t._s(t.getFileSize(t.fileSize))+" ")]):t._e()])],1):t._e(),e("b-form",[e("b-form-group",{staticClass:"mb-4",attrs:{label:t.$t("column.comment"),"label-for":"horizontal-password-input","label-cols-sm":"3"}},[e("b-form-textarea",{attrs:{rows:"3","max-rows":"10"},model:{value:t.fileMessage,callback:function(e){t.fileMessage=e},expression:"fileMessage"}})],1),e("div",{staticClass:"form-group row justify-content-end"},[e("div",{staticClass:"col-sm-9"},[e("div",[e("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" "+t._s(t.$t("actions.cancel"))+" ")]),e("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.$emit("sendFile",t.fileMessage,t.file)}}},[t._v(" "+t._s(t.$t("actions.send"))+" ")])],1)])])],1)],1)])},f=[],g=(a("caad"),function(){var t=this,e=t._self._c;return t.uploadPath?e("div",{staticClass:"avatar-sm"},[e("span",{staticClass:"avatar-title rounded-circle bg-white text-primary font-size-24"},[t.imageTypes.indexOf(t.getExtension)>-1?e("img",{attrs:{src:t.requireImg,height:"auto",alt:"",width:"25"}}):["txt","text"].includes(t.getExtension)?e("img",{attrs:{src:t.requireTxt,height:"auto",alt:"",width:"30"}}):["pdf"].includes(t.getExtension)?e("img",{attrs:{src:t.requirePdf,height:"auto",alt:"",width:"25"}}):["pptx","ppt"].includes(t.getExtension)?e("img",{attrs:{src:t.requirePpt,height:"auto",alt:"",width:"25"}}):["zip","rar","tar","xz","gz"].includes(t.getExtension)?e("img",{attrs:{src:t.requireZip,height:"auto",alt:"",width:"30"}}):["xlsx","xls"].includes(t.getExtension)?e("img",{attrs:{src:t.requireExcel,height:"auto",alt:"",width:"25"}}):["docx","doc","odt"].includes(t.getExtension)?e("img",{attrs:{src:t.requireWord,height:"auto",alt:"",width:"25"}}):e("i",{staticClass:"mdi mdi-file-document-outline"})])]):t._e()}),v=[],b=a("6275"),C={props:["uploadPath"],data:function(){return{imageTypes:b["r"]}},computed:{getExtension:function(){return this.uploadPath.split(".").pop().toLowerCase()},requireImg:function(){return a("7e77")},requireTxt:function(){return a("0c2a")},requirePdf:function(){return a("9f06")},requirePpt:function(){return a("74c7")},requireZip:function(){return a("615f")},requireExcel:function(){return a("444c")},requireWord:function(){return a("ccfd")}}},y=C,x=a("2877"),w=Object(x["a"])(y,g,v,!1,null,null,null),M=w.exports,_={props:["file"],components:{FileView:M},data:function(){return{fileName:null,fileSize:null,fileMessage:"",getFileSize:b["q"],imageTypes:b["r"],getExtFromName:b["p"]}},methods:{reset:function(){this.fileMessage=""},setNameSize:function(t,e){this.fileName=t,this.fileSize=e}}},k=_,I=Object(x["a"])(k,h,f,!1,null,null,null),P=I.exports,T=function(){var t=this,e=t._self._c;return e("b-card-text",[e("div",[e("simplebar",{ref:"chatRef",staticStyle:{"max-height":"410px"},attrs:{id:"chat-list"}},[e("ul",{staticClass:"list-unstyled chat-list"},t._l(t.chats,(function(a){return e("li",{key:a.id,class:{active:t.ch&&t.ch.id==a.id},on:{click:function(e){return t.$emit("chatClick",a)}}},[e("a",{attrs:{href:"javascript: void(0);"}},[e("div",{staticClass:"media"},[e("div",{staticClass:"align-self-center mr-3"}),a.uploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath).concat(a.uploadPath),alt:""}})]):t._e(),a.uploadPath?t._e():e("div",{staticClass:"avatar-md align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(t._s(a.myName.charAt(0)))])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(" "+t._s(a.myName)+" ")]),e("p",{staticClass:"text-truncate mb-0"},[t._v(t._s(a.title))])]),e("div",{staticClass:"font-size-11"},[t._v(t._s(a.dateHour))]),e("br"),a.count>0?e("b-badge",{staticClass:"float-right mt-3",attrs:{variant:"info"}},[t._v("+"+t._s(a.count))]):t._e()],1)])])})),0)])],1)])},N=[],$=(a("c740"),a("8d3b")),S={watch:{unreadData:{handler:function(t){var e=this.chats.findIndex((function(e){return e.id==t.chatId}));e>-1&&(this.$set(this.chats[e],"count",t.count),this.$set(this.chats[e],"title",t.title))}}},props:{ch:{type:Object,default:function(){}},username:{type:String,default:""}},components:{simplebar:$["a"]},data:function(){return{publicPath:"/",chats:[],chatPage:0}},computed:Object(o["a"])({},Object(d["d"])("messenger",["unreadData"])),methods:{getClickTab:function(t){this.chatPage=0,this.getChatList(t)},loadMoreChat:function(){var t=this;p["a"].getChatList({page:this.chatPage+=1,itemsPerPage:20}).then(function(){var e=Object(n["a"])(Object(r["a"])().mark((function e(a){var s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.list.length>0?t.$nextTick((function(){t.chats=t.chats.concat(s.list)})):t.chatPage;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getChatList:function(t){var e=this;p["a"].getChatList(t).then((function(t){e.$nextTick((function(){e.chats=t.data.list}))}))}},created:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getChatList({page:0,itemsPerPage:20,search:""});case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this,e=document.querySelector("#chat-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.$refs.chatRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreChat()}))}},A=S,j=Object(x["a"])(A,T,N,!1,null,null,null),R=j.exports,G=function(){var t=this,e=t._self._c;return e("div",[e("vue-easy-lightbox",{attrs:{visible:t.singleImage,imgs:"".concat(t.publicPath).concat(t.uploadPath)},on:{hide:function(e){t.singleImage=!1}}}),e("simplebar",{key:t.cmpKey+"FORWARD_CONTACTS",ref:"contactsRef",staticStyle:{height:"410px"},attrs:{id:"contact-list"}},[e("ul",{staticClass:"list-unstyled chat-list"},t._l(t.contactList,(function(a,s){return e("li",{key:a.employeeId+"CONTACTS_FOR_CHAT"+s,class:{active:t.username=="".concat(a.firstName," ").concat(a.lastName)},attrs:{id:t.contactList[t.contactList.length-1].id==a.id?"lid":""},on:{click:function(e){return t.$emit("contactUsername",a)}}},[e("a",{attrs:{href:"javascript: void(0);"}},[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),a.uploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath).concat(a.uploadPath),alt:""},on:{click:function(){t.uploadPath=a.uploadPath,t.singleImage=!0}}})]):t._e(),a.uploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(t._s(a.firstName.charAt(0)))])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"font-size-14 mb-1",class:t.check(a)},[t._v(" "+t._s("".concat(a.lastName," ").concat(a.firstName," ").concat(a.middleName))+" ")]),e("span",[t._v(" "+t._s(a.depName)+" ")]),e("span",[t._v(" "+t._s(a.posName)+" ")])]),t.check(a)?e("i",{staticClass:"fas fa-user-check font-size-18 text-primary"}):t._e()])])])})),0)])],1)},O=[],U=(a("d81d"),{props:{members:{type:Array,default:function(){return[]}},username:{type:String,default:""}},components:{simplebar:$["a"],VueEasyLightbox:c["a"]},data:function(){return{publicPath:"/",searchValue:"",uploadPath:"",contactList:[],contactPage:0,singleImage:!1,cmpKey:0}},methods:{reset:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.cmpKey+=1,this.searchValue=e,setTimeout((function(){t.getClickTab({page:0,itemsPerPage:30,search:e}),t.scrollActive()}),200)},scrollActive:function(){var t=this;this.$refs.contactsRef&&this.$refs.contactsRef.SimpleBar&&this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreContact()}))},check:function(t){var e=this.members.indexOf(t.employeeId);return e>-1&&["font-weight-bold","text-primary"]},getClickTab:function(t){this.contactPage=0,this.getContacts(t)},getContacts:function(t){var e=this;p["a"].getContactList(t).then((function(t){var a=t.data;a&&e.$nextTick((function(){e.contactList=a.list.map((function(t){return{firstName:t.firstName,lastName:t.lastName,middleName:t.middleName,depName:e.getName({nameUz:t.depNameUz,nameLt:t.depNameLt,nameRu:t.depNameRu}),posName:e.getName({nameUz:t.positionNameUz,nameLt:t.positionNameLt,nameRu:t.positionNameRu}),employeeId:t.id,id:t.chatId,uploadPath:t.uploadPath}}))}))})).catch((function(t){}))},loadMoreContact:function(){var t=this;p["a"].getContactList({page:this.contactPage+=1,itemsPerPage:20,search:this.searchValue}).then(function(){var e=Object(n["a"])(Object(r["a"])().mark((function e(a){var s,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.list.length>0?(i=s.list.map((function(e){return{firstName:e.firstName,lastName:e.lastName,middleName:e.middleName,depName:t.getName({nameUz:e.depNameUz,nameLt:e.depNameLt,nameRu:e.depNameRu}),posName:t.getName({nameUz:e.positionNameUz,nameLt:e.positionNameLt,nameRu:e.positionNameRu}),employeeId:e.id,id:e.chatId,uploadPath:e.uploadPath}})),t.$nextTick((function(){t.contactList=t.contactList.concat(i)}))):t.contactPage=t.contactPage-1;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){}))}},mounted:function(){var t=this,e=document.querySelector("#contact-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreContact()}))}}),F=U,B=Object(x["a"])(F,G,O,!1,null,null,null),L=B.exports,E=function(){var t=this,e=t._self._c;return e("b-card-text",[e("div",{staticClass:"d-flex",staticStyle:{"align-items":"center","justify-content":"space-between"}},[e("b-button",{attrs:{variant:"primary"},on:{click:t.addNewGroup}},[e("i",{staticClass:"fa fa-users"}),t._v(" "+t._s(t.$t("actions.add"))+" ")])],1),e("simplebar",{ref:"groupRef",staticStyle:{"max-height":"410px"},attrs:{id:"group-list"}},[e("ul",{staticClass:"list-unstyled chat-list mt-2"},t._l(t.groupList,(function(a,s){return e("li",{key:s,class:{active:t.group&&t.group.id==a.id},on:{click:function(e){return t.$emit("groupClick",a)}}},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"media"},[e("div",{staticClass:"align-self-center mr-3"}),a.uploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.baseUrl,"/").concat(a.uploadPath),alt:""}})]):t._e(),a.uploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(t._s(a.groupName.charAt(0)))])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.groupName))]),e("p",{staticClass:"text-truncate mb-0"},[t._v(t._s(a.title))])]),e("div",{staticClass:"font-size-11"},[t._v(t._s(a.dateHour))]),e("br"),a.count>0?e("b-badge",{staticClass:"float-right mt-3",attrs:{variant:"info"}},[t._v(t._s(a.count))]):t._e()],1)])])})),0)]),e("b-modal",{attrs:{size:"md","no-close-on-backdrop":!0,"hide-header":"","hide-footer":"","body-class":"p-0"},model:{value:t.groupModal,callback:function(e){t.groupModal=e},expression:"groupModal"}},[e("CreateGroup",{on:{cancel:t.close}})],1)],1)},z=[],H=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card m-0 p-3"},[e("div",{staticClass:"card-body"},[e("div",[e("div",[e("div",{staticClass:"float-left"},[t.isMembers?e("b-button",{staticClass:"btn-label",attrs:{variant:"primary"}},[e("i",{staticClass:"bx bx-smile label-icon"}),t._v(" "+t._s("".concat(t.$t("chat.group_members")," (").concat(t.members.length,")"))+" ")]):t._e()],1),e("div",{staticClass:"float-right"},[t.isMembers?e("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.$t("actions.cancel")))]):t._e(),t.isMembers?e("b-button",{staticClass:"ml-1",attrs:{variant:"primary"},on:{click:t.save}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")]):t._e()],1)]),t.isMembers?t._e():e("b-form",[e("b-form-group",{staticClass:"mb-4",attrs:{label:t.$t("column.name"),"label-for":"horizontal-password-input","label-cols-sm":"3"}},[e("b-form-textarea",{attrs:{disabled:t.isMembers,rows:"3","max-rows":"10"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t.isMembers?t._e():e("div",{staticClass:"form-group row justify-content-end"},[e("div",{staticClass:"col-sm-9"},[e("div",[e("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.$t("actions.cancel")))]),e("b-button",{attrs:{variant:"primary"},on:{click:t.next}},[t._v(" "+t._s(t.$t("actions.next"))+" "),e("i",{staticClass:"fa fa-arrow-right"})])],1)])])],1)],1)]),t.isMembers?e("div",[e("div",{staticClass:"p-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])])]),e("Contacts",{ref:"contactComponent",attrs:{members:t.members},on:{contactUsername:t.pushMember}})],1):t._e()])},D=[],V=(a("a434"),a("3c65"),{watch:{searchValue:function(t){this.$refs.contactComponent.getClickTab({page:0,itemsPerPage:20,search:t})}},components:{Contacts:L},validations:{name:{}},data:function(){return{name:"",isMembers:!1,searchValue:"",members:[]}},methods:{pushMember:function(t){var e=this.members.indexOf(t.employeeId);e>-1?this.members.splice(e,1):this.members.unshift(t.employeeId)},save:function(){var t=this;p["a"].createGroupChat({groupName:this.name,employeeIds:this.members}).then((function(e){t.members=[],t.name="",t.searchValue="",t.isMembers=!1,t.$emit("cancel","success")})).catch((function(t){}))},reset:function(){this.name=""},next:function(){var t=this;this.name&&0!=this.name.trim().length&&(this.isMembers=!0,setTimeout((function(){t.$refs.contactComponent.getClickTab({page:0,itemsPerPage:20})}),200))}}}),q=V,W=Object(x["a"])(q,H,D,!1,null,null,null),K=W.exports,J={props:{group:{type:Object,default:function(){}},username:{type:String,default:""}},components:{simplebar:$["a"],CreateGroup:K},data:function(){return{groupList:[],groupPage:0,groupModal:!1}},computed:{baseUrl:function(){return"/"}},methods:{close:function(t){var e=this;"success"==t&&setTimeout((function(){e.getClickTab({page:0,itemsPerPage:20})}),200),this.groupModal=!1},addNewGroup:function(){this.groupModal=!0},getClickTab:function(t){this.groupPage=0,this.getGroups(t)},getGroups:function(t){var e=this;p["a"].groupChatList(t).then((function(t){e.$nextTick((function(){e.groupList=t.data.list}))})).catch((function(t){}))},loadMoreGroups:function(){var t=this;p["a"].groupChatList({page:this.groupPage+=1,itemsPerPage:20}).then(function(){var e=Object(n["a"])(Object(r["a"])().mark((function e(a){var s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.list.length>0?t.$nextTick((function(){t.groupList=t.groupList.concat(s.list)})):t.groupPage;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){}))}},mounted:function(){var t=this,e=document.querySelector("#group-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.$refs.groupRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreGroups()}))}},Z=J,X=Object(x["a"])(Z,E,z,!1,null,null,null),Y=X.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card card-body m-0"},[e("b-form-file",{ref:"fileRef",staticStyle:{display:"none"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),e("div",{staticClass:"p-3"},[t.file||t.uploadPath?e("h4",{staticClass:"card-title mb-4 d-flex",staticStyle:{"align-items":"center"}},[e("a",{staticClass:"fa fas fa-arrow-alt-circle-up text-primary",staticStyle:{"font-size":"35px"},attrs:{href:t.base64?t.uploadPath:"".concat(t.baseUrl).concat(t.uploadPath),download:t.fileName}}),e("span",{staticClass:"ml-2"},[e("p",{staticClass:"m-0"},[t._v(t._s(t.fileName))]),t.fileSize?e("span",{staticClass:"text-primary"},[t._v(t._s(t.getFileSize(t.fileSize)))]):t._e()])]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control chat-input",class:{"is-invalid":t.$v.message.$error},attrs:{type:"text",placeholder:t.$t("messaging.title")},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),e("div",{staticClass:"chat-input-links"},[e("ul",{staticClass:"list-inline mb-0"},[e("li",{staticClass:"list-inline-item"},[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{id:"button-2",href:"javascript: void(0);",placement:"top",title:"Emoji"}},[e("i",{staticClass:"mdi mdi-emoticon-happy-outline"})])]),e("b-tooltip",{attrs:{variant:"primary",placement:"top",target:"button-2"}},[e("div",{staticStyle:{overflow:"auto",height:"250px"}},t._l(t.emojies,(function(a,s){return e("span",{key:s,staticClass:"font-size-22 emoji d-inline-block",on:{click:function(e){return t.selectEmoji(a)}}},[t._v(t._s(a))])})),0)])],1)])])])])]),e("div",{staticClass:"form-group row justify-content-end"},[e("div",{staticClass:"col-sm-9"},[e("div",[e("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger"},on:{click:t.cancel}},[t._v(t._s(t.$t("actions.cancel")))]),e("b-button",{attrs:{variant:"primary"},on:{click:t.next}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)])])],1)},tt=[],et={props:{emojies:{type:Array,default:function(){return[]}}},watch:{file:{handler:function(t){var e=this;if(t){if(this.fileName=t.name,this.fileSize=t.size,t.name.lastIndexOf(".")<=0)return this.showMsgError("Please select a valid file!");var a=new FileReader;a.addEventListener("load",(function(){e.$nextTick((function(){this.uploadPath=a.result,this.base64=!0}))})),a.readAsDataURL(t)}}}},data:function(){return{baseUrl:"/",getFileSize:b["q"],message:"",file:null,fileName:null,uploadPath:null,base64:!1,fileSize:null}},validations:{message:{}},methods:{fileUpload:function(){this.$refs.fileRef.$el.firstChild.click()},selectEmoji:function(t){this.message=this.message.concat(t)},next:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$emit("save",{message:t.message,file:t.file});case 2:return e.next=4,t.cancel();case 4:case"end":return e.stop()}}),e)})))()},setMsg:function(t){this.message=t},setFile:function(t,e){this.file=null,this.fileName=t,this.uploadPath=e,this.base64=!1,this.fileSize=null},cancel:function(){this.setMsg(""),this.setFile(null,null),this.$emit("cancel")}}},at=et,st=(a("a8b9"),Object(x["a"])(at,Q,tt,!1,null,"33c55970",null)),it=st.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 user-chat",class:t.mobileChat?"block-display-992":"none-display-992",style:t.mobileChat?"height:".concat(t.heightWindow,"px"):""},[e("div",{staticClass:"card"},[e("div",{staticClass:"p-3 border-bottom"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 col-9"},[e("div",[t.mobileChat?e("b-button",{staticClass:"mb-2",attrs:{variant:"primary"},on:{click:function(e){return t.$emit("back")}}},[e("i",{staticClass:"fa fa-arrow-left"})]):t._e(),e("div",{staticClass:"d-flex align-items-center"},[t.currentContact&&t.currentContact.uploadPath?e("div",[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath).concat(t.currentContact.uploadPath),alt:""}})]):t._e(),e("div",[e("h5",{staticClass:"font-size-16 font-weight-bold ml-2"},[t._v(" "+t._s(t.username)+" ")]),"group"===t.chatType&&t.currentContact&&t.currentContact.membersCount?e("div",{staticClass:"ml-2"},[e("span",{staticClass:"link-like",on:{click:function(e){return t.$emit("viewGroupMembers")}}},[t._v(" "+t._s(t.$t("chat.group_members"))+" ")]),e("b-badge",{staticClass:"ml-2 font-size-12",attrs:{variant:"primary"}},[t._v(" "+t._s(t.currentContact.membersCount)+" ")])],1):t._e()])])],1)]),e("div",{staticClass:"col-md-8 col-3"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.currentContact,expression:"currentContact"}],staticClass:"list-inline user-chat-nav text-right mb-0"},[e("li",{staticClass:"list-inline-item d-sm-inline-block"},[e("b-dropdown",{attrs:{"menu-class":"dropdown-menu-md right-0",variant:"white",dropleft:"","toggle-class":"nav-btn"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("i",{staticClass:"bx bx-search-alt-2"})]},proxy:!0}])},[e("form",{staticClass:"p-3"},[e("div",{staticClass:"form-group m-0"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMessage,expression:"searchMessage"}],ref:"messageInputRef",staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.search"),"aria-label":"Recipient's username"},domProps:{value:t.searchMessage},on:{input:function(e){e.target.composing||(t.searchMessage=e.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e("i",{staticClass:"mdi mdi-magnify"})])])])])])])],1),e("li",{staticClass:"list-inline-item d-sm-inline-block"},["group"===t.chatType?e("b-dropdown",{attrs:{"toggle-class":"nav-btn",variant:"white","menu-class":"right-0",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("i",{staticClass:"bx bx-cog"})]},proxy:!0}],null,!1,62089267)},["group"===t.chatType?e("b-dropdown-item",{on:{click:function(e){return t.$emit("editGroup")}}},[t._v(t._s(t.$t("actions.edit"))+" ")]):t._e(),e("b-dropdown-item",{on:{click:function(e){return t.$emit("deleteGroup")}}},[t._v(t._s(t.$t("actions.delete"))+" ")]),"group"===t.chatType?e("b-dropdown-item",{on:{click:function(e){return t.$emit("viewGroupMembers")}}},[t._v(" "+t._s(t.$t("chat.group_members"))+" ")]):t._e(),"group"===t.chatType?e("b-dropdown-item",{on:{click:function(e){return t.$emit("addMembersToGroup")}}},[t._v(t._s(t.$t("actions.add_to_group"))+" ")]):t._e()],1):t._e()],1)])])])]),e("div",{staticClass:"chat-users"},[e("div",{staticClass:"chat-conversation p-3"},[e("simplebar",{ref:"current",style:"height: ".concat(t.mobileChat?t.heightWindow-220:440,"px"),attrs:{id:"containerElement"}},[e("ul",{staticClass:"list-unstyled"},[t.noMsg?e("li",[e("div",{staticClass:"chat-day-title m-2"},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("messages.data_not_found")))])])]):t._e(),t._l(t.messages,(function(a,s){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.currentContact,expression:"currentContact"}],key:s,staticClass:"msgClass",class:{right:a.my},attrs:{id:a.id}},[e("div",{staticClass:"conversation-list"},[e("b-dropdown",{attrs:{variant:"white","menu-class":"right-0",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("i",{staticClass:"bx bx-dots-vertical-rounded"})]},proxy:!0}],null,!0)},[a.my?e("b-dropdown-item",{on:{click:function(e){return t.updateMsg(a)}}},[t._v(t._s(t.$t("actions.edit"))+" ")]):t._e(),e("b-dropdown-item",{on:{click:function(e){return t.$emit("deleteMsg",a.id,a.groupChatId,a.chatId)}}},[t._v(" "+t._s(t.$t("actions.delete"))+" ")]),"chat"===t.chatType?e("b-dropdown-item",{on:{click:function(e){return t.replyMsg(a,"reply")}}},[t._v(t._s(t.$t("actions.reply"))+" ")]):t._e(),"chat"===t.chatType?e("b-dropdown-item",{on:{click:function(e){return t.forwardMsg(a,!0)}}},[t._v(t._s(t.$t("actions.forward"))+" ")]):t._e()],1),e("div",{staticClass:"ctext-wrap"},["group"===t.chatType?e("div",{staticClass:"conversation-name"},[t._v(" "+t._s(a.ownerFullName)+" ")]):t._e(),a.forwardUserId?e("div",{staticClass:"conversation-name"},[a.forwardUploadPath?e("div",{staticClass:"d-flex align-items-center justify-content-center"},[e("div",[a.parentFileName&&t.imageTypes.indexOf(t.getExtFromName(a.forwardFileName))>0?e("b-img",{staticStyle:{cursor:"pointer"},attrs:{width:"200",src:"".concat(t.publicPath).concat(a.forwardUploadPath)}}):e("a",{attrs:{href:"".concat(t.publicPath).concat(a.forwardUploadPath)}},[e("FileView",{attrs:{uploadPath:a.forwardUploadPath}})],1)],1),e("p",{staticClass:"mb-1"},[t._v(t._s(a.forwardFileName))])]):t._e(),t._v(" "+t._s(a.forwardUserId?"".concat(t.$t("chat.forwarded_msg")," ").concat(a.forwardUserFullName," ").concat(t.$t("column.from")):"")+" ")]):t._e(),a.parentId?e("div",{staticClass:"pl-3 d-flex justify-content-start align-items-start",staticStyle:{"border-left":"3px solid #556ee6","flex-direction":"column"}},[e("div",{staticClass:"conversation-name"},[t._v(" "+t._s(a.parentId?"".concat(a.parentFullName," "):"")+" ")]),a.parentUploadPath?e("div",{staticClass:"d-flex align-items-center justify-content-center"},[e("div",[a.parentFileName&&t.imageTypes.indexOf(t.getExtFromName(a.parentFileName))>0?e("b-img",{staticStyle:{cursor:"pointer"},attrs:{width:"200",src:"".concat(t.publicPath).concat(a.parentUploadPath)}}):e("a",{attrs:{href:"".concat(t.publicPath).concat(a.parentUploadPath)}},[e("FileView",{attrs:{uploadPath:a.parentUploadPath}})],1)],1),e("p",{staticClass:"mb-1"},[t._v(t._s(a.parentFileName))])]):t._e(),a.parentMessage?e("span",{staticClass:"d-block text-dark ml-2"},[t._v(" "+t._s(a.parentMessage)+" ")]):t._e()]):t._e(),a.uploadPath?e("div",{staticClass:"d-flex align-items-center"},[t.imageTypes.indexOf(t.getExtFromName(a.fileName))>0?e("b-img",{staticStyle:{cursor:"pointer"},attrs:{width:"200",src:"".concat(t.publicPath).concat(a.uploadPath)},on:{click:function(e){return t.$emit("viewImageFromMessages",a.uploadPath)}}}):e("a",{attrs:{href:"".concat(t.publicPath).concat(a.uploadPath),download:a.fileName}},[e("FileView",{attrs:{uploadPath:a.uploadPath}})],1),e("p",{staticClass:"mb-1 ml-2"},[t._v(t._s(a.fileName))])],1):t._e(),e("p",{staticClass:"pre m-0 font-size-14",staticStyle:{"word-break":"break-all !important","max-width":"1050px"}},[t._v(" "+t._s(a.message)+" ")]),e("p",{staticClass:"chat-time mb-0"},[a.edited?e("span",{staticClass:"mr-2",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.$t("edited")))]):t._e(),t._v(" "+t._s(a.dateHour)+" "),"UNREAD"===a.isRead&&a.my?e("i",{staticClass:"mdi mdi-check text-muted align-middle ml-1"}):t._e(),"READ"===a.isRead&&a.my?e("i",{staticClass:"mdi mdi-check-all text-muted align-middle ml-1"}):t._e()])])],1)])}))],2)])],1),e("div",{staticClass:"p-3 chat-input-section"},[t.currentContact?e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"position-relative"},["reply"!==t.toastStatus&&"forward"!==t.toastStatus&&"edit"!==t.toastStatus||!t.toastData?t._e():e("div",{staticClass:"p-e bg-light replymsg"},[e("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-between"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"mr-2"},[e("i",{staticClass:"fa",class:"reply"===t.toastStatus?"fa-reply":"edit"===t.toastStatus?"fa-pencil-alt":"fa-forward"})]),e("div",[e("h6",{staticClass:"m-0 text-primary"},[t._v(" "+t._s(t.toastData.ownerFullName)+" ")]),e("div",{staticClass:"d-flex",staticStyle:{"align-items":"center"}},[e("FileView",{attrs:{uploadPath:t.toastData.uploadPath}}),e("span",{staticClass:"d-block ml-2"},[t._v(" "+t._s(t.toastData.fileName)+" ")])],1),e("p",{staticClass:"m-0 pre",staticStyle:{"word-break":"break-all !important","max-width":"900px"}},[t._v(" "+t._s(t.toastData.message)+" ")])])]),e("div",[e("i",{staticClass:"fa fa-times text-hover-danger p-2",staticStyle:{"font-size":"15px"},on:{click:function(e){return t.replyMsg(null,"hidden")}}})])])])]),e("div",{staticClass:"position-relative"},[e("b-form-input",{ref:"msgInput",staticClass:"chat-input",attrs:{rows:"1","max-rows":"30",type:"text",placeholder:t.$t("messaging.title")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("formSubmit")}},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1)]),e("div",{staticClass:"float-left"},[e("ul",{staticClass:"list-inline mb-0"},[e("li",{staticClass:"list-inline-item"},[e("b-button",{staticClass:"pt-1 pb-1 pl-2 pr-2",attrs:{id:"button-1",variant:"light",placement:"top"}},[e("i",{staticClass:"mdi mdi-emoticon-happy-outline font-size-16"})])],1),e("b-tooltip",{attrs:{variant:"light",placement:"top",target:"button-1"}},[e("div",{staticStyle:{overflow:"auto",height:"250px"}},t._l(t.emojies,(function(a,s){return e("span",{key:s,staticClass:"font-size-22 emoji d-inline-block",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$emit("selectEmoji",a)}}},[t._v(t._s(a))])})),0)]),e("li",{staticClass:"list-inline-item"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pl-2 pr-2 pb-1 pt-1",attrs:{disabled:"forward"===t.toastStatus,placement:"top",id:"button-1",variant:"light"},on:{click:function(e){return t.$emit("fileUpload")}}},[e("i",{staticClass:"mdi mdi-file-document-outline font-size-16"})])],1)],1)]),e("div",{staticClass:"col-auto"},[e("button",{staticClass:"btn btn-primary btn-rounded chat-send w-md",on:{click:function(e){return e.preventDefault(),t.$emit("formSubmit")}}},[e("span",{staticClass:"d-none d-sm-inline-block mr-2"},[t._v(" "+t._s(t.$t("actions.send"))+" ")]),e("i",{staticClass:"mdi mdi-send"})])])]):t._e()])])]),e("b-modal",{attrs:{size:"md","hide-header":"","body-class":"p-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:t.clear}},[t._v(" "+t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.forwardModal,callback:function(e){t.forwardModal=e},expression:"forwardModal"}},[e("div",[e("div",{staticClass:"p-3"},[e("h5",[t._v(t._s(t.$t("actions.forward")))])]),e("div",{staticClass:"p-2 mb-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])])]),e("ContactsForward",{ref:"contactRefForward",on:{contactUsername:t.contactUsername}})],1)])],1)},nt=[],ot={watch:{currentContact:{handler:function(t){var e=this;t&&setTimeout((function(){e.scrollBottom()}),200)}},searchMessage:{handler:function(t){this.$emit("searchMsg",t)}},searchValue:{handler:function(t){this.$refs.contactRefForward&&this.$refs.contactRefForward.reset(t)}}},props:["currentContact","messages","emojies","submitted","username","noMsg","chatType","mobileChat"],validations:{form:{message:{}}},components:{simplebar:$["a"],ContactsForward:L,FileView:M},methods:{updateMsg:function(t){this.form.message=t.message,this.replyMsg(t,"edit")},clear:function(){this.searchValue="",this.forwardMsg(null,!1)},contactUsername:function(t){var e=this;return Object(n["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.searchValue="",a.next=3,e.forwardMsg(e.toastData,!1);case 3:return a.next=5,e.replyMsg(e.toastData,"forward");case 5:return a.next=7,e.$emit("contactUsername",t);case 7:case"end":return a.stop()}}),a)})))()},forwardMsg:function(t,e){var a=this;this.toastData=t,this.forwardModal=e,setTimeout((function(){a.$refs.contactRefForward&&a.$refs.contactRefForward.reset()}),300)},replyMsg:function(t,e){this.toastStatus=e,this.toastData=t},scrollBottom:function(){var t=document.querySelector("#containerElement .simplebar-content-wrapper");t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},scrollTop:function(){var t=this,e=document.querySelector("#containerElement .simplebar-content-wrapper");this.$refs.current.SimpleBar.getScrollElement().addEventListener("scroll",(function(){0===e.scrollTop&&("chat"===t.chatType?t.$emit("getMessagesByChatId",e):t.$emit("getMessagesByGroupId",e))}))}},data:function(){return{heightWindow:window.innerHeight,publicPath:"/",searchValue:"",forwardModal:!1,toastData:null,toastStatus:"hidden",form:{message:""},imageTypes:b["r"],getExtFromName:b["p"],searchMessage:""}},mounted:function(){var t=this,e=this;this.$root.$on("bv::dropdown::show",(function(){setTimeout((function(){e.$refs.messageInputRef&&e.$refs.messageInputRef.focus()}),300)})),setTimeout((function(){t.scrollBottom(),t.scrollTop()}),200)}},ct=ot,lt=(a("0556"),Object(x["a"])(ct,rt,nt,!1,null,null,null)),ut=lt.exports,dt=function(){var t=this,e=t._self._c;return e("div",[e("vue-easy-lightbox",{attrs:{visible:t.singleImage,imgs:"".concat(t.publicPath).concat(t.uploadPath)},on:{hide:function(e){t.singleImage=!1}}}),e("simplebar",{key:t.cmpKey+"GROUPMEMBERS",ref:"contactsRef",staticStyle:{height:"410px"},attrs:{id:"contact-list"}},[e("ul",{staticClass:"list-unstyled chat-list"},t._l(t.contactList,(function(a,s){return e("li",{key:a.employeeId+"GROUP_MEMBER_INDEX"+s,class:{active:t.username=="".concat(a.firstName," ").concat(a.lastName)},attrs:{id:t.contactList[t.contactList.length-1].id==a.id?"lid":""}},[e("a",{attrs:{href:"javascript: void(0);"}},[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),a.uploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath).concat(a.uploadPath),alt:""},on:{click:function(){t.uploadPath=a.uploadPath,t.singleImage=!0}}})]):t._e(),a.uploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(" "+t._s(a.employeeFullName?a.employeeFullName.charAt(0):"")+" ")])]),e("div",{staticClass:"media-body overflow-hidden align-self-stretch d-flex align-items-center",on:{click:function(e){return t.clickMember(a)}}},[e("h5",{staticClass:"font-size-14 mb-1",class:t.check(a)},[t._v(" "+t._s("".concat(a.employeeFullName," "))+" ")]),e("span",{class:t.check(a)},[t._v(" "+t._s(t.getName({nameLt:a.depNameLt,nameRu:a.depNameRu,nameUz:a.depNameUz}))+" ")]),e("span",{class:t.check(a)},[t._v(" "+t._s(t.getName({nameLt:a.positionNameLt,nameRu:a.positionNameRu,nameUz:a.positionNameUz}))+" ")])]),t.check(a)?e("i",{staticClass:"fas fa-user-check font-size-18 text-primary"}):t._e()])])])})),0)]),e("hr"),e("div",{staticClass:"d-flex align-items-center justify-content-between pl-3 pr-3 pb-3"},[e("div"),e("div",[e("b-button",{staticClass:"ml-1",attrs:{disabled:0==t.members.length,variant:"danger"},on:{click:t.deleteMember}},[e("b-overlay",{attrs:{opacity:.1,show:t.loader,rounded:"sm"}},[e("b-badge",{staticClass:"ml-2",attrs:{variant:"dark"}},[t._v(t._s("".concat(t.members.length)))]),t._v(" "+t._s(t.$t("actions.remove_from_group"))+" "),e("i",{staticClass:"fa fa-trash"})],1)],1)],1)])],1)},pt=[],mt={props:{username:{type:String,default:""},group:{type:Object,default:function(){}},searchValue:{type:String,default:""}},components:{simplebar:$["a"],VueEasyLightbox:c["a"]},watch:{searchValue:function(t){this.reset(t)}},data:function(){return{publicPath:"/",uploadPath:"",contactList:[],contactPage:0,singleImage:!1,cmpKey:0,members:[],loader:!1,totalMember:0}},methods:{deleteMember:function(){var t=this;this.loader=!0,p["a"].deleteMemberFromGroup(this.members,this.group.id).then((function(e){setTimeout((function(){t.members=[],t.getClickTab({page:0,itemsPerPage:30,search:""})}),300)})).catch((function(t){})).finally((function(){t.loader=!1}))},clickMember:function(t){var e=this.members.indexOf(t.employeeId);e>-1?this.members.splice(e,1):this.members.unshift(t.employeeId)},reset:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.cmpKey+=1,this.searchValue=e,setTimeout((function(){t.getClickTab({page:0,itemsPerPage:30,search:e}),t.scrollActive()}),200)},scrollActive:function(){var t=this;this.$refs.contactsRef.SimpleBar&&this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreContact()}))},check:function(t){var e=this.members.indexOf(t.employeeId);return e>-1&&["font-weight-bold","text-primary"]},getClickTab:function(t){this.contactPage=0,this.cmpKey+=1,this.getContacts(t)},getContacts:function(t){var e=this;p["a"].groupMembersById(this.group.id,t).then((function(t){var a=t.data;a&&e.$nextTick((function(){e.contactList=a.list,e.totalMember=a.total,e.$emit("setTotalForGroupMember",a)}))})).catch((function(t){}))},loadMoreContact:function(){var t=this;p["a"].groupMembersById(this.group.id,{page:this.contactPage+=1,itemsPerPage:20,search:this.searchValue}).then(function(){var e=Object(n["a"])(Object(r["a"])().mark((function e(a){var s,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.list.length>0?(i=s.list,t.$nextTick((function(){t.contactList=t.contactList.concat(i)}))):t.contactPage=t.contactPage-1;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){}))}},mounted:function(){var t=this,e=document.querySelector("#contact-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreContact()}))}},ht=mt,ft=Object(x["a"])(ht,dt,pt,!1,null,null,null),gt=ft.exports,vt=function(){var t=this,e=t._self._c;return e("div",[e("vue-easy-lightbox",{attrs:{visible:t.singleImage,imgs:"".concat(t.publicPath).concat(t.uploadPath)},on:{hide:function(e){t.singleImage=!1}}}),e("simplebar",{key:t.cmpKey+"ADDGROUPMEMBERS",ref:"contactsRef",staticStyle:{height:"410px"},attrs:{id:"contact-list"}},[e("ul",{staticClass:"list-unstyled chat-list"},t._l(t.contactList,(function(a,s){return e("li",{key:a.employeeId+"GROUP_MEMBER_INDEX"+s,class:{active:t.username=="".concat(a.firstName," ").concat(a.lastName)},attrs:{id:t.contactList[t.contactList.length-1].id==a.id?"lid":""}},[e("a",{attrs:{href:"javascript: void(0);"}},[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),a.uploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath).concat(a.uploadPath),alt:""},on:{click:function(){t.uploadPath=a.uploadPath,t.singleImage=!0}}})]):t._e(),a.uploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(t._s(a.firstName.charAt(0)))])]),e("div",{staticClass:"media-body overflow-hidden align-self-stretch d-flex align-items-center",on:{click:function(e){return t.clickMember(a)}}},[e("h5",{staticClass:"font-size-14 mb-1",class:t.check(a)},[t._v(" "+t._s("".concat(a.lastName," ").concat(a.firstName," ").concat(a.middleName))+" ")]),e("span",{class:t.check(a)},[t._v(" "+t._s(a.depName)+" ")]),e("span",{class:t.check(a)},[t._v(" "+t._s(a.posName)+" ")])]),t.check(a)?e("i",{staticClass:"fas fa-user-check font-size-18 text-primary"}):t._e()])])])})),0)]),e("hr"),e("div",{staticClass:"d-flex align-items-center justify-content-between pl-3 pr-3 pb-3"},[e("div"),e("div",[e("b-button",{staticClass:"ml-1",attrs:{disabled:0==t.members.length,variant:"success"},on:{click:t.addMember}},[e("b-overlay",{attrs:{opacity:.1,show:t.loader,rounded:"sm"}},[e("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.$t("actions.save")+"(".concat(t.members.length,")"))+" ")])],1)],1)])],1)},bt=[],Ct={props:{username:{type:String,default:""},group:{type:Object,default:function(){}},searchValue:{type:String,default:""}},components:{simplebar:$["a"],VueEasyLightbox:c["a"]},watch:{searchValue:function(t){this.reset(t)}},data:function(){return{publicPath:"/",uploadPath:"",contactList:[],contactPage:0,singleImage:!1,cmpKey:0,members:[],loader:!1,totalMember:0}},methods:{addMember:function(){var t=this;this.loader=!0,p["a"].addMemberToGroup(this.members,this.group.id).then((function(e){setTimeout((function(){t.members=[],t.$emit("close")}),300)})).catch((function(t){})).finally((function(){t.loader=!1}))},clickMember:function(t){var e=this.members.indexOf(t.employeeId);e>-1?this.members.splice(e,1):this.members.unshift(t.employeeId)},reset:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.cmpKey+=1,this.searchValue=e,setTimeout((function(){t.getClickTab({page:0,itemsPerPage:30,search:e}),t.scrollActive()}),200)},scrollActive:function(){var t=this;this.$refs.contactsRef.SimpleBar&&this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreContact()}))},check:function(t){var e=this.members.indexOf(t.employeeId);return e>-1&&["font-weight-bold","text-primary"]},getClickTab:function(t){this.contactPage=0,this.getContacts(t)},getContacts:function(t){var e=this;p["a"].getContactList(t).then((function(t){var a=t.data;a&&e.$nextTick((function(){e.contactList=a.list.map((function(t){return{firstName:t.firstName,lastName:t.lastName,middleName:t.middleName,depName:getName({nameUz:t.depNameUz,nameLt:t.depNameLt,nameRu:t.depNameRu}),posName:getName({nameUz:t.positionNameUz,nameLt:t.positionNameLt,nameRu:t.positionNameRu}),employeeId:t.id,id:t.chatId,uploadPath:t.uploadPath}})),e.totalMember=a.total,e.$emit("setTotalForGroupMember",a)}))})).catch((function(t){}))},loadMoreContact:function(){var t=this;p["a"].getContactList({page:this.contactPage+=1,itemsPerPage:20,search:this.searchValue}).then(function(){var e=Object(n["a"])(Object(r["a"])().mark((function e(a){var s,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.list.length>0?(i=s.list.map((function(t){return{firstName:t.firstName,lastName:t.lastName,middleName:t.middleName,depName:getName({nameUz:t.depNameUz,nameLt:t.depNameLt,nameRu:t.depNameRu}),posName:getName({nameUz:t.positionNameUz,nameLt:t.positionNameLt,nameRu:t.positionNameRu}),employeeId:t.id,id:t.chatId,uploadPath:t.uploadPath}})),t.$nextTick((function(){t.contactList=t.contactList.concat(i)}))):t.contactPage=t.contactPage-1;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){}))}},mounted:function(){var t=this,e=document.querySelector("#contact-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,r=a.clientHeight,n=1;i-r-n<s&&t.loadMoreContact()}))}},yt=Ct,xt=Object(x["a"])(yt,vt,bt,!1,null,null,null),wt=xt.exports,Mt=function(){var t=this,e=t._self._c;return e("div",[e("b-card",{staticClass:"p-0 m-0"},[e("div",{staticClass:"d-flex",staticStyle:{"justify-content":"center"}},[e("div",{staticClass:"position-relative"},[e("img",{staticClass:"rounded-circle bg-light avatar-xl p-2",attrs:{src:"".concat(t.imgUrl?t.imgUrl:a("bcc2"))}}),e("div",{staticClass:"pos d-flex align-items-center justify-content-center bg-primary p_cursor",on:{click:t.changeImage}},[e("i",{staticClass:"bx bx-pencil text-white",staticStyle:{"font-size":"30px"}})])])]),e("div",{staticClass:"d-flex mt-3",staticStyle:{"justify-content":"center"}},[e("div",[e("label",{staticClass:"m-0"},[t._v(t._s(t.$t("column.name")))]),e("b-form-input",{staticStyle:{"min-width":"40vh"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),e("b-form-file",{ref:"fileRef",staticStyle:{display:"none"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1)},_t=[],kt={watch:{file:function(t){var e=this;if(t)if("err"==Object(b["e"])(t))this.file=null;else{var a=new FileReader;a.addEventListener("load",(function(){e.imgUrl=a.result})),a.readAsDataURL(t)}}},data:function(){return{name:"",file:null,imgUrl:null}},props:{group:{type:Object,default:function(){}}},methods:{fileUpload:function(){this.$refs.fileRef.$el.firstChild.click()},setEditedData:function(t,e){this.name=t,this.imgUrl=e},changeImage:function(){this.fileUpload()}}},It=kt,Pt=(a("8369"),Object(x["a"])(It,Mt,_t,!1,null,null,null)),Tt=Pt.exports,Nt=a("9225"),$t={watch:{innerWidth:{handler:function(t){this.setWindowWidthPrivate(t)}},index:function(t){2===t?this.$refs.contactComponent.getClickTab({page:0,itemsPerPage:10,search:this.searchContact}):0===t?this.$refs.chatComponent.getClickTab({page:0,itemsPerPage:10,search:this.searchChat}):1===t&&this.$refs.groupComponent.getClickTab({page:0,itemsPerPage:10,search:this.searchGroup})},file:{handler:function(t){var e=this;t?(this.fileModal=!0,setTimeout((function(){e.$refs.fileComponent.setNameSize(t.name,t.size)}),300)):this.$refs.fileComponent.setNameSize(null,null)}},searchGroup:function(){1===this.index&&this.$refs.groupComponent.getClickTab({page:0,itemsPerPage:10,search:this.searchGroup})},searchChat:function(){0===this.index&&this.$refs.chatComponent.getClickTab({page:0,itemsPerPage:10,search:this.searchChat})},searchContact:function(){2===this.index&&this.$refs.contactComponent.getClickTab({page:0,itemsPerPage:10,search:this.searchContact})}},page:{title:Nt["default"].t("chat.chat"),meta:[{name:"description",content:u.description}]},components:{Layout:l["a"],fileUpload:P,Chats:R,Contacts:L,Groups:Y,Edit:it,Messages:ut,VueEasyLightbox:c["a"],GroupMembers:gt,AddGroupMembers:wt,EditGroup:Tt},data:function(){return{publicPath:"/",localUserAvatarUrl:null,userAvatarLoading:!1,innerWidth:window.innerWidth,userFullName:m["a"].getFullName(),userId:m["a"].getUserId(),loaderEdit:!1,editGroupModal:!1,totalGroupMember:0,searchGroupMembers:"",groupMembersModal:!1,pag:{page:0,itemsPerPage:10},loaderFile:!1,chatId:null,uploadPath:null,imageView:!1,emojies:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤕","🤑","🤠"],isEdit:!1,searchValue:"",groupModal:!1,fileModal:!1,file:null,fileForUserAvatar:null,chatData:[],index:0,isSidebarChat:!1,noMsg:!1,CHAT:null,loader:!1,submitted:!1,title:this.$t("chat.chat"),username:this.$t("chat.chat"),items:[{text:this.$t("menu"),href:"/"},{text:this.$t("chat.chat"),active:!0}],chatType:"chat",page:0,groupChatId:null,searchChat:"",searchContact:"",searchGroup:"",mobileChat:!1,addGroupMembersModal:!1,searchGroupMembersAdd:""}},created:function(){var t=this;window.addEventListener("resize",(function(){t.innerWidth=window.innerWidth})),this.setWindowWidthPrivate(this.innerWidth)},computed:Object(o["a"])(Object(o["a"])({},Object(d["d"])("messenger",["chatListMessages","chatTotalMessages","groupChatListMessages"])),{},{baseUrl:function(){return"/"},messages:function(){return"group"===this.chatType?this.groupChatListMessages:this.chatListMessages},userAvatarUrlFromStorage:function(){return m["a"].getUserAvatarUrl()}}),methods:Object(o["a"])(Object(o["a"])({},Object(d["b"])("messenger",["getByChatId","sendMessage","getByGroupChatId","sendMessageGroup"])),{},{resetMessagesComponentProps:function(){this.CHAT=null,this.username=this.$t("chat.chat"),this.$store.commit("messenger/setListGroupChatMesseges",{list:[],total:0}),this.submitted=!1,this.noMsg=!1},updateUserAvatar:function(){var t=this;this.userAvatarLoading=!0,p["a"].changeUserAvatar(this.fileForUserAvatar,this.userId).then((function(e){t.userAvatarLoading=!1,e.data&&(t.localUserAvatarUrl=e.data,m["a"].setUserAvatarUrl(e.data))})).catch((function(e){console.log(e),t.userAvatarLoading=!1}))},userAvatarClicked:function(){this.$refs.userAvatarFileRef.$el.firstChild.click()},closeModalAddMember:function(){this.addGroupMembersModal=!1,this.searchGroupMembersAdd="",this.groupMembersModal&&this.$refs.groupMemberRef&&this.$refs.groupMemberRef.reset(this.searchGroupMembers)},addMemberFromModal:function(){this.addMembersToGroup()},saveEditedData:function(){var t=this;this.loaderEdit=!0;var e=this.$refs.editGroupRef,a=e.file,s=e.name;p["a"].editGroup(a,s,this.CHAT.id).then((function(e){e.data&&(1===t.index&&t.$refs.groupComponent.getClickTab({page:0,itemsPerPage:10,search:t.searchGroup}),t.editGroupModal=!1,t.setUsername(e.data.groupName))})).catch((function(){})).finally((function(){t.loaderEdit=!1}))},editGroup:function(){var t=this;this.editGroupModal=!0,setTimeout((function(){t.$refs.editGroupRef.setEditedData(t.CHAT.groupName,"".concat(t.baseUrl,"/").concat(t.CHAT.uploadPath))}),300)},deleteGroup:function(){var t=this;this.$bvModal.msgBoxConfirm(this.$t("messages.delete_title"),{okTitle:this.$t("actions.confirm"),cancelTitle:this.$t("actions.cancel")}).then((function(e){e&&p["a"].deleteGroup(t.CHAT.id).then((function(){1===t.index&&t.$refs.groupComponent.getClickTab({page:0,itemsPerPage:10,search:t.searchGroup}),t.resetMessagesComponentProps()})).catch((function(t){console.log(t)}))})).catch((function(){}))},addMembersToGroup:function(){var t=this;this.addGroupMembersModal=!0,this.searchGroupMembersAdd="",setTimeout((function(){t.$refs.addGroupMemberRef.reset(t.searchGroupMembersAdd)}),300)},setTotalForGroupMember:function(t){this.totalGroupMember=t.total},viewGroupMembers:function(){var t=this;this.groupMembersModal=!0,this.searchGroupMembers="",setTimeout((function(){t.$refs.groupMemberRef.reset(t.searchGroupMembers)}),300)},searchMsg:function(t){var e=this;return Object(n["a"])(Object(r["a"])().mark((function a(){var s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.CHAT.id){a.next=9;break}if(s={pag:e.pag,chatId:e.CHAT.id,search:t},"group"!==e.chatType){a.next=7;break}return a.next=5,e.getByGroupChatId(s);case 5:a.next=9;break;case 7:return a.next=9,e.getByChatId(s);case 9:case"end":return a.stop()}}),a)})))()},viewImageFromMessages:function(t){this.imageView=!0,this.uploadPath=t},setWindowWidthPrivate:function(t){this.mobileChat=t<992},selectEmoji:function(t){this.$refs.messageRef.form.message=String(this.$refs.messageRef.form.message.concat(t))},deleteMsg:function(t,e,a){var s=function(t,e){t(e).then((function(){return console.log("deleted")})).catch((function(){}))};"group"===this.chatType?s(p["a"].groupChatMessageDelete,{id:t,groupChatId:e}):s(p["a"].chatMessageDelete,{id:t,chatId:a})},saveEdit:function(t){var e=t.message;"group"===this.chatType?this.groupChatId&&p["a"].groupChatMessageUpdate({id:this.groupChatId,message:e}).then((function(){})).catch((function(){})):p["a"].chatMessageUpdate({id:this.chatId,message:e}).then((function(){})).catch((function(){}))},updateMsg:function(t){var e=this,a=t.id,s=t.message,i=t.uploadPath,r=t.fileName;"group"===this.chatType?(this.isEdit=!0,this.groupChatId=a,setTimeout((function(){e.$refs.editRef.setMsg(s),e.$refs.editRef.setFile(r,i)}),200)):(this.isEdit=!0,this.chatId=a,setTimeout((function(){e.$refs.editRef.setMsg(s),e.$refs.editRef.setFile(r,i)}),200))},finishSendFile:function(t,e,a,s){var i=this;this.loaderFile=!0;var r=this.$refs.messageRef,n=r.toastData,o=r.toastStatus;if("reply"===o)this.callApi(p["a"].replyChat,{chatId:e,message:t,file:s,id:n.id},(function(){i.$refs.fileComponent.reset(),i.file=null,i.fileModal=!1,i.loaderFile=!1,i.handleScroll()}));else{var c={chatId:e||a,ownerId:JSON.parse(localStorage.getItem("user_id")),file:s,message:t};p["a"].sendFile(c).then((function(){i.$refs.fileComponent.reset(),i.file=null,i.fileModal=!1,i.loaderFile=!1,i.handleScroll()})).catch((function(){}))}},sendFile:function(t,e){if("chat"===this.chatType){var a=this.CHAT,s=a.id,i=a.ownerId,r=a.employeeId;i||s?this.finishSendFile(t,s,r,e):this.finishSendFileFromContact(e,t)}else this.finishSendFileGroup(t,this.CHAT.id,e)},finishSendFileFromContact:function(t,e){var a=this;p["a"].createChat(this.CHAT.employeeId).then(function(){var s=Object(n["a"])(Object(r["a"])().mark((function s(i){var n,o,c;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n=i.data,o=n.id,c=n.employeeId,!o){s.next=6;break}return s.next=4,a.getByChatId({pag:a.pag,chatId:o});case 4:return s.next=6,a.finishSendFile(e,o,c,t);case 6:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}()).catch((function(){}))},finishSendFileGroup:function(t,e,a){var s=this;this.loaderFile=!0;var i={groupChatId:e,ownerId:JSON.parse(localStorage.getItem("user_id")),file:a,message:t};p["a"].sendImageGroup(i).then((function(){s.$refs.fileComponent.reset(),s.file=null,s.fileModal=!1,s.loaderFile=!1,s.handleScroll()}))},fileUpload:function(){this.$refs.fileRef.$el.firstChild.click()},getMessagesByChatId:function(t){var e=this;this.CHAT.id&&(p["a"].getByChatId({pag:{page:this.page+=1,itemsPerPage:10},chatId:this.CHAT.id}).then(function(){var a=Object(n["a"])(Object(r["a"])().mark((function a(s){var i;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=s.data,e.$store.commit("messenger/pushItems",i.list),i.list.length>0?(t.scrollTop=800,e.noMsg=!1):(e.noMsg=!0,e.page);case 3:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(){})),this.handleScroll())},getMessagesByGroupId:function(t){var e=this;p["a"].getByGroupChatId({pag:{page:this.page+=1,itemsPerPage:10},chatId:this.CHAT.id}).then(function(){var a=Object(n["a"])(Object(r["a"])().mark((function a(s){var i;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=s.data,i.list.length>0?(t.scrollTop=1500,e.$store.commit("messenger/pushGroupItems",i.list),e.noMsg=!1):(e.noMsg=!0,e.page);case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},setUsername:function(t){this.username=t},chatUsername:function(t){var e=this;return Object(n["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.chatType="chat",e.noMsg=!1,e.page=0,e.CHAT=t,a.next=6,e.$store.commit("messenger/setCurrentChat",t);case 6:return a.next=8,e.setUsername(t.myName);case 8:return a.next=10,e.getByChatId({pag:{page:0,itemsPerPage:10},chatId:t.id});case 10:return a.next=12,e.setMobileChat();case 12:case"end":return a.stop()}}),a)})))()},setMobileChat:function(){this.mobileChat&&(this.isSidebarChat=!0)},groupUsername:function(t){var e=this;return Object(n["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$nextTick((function(){e.noMsg=!1,e.page=0,e.chatType="group",e.CHAT=t})),a.next=3,e.$store.commit("messenger/setCurrentChat",t);case 3:return a.next=5,e.setUsername(t.groupName);case 5:return a.next=7,e.getByGroupChatId({pag:{page:0,itemsPerPage:10},chatId:t.id});case 7:return a.next=9,e.setMobileChat();case 9:case"end":return a.stop()}}),a)})))()},contactUsername:function(t){var e=this;return Object(n["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$nextTick((function(){e.noMsg=!1,e.CHAT=t,e.chatType="chat",e.page=0})),a.next=3,e.$store.commit("messenger/setCurrentChat",t);case 3:return a.next=5,e.setUsername(" ".concat(t.lastName," ").concat(t.firstName," ").concat(t.middleName));case 5:if(!t.id){a.next=10;break}return a.next=8,e.getByChatId({pag:{page:0,itemsPerPage:10},chatId:t.id});case 8:a.next=12;break;case 10:return a.next=12,e.$store.commit("messenger/setListChatMesseges",{total:0,list:[]});case 12:return a.next=14,e.setMobileChat();case 14:case"end":return a.stop()}}),a)})))()},sendMsgGroup:function(t){this.sendMessageGroup(JSON.stringify({message:t,groupChatId:this.CHAT.id,ownerId:JSON.parse(localStorage.getItem("user_id"))})),this.handleScroll()},sendMsgApi:function(t,e){this.sendMessage(JSON.stringify({message:t,chatId:e||empId,ownerId:JSON.parse(localStorage.getItem("user_id"))}))},sendMsg:function(t){var e=this;return Object(n["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.CHAT.ownerId){a.next=4;break}e.sendMsgApi(t,e.CHAT.id||e.CHAT.employeeId),a.next=10;break;case 4:if(!e.CHAT.id){a.next=9;break}return a.next=7,e.sendMsgApi(t,e.CHAT.id||e.CHAT.employeeId);case 7:a.next=10;break;case 9:p["a"].createChat(e.CHAT.employeeId).then(function(){var a=Object(n["a"])(Object(r["a"])().mark((function a(s){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.data){a.next=5;break}return a.next=3,e.getByChatId({pag:{page:0,itemsPerPage:10},chatId:s.data.id});case 3:e.sendMsgApi(t,s.data.id||s.data.employeeId),e.isSidebarChat=!1;case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(){}));case 10:e.handleScroll();case 11:case"end":return a.stop()}}),a)})))()},callApi:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.$refs.messageRef,r=function(){i&&i.replyMsg(null,"hidden"),a.handleScroll(),s&&s()};t(e).then((function(){return r()})).catch((function(){}))},formSubmit:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var a,s,i,n,c,l,u,d;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$refs.messageRef,t.submitted=!0,s=a.toastData,i=a.toastStatus,n=a.form.message,n&&0!==n.trim().length||"forward"===i){e.next=8;break}a.$refs.msgInput.$el.focus(),e.next=30;break;case 8:c={id:s?s.id:null,message:n},e.t0=i,e.next="edit"===e.t0?12:"forward"===e.t0?14:"reply"===e.t0?17:19;break;case 12:return"group"===t.chatType?t.callApi(p["a"].groupChatMessageUpdate,c):t.callApi(p["a"].chatMessageUpdate,c),e.abrupt("break",27);case 14:return l=t.CHAT,u=l.id,d=l.employeeId,"group"===t.chatType?t.callApi(p["a"].groupChatMessageUpdate,c):u?t.callApi(p["a"].forwardChat,Object(o["a"])({chatId:u},c)):p["a"].createChat(d).then((function(e){t.callApi(p["a"].forwardChat,Object(o["a"])({chatId:e.data.id},c))})).catch((function(){})),e.abrupt("break",27);case 17:return"group"===t.chatType?t.callApi(p["a"].groupChatMessageUpdate,c):t.CHAT.id&&t.callApi(p["a"].replyChat,Object(o["a"])({chatId:t.CHAT.id},c)),e.abrupt("break",27);case 19:if("chat"!==t.chatType){e.next=24;break}return e.next=22,t.sendMsg(n);case 22:e.next=26;break;case 24:return e.next=26,t.sendMsgGroup(n);case 26:return e.abrupt("break",27);case 27:t.submitted=!1,a.form.message="",2===t.index&&(t.index=0,setTimeout((function(){t.$refs.chatComponent.getClickTab({page:0,itemsPerPage:10,search:t.searchChat}),t.CHAT=null,t.username=t.$t("chat.chat")}),300));case 30:case"end":return e.stop()}}),e)})))()},handleScroll:function(){var t=this.$refs.messageRef;t.$refs.current.$el&&setTimeout((function(){t.$refs.current.SimpleBar.getScrollElement().scrollTop=t.$refs.current.SimpleBar.getScrollElement().scrollHeight+1500}),500)}})},St=$t,At=(a("ef99"),Object(x["a"])(St,s,i,!1,null,"e9310c4e",null));e["default"]=At.exports},"47a8":function(t,e,a){},"498a":function(t,e,a){"use strict";var s=a("23e7"),i=a("58a8").trim,r=a("c8d2");s({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},8369:function(t,e,a){"use strict";a("f7ff")},"887a":function(t,e,a){"use strict";a("99af"),a("b0c0");var s=a("f2db"),i=(a("7476"),{getTemplateByCategoryId:function(t,e,a){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return s["a"].post("templates/get-by-category/".concat(t||"","?keyword=").concat(e||""),a,i)},getTemplateListByCategoryId:function(t,e,a,i){return s["a"].post("templates/sample/list-search?keyword=".concat(a||"","&categoryId=").concat(t||"","&personType=").concat(e||""),i)},getApplicationFromDxaById:function(t){return s["a"].get("application-dxa/get-all-information?id=".concat(t||""))},getApplicationInfoBystepId:function(t,e){return s["a"].get("application-dxa/get-info/".concat(t,"/").concat(e))},getVisaAllInfoById:function(t){return s["a"].get("application-dxa/get-all-header-info?id=".concat(t||""))},getApplicationFilesBystepId:function(t,e,a){return s["a"].get("application-dxa/get-file-info/".concat(parseInt(e),"?application_id=").concat(t,"&applicationDXAId=").concat(a))},getApplicationFilesDownloadById:function(t,e){return s["a"].customRequest({url:"application-dxa/upload-file/".concat(parseInt(e),"?application_id=").concat(t),method:"GET",responseType:"blob"})},getApplicationTree:function(t){return s["a"].get("before-commission/application/get-tree/".concat(t))},petrolPricesByDate:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s["a"].post("docReport/petrol-report?fromDate=".concat(t||"","&toDate=").concat(e||"","&regionId=").concat(a||""),{},i)},testTelegramBotApi:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s["a"].post("docReport/petrol-data-for-telegram-bot?docTableId=".concat(t,"&petrolId=").concat(e),{},a)},fetchDateTypesByParentId:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s["a"].post("dateType/listByParentId/".concat(t),e,a)},getContractorBankAccounts:function(t){return s["a"].get("contractor/get-contractor-banks/".concat(t))},getContractorFounders:function(t){return s["a"].get("contractor/get-contractor-founders/".concat(t))},getContractorDirector:function(t){return s["a"].get("contractor/get-contractor-director/".concat(t))},getContractorAccounter:function(t){return s["a"].get("contractor/get-contractor-accountant/".concat(t))},approveReestrDoc:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("reestr/contractor-reestr-documents/reestr-document-confirmation/".concat(t),e)},updateReestr:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a?s["a"].post("".concat(t,"/update/").concat(a),e,i):s["a"].post("".concat(t,"/update/").concat(e.id),e,i)},getContractorsByProdectOrServiceTypeIdAndProductOrServiceId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-by-is-republic/".concat(t),{},e)},searchReestrContractorListByIndividualsGroupId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic-for-group-of-individuals/".concat(t),{},e)},searchReestrContractorListByParentId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic/".concat(t),{},e)},searchReestrHistoryListByContractorId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(t),{},e)},searchReestrListByRepublic:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(t),{},e)},getReestrByRepublic:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type-by-is-republic/by-region/".concat(t),{},e)},getReestrByRegionId:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type/by-region/".concat(e,"?regionId=").concat(t),{},a)},getProductOrServicesByTypeId:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign({},e);return i.page=i.page-1,s["a"].post("directory/product-or-services/get/by-type-id/".concat(t,"?keyword=").concat(e.keyword?e.keyword:""),i,a)},savePermittedDepsByUserId:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s["a"].post("department/save/permitted/by-user-id/for-dep-perm-control/".concat(t),e,a)},fetchControlPermittedDepsByUser:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("department/get/checked/permitted/by-user-id/for-dep-perm-control/".concat(t),e)},getAdConstructionsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("contractor-advertising-construction/get-all/for-map?passportNumber=".concat(t.passportNumber,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds,"&designTypeIds=").concat(t.designTypeIds),null,e)},getAdConstructionsForMapEAuction:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("contractor-advertising-construction/get-all/for-map/e-auction?passportNumber=".concat(t.passportNumber,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds,"&designTypeIds=").concat(t.designTypeIds),null,e)},getPetrolStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("petrol/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getSugarStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("sugar/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getBakeryStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("bakery/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getFlourStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].post("flour/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getAdDesignTypesByActiveStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s["a"].get("directory/advertisement-design-type/get-all-by-active-status/",t)},getVolumesByActiveStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s["a"].get("directory/advertisement-design-type/get-all-by-active-status/",t)},getVolumeTypesByActiveStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s["a"].get("directory/advertisement-volume-types/get-all-by-active-status/",t)},getPrivilegeCoefficientValueByAdDesignTypeId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("directory/advertisement-design-type_privilege_coefficients/get-coefficient-by-design-type-id?designTypeId=".concat(t),e)},getCoefficientValueByZoneAndDistrictIds:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s["a"].get("directory/coefficients/get-by-district-and-zone/".concat(t,"/").concat(e),a)},getMinCollectionValueByRegionAndDistrictIds:function(t,e,a,i,r){var n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return s["a"].get("directory/minimum-collections/get-by-region?regionId=".concat(t,"&districtId=").concat(e,"&locationTypeId=").concat(a,"&designTypeId=").concat(i,"&volumeTypeId=").concat(r||""),n)},getAdZonesByDistrictId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("directory/coefficients/get-zones/by-district-id/".concat(t),e)},getGroupOfRegion:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("directory/group-regions/get-group/by-region-id/".concat(t),e)},getAdVolumeTypesByAdLocationTypeId:function(t,e){return s["a"].get("directory/advertisement-volume-types/get-all/".concat(t),e)},getAdDesignTypesByAdLocationTypeId:function(t,e,a){return s["a"].get("directory/advertisement-design-type/get-design-types/".concat(e,"/").concat(t),a)},updateUserPasswordByAdmin:function(t,e){return s["a"].put("user/update-password/no-checking",t,e)},updateUserPassword:function(t,e){return s["a"].put("user/update-password",t,e)},updateRolePermissionsById:function(t,e){return s["a"].post("role/add-permissions/".concat(t.id),t.permissionIds,e)},permissionsListByRoleId:function(t,e){return s["a"].get("permission/list/by-role-id/".concat(t),e)},updateDepartment:function(t){return s["a"].put("department/update/".concat(t.departmentDto.id),t)},validateInnFromApi:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("contractor/check-inn-is-valid?inn=".concat(t),e)},checkAdPassportNumber:function(t){return s["a"].get("contractor-advertising-construction/check-passport-number?passportNumber=".concat(t))},checkAdPassportNumberByRegion:function(t,e){return s["a"].get("contractor-advertising-construction/check-passport-number/by-region?passportNumber=".concat(t,"&regionId=").concat(e))},findContractorByInn:function(t){return s["a"].get("department/check-inn?inn=".concat(t))},getIndividualInfoByInn:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("employee/get-by-inn-from-soliq/".concat(t),e)},getSingleContractorByInn:function(t){return s["a"].get("contractor/get-by-inn/".concat(t))},getContractorInfoByInnForCreate:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-create?inn=".concat(t,"&pinfl=").concat(e,"&isYur=").concat(Boolean(a)),i)},getContractorInfoByInnForUpdate:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-update?inn=".concat(t,"&pinfl=").concat(e,"&isYur=").concat(Boolean(a)),i)},getCuratorsForDepartment:function(){return s["a"].get("department/get-department/curators")},getGeoLocationsByParentId:function(t){return s["a"].get("geographical-region/list/by-parent-id/".concat(t))},getGeoLocationsByMultipleParentIds:function(t){return s["a"].get("geographical-region/get-all-district/by-region-ids?regionIds=".concat(t))},fetchRegions:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s["a"].get("geographical-region/get-all-region",t)},fetchRegions14:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("geographical-region/get-region-tree?keyword=".concat(t),e)},fetchRegionsForAdvertisementByCurrentUserId:function(){return s["a"].get("geographical-region/get-all-regions-by-current-user-id/for-advertisement")},fetchRegionsForPetrolByCurrentUserId:function(){return s["a"].get("geographical-region/get-all-regions-by-current-user-id/for-petrol")},fetchRegionsForSugarByCurrentUserId:function(){return s["a"].get("geographical-region/get-all-regions-by-current-user-id/for-sugar")},fetchRegionsForBakeryByCurrentUserId:function(){return s["a"].get("geographical-region/get-all-regions-by-current-user-id/for-bakery")},fetchRegionsForFlourByCurrentUserId:function(){return s["a"].get("geographical-region/get-all-regions-by-current-user-id/for-flour")},fetchRegionsForContractorReestrByCurrentUserId:function(){return s["a"].get("geographical-region/get-all-regions-by-current-user-id/for-reestr")},searchEmployeesByDep:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign({},t);return i.page-=1,s["a"].post("employee/search/by-depId/".concat(e),i,a)},searchEmployeesByDepID:function(t){var e=Object.assign({},t);return e.page-=1,s["a"].post("employee/getByYurDepForSign",e)},searchEmployeesWithoutDep:function(t){var e=Object.assign({},t);return e.page-=1,s["a"].post("employee/search/without/dep",e)},createDepWithLegalInfo:function(t){return s["a"].post("department/finish",t)},getRefByCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("reference/get-code/".concat(t),e)},getRefByCodeNew:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("reference/get-reference-by-code/".concat(t),e)},getEmployeeList:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s["a"].get("employee/get-all-for-create-user/by-keyword?keyword=".concat(t),e)},getCountNotifications:function(){return s["a"].get("report/advertisement-notifications/unread-messages")},getNotificationList:function(t){var e=Object.assign({},t);return e.page-=1,s["a"].post("notification/list-search?search=".concat(e.searchTitle))},acceptById:function(t){return s["a"].post("report/advertisement-notifications/accepted-notification/".concat(t))},rejectById:function(t,e,a){var i=Object.assign({},e);return s["a"].post("report/advertisement-notifications/rejected-notification/".concat(t),i,a)},getAllReceivers:function(t,e){return s["a"].post("report/advertisement-notifications/outgoing-receivers/".concat(t),e)},getAllReceiversForReport:function(t,e){return s["a"].post("report/general-inventory-reports/outgoing-receivers/".concat(t),e)},acceptReportById:function(t){return s["a"].post("report/general-inventory-reports/accepted-report/".concat(t))},rejectReportById:function(t){return s["a"].post("report/general-inventory-reports/rejected-report/".concat(t))},makeReadNotification:function(t){return s["a"].put("notification/make-read-notification/".concat(t))},getCounts:function(){return s["a"].get("report/dashboard/get-count")},getCountsByRegion:function(){return s["a"].get("report/dashboard/get-all-counts-by-region")},sendMessageToUser:function(t){return s["a"].post("murojaat/send-message",t)}});e["a"]=i},a8b9:function(t,e,a){"use strict";a("2f55")},bcc2:function(t,e,a){t.exports=a.p+"img/acru-logo-with-name.60635187.svg"},c8d2:function(t,e,a){var s=a("5e77").PROPER,i=a("d039"),r=a("5899"),n="​᠎";t.exports=function(t){return i((function(){return!!r[t]()||n[t]()!==n||s&&r[t].name!==t}))}},ef99:function(t,e,a){"use strict";a("47a8")},f7ff:function(t,e,a){}}]);