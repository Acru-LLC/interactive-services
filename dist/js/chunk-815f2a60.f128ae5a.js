(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-815f2a60"],{"1f92":function(t){t.exports=JSON.parse('{"app_name":"FAIRTECH.UZ","app_short_name":"FT","app_made_by_1":"dataprizma.uz","api_url":"app.fairtech.uz","api_request_type":"http","app_test":false,"api_keys":["fairtech.uz","A5788A817D8546933F8611208D736225C5A087519C1506CBEC86A0E93ACC5B36E3C9587652A8EC2452BD1FD77DE165BFA8DD84695E2AEA49816A00581B053AF3","localhost","96D0C1491615C82B9A54D9989779DF825B690748224C2B04F500F370D51827CE2644D8D4A82C18184D73AB8530BB8ED537269603F61DB0D03D2104ABF789970B","127.0.0.1","A7BCFA5D490B351BE0754130DF03A068F855DB4333D43921125B9CF2670EF6A40370C646B90401955E1F7BC9CDBF59CE0B2C5467D820BE189C845D0B79CFC96F","null","E0A205EC4E7B78BBB56AFF83A733A1BB9FD39D562E67978CC5E7D73B0951DB1954595A20672A63332535E13CC6EC1E1FC8857BB09E0855D7E76E411B6FA16E9D"],"app_version":"1.0.1","call_center_number":"+998 78 122 99 07"}')},"3b58":function(t,e,n){!function(e,n){t.exports=n()}(window,(function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=25)}([function(t,e,n){var i=n(11);"string"==typeof i&&(i=[[t.i,i,""]]);var o={transform:void 0};n(3)(i,o),i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";function i(t,e,n,i,o,r,s,a){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,c):[c]}return{exports:t,options:u}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t){return a(t)||s(t)||r(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t){t.forEach((function(t,e){document.documentElement.addEventListener(e,t)}))}function l(t){t.forEach((function(t,e){document.documentElement.removeEventListener(e,t)}))}var m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vdr",class:(t.active||t.isActive?"active":"inactive")+" "+(t.contentClass?t.contentClass:""),style:t.positionStyle,on:{mousedown:function(e){t.bodyDown(e)},touchstart:function(e){t.bodyDown(e)},touchend:function(e){t.up(e)}}},[n("div",{ref:"container",staticClass:"content-container",style:t.sizeStyle},[t._t("default")],2),t._v(" "),t._l(t.sticks,(function(e){return n("div",{staticClass:"vdr-stick",class:["vdr-stick-"+e,t.isResizable?"":"not-resizable"],style:t.vdrStick(e),on:{mousedown:function(n){n.stopPropagation(),n.preventDefault(),t.stickDown(e,n)},touchstart:function(n){n.stopPropagation(),n.preventDefault(),t.stickDown(e,n)}}})}))],2)},d=[];m._withStripped=!0;var h={y:{t:"top",m:"marginTop",b:"bottom"},x:{l:"left",m:"marginLeft",r:"right"}},p={name:"vue-drag-resize",emits:["clicked","dragging","dragstop","resizing","resizestop","activated","deactivated"],props:{stickSize:{type:Number,default:8},parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},isActive:{type:Boolean,default:!1},preventActiveBehavior:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},aspectRatio:{type:Boolean,default:!1},parentLimitation:{type:Boolean,default:!1},snapToGrid:{type:Boolean,default:!1},gridX:{type:Number,default:50,validator:function(t){return t>=0}},gridY:{type:Number,default:50,validator:function(t){return t>=0}},parentW:{type:Number,default:0,validator:function(t){return t>=0}},parentH:{type:Number,default:0,validator:function(t){return t>=0}},w:{type:[String,Number],default:200,validator:function(t){return"string"==typeof t?"auto"===t:t>=0}},h:{type:[String,Number],default:200,validator:function(t){return"string"==typeof t?"auto"===t:t>=0}},minw:{type:Number,default:50,validator:function(t){return t>=0}},minh:{type:Number,default:50,validator:function(t){return t>=0}},x:{type:Number,default:0,validator:function(t){return"number"==typeof t}},y:{type:Number,default:0,validator:function(t){return"number"==typeof t}},z:{type:[String,Number],default:"auto",validator:function(t){return"string"==typeof t?"auto"===t:t>=0}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},sticks:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(t){return-1!==["x","y","both","none"].indexOf(t)}},contentClass:{type:String,required:!1,default:""}},data:function(){return{fixAspectRatio:null,active:null,zIndex:null,parentWidth:null,parentHeight:null,left:null,top:null,right:null,bottom:null,minHeight:null}},beforeCreate:function(){this.stickDrag=!1,this.bodyDrag=!1,this.dimensionsBeforeMove={pointerX:0,pointerY:0,x:0,y:0,w:0,h:0},this.limits={left:{min:null,max:null},right:{min:null,max:null},top:{min:null,max:null},bottom:{min:null,max:null}},this.currentStick=null},mounted:function(){var t=this;this.parentElement=this.$el.parentNode,this.parentWidth=this.parentW?this.parentW:this.parentElement.clientWidth,this.parentHeight=this.parentH?this.parentH:this.parentElement.clientHeight,this.left=this.x,this.top=this.y,this.right=this.parentWidth-("auto"===this.w?this.$refs.container.scrollWidth:this.w)-this.left,this.bottom=this.parentHeight-("auto"===this.h?this.$refs.container.scrollHeight:this.h)-this.top,this.domEvents=new Map([["mousemove",this.move],["mouseup",this.up],["mouseleave",this.up],["mousedown",this.deselect],["touchmove",this.move],["touchend",this.up],["touchcancel",this.up],["touchstart",this.up]]),u(this.domEvents),this.dragHandle&&i(this.$el.querySelectorAll(this.dragHandle)).forEach((function(e){e.setAttribute("data-drag-handle",t._uid)})),this.dragCancel&&i(this.$el.querySelectorAll(this.dragCancel)).forEach((function(e){e.setAttribute("data-drag-cancel",t._uid)}))},beforeDestroy:function(){l(this.domEvents)},methods:{deselect:function(){this.preventActiveBehavior||(this.active=!1)},move:function(t){if(this.stickDrag||this.bodyDrag){t.stopPropagation();var e=void 0!==t.pageX?t.pageX:t.touches[0].pageX,n=void 0!==t.pageY?t.pageY:t.touches[0].pageY,i=this.dimensionsBeforeMove,o={x:(i.pointerX-e)/this.parentScaleX,y:(i.pointerY-n)/this.parentScaleY};if(this.stickDrag&&this.stickMove(o),this.bodyDrag){if("x"===this.axis)o.y=0;else if("y"===this.axis)o.x=0;else if("none"===this.axis)return;this.bodyMove(o)}}},up:function(t){this.stickDrag?this.stickUp(t):this.bodyDrag&&this.bodyUp(t)},bodyDown:function(t){var e=t.target,n=t.button;if(this.preventActiveBehavior||(this.active=!0),(!n||0===n)&&(this.$emit("clicked",t),this.active&&!(this.dragHandle&&e.getAttribute("data-drag-handle")!==this._uid.toString()||this.dragCancel&&e.getAttribute("data-drag-cancel")===this._uid.toString()))){void 0!==t.stopPropagation&&t.stopPropagation(),void 0!==t.preventDefault&&t.preventDefault(),this.isDraggable&&(this.bodyDrag=!0);var i=void 0!==t.pageX?t.pageX:t.touches[0].pageX,o=void 0!==t.pageY?t.pageY:t.touches[0].pageY;this.saveDimensionsBeforeMove({pointerX:i,pointerY:o}),this.parentLimitation&&(this.limits=this.calcDragLimitation())}},bodyMove:function(t){var e=this.dimensionsBeforeMove,n=this.parentWidth,i=this.parentHeight,o=this.gridX,r=this.gridY,s=this.width,a=this.height,c=e.top-t.y,u=e.bottom+t.y,l=e.left-t.x,m=e.right+t.x;if(this.snapToGrid){var d=!0,h=!0,p=c-Math.floor(c/r)*r,f=i-u-Math.floor((i-u)/r)*r,g=l-Math.floor(l/o)*o,b=n-m-Math.floor((n-m)/o)*o;p>r/2&&(p-=r),f>r/2&&(f-=r),g>o/2&&(g-=o),b>o/2&&(b-=o),Math.abs(f)<Math.abs(p)&&(d=!1),Math.abs(b)<Math.abs(g)&&(h=!1),c-=d?p:f,u=i-a-c,l-=h?g:b,m=n-s-l}var v=this.rectCorrectionByLimit({newLeft:l,newRight:m,newTop:c,newBottom:u});this.left=v.newLeft,this.right=v.newRight,this.top=v.newTop,this.bottom=v.newBottom,this.$emit("dragging",this.rect)},bodyUp:function(){this.bodyDrag=!1,this.$emit("dragging",this.rect),this.$emit("dragstop",this.rect),this.dimensionsBeforeMove={pointerX:0,pointerY:0,x:0,y:0,w:0,h:0},this.limits={left:{min:null,max:null},right:{min:null,max:null},top:{min:null,max:null},bottom:{min:null,max:null}}},stickDown:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isResizable&&this.active||n){this.stickDrag=!0;var i=void 0!==e.pageX?e.pageX:e.touches[0].pageX,o=void 0!==e.pageY?e.pageY:e.touches[0].pageY;this.saveDimensionsBeforeMove({pointerX:i,pointerY:o}),this.currentStick=t,this.limits=this.calcResizeLimits()}},saveDimensionsBeforeMove:function(t){var e=t.pointerX,n=t.pointerY;this.dimensionsBeforeMove.pointerX=e,this.dimensionsBeforeMove.pointerY=n,this.dimensionsBeforeMove.left=this.left,this.dimensionsBeforeMove.right=this.right,this.dimensionsBeforeMove.top=this.top,this.dimensionsBeforeMove.bottom=this.bottom,this.dimensionsBeforeMove.width=this.width,this.dimensionsBeforeMove.height=this.height,this.aspectFactor=this.width/this.height},stickMove:function(t){var e=this.currentStick,n=this.dimensionsBeforeMove,i=this.gridY,o=this.gridX,r=this.snapToGrid,s=this.parentHeight,a=this.parentWidth,c=n.top,u=n.bottom,l=n.left,m=n.right;switch(e[0]){case"b":u=n.bottom+t.y,r&&(u=s-Math.round((s-u)/i)*i);break;case"t":c=n.top-t.y,r&&(c=Math.round(c/i)*i)}switch(e[1]){case"r":m=n.right+t.x,r&&(m=a-Math.round((a-m)/o)*o);break;case"l":l=n.left-t.x,r&&(l=Math.round(l/o)*o)}var d=this.rectCorrectionByLimit({newLeft:l,newRight:m,newTop:c,newBottom:u});if(l=d.newLeft,m=d.newRight,c=d.newTop,u=d.newBottom,this.aspectRatio){var h=this.rectCorrectionByAspectRatio({newLeft:l,newRight:m,newTop:c,newBottom:u});l=h.newLeft,m=h.newRight,c=h.newTop,u=h.newBottom}this.left=l,this.right=m,this.top=c,this.bottom=u,this.$emit("resizing",this.rect)},stickUp:function(){this.stickDrag=!1,this.dimensionsBeforeMove={pointerX:0,pointerY:0,x:0,y:0,w:0,h:0},this.limits={left:{min:null,max:null},right:{min:null,max:null},top:{min:null,max:null},bottom:{min:null,max:null}},this.$emit("resizing",this.rect),this.$emit("resizestop",this.rect)},calcDragLimitation:function(){var t=this.parentWidth,e=this.parentHeight;return{left:{min:0,max:t-this.width},right:{min:0,max:t-this.width},top:{min:0,max:e-this.height},bottom:{min:0,max:e-this.height}}},calcResizeLimits:function(){var t=this.aspectFactor,e=this.width,n=this.height,i=this.bottom,o=this.top,r=this.left,s=this.right,a=this.minh,c=this.minw,u=this.parentLimitation?0:null;this.aspectRatio&&(c/a>t?a=c/t:c=t*a);var l={left:{min:u,max:r+(e-c)},right:{min:u,max:s+(e-c)},top:{min:u,max:o+(n-a)},bottom:{min:u,max:i+(n-a)}};if(this.aspectRatio){var m={left:{min:r-Math.min(o,i)*t*2,max:r+(n-a)/2*t*2},right:{min:s-Math.min(o,i)*t*2,max:s+(n-a)/2*t*2},top:{min:o-Math.min(r,s)/t*2,max:o+(e-c)/2/t*2},bottom:{min:i-Math.min(r,s)/t*2,max:i+(e-c)/2/t*2}};"m"===this.currentStick[0]?(l.left={min:Math.max(l.left.min,m.left.min),max:Math.min(l.left.max,m.left.max)},l.right={min:Math.max(l.right.min,m.right.min),max:Math.min(l.right.max,m.right.max)}):"m"===this.currentStick[1]&&(l.top={min:Math.max(l.top.min,m.top.min),max:Math.min(l.top.max,m.top.max)},l.bottom={min:Math.max(l.bottom.min,m.bottom.min),max:Math.min(l.bottom.max,m.bottom.max)})}return l},sideCorrectionByLimit:function(t,e){var n=e;return null!==t.min&&e<t.min?n=t.min:null!==t.max&&t.max<e&&(n=t.max),n},rectCorrectionByLimit:function(t){var e=this.limits,n=t.newRight,i=t.newLeft,o=t.newBottom,r=t.newTop;return i=this.sideCorrectionByLimit(e.left,i),n=this.sideCorrectionByLimit(e.right,n),r=this.sideCorrectionByLimit(e.top,r),o=this.sideCorrectionByLimit(e.bottom,o),{newLeft:i,newRight:n,newTop:r,newBottom:o}},rectCorrectionByAspectRatio:function(t){var e=t.newLeft,n=t.newRight,i=t.newTop,o=t.newBottom,r=this.parentWidth,s=this.parentHeight,a=this.currentStick,c=this.aspectFactor,u=this.dimensionsBeforeMove,l=r-e-n,m=s-i-o;if("m"===a[1]){var d=m-u.height;e-=d*c/2,n-=d*c/2}else if("m"===a[0]){var h=l-u.width;i-=h/c/2,o-=h/c/2}else l/m>c?(l=c*m,"l"===a[1]?e=r-n-l:n=r-e-l):(m=l/c,"t"===a[0]?i=s-o-m:o=s-i-m);return{newLeft:e,newRight:n,newTop:i,newBottom:o}}},computed:{positionStyle:function(){return{top:this.top+"px",left:this.left+"px",zIndex:this.zIndex}},sizeStyle:function(){return{width:"auto"==this.w?"auto":this.width+"px",height:"auto"==this.h?"auto":this.height+"px"}},vdrStick:function(){var t=this;return function(e){var n={width:"".concat(t.stickSize/t.parentScaleX,"px"),height:"".concat(t.stickSize/t.parentScaleY,"px")};return n[h.y[e[0]]]="".concat(t.stickSize/t.parentScaleX/-2,"px"),n[h.x[e[1]]]="".concat(t.stickSize/t.parentScaleX/-2,"px"),n}},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},rect:function(){return{left:Math.round(this.left),top:Math.round(this.top),width:Math.round(this.width),height:Math.round(this.height)}}},watch:{active:function(t){t?this.$emit("activated"):this.$emit("deactivated")},isActive:{immediate:!0,handler:function(t){this.active=t}},z:{immediate:!0,handler:function(t){(t>=0||"auto"===t)&&(this.zIndex=t)}},x:{handler:function(t,e){var n=this;if(!this.stickDrag&&!this.bodyDrag&&t!==this.left){var i=e-t;this.bodyDown({pageX:this.left,pageY:this.top}),this.bodyMove({x:i,y:0}),this.$nextTick((function(){n.bodyUp()}))}}},y:{handler:function(t,e){var n=this;if(!this.stickDrag&&!this.bodyDrag&&t!==this.top){var i=e-t;this.bodyDown({pageX:this.left,pageY:this.top}),this.bodyMove({x:0,y:i}),this.$nextTick((function(){n.bodyUp()}))}}},w:{handler:function(t,e){var n=this;if(!this.stickDrag&&!this.bodyDrag&&t!==this.width){var i=e-t;this.stickDown("mr",{pageX:this.right,pageY:this.top+this.height/2},!0),this.stickMove({x:i,y:0}),this.$nextTick((function(){n.stickUp()}))}}},h:{handler:function(t,e){var n=this;if(!this.stickDrag&&!this.bodyDrag&&t!==this.height){var i=e-t;this.stickDown("bm",{pageX:this.left+this.width/2,pageY:this.bottom},!0),this.stickMove({x:0,y:i}),this.$nextTick((function(){n.stickUp()}))}}},parentW:function(t){this.right=t-this.width-this.left,this.parentWidth=t},parentH:function(t){this.bottom=t-this.height-this.top,this.parentHeight=t}}},f=p,g=(n(12),n(1)),b=Object(g.a)(f,m,d,!1,null,null,null);b.options.__file="src/components/vue-drag-resize.vue",e.a=b.exports},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=p[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(l(i.parts[r],e))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(l(i.parts[r],e));p[i.id]={id:i.id,refs:1,parts:s}}}}function o(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a=r[1],c=r[2],u=r[3],l={css:a,media:c,sourceMap:u};i[s]?i[s].parts.push(l):n.push(i[s]={id:s,parts:[l]})}return n}function r(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),r(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),r(t,e),e}function u(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function l(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var u=v++;n=b||(b=a(e)),i=m.bind(null,n,u,!1),o=m.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),i=h.bind(null,n,e),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=d.bind(null,n),o=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function m(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function d(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=w(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var p={},f=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}((function(t){return document.querySelector(t)})),b=null,v=0,y=[],w=n(10);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=f()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return i(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var a=n[s],c=p[a.id];c.refs--,r.push(c)}t&&i(o(t,e),e);for(s=0;s<r.length;s++){c=r[s];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete p[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=i(o);return[n].concat(o.sources.map((function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"}))).concat([r]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,,,,function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){e=t.exports=n(4)(!1),e.push([t.i,'\n.vdr,.vdr.active:before{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box\n}\n.vdr.active:before{content:"";width:100%;height:100%;top:0;left:0;outline:1px dashed #d6d6d6\n}\n.vdr-stick{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;font-size:1px;background:#fff;border:1px solid #6c6c6c;-webkit-box-shadow:0 0 2px #bbb;box-shadow:0 0 2px #bbb\n}\n.inactive .vdr-stick{display:none\n}\n.vdr-stick-br,.vdr-stick-tl{cursor:nwse-resize\n}\n.vdr-stick-bm,.vdr-stick-tm{left:50%;cursor:ns-resize\n}\n.vdr-stick-bl,.vdr-stick-tr{cursor:nesw-resize\n}\n.vdr-stick-ml,.vdr-stick-mr{top:50%;cursor:ew-resize\n}\n.vdr-stick.not-resizable{display:none\n}\n.content-container{display:block;position:relative\n}',""])},function(t,e,n){"use strict";var i=n(0),o=n.n(i);o.a},,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),function(t){function i(t){i.installed||(i.installed=!0,t.component("vue-drag-resize",o.a))}n.d(e,"install",(function(){return i}));var o=n(2),r={install:i},s=null;"undefined"!=typeof window?s=window.Vue:void 0!==t&&(s=t.Vue),s&&s.use(r),e.default=o.a}.call(this,n(5))}])}))},"60de":function(t,e,n){"use strict";n("be11")},"7db0":function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").find,r=n("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},"882b":function(t,e,n){"use strict";n.r(e);n("d81d");var i=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"card card-body stickyHead",attrs:{id:"myHeader"}},[e("div",{staticClass:"d-flex"},[e("div",{staticStyle:{width:"58%"}},[t.numPages?e("h5",{staticClass:"float-right m-0"},[t._v(" "+t._s(t.currentPage)+" / "+t._s(t.numPages)+" ")]):t._e()]),e("div",{staticStyle:{width:"43%"}},[e("div",{staticClass:"float-right d-flex align-items-center"},[e("b-button-group",[e("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:t.signData}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderQrCode,rounded:"sm"}},[e("i",{staticClass:"fa fa-qrcode mr-1"}),t._v(" "+t._s(t.$t("actions.qrcode"))+" ")])],1),e("b-button",{staticClass:"float-right mr-2",attrs:{variant:"success"},on:{click:t.save}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1),e("b-button",{staticClass:"float-right mr-2",attrs:{to:{name:"LetterIncome"},variant:"primary"}},[e("i",{staticClass:"fa fa-arrow-left"})])],1)])])]),e("div",{staticClass:"mt-5"},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("b-overlay",{attrs:{opacity:1,show:t.loaderPdf,rounded:"lg",variant:"white"}},[e("div",{staticStyle:{width:"270mm !important","min-height":"210mm",position:"relative"},attrs:{id:"pdfId"}},[t.imgUrl&&t.qrCodePage==t.currentPage?e("VueDragResize",{staticStyle:{"z-index":"3"},attrs:{h:110,isActive:!0,isResizable:!1,parent:!0,parentLimitation:!0,w:110,x:t.x,y:t.y},on:{dragging:t.resize,resizing:t.resize}},[e("img",{attrs:{src:"".concat(t.imgUrl?"data:image/png;base64, ".concat(t.imgUrl):n("7e77"))},on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave,mousemove:t.mousemove}})]):t._e(),t.src?e("pdf",{ref:"myPdfComponent",attrs:{page:t.currentPage,src:t.src},on:{"num-pages":function(e){t.numPages=e}}}):t._e()],1)])],1)])],1),e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex mt-4 justify-content-center"},[e("div",{staticClass:"d-flex mt-4",staticStyle:{overflow:"auto","max-width":"90%"}},t._l(t.numPages,(function(i){return e("div",{key:i+"page",staticClass:"ml-3 mb-4"},[e("div",{staticClass:"my-card-hovered-pdf",class:t.currentPage==i?"my-card-hovered-pdf-active":"",on:{click:function(e){return e.preventDefault(),t.setCurrentPage(i)}}},[e("div",{staticStyle:{width:"200px",position:"relative"}},[t.imgUrl&&t.qrCodePage==i?e("div",{staticStyle:{position:"absolute","z-index":"999"},style:{top:"".concat(t.y/5.1,"px"),left:"".concat(t.x/5.08,"px")}},[t.imgUrl?e("img",{attrs:{height:20,src:"".concat(t.imgUrl?"data:image/png;base64, ".concat(t.imgUrl):n("7e77")),width:20}}):t._e()]):t._e(),t.src?e("pdf",{attrs:{page:i,src:t.src}}):t._e()],1)])])})),0)])])],1)],1)]),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.commission.title")),scrollable:"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"success"},on:{click:t.openSignatureModalForCommission}},[e("b-overlay",{attrs:{opacity:.1,show:t.commissionModalLoader,rounded:"sm"}},[t._v(" "+t._s(t.$t("actions.continue"))+" ")])],1)]},proxy:!0}]),model:{value:t.commissionsModal,callback:function(e){t.commissionsModal=e},expression:"commissionsModal"}},[e("p",[e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{"custom-label":t.customLabelCommissionTypes,label:t.$t("submodules.commission.special_commission_type.title"),"max-height":600,options:t.commissionTypes.map((function(t){return t.id})),"show-labels":!1,"label-on-top":"","open-direction":"bottom",placeholder:"",rules:"required"},model:{value:t.commissionTypeId,callback:function(e){t.commissionTypeId=e},expression:"commissionTypeId"}})],1),"SEND_SIGN"===this.currentDoc.status?e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{"custom-label":t.customLabelCommissionManagementTypes,label:t.$t("column.management"),"max-height":600,options:t.commissionManagementList.map((function(t){return t.id})),"show-labels":!1,"label-on-top":"","open-direction":"bottom",placeholder:"",rules:"required"},model:{value:t.commissionManagementId,callback:function(e){t.commissionManagementId=e},expression:"commissionManagementId"}}):t._e(),e("b-form-textarea",{staticClass:"mt-3",attrs:{placeholder:t.$t("submodules.doc.summary"),rows:"5"},model:{value:t.commissionComment,callback:function(e){t.commissionComment=e},expression:"commissionComment"}})],1),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.commission.title")),scrollable:"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"success"},on:{click:t.openSignatureModalForCommissionManagement}},[e("b-overlay",{attrs:{opacity:.1,show:t.commissionModalLoader,rounded:"sm"}},[t._v(" "+t._s(t.$t("actions.continue"))+" ")])],1)]},proxy:!0}]),model:{value:t.commissionManagementModal,callback:function(e){t.commissionManagementModal=e},expression:"commissionManagementModal"}},[e("BaseMultiselectWithValidation",{staticClass:"required mt-3",attrs:{"custom-label":t.customLabelCommissionManagementTypes,label:t.$t("column.director"),"max-height":600,options:t.commissionManagementList.map((function(t){return t.id})),"show-labels":!1,"label-on-top":"","open-direction":"bottom",placeholder:"",rules:"required"},model:{value:t.commissionManagementId,callback:function(e){t.commissionManagementId=e},expression:"commissionManagementId"}}),e("b-form-textarea",{staticClass:"mt-3",attrs:{placeholder:t.$t("submodules.doc.summary"),rows:"5"},model:{value:t.commissionManagementComment,callback:function(e){t.commissionManagementComment=e},expression:"commissionManagementComment"}})],1),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.commission.sign_decision")),scrollable:"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"success"},on:{click:t.openSignatureModalForCommissionForComment}},[e("b-overlay",{attrs:{opacity:.1,show:t.commissionModalLoader,rounded:"sm"}},[t._v(" "+t._s(t.$t("actions.continue"))+" ")])],1)]},proxy:!0}]),model:{value:t.commissionsModalForComment,callback:function(e){t.commissionsModalForComment=e},expression:"commissionsModalForComment"}},[e("div",[t._v(" "+t._s(t.$t("submodules.doc.summary"))+" ")]),e("b-form-textarea",{staticClass:"mt-3",attrs:{placeholder:t.$t("submodules.doc.summary"),rows:"5"},model:{value:t.commentForCommission,callback:function(e){t.commentForCommission=e},expression:"commentForCommission"}})],1),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.reports.make_sign")),"hide-footer":"",scrollable:"",size:"lg"},model:{value:t.signatureModal,callback:function(e){t.signatureModal=e},expression:"signatureModal"}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderSign,rounded:"sm"}},[e("SignKeys",{attrs:{dataToSign:t.currentDoc},on:{sign:t.signSuccess}})],1)],1),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.reports.make_sign")),"hide-footer":"",scrollable:"",size:"lg"},model:{value:t.compromiseDecisionToAcceptRejectModal,callback:function(e){t.compromiseDecisionToAcceptRejectModal=e},expression:"compromiseDecisionToAcceptRejectModal"}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderSign,rounded:"sm"}},[e("b-row",[e("b-col",{attrs:{cols:"6"}},[t.computedMakeSignedCompromiseDecisionToReject?e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{"custom-label":t.customLabelEmployeeList,label:t.$t("column.employee"),"max-height":600,options:t.employee_list.map((function(t){return t.id})),"show-labels":!1,"label-on-top":"","open-direction":"bottom",placeholder:"",rules:"required"},on:{"search-change":t.fetchEmployeeList},model:{value:t.employee_id,callback:function(e){t.employee_id=e},expression:"employee_id"}}):t._e()],1),e("b-col",{attrs:{cols:t.computedMakeSignedCompromiseDecisionToReject?6:12}},[t._v(" "+t._s(t.$t("submodules.doc.summary"))+" "),e("b-form-textarea",{attrs:{placeholder:t.$t("submodules.doc.summary"),rows:"5"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1),e("SignKeys",{directives:[{name:"show",rawName:"v-show",value:t.computedMakeSignedCompromiseDecisionToAccept||t.employee_id,expression:"computedMakeSignedCompromiseDecisionToAccept || employee_id"}],attrs:{dataToSign:t.currentDoc},on:{sign:t.signSuccess}})],1)],1)],1)},o=[],r=n("5530"),s=n("c7eb"),a=n("1da1"),c=(n("7db0"),n("d3b7"),n("14d9"),n("99af"),n("6275")),u=n("858e"),l=n("93c1"),m=n("03f4"),d=n("f574"),h=n("3b58"),p=n.n(h),f={data:function(){return{commissionTypeId:null,commissionComment:"",commentForCommission:"",commissionModalLoader:!1,commissionTypes:[],commissionsModal:!1,commissionsModalForComment:!1,commissionManagementId:!1,commissionManagementList:[],commissionManagementComment:"",commissionManagementModal:!1,currentPage:1,pageCount:0,src:null,imgUrl:null,width:110,height:110,x:200,y:300,numPages:void 0,pageYOffset:0,loaderQrCode:!1,qrCodePage:null,loaderPdf:!1,currentDoc:{},signatureModal:!1,compromiseDecisionToAcceptRejectModal:!1,employee_id:null,comment:null,employee_list:[],deleteQrPosition:!1,loaderSign:!1}},name:"Signature",components:{VueDragResize:p.a,SignKeys:d["a"],pdf:u["a"]},created:function(){this.getByIdLetter(),document.addEventListener("keyup",this.keyUpEvents)},methods:{openSignatureModalForCommissionForComment:function(){this.signatureModal=!0},openSignatureModalForCommission:function(){this.commissionTypeId?this.signatureModal=!0:this.$toast(this.$t("messages.fill_required_fields"),{type:"error"})},openSignatureModalForCommissionManagement:function(){this.commissionManagementId?this.signatureModal=!0:this.$toast(this.$t("messages.fill_required_fields"),{type:"error"})},customLabelCommissionTypes:function(t){var e=this.commissionTypes.find((function(e){return e.id==t}));return e?"".concat(this.getName({nameRu:e.nameRu,nameLt:e.nameLt,nameUz:e.nameUz})):""},customLabelCommissionManagementTypes:function(t){var e=this.commissionManagementList.find((function(e){return e.id===t}));return e?e.fullName:""},convertToPdf:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,i){var o={url:"".concat(t.url),outputtype:".pdf",forSign:e,key:t.key};l["a"].convertToPdfByApi(o).then((function(t){t.data.uploadPath?n(t.data.uploadPath):n(!1)})).catch((function(t){i(t)}))}))},mouseEnter:function(){this.deleteQrPosition=!0},mouseLeave:function(){this.deleteQrPosition=!1},mousemove:function(){this.deleteQrPosition=!0},signSuccess:function(t){var e=this;return Object(a["a"])(Object(s["a"])().mark((function n(){var i;return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.loaderSign=!0,i={signedContent:t.content,inn:t.inn,pnfl:t.pnfl},n.t0=e.currentDoc.status,n.next="SEND_SIGN"===n.t0?5:12;break;case 5:if("NOT_BELONG"!==e.currentDoc.projectType||"LETTER"!==e.currentDoc.letterType){n.next=10;break}return n.next=8,l["a"].onlyDocSignFORNotBelong(i,e.$route.params.id2,e.x,e.y,e.currentPage-1).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/letter/income");case 2:case"end":return t.stop()}}),t)})))).catch((function(t){e.catchErr(t)})).finally((function(){e.loaderSign=!1}));case 8:n.next=11;break;case 10:"FROM_DXA"===e.currentDoc.projectType&&"DECISION"===e.currentDoc.letterType?l["a"].signDecision(i,e.$route.params.id2,e.x,e.y,e.currentPage-1,e.commentForCommission).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).finally((function(){e.loaderSign=!1})):l["a"].makeSignedNewWithHeadOfDepartment(i,e.$route.params.id2,e.x,e.y,e.currentPage-1,e.commissionTypeId,e.commissionComment,e.commissionManagementId).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).finally((function(){e.loaderSign=!1}));case 11:return n.abrupt("break",46);case 12:if(!e.computedMakeSignedCompromiseDecisionToAccept){n.next=16;break}l["a"].makeSignedBeforeCommission(i,e.$route.params.id2,e.comment,e.x,e.y,e.currentPage-1).then((function(){e.employee_id=null,e.comment=null,e.$router.push({name:"CommissionProjects"})})),n.next=45;break;case 16:if(!e.computedMakeSignedCompromiseDecisionToReject){n.next=20;break}l["a"].onlyDocMakeSignedToReject(i,e.$route.params.id2,e.employee_id,e.comment,e.x,e.y,e.currentPage-1).then((function(){e.employee_id=null,e.comment=null,e.$router.push({name:"LetterIncome"})})),n.next=45;break;case 20:if("FROM_DXA"!==e.currentDoc.projectType||!e.currentDoc.passedToCommission){n.next=25;break}return n.next=23,l["a"].onlyDocSign(i,e.$route.params.id2,e.x,e.y,e.currentPage-1).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentDoc.isRejected){t.next=5;break}return t.next=3,l["a"].resultApplicationForDXARejected({decision_text:e.commentForCommission},e.$route.params.id).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){e.catchErr(t)}));case 3:t.next=7;break;case 5:return t.next=7,l["a"].resultApplicationForDXA({decision_text:e.commentForCommission},e.$route.params.id).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){e.catchErr(t)}));case 7:case"end":return t.stop()}}),t)})))).catch((function(t){})).finally((function(){e.loaderSign=!1}));case 23:n.next=45;break;case 25:if("NOT_BELONG"!==e.currentDoc.projectType||"LETTER"!==e.currentDoc.letterType){n.next=30;break}return n.next=28,l["a"].onlyDocSignFORNotBelong(i,e.$route.params.id2,e.x,e.y,e.currentPage-1).catch((function(t){e.catchErr(t)})).finally((function(){e.loaderSign=!1}));case 28:n.next=45;break;case 30:if("PROTOCOL"!==e.currentDoc.letterType){n.next=34;break}l["a"].onlyDocSign(i,e.$route.params.id2,e.x,e.y,e.currentPage-1).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){})).finally((function(){e.loaderSign=!1})),n.next=45;break;case 34:if("LETTER"!==e.currentDoc.letterType){n.next=39;break}return n.next=37,l["a"].onlyDocSignFORNotBelong(i,e.$route.params.id2,e.x,e.y,e.currentPage-1).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].onlyDocSignNotBelong(i,e.$route.params.id).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){e.catchErr(t)}));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){})).finally((function(){e.loaderSign=!1}));case 37:n.next=45;break;case 39:if(-1===["LETTER_NOT_COMPLETED","LETTER_NOT_BELONG","LETTER_REGION"].indexOf(e.currentDoc.letterType)){n.next=44;break}return n.next=42,l["a"].onlyDocSignForToReturn(i,e.$route.params.id2,e.x,e.y,e.currentPage-1).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){})).finally((function(){e.loaderSign=!1}));case 42:n.next=45;break;case 44:l["a"].signDoc(i,e.$route.params.id2,e.x,e.y,e.currentPage-1,e.commissionTypeId,e.commissionComment).then(Object(a["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"LetterIncome"}),Object(c["w"])(e.$t("successDocSigned"));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){})).finally((function(){e.loaderSign=!1}));case 45:return n.abrupt("break",46);case 46:case"end":return n.stop()}}),n)})))()},getByIdLetter:function(){var t=this;l["a"].getByIdLetter(this.$route.params.id).then((function(e){t.currentDoc=e.data,console.log(t.currentDoc),t.loaderPdf=!0,"pdf"!==t.currentDoc.fileType?t.convertToPdf(e.data).then((function(n){n?(t.$nextTick((function(){t.src=u["a"].createLoadingTask("".concat(t.baseUrl,"/").concat(n))})),t.loaderPdf=!1):setTimeout((function(){t.convertToPdf(e.data).then((function(e){t.$nextTick((function(){t.src=u["a"].createLoadingTask("".concat(t.baseUrl,"/").concat(e))})),t.loaderPdf=!1})).catch((function(e){t.loaderPdf=!1}))}),4e3)})):(t.$nextTick((function(){t.src=u["a"].createLoadingTask("".concat(t.baseUrl,"/").concat(t.currentDoc.url))})),t.loaderPdf=!1)})).catch((function(t){}))},keyUpEvents:function(t){46==t.keyCode&&this.currentPage==this.qrCodePage&&this.deleteQrPosition?(this.imgUrl=null,this.qrCodePage=null,this.deleteQrPosition=!1):39==t.keyCode&&this.currentPage!=this.numPages&&this.src?this.currentPage++:37==t.keyCode&&this.currentPage>1&&this.src&&this.currentPage--},setCurrentPage:function(t){this.currentPage=t},resize:function(t){this.width=t.width,this.height=t.height,this.y=t.top,this.x=t.left},getPdf:function(){var t=this;return new Promise((function(e,n){t.convertToPdf(),l["a"].getDocPdf(t.$route.params.id).then((function(n){var i=n.data;t.$nextTick((function(){var e=u["a"].createLoadingTask("data:application/pdf;base64, ".concat(i));t.src=e})),e(n.data)})).catch((function(t){n(t)})).finally((function(){setTimeout((function(){t.loaderPdf=!1}),500)}))}))},signData:function(){var t=this;this.src?this.qrCodePage&&this.imgUrl?Object(c["v"])(this.$t("qrcodeWaring")):(this.loaderQrCode=!0,l["a"].letterQRCODE(this.$route.params.id).then((function(e){e.data&&(t.qrCodePage=t.currentPage,t.imgUrl=e.data)})).catch((function(t){})).finally((function(){t.loaderQrCode=!1}))):Object(c["v"])(this.$t("docNotUploaded"))},save:function(){var t=this;if(null!=this.qrCodePage&&this.imgUrl&&this.src)if("PROTOCOL"===this.currentDoc.letterType||"LETTER"===this.currentDoc.letterType)this.signatureModal=!0;else if(this.$route.query.type)switch(this.$route.query.type){case"compromise-decision-to-reject":Object(c["g"])(this.$t("submodules.reports.make_sign")).then((function(e){e.value&&(t.compromiseDecisionToAcceptRejectModal=!0)}));break;case"compromise-decision-to-accept":Object(c["g"])(this.$t("submodules.reports.make_sign")).then((function(e){e.value&&(t.compromiseDecisionToAcceptRejectModal=!0)}));break}else switch(this.currentDoc.status){case"SEND_SIGN":"FROM_DXA"===this.currentDoc.projectType&&this.currentDoc.passedToCommission?this.commissionsModalForComment=!0:(this.getCommissionManagementList(),m["a"].searchList("directory/commission/commission-type",this.var_default_search_payload,null,!0).then((function(e){t.commissionTypes=e.data.list})).catch((function(t){console.log(t)})),this.commissionsModal=!0);break;case"SEND":"FROM_DXA"===this.currentDoc.projectType&&this.currentDoc.passedToCommission?this.commissionsModalForComment=!0:(m["a"].searchList("directory/commission/commission-type",this.var_default_search_payload,null,!0).then((function(e){t.commissionTypes=e.data.list})).catch((function(t){console.log(t)})),this.commissionsModal=!0);break;default:-1!==["LETTER_NOT_COMPLETED","LETTER_NOT_BELONG","LETTER_REGION"].indexOf(this.currentDoc.letterType)?this.commissionsModalForComment=!0:Object(c["g"])(this.$t("docConfirm")).then((function(e){e.value&&(t.signatureModal=!0)}));break}else Object(c["v"])(this.$t("qrcodeNotFound"))},getCommissionManagementList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};m["a"].getListGet("/employee/get-all-employee/in-management",this.var_default_search_payload,null,!0).then((function(n){t.commissionManagementList=n.data,e()})).catch((function(t){console.log(t)}))},fetchEmployeeList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!e&&this.employee_list.length)return n&&n&&"function"===typeof n?n(this.employee_list):this.employee_list;m["a"].searchListWithKeyword("/employee",Object(r["a"])(Object(r["a"])({},this.var_default_search_payload),{},{keyword:e}),"inner",!0).then((function(e){if(t.employee_list=e.data.list,n&&"function"===typeof n)return n(e.data)})).catch((function(t){console.log(t)}))},customLabelEmployeeList:function(t){var e=this.employee_list.find((function(e){return e.id===t}));return e?e.fullName:""}},computed:{computedMakeSignedCompromiseDecisionToReject:function(){return"compromise-decision-to-reject"===this.$route.query.type},computedMakeSignedCompromiseDecisionToAccept:function(){return"compromise-decision-to-accept"===this.$route.query.type}}},g=f,b=(n("60de"),n("2877")),v=Object(b["a"])(g,i,o,!1,null,null,null);e["default"]=v.exports},be11:function(t,e,n){},f574:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("div",[0===t.keysList.length?e("div",[e("b-row",[e("b-col",[e("div",{staticClass:"card p-5 text-center"},[e("i",{staticClass:"bx bx-info-circle text-danger",staticStyle:{"font-size":"40px"}}),e("h4",{staticClass:"text-danger m-0",staticStyle:{"font-size":"18px"}},[t._v(" "+t._s(t.$t("auth.no_e_signatures_found"))+" ")])])])],1)],1):t._e(),t.loading?e("div",{staticClass:"text-center p-10"},[e("b-spinner",{attrs:{variant:"primary",type:"grow"}})],1):e("div",t._l(t.keysList,(function(n,i){return e("b-row",{key:i,staticClass:"mb-2"},[e("b-col",[e("b-overlay",{attrs:{opacity:.1,show:t.loadingButton&&t.currentItem.TIN==n.TIN,rounded:"sm"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-body",[e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("p",{staticClass:"m-0 text-primary",staticStyle:{"font-size":"1rem","font-weight":"700"}},[t._v(" "+t._s(n.CN)+" ")]),e("button",{staticClass:"btn btn-success btn-md float-right",staticStyle:{width:"200px"},attrs:{disabled:n.expired},on:{click:function(e){return t.openSignModal(n)}}},[e("i",{staticClass:"fa fa-check"}),t._v(" "+t._s(t.$t("actions.selectKey"))+" ")])]),e("br"),e("div",{staticClass:"d-flex mt-2 align-items-center justify-content-start"},[e("div",[e("p",{staticClass:"m-0 text-muted font-weight-bold",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("login.inn"))+" ")]),e("p",{staticClass:"m-0 text-dark"},[t._v(t._s(n.TIN))])]),e("div",{staticClass:"pl-5 ml-3"},[e("p",{staticClass:"m-0 text-muted font-weight-bold text",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("login.numberLicence"))+" ")]),e("p",{staticClass:"m-0 text-dark"},[t._v(t._s(n.serialNumber))])]),e("div",{staticClass:"pl-5 ml-3"},[e("p",{staticClass:"m-0 text-muted font-weight-bold text",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("login.srokLicence"))+" ")]),e("p",{staticClass:"m-0 text-dark"},[t._v(" "+t._s(t.getDateFormat(n.validFrom))+" - "+t._s(t.getDateFormat(n.validTo))+" ")])])])])],1)],1)],1)],1)})),1)])])],1),e("b-modal",{attrs:{"no-close-on-backdrop":!0,"hide-header":!0,"ok-title":t.$t("actions.yes"),"cancel-title":t.$t("actions.no")},on:{close:function(e){return t.hideModal("signModal")},cancel:function(e){return t.hideModal("signModal")},ok:t.signByEimzo},model:{value:t.signModal,callback:function(e){t.signModal=e},expression:"signModal"}},[e("h4",[t._v(t._s(t.modalTitle))]),t.loadingButton?e("div",{staticClass:"text-center p-10"},[e("b-spinner",{attrs:{variant:"primary",type:"grow"}})],1):t._e()])],1)},o=[],r=n("c7eb"),s=n("1da1"),a=(n("e9c4"),n("d3b7"),n("25f0"),n("14d9"),n("1f92")),c=3,u=37,l="Ошибка соединения с E-IMZO. Возможно у вас не установлен модуль E-IMZO или Браузер E-IMZO.",m="Браузер не поддерживает технологию WebSocket. Установите последнюю версию браузера.",d='ВНИМАНИЕ !!! Установите новую версию приложения E-IMZO или Браузера E-IMZO.<br /><a href="https://e-imzo.uz/main/downloads/" role="button">Скачать ПО E-IMZO</a>',h="Пароль неверный.",p={props:["dataToSign"],data:function(){return{loading:!1,keysList:[],currentItem:null,modalTitle:null,signModal:!1,loadingButton:!1}},name:"LOGINESP",created:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.appLoad();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},methods:{hideModal:function(t){this.$data[t]=!1},wsError:function(t){var e=this;return Object(s["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t?e.uiShowMessage("errorCAPIWS : "+t):e.uiShowMessage("errorBrowserWS");case 1:case"end":return n.stop()}}),n)})))()},signByEimzo:function(t){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){var n,i,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadingButton=!0,n=e,i=JSON.stringify(e.dataToSign),o=new Promise((function(t,e){EIMZOClient.loadKey(n.currentItem,(function(o){EIMZOClient.createPkcs7(o,i,null,(function(e){t(e)}),(function(t,i){if(e("error"),n.loadingButton=!1,i)-1!=i.indexOf("BadPaddingException")?n.showMsgError(h):n.showMsgError(i);else{var o=document.getElementById("keyId");o&&(o.innerHTML=""),n.showMsgError(m)}t&&n.wsError(t)}))}),(function(t,i){e("error"),n.loadingButton=!1,i?-1!=i.indexOf("BadPaddingException")?n.showMsgError(h):n.showMsgError(i):n.$showMsgErro(m),t&&n.wsError(t)}))})),o.then((function(t){n.$emit("sign",{inn:n.currentItem.TIN,content:t,pnfl:n.currentItem.PINFL})}),(function(t){console.log(t),n.showMsgError("Server error...")})).finally((function(){n.signModal=!1,n.loadingButton=!1}));case 5:case"end":return t.stop()}}),t)})))()},openSignModal:function(t){var e=this;return Object(s["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.currentItem=t,e.modalTitle=t.serialNumber+" - "+t.CN,e.signByEimzo();case 3:case"end":return n.stop()}}),n)})))()},getDateFormat:function(t){var e=new Date(t),n=e.getMonth()+1;return e.getDate().toString()+"."+(n<=9?"0"+n:n).toString()+"."+e.getFullYear().toString()},uiCreateItem:function(t,e){var n=this,i=new Date;e.expired=dates.compare(i,e.validTo)>0;var o=document.createElement("option");return o.value=t,o.text=e.CN,e.expired&&(o.style.color="gray",o.text=o.text+" (срок истек)"),n.keysList.push(e),o.setAttribute("vo",JSON.stringify(e)),o.setAttribute("id",t),o},uiLoadKeys:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,EIMZOClient.listAllUserKeys((function(t,e){var n="itm-"+t.serialNumber+"-"+e;return n}),(function(t,e){return n.uiCreateItem(t,e)}),(function(t,e){}),(function(t,e){n.showMsgError(l)}));case 2:case"end":return e.stop()}}),e)})))()},appLoad:function(){var t=this;t.loading=!0,EIMZOClient.API_KEYS=a.api_keys,EIMZOClient.checkVersion((function(e,n){var i=100*c+u,o=100*parseInt(e)+parseInt(n);o<i?(t.loading=!1,t.showMsgError(d)):EIMZOClient.installApiKeys((function(){t.loading=!1,t.uiLoadKeys()}),(function(e,n){t.loading=!1,n?t.showMsgError(n):t.wsError(e)}))}),(function(e,n){t.loading=!1,n?t.showMsgError(n):t.showMsgError(e)}))},close:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$emit("close");case 2:case"end":return e.stop()}}),e)})))()}}},f=p,g=n("2877"),b=Object(g["a"])(f,i,o,!1,null,null,null);e["a"]=b.exports}}]);