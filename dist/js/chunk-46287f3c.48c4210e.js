(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46287f3c","chunk-62b6a48c"],{2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("e330"),o=n("5a34"),i=n("1d80"),c=n("577e"),s=n("ab13"),d=a("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~d(c(i(this)),c(o(e)),arguments.length>1?arguments[1]:void 0)}})},"3d4b":function(e,t,n){},"67a6":function(e,t,n){"use strict";n("3d4b")},"7db0":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").find,o=n("44d2"),i="find",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},8468:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d9e2");function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}},"887a":function(e,t,n){"use strict";n("99af"),n("b0c0");var r=n("f2db"),a=(n("7476"),{getTemplateByCategoryId:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r["a"].post("templates/get-by-category/".concat(e||"","?keyword=").concat(t||""),n,a)},getTemplateListByCategoryId:function(e,t,n,a){return r["a"].post("templates/sample/list-search?keyword=".concat(n||"","&categoryId=").concat(e||"","&personType=").concat(t||""),a)},getApplicationFromDxaById:function(e){return r["a"].get("application-dxa/get-all-information?id=".concat(e||""))},getApplicationInfoBystepId:function(e,t){return r["a"].get("application-dxa/get-info/".concat(e,"/").concat(t))},getVisaAllInfoById:function(e){return r["a"].get("application-dxa/get-all-header-info?id=".concat(e||""))},getApplicationFilesBystepId:function(e,t,n){return r["a"].get("application-dxa/get-file-info/".concat(parseInt(t),"?application_id=").concat(e,"&applicationDXAId=").concat(n))},getApplicationFilesDownloadById:function(e,t){return r["a"].customRequest({url:"application-dxa/upload-file/".concat(parseInt(t),"?application_id=").concat(e),method:"GET",responseType:"blob"})},getApplicationTree:function(e){return r["a"].get("before-commission/application/get-tree/".concat(e))},petrolPricesByDate:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r["a"].post("docReport/petrol-report?fromDate=".concat(e||"","&toDate=").concat(t||"","&regionId=").concat(n||""),{},a)},testTelegramBotApi:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("docReport/petrol-data-for-telegram-bot?docTableId=".concat(e,"&petrolId=").concat(t),{},n)},fetchDateTypesByParentId:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("dateType/listByParentId/".concat(e),t,n)},getContractorBankAccounts:function(e){return r["a"].get("contractor/get-contractor-banks/".concat(e))},getContractorFounders:function(e){return r["a"].get("contractor/get-contractor-founders/".concat(e))},getContractorDirector:function(e){return r["a"].get("contractor/get-contractor-director/".concat(e))},getContractorAccounter:function(e){return r["a"].get("contractor/get-contractor-accountant/".concat(e))},approveReestrDoc:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("reestr/contractor-reestr-documents/reestr-document-confirmation/".concat(e),t)},updateReestr:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n?r["a"].post("".concat(e,"/update/").concat(n),t,a):r["a"].post("".concat(e,"/update/").concat(t.id),t,a)},getContractorsByProdectOrServiceTypeIdAndProductOrServiceId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-by-is-republic/".concat(e),{},t)},searchReestrContractorListByIndividualsGroupId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic-for-group-of-individuals/".concat(e),{},t)},searchReestrContractorListByParentId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic/".concat(e),{},t)},searchReestrHistoryListByContractorId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(e),{},t)},searchReestrListByRepublic:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(e),{},t)},getReestrByRepublic:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type-by-is-republic/by-region/".concat(e),{},t)},getReestrByRegionId:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type/by-region/".concat(t,"?regionId=").concat(e),{},n)},getProductOrServicesByTypeId:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object.assign({},t);return a.page=a.page-1,r["a"].post("directory/product-or-services/get/by-type-id/".concat(e,"?keyword=").concat(t.keyword?t.keyword:""),a,n)},savePermittedDepsByUserId:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("department/save/permitted/by-user-id/for-dep-perm-control/".concat(e),t,n)},fetchControlPermittedDepsByUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("department/get/checked/permitted/by-user-id/for-dep-perm-control/".concat(e),t)},getAdConstructionsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("contractor-advertising-construction/get-all/for-map?passportNumber=".concat(e.passportNumber,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds,"&designTypeIds=").concat(e.designTypeIds),null,t)},getAdConstructionsForMapEAuction:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("contractor-advertising-construction/get-all/for-map/e-auction?passportNumber=".concat(e.passportNumber,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds,"&designTypeIds=").concat(e.designTypeIds),null,t)},getPetrolStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("petrol/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getSugarStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("sugar/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getBakeryStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("bakery/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getFlourStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("flour/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getAdDesignTypesByActiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("directory/advertisement-design-type/get-all-by-active-status/",e)},getVolumesByActiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("directory/advertisement-design-type/get-all-by-active-status/",e)},getVolumeTypesByActiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("directory/advertisement-volume-types/get-all-by-active-status/",e)},getPrivilegeCoefficientValueByAdDesignTypeId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("directory/advertisement-design-type_privilege_coefficients/get-coefficient-by-design-type-id?designTypeId=".concat(e),t)},getCoefficientValueByZoneAndDistrictIds:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].get("directory/coefficients/get-by-district-and-zone/".concat(e,"/").concat(t),n)},getMinCollectionValueByRegionAndDistrictIds:function(e,t,n,a,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r["a"].get("directory/minimum-collections/get-by-region?regionId=".concat(e,"&districtId=").concat(t,"&locationTypeId=").concat(n,"&designTypeId=").concat(a,"&volumeTypeId=").concat(o||""),i)},getAdZonesByDistrictId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("directory/coefficients/get-zones/by-district-id/".concat(e),t)},getGroupOfRegion:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("directory/group-regions/get-group/by-region-id/".concat(e),t)},getAdVolumeTypesByAdLocationTypeId:function(e,t){return r["a"].get("directory/advertisement-volume-types/get-all/".concat(e),t)},getAdDesignTypesByAdLocationTypeId:function(e,t,n){return r["a"].get("directory/advertisement-design-type/get-design-types/".concat(t,"/").concat(e),n)},updateUserPasswordByAdmin:function(e,t){return r["a"].put("user/update-password/no-checking",e,t)},updateUserPassword:function(e,t){return r["a"].put("user/update-password",e,t)},updateRolePermissionsById:function(e,t){return r["a"].post("role/add-permissions/".concat(e.id),e.permissionIds,t)},permissionsListByRoleId:function(e,t){return r["a"].get("permission/list/by-role-id/".concat(e),t)},updateDepartment:function(e){return r["a"].put("department/update/".concat(e.departmentDto.id),e)},validateInnFromApi:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("contractor/check-inn-is-valid?inn=".concat(e),t)},checkAdPassportNumber:function(e){return r["a"].get("contractor-advertising-construction/check-passport-number?passportNumber=".concat(e))},checkAdPassportNumberByRegion:function(e,t){return r["a"].get("contractor-advertising-construction/check-passport-number/by-region?passportNumber=".concat(e,"&regionId=").concat(t))},findContractorByInn:function(e){return r["a"].get("department/check-inn?inn=".concat(e))},getIndividualInfoByInn:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("employee/get-by-inn-from-soliq/".concat(e),t)},getSingleContractorByInn:function(e){return r["a"].get("contractor/get-by-inn/".concat(e))},getContractorInfoByInnForCreate:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-create?inn=".concat(e,"&pinfl=").concat(t,"&isYur=").concat(Boolean(n)),a)},getContractorInfoByInnForUpdate:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-update?inn=".concat(e,"&pinfl=").concat(t,"&isYur=").concat(Boolean(n)),a)},getCuratorsForDepartment:function(){return r["a"].get("department/get-department/curators")},getGeoLocationsByParentId:function(e){return r["a"].get("geographical-region/list/by-parent-id/".concat(e))},getGeoLocationsByMultipleParentIds:function(e){return r["a"].get("geographical-region/get-all-district/by-region-ids?regionIds=".concat(e))},fetchRegions:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("geographical-region/get-all-region",e)},fetchRegions14:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("geographical-region/get-region-tree?keyword=".concat(e),t)},fetchRegionsForAdvertisementByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-advertisement")},fetchRegionsForPetrolByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-petrol")},fetchRegionsForSugarByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-sugar")},fetchRegionsForBakeryByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-bakery")},fetchRegionsForFlourByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-flour")},fetchRegionsForContractorReestrByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-reestr")},searchEmployeesByDep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object.assign({},e);return a.page-=1,r["a"].post("employee/search/by-depId/".concat(t),a,n)},searchEmployeesByDepID:function(e){var t=Object.assign({},e);return t.page-=1,r["a"].post("employee/getByYurDepForSign",t)},searchEmployeesWithoutDep:function(e){var t=Object.assign({},e);return t.page-=1,r["a"].post("employee/search/without/dep",t)},createDepWithLegalInfo:function(e){return r["a"].post("department/finish",e)},getRefByCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("reference/get-code/".concat(e),t)},getRefByCodeNew:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("reference/get-reference-by-code/".concat(e),t)},getEmployeeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("employee/get-all-for-create-user/by-keyword?keyword=".concat(e),t)},getCountNotifications:function(){return r["a"].get("report/advertisement-notifications/unread-messages")},getNotificationList:function(e){var t=Object.assign({},e);return t.page-=1,r["a"].post("notification/list-search?search=".concat(t.searchTitle))},acceptById:function(e){return r["a"].post("report/advertisement-notifications/accepted-notification/".concat(e))},rejectById:function(e,t,n){var a=Object.assign({},t);return r["a"].post("report/advertisement-notifications/rejected-notification/".concat(e),a,n)},getAllReceivers:function(e,t){return r["a"].post("report/advertisement-notifications/outgoing-receivers/".concat(e),t)},getAllReceiversForReport:function(e,t){return r["a"].post("report/general-inventory-reports/outgoing-receivers/".concat(e),t)},acceptReportById:function(e){return r["a"].post("report/general-inventory-reports/accepted-report/".concat(e))},rejectReportById:function(e){return r["a"].post("report/general-inventory-reports/rejected-report/".concat(e))},makeReadNotification:function(e){return r["a"].put("notification/make-read-notification/".concat(e))},getCounts:function(){return r["a"].get("report/dashboard/get-count")},getCountsByRegion:function(){return r["a"].get("report/dashboard/get-all-counts-by-region")},sendMessageToUser:function(e){return r["a"].post("murojaat/send-message",e)}});t["a"]=a},e87a:function(e,t,n){"use strict";n.r(t);var r=n("8468"),a=(n("d81d"),n("99af"),n("fb6a"),n("a434"),function(){var e=this,t=e._self._c;return t("base-create-or-update-wrapper",{attrs:{"has-save-suspend":"","custom-title":e.$t("actions.add_to_reestr")},on:{save:e.save}},[t("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(n){return Object(r["a"])(n),[t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:e.$t("column.order_number"),placeholder:e.$t("column.order_number")},model:{value:e.editingItem.orderNumber,callback:function(t){e.$set(e.editingItem,"orderNumber",t)},expression:"editingItem.orderNumber"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseDatePickerWithValidation",{staticClass:"required",attrs:{rules:"required",label:e.$t("column.added_date_to_reestr"),placeholder:e.$t("column.added_date_to_reestr"),"disable-after":"",lang:"ru"},model:{value:e.editingItem.reestrAcceptedDate,callback:function(t){e.$set(e.editingItem,"reestrAcceptedDate",t)},expression:"editingItem.reestrAcceptedDate"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required","has-next-page":e.hasNextPageContractors,searchable:!0,"allow-empty":!1,"preserve-search":"","clear-on-select":!1,loading:e.isLoadingContractors,"internal-search":!1,options:e.contractors.map((function(e){return e.id})),label:e.$t("column.business_entity"),placeholder:"","custom-label":e.customLabelContractor,"open-direction":"bottom","max-height":600,"show-labels":!1,"with-create-addition":""},on:{reachedEndOfList:e.contractorReachedEndOfList,"search-change":e.debounceSearchContractors},scopedSlots:e._u([{key:"append-slot",fn:function(){return[t("b-button",{staticStyle:{padding:"2.5px 10px","font-size":"1.2rem"},attrs:{variant:"outline-primary"},on:{click:function(t){e.contractorCreateModal=!0}}},[t("i",{staticClass:"mdi mdi-plus-circle"})])]},proxy:!0}],null,!0),model:{value:e.editingItem.contractorId,callback:function(t){e.$set(e.editingItem,"contractorId",t)},expression:"editingItem.contractorId"}}),t("BaseModalForCreate",{attrs:{"without-list-search":"","use-component-save-fn":"",mainApiUrl:"contractor",createFormName:"CreateFormContractor"},on:{"new-ref-created-without-list-search":e.newRefCreated},model:{value:e.contractorCreateModal,callback:function(t){e.contractorCreateModal=t},expression:"contractorCreateModal"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",options:e.productTypes.map((function(e){return e.id})),label:e.$t("column.product_or_service_type"),placeholder:"","custom-label":e.customLabelProductType,"open-direction":"bottom","max-height":600,"show-labels":!1},on:{select:e.productTypeSelected},model:{value:e.editingItem.directoryProductOrServiceTypeId,callback:function(t){e.$set(e.editingItem,"directoryProductOrServiceTypeId",t)},expression:"editingItem.directoryProductOrServiceTypeId"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("b-row",[t("b-col",{attrs:{cols:e.$can("republic","for reestr")?8:12}},[e.editingItem.isRepublic&&!e.editingItem.contractorId?t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",disabled:"","custom-styles":e.$can("republic","for reestr")?"grid-template-columns: 38% 62%;":"",options:e.regions.map((function(e){return e.regionId})),value:null,label:e.$t("column.region"),placeholder:e.$t("messages.please_select_business_entity"),"custom-label":e.customLabelRegion,"open-direction":"bottom","max-height":600,"show-labels":!1}}):e.editingItem.isRepublic&&!e.contractorHasParent?t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",multiple:"","hide-selected":!0,"close-on-select":!1,"custom-styles":e.$can("republic","for reestr")?"grid-template-columns: 38% 62%;":"",options:e.regions.map((function(e){return e.regionId})),label:e.$t("column.region"),placeholder:"","custom-label":e.customLabelRegion,"open-direction":"bottom","max-height":600,"show-labels":!1},on:{select:e.regionSelected},model:{value:e.editingItem.regionIds,callback:function(t){e.$set(e.editingItem,"regionIds",t)},expression:"editingItem.regionIds"}}):t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required","custom-styles":e.$can("republic","for reestr")?"grid-template-columns: 38% 62%;":"",options:e.regions.map((function(e){return e.regionId})),label:e.$t("column.region"),placeholder:"","custom-label":e.customLabelRegion,"open-direction":"bottom","max-height":600,"show-labels":!1},on:{select:e.regionSelected},model:{value:e.editingItem.regionId,callback:function(t){e.$set(e.editingItem,"regionId",t)},expression:"editingItem.regionId"}})],1),e.$can("republic","for reestr")?t("b-col",{attrs:{cols:"4"}},[t("div",{staticClass:"form-check form-check-right"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.editingItem.isRepublic,expression:"editingItem.isRepublic"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"formCheckIsLegal"},domProps:{checked:Array.isArray(e.editingItem.isRepublic)?e._i(e.editingItem.isRepublic,null)>-1:e.editingItem.isRepublic},on:{change:function(t){var n=e.editingItem.isRepublic,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);r.checked?i<0&&e.$set(e.editingItem,"isRepublic",n.concat([o])):i>-1&&e.$set(e.editingItem,"isRepublic",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.editingItem,"isRepublic",a)}}}),t("label",{staticClass:"form-check-label font-weight-normal",attrs:{for:"formCheckIsLegal"}},[e._v(" "+e._s(e.$t("column.is_republic"))+" ")])])]):e._e()],1)],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",options:e.products.map((function(e){return e.id})),label:e.$t("submodules.product_or_services.title"),placeholder:"","custom-label":e.customLabelProduct,"open-direction":"bottom","max-height":600,"show-labels":!1,"has-next-page":e.hasNextPageProductOrServices,searchable:!0,"allow-empty":!1,"preserve-search":"","clear-on-select":!1,loading:e.isLoadingProductOrServices,"internal-search":!1},on:{reachedEndOfList:e.productOrServicesReachedEndOfList,"search-change":e.debounceSearchProductOrServices},model:{value:e.editingItem.directoryProductOrServiceId,callback:function(t){e.$set(e.editingItem,"directoryProductOrServiceId",t)},expression:"editingItem.directoryProductOrServiceId"}})],1)],1),e.isDominant&&e.editingItem.isRepublic&&!e.contractorHasParent?t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("b-row",[t("b-col",{attrs:{cols:"8"}},[e.editingItem.isGroup?t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required","custom-styles":"grid-template-columns: 38% 62%;",options:e.groupOfIndividuals.map((function(e){return e.id})),label:e.$t("column.group_of_individuals"),placeholder:"","custom-label":e.customLabelGroupOfIndividuals,"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:e.editingItem.groupOfIndividualsId,callback:function(t){e.$set(e.editingItem,"groupOfIndividualsId",t)},expression:"editingItem.groupOfIndividualsId"}}):e._e()],1),t("b-col",{attrs:{cols:"4"}},[t("div",{staticClass:"form-check form-check-right"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.editingItem.isGroup,expression:"editingItem.isGroup"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"formCheckIsGroup"},domProps:{checked:Array.isArray(e.editingItem.isGroup)?e._i(e.editingItem.isGroup,null)>-1:e.editingItem.isGroup},on:{change:function(t){var n=e.editingItem.isGroup,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);r.checked?i<0&&e.$set(e.editingItem,"isGroup",n.concat([o])):i>-1&&e.$set(e.editingItem,"isGroup",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.editingItem,"isGroup",a)}}}),t("label",{staticClass:"form-check-label font-weight-normal",attrs:{for:"formCheckIsGroup"}},[e._v(" "+e._s(e.$t("column.is_group"))+" ")])])])],1)],1),t("b-col",{attrs:{sm:"12",md:"6"}})],1):e._e(),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[e.editingItem.isRepublic?e._e():t("BaseMultiselectWithValidation",{attrs:{"not-required":"",multiple:"","close-on-select":!1,"hide-selected":!0,options:e.districts.map((function(e){return e.id})),label:e.$t("column.district"),"custom-label":e.customLabelDistrict,placeholder:"","open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:e.editingItem.districtIds,callback:function(t){e.$set(e.editingItem,"districtIds",t)},expression:"editingItem.districtIds"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[e.isDominant?t("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:e.okeds.map((function(e){return e.id})),label:e.$t("column.oked"),placeholder:"","custom-label":e.customLabelOked,"open-direction":"bottom","max-height":600,"show-labels":!1,"has-next-page":e.hasNextPageOked,searchable:!0,"preserve-search":"","clear-on-select":!1,loading:e.isLoadingOked,"internal-search":!1},on:{reachedEndOfList:e.okedReachedEndOfList,"search-change":e.debounceSearchOked},model:{value:e.editingItem.okedId,callback:function(t){e.$set(e.editingItem,"okedId",t)},expression:"editingItem.okedId"}}):t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required","allow-empty":!1,options:e.okeds.map((function(e){return e.id})),label:e.$t("column.oked"),placeholder:"","custom-label":e.customLabelOked,"open-direction":"bottom","max-height":600,"show-labels":!1,"has-next-page":e.hasNextPageOked,searchable:!0,"preserve-search":"","clear-on-select":!1,loading:e.isLoadingOked,"internal-search":!1},on:{reachedEndOfList:e.okedReachedEndOfList,"search-change":e.debounceSearchOked},model:{value:e.editingItem.okedId,callback:function(t){e.$set(e.editingItem,"okedId",t)},expression:"editingItem.okedId"}})],1)],1),e.isDominant?t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:e.tnveds.map((function(e){return e.id})),label:e.$t("column.tnved_code"),placeholder:"","custom-label":e.customLabelTnved,"open-direction":"bottom","max-height":600,"show-labels":!1,"has-next-page":e.hasNextPageTnved,searchable:!0,"preserve-search":"","clear-on-select":!1,loading:e.isLoadingTnved,"internal-search":!1},on:{reachedEndOfList:e.tnvedReachedEndOfList,"search-change":e.debounceSearchTnved},model:{value:e.editingItem.tnvedId,callback:function(t){e.$set(e.editingItem,"tnvedId",t)},expression:"editingItem.tnvedId"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:e.skps.map((function(e){return e.id})),label:e.$t("column.skp_code"),placeholder:"","custom-label":e.customLabelSkp,"open-direction":"bottom","max-height":600,"show-labels":!1,"has-next-page":e.hasNextPageSkp,searchable:!0,"preserve-search":"","clear-on-select":!1,loading:e.isLoadingSkp,"internal-search":!1},on:{reachedEndOfList:e.skpReachedEndOfList,"search-change":e.debounceSearchSkp},model:{value:e.editingItem.skpId,callback:function(t){e.$set(e.editingItem,"skpId",t)},expression:"editingItem.skpId"}})],1)],1):e._e(),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required|positive",label:e.$t("column.government_percentage"),placeholder:e.$t("column.government_percentage")},model:{value:e.editingItem.governmentPercentage,callback:function(t){e.$set(e.editingItem,"governmentPercentage",t)},expression:"editingItem.governmentPercentage"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",options:e.units.map((function(e){return e.id})),label:e.$t("column.unit"),placeholder:"","custom-label":e.customLabelUnit,"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:e.editingItem.unitId,callback:function(t){e.$set(e.editingItem,"unitId",t)},expression:"editingItem.unitId"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[e.isModeCreate?t("ValidationProvider",{attrs:{name:"supplementDoc",rules:"required",mode:"passive"},scopedSlots:e._u([{key:"default",fn:function(){return[t("BaseFileUploaderWithValidation",{ref:"supplementDocUploader",staticClass:"required",attrs:{"data-vv-name":"supplementDocFile","data-vv-as":"SupplementDocFile","max-files":1,"label-on-top":!1,label:e.$t("column.ilova")},model:{value:e.editingItem.supplementDocs,callback:function(t){e.$set(e.editingItem,"supplementDocs",t)},expression:"editingItem.supplementDocs"}})]},proxy:!0}],null,!0)}):e._e()],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseTextareaWithValidation",{attrs:{"not-required":"","max-rows":"8",label:e.$t("column.comment"),placeholder:e.$t("column.comment")},model:{value:e.editingItem.comment,callback:function(t){e.$set(e.editingItem,"comment",t)},expression:"editingItem.comment"}})],1)],1),e.isNatural?t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{cols:"12"}},[t("h5",{staticClass:"m-0 text-center"},[e._v(" "+e._s(e.$t("column.price_approval_basis"))+" ")]),t("hr",{staticClass:"my-2"})]),e._l(e.editingItem.priceApprovalDtos,(function(n,r){return t("b-col",{key:"price-approval-dto-".concat(r),attrs:{cols:"12"}},[t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("b-row",[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseDatePickerWithValidation",{attrs:{"not-required":"","custom-styles":"grid-template-columns: 40% 60%;",label:e.$t("column.date"),"disable-after":"",lang:"ru"},model:{value:n.priceApprovalDate,callback:function(t){e.$set(n,"priceApprovalDate",t)},expression:"el.priceApprovalDate"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseDatePickerWithValidation",{attrs:{"not-required":"","custom-styles":"grid-template-columns: 40% 60%;",label:e.$t("column.effective_date_price"),"disable-after":"",lang:"ru"},model:{value:n.priceEffectiveDate,callback:function(t){e.$set(n,"priceEffectiveDate",t)},expression:"el.priceEffectiveDate"}})],1)],1)],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("column.number")},model:{value:n.priceApprovalNumber,callback:function(t){e.$set(n,"priceApprovalNumber",t)},expression:"el.priceApprovalNumber"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[e.isModeCreate?t("ValidationProvider",{attrs:{name:"priceApprovalFiles",rules:"",mode:"passive"},scopedSlots:e._u([{key:"default",fn:function(){return[t("BaseFileUploaderWithValidation",{attrs:{"not-required":"","max-files":5,"label-on-top":!1,label:e.$t("column.file")},model:{value:n.priceApprovalFiles,callback:function(t){e.$set(n,"priceApprovalFiles",t)},expression:"el.priceApprovalFiles"}})]},proxy:!0}],null,!0)}):e._e()],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("b-row",[t("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("BaseInputWithValidation",{attrs:{rules:"positiveNotZero",label:e.$t("column.current_price_with_duty")},model:{value:n.currentPriceWithDuty,callback:function(t){e.$set(n,"currentPriceWithDuty",t)},expression:"el.currentPriceWithDuty"}})],1),t("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("BaseInputWithValidation",{attrs:{rules:"positiveNotZero",label:e.$t("column.current_price_without_duty")},model:{value:n.currentPriceWithoutDuty,callback:function(t){e.$set(n,"currentPriceWithoutDuty",t)},expression:"el.currentPriceWithoutDuty"}})],1),t("b-col",{staticClass:"mb-3",attrs:{sm:"12",md:"10"}},[t("BaseTextareaWithValidation",{attrs:{"not-required":"","custom-styles":"grid-template-columns: 30% 70%;",label:e.$t("column.additional_info")},model:{value:n.additionalInformation,callback:function(t){e.$set(n,"additionalInformation",t)},expression:"el.additionalInformation"}})],1),t("b-col",{staticClass:"d-flex align-items-start justify-content-end",attrs:{sm:"12",md:"2"}},[r==e.editingItem.priceApprovalDtos.length-1?t("b-btn",{staticClass:"mr-2",attrs:{variant:"success",size:"sm"},on:{click:e.addPriceApprovalDto}},[t("i",{staticClass:"mdi mdi-plus"})]):e._e(),e.editingItem.priceApprovalDtos.length>1?t("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.editingItem.priceApprovalDtos.splice(r,1)}}},[t("i",{staticClass:"mdi mdi-trash-can"})]):e._e()],1)],1)],1)],1),t("hr",{staticClass:"my-2"})],1)}))],2):e._e(),e.isNatural?t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{cols:"12"}},[t("h5",{staticClass:"m-0 text-center"},[e._v(" "+e._s(e.$t("column.announced_media"))+" ")]),t("hr",{staticClass:"my-2"})]),e._l(e.editingItem.announcedMediaDtos,(function(n,r){return t("b-col",{key:"announced-media-".concat(r),attrs:{cols:"12"}},[t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("column.name")},model:{value:n.announcedMediaName,callback:function(t){e.$set(n,"announcedMediaName",t)},expression:"el.announcedMediaName"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("column.link")},model:{value:n.announcedMediaLink,callback:function(t){e.$set(n,"announcedMediaLink",t)},expression:"el.announcedMediaLink"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[e.isModeCreate?t("ValidationProvider",{attrs:{name:"annuncedMediaFiles",rules:"",mode:"passive"},scopedSlots:e._u([{key:"default",fn:function(){return[t("BaseFileUploaderWithValidation",{attrs:{"not-required":"","max-files":10,"label-on-top":!1,label:e.$t("column.files")},model:{value:n.announcedMediaFiles,callback:function(t){e.$set(n,"announcedMediaFiles",t)},expression:"el.announcedMediaFiles"}})]},proxy:!0}],null,!0)}):e._e()],1),t("b-col",{attrs:{sm:"12",md:"5"}},[t("BaseDatePickerWithValidation",{attrs:{"not-required":"","custom-styles":"grid-template-columns: 30% 70%;",label:e.$t("column.date"),"disable-after":"",lang:"ru"},model:{value:n.announcedMediaDate,callback:function(t){e.$set(n,"announcedMediaDate",t)},expression:"el.announcedMediaDate"}})],1),t("b-col",{staticClass:"d-flex align-items-start justify-content-end",attrs:{sm:"12",md:"1"}},[r==e.editingItem.announcedMediaDtos.length-1?t("b-btn",{staticClass:"mr-2",attrs:{variant:"success",size:"sm"},on:{click:e.addAnnouncedMediaDto}},[t("i",{staticClass:"mdi mdi-plus"})]):e._e(),e.editingItem.announcedMediaDtos.length>1?t("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.editingItem.announcedMediaDtos.splice(r,1)}}},[t("i",{staticClass:"mdi mdi-trash-can"})]):e._e()],1)],1),t("hr",{staticClass:"my-2"})],1)}))],2):e._e(),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{cols:"12"}},[t("h5",{staticClass:"m-0 text-center"},[e._v(" "+e._s(e.$t("column.commission_applications"))+" ")]),t("hr",{staticClass:"my-2"})]),e._l(e.editingItem.commissionApplicationDtos,(function(n,r){return t("b-col",{key:"commission-application-".concat(r),attrs:{cols:"12"}},[t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseDatePickerWithValidation",{attrs:{"not-required":"",label:e.$t("column.date"),"disable-after":"",lang:"ru"},model:{value:n.commencementDate,callback:function(t){e.$set(n,"commencementDate",t)},expression:"el.commencementDate"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("column.number")},model:{value:n.commencementNumber,callback:function(t){e.$set(n,"commencementNumber",t)},expression:"el.commencementNumber"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("column.initiator")},model:{value:n.initiatorName,callback:function(t){e.$set(n,"initiatorName",t)},expression:"el.initiatorName"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("column.finishing_type")},model:{value:n.completionWorkType,callback:function(t){e.$set(n,"completionWorkType",t)},expression:"el.completionWorkType"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{rules:"positiveNotZero",label:e.$t("column.showcase_amount")},model:{value:n.instructionAmount,callback:function(t){e.$set(n,"instructionAmount",t)},expression:"el.instructionAmount"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{rules:"positiveNotZero",label:e.$t("column.remainder_amount")},model:{value:n.residueAmount,callback:function(t){e.$set(n,"residueAmount",t)},expression:"el.residueAmount"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"5"}},[t("BaseDatePickerWithValidation",{attrs:{"not-required":"",label:e.$t("column.finishing_date"),"custom-styles":"grid-template-columns: 30% 70%;","disable-after":"",lang:"ru"},model:{value:n.completionWorkDate,callback:function(t){e.$set(n,"completionWorkDate",t)},expression:"el.completionWorkDate"}})],1),t("b-col",{staticClass:"d-flex align-items-start justify-content-end",attrs:{sm:"12",md:"1"}},[r==e.editingItem.commissionApplicationDtos.length-1?t("b-btn",{staticClass:"mr-2",attrs:{variant:"success",size:"sm"},on:{click:e.addCommissionApplicationDto}},[t("i",{staticClass:"mdi mdi-plus"})]):e._e(),e.editingItem.commissionApplicationDtos.length>1?t("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.editingItem.commissionApplicationDtos.splice(r,1)}}},[t("i",{staticClass:"mdi mdi-trash-can"})]):e._e()],1)],1),t("hr",{staticClass:"my-2"})],1)}))],2)]}}])})],1)}),o=[],i=n("2909"),c=n("c7eb"),s=n("1da1"),d=(n("b0c0"),n("7db0"),n("d3b7"),n("e9c4"),n("14d9"),n("4de4"),n("159b"),n("caad"),n("2532"),n("03f4")),l=n("887a"),u="reestr/contractor-reestr-documents",p="estestveniy",m="daminiriushiy",g="reestr/info-oked",h="reestr/info-skp",b="reestr/info-tnved",v="reestr/contractor-reestr-documents/get/price-approval",I="reestr/contractor-reestr-documents/get/announced-media",y="reestr/contractor-reestr-documents/get/commission-application",k={name:"CreateOrUpdate",components:{},data:function(){return{editingItem:{},publicPath:"/",defaultCommissionApplicationDto:{},defaultAnnouncedMediaDto:{},defaultPriceApprovalDto:{},regions:[],districts:[],hasNextPageContractors:!1,hasNextPageProductOrServices:!1,contractors:[],debounce:null,isLoadingContractors:!1,isLoadingProductOrServices:!1,contractorSearchPayload:{},productOrServicesSearchPayload:{},productTypes:[],products:[],units:[],okeds:[],hasNextPageOked:!1,isLoadingOked:!1,okedSearchPayload:{},skps:[],hasNextPageSkp:!1,isLoadingSkp:!1,skpSearchPayload:{},tnveds:[],hasNextPageTnved:!1,isLoadingTnved:!1,tnvedSearchPayload:{},contractorCreateModal:!1,groupOfIndividuals:[]}},computed:{computedObserver:function(){return this.$refs.observer},isModeCreate:function(){return"CreateNaturalContractorReestr"===this.$route.name||"CreateDominantContractorReestr"===this.$route.name},isDominant:function(){return"CreateDominantContractorReestr"===this.$route.name||"UpdateDominantContractorReestr"===this.$route.name},isNatural:function(){return"CreateNaturalContractorReestr"===this.$route.name||"UpdateNaturalContractorReestr"===this.$route.name},contractorHasParent:function(){var e=this,t=this.contractors.find((function(t){return t.id==e.editingItem.contractorId}));return!!t&&t.parent}},methods:{save:function(){var e=this;this.computedObserver.validate().then(function(){var t=Object(s["a"])(Object(c["a"])().mark((function t(n){var r,a,o,i,s,g,f;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=23;break}if(!e.isDominant||e.editingItem.okedId||e.editingItem.skpId){t.next=4;break}return e.$toast(e.$t("messages.oked_or_skp_is_required"),{type:"error"}),t.abrupt("return");case 4:if((!e.isDominant||!e.editingItem.isRepublic&&e.contractorHasParent)&&(e.editingItem.isGroup=!1),r=e.editingItem.priceApprovalFiles&&e.editingItem.priceApprovalFiles.length?JSON.parse(JSON.stringify(e.editingItem.priceApprovalFiles)):[],a=JSON.parse(JSON.stringify(e.editingItem.directoryProductOrServiceId)),o=JSON.parse(JSON.stringify(e.editingItem.announcedMediaDtos)),i=JSON.parse(JSON.stringify(e.editingItem.priceApprovalDtos)),s=JSON.parse(JSON.stringify(e.editingItem.commissionApplicationDtos)),!e.editingItem.id){t.next=17;break}return t.next=13,e.makeAndReturnFormDataForBase64();case 13:g=t.sent,l["a"].updateReestr(u,g,"for-acceptance-".concat(e.isDominant?m:e.isNatural?p:"","/").concat(e.editingItem.id),!0).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})),t.next=21;break;case 17:return t.next=19,e.makeAndReturnFormDataForBase64();case 19:f=t.sent,d["a"].create(u,f,"for-acceptance-".concat(e.isDominant?m:e.isNatural?p:""),!0).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})).catch((function(t){e.editingItem.directoryProductOrServiceId=JSON.parse(JSON.stringify(a)),e.editingItem.commissionApplicationDtos=JSON.parse(JSON.stringify(s)),e.editingItem.announcedMediaDtos=JSON.parse(JSON.stringify(o)),e.editingItem.priceApprovalDtos=JSON.parse(JSON.stringify(i)),e.editingItem.priceApprovalFiles=JSON.parse(JSON.stringify(r))}));case 21:t.next=24;break;case 23:e.$toast(e.$t("messages.fill_required_fields"),{type:"error"});case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setFilesFromServer:function(){var e=this;return Object(s["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:fetch(e.publicPath+e.editingItem.fileUrl).then((function(e){return e.blob()})).then((function(t){t.name=f.name,t.lastModified=new Date;var n=new File([t],f.name,{type:t.type}),r=e.publicPath+f.url;e.$refs.supplementDocUploader.$refs.dropzone.manuallyAddFile(n,r)})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},regionSelected:function(e){var t=arguments,n=this;return Object(s["a"])(Object(c["a"])().mark((function r(){var a;return Object(c["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.length>1&&void 0!==t[1]&&t[1],a||(n.editingItem.districtIds=[]),!e){r.next=5;break}return r.next=5,l["a"].getGeoLocationsByParentId(e).then((function(e){n.districts=e.data})).catch((function(e){console.log(e)}));case 5:case"end":return r.stop()}}),r)})))()},addCommissionApplicationDto:function(){var e=Object.assign({},this.defaultCommissionApplicationDto);this.editingItem.commissionApplicationDtos.push(e)},addAnnouncedMediaDto:function(){var e=Object.assign({},this.defaultAnnouncedMediaDto);this.editingItem.announcedMediaDtos.push(e)},addPriceApprovalDto:function(){var e=Object.assign({},this.defaultPriceApprovalDto);this.editingItem.priceApprovalDtos.push(e)},newRefCreated:function(e){"CreateFormContractor"==e&&this.fetchContractorsWithKeyword("",!0)},getBase64:function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))},makeAndReturnFormDataForBase64:function(){var e=this;return Object(s["a"])(Object(c["a"])().mark((function t(){var n;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e,t.next=3,e.editingItem.announcedMediaDtos.filter((function(t){if(t.announcedMediaName){var n=[];return t.announcedMediaFiles&&t.announcedMediaFiles.forEach(function(){var t=Object(s["a"])(Object(c["a"])().mark((function t(r){var a;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.file.dataURL){t.next=4;break}n.push(r.file.dataURL),t.next=8;break;case 4:return t.next=6,e.getBase64(r.file);case 6:a=t.sent,n.push(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.announcedMediaFiles=n,t}}));case 3:return e.editingItem.announcedMediaDtos=t.sent,t.next=6,e.editingItem.priceApprovalDtos.filter((function(t){if(t.priceApprovalNumber){var n=[];return t.priceApprovalFiles&&t.priceApprovalFiles.forEach(function(){var t=Object(s["a"])(Object(c["a"])().mark((function t(r){var a;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.file.dataURL){t.next=4;break}n.push(r.file.dataURL),t.next=8;break;case 4:return t.next=6,e.getBase64(r.file);case 6:a=t.sent,n.push(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.priceApprovalFiles=n,t}}));case 6:if(e.editingItem.priceApprovalDtos=t.sent,e.editingItem.commissionApplicationDtos=e.editingItem.commissionApplicationDtos.filter((function(e){if(e.commencementNumber&&e.initiatorName)return e})),!e.editingItem.supplementDocs||!e.editingItem.supplementDocs[0].file.dataURL){t.next=13;break}return e.editingItem.file=e.editingItem.supplementDocs[0].file.dataURL,t.abrupt("return",e.editingItem);case 13:if(!e.editingItem.supplementDocs){t.next=21;break}return t.next=16,e.getBase64(e.editingItem.supplementDocs[0].file);case 16:return n=t.sent,e.editingItem.file=n,t.abrupt("return",e.editingItem);case 21:return t.abrupt("return",e.editingItem);case 22:case"end":return t.stop()}}),t)})))()},customLabelRegion:function(e){var t=this.regions.find((function(t){return t.regionId==(e.regionId?e.regionId:e)}));return t?"".concat(this.getName({nameRu:t.regionNameRu,nameLt:t.regionNameLt,nameUz:t.regionNameUz})):""},customLabelDistrict:function(e){var t=this.districts.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelProduct:function(e){var t=this.products.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelUnit:function(e){var t=this.units.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelGroupOfIndividuals:function(e){var t=this.groupOfIndividuals.find((function(t){return t.id==e}));return t?"".concat(t.name):""},customLabelProductType:function(e){var t=this.productTypes.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},productTypeSelected:function(e){var t=arguments,n=this;return Object(s["a"])(Object(c["a"])().mark((function r(){var a;return Object(c["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.length>1&&void 0!==t[1]&&t[1],a||(n.products=[],n.editingItem.directoryProductOrServiceId=null,n.productOrServicesSearchPayload.page=1),!e){r.next=5;break}return r.next=5,n.fetchProductOrServices(e);case 5:case"end":return r.stop()}}),r)})))()},contractorReachedEndOfList:function(e){e&&!this.isLoadingContractors&&this.fetchContractors()},productOrServicesReachedEndOfList:function(e){e&&this.fetchProductOrServices(this.editingItem.directoryProductOrServiceTypeId)},customLabelContractor:function(e){var t=this.contractors.find((function(t){return t.id==e}));return t?"".concat(t.fullName):""},debounceSearchProductOrServices:function(e){var t=this;return Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:clearTimeout(t.debounce),t.debounce=setTimeout(Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchProductOrServicesWithKeyword(e);case 2:case"end":return n.stop()}}),n)}))),1e3);case 2:case"end":return n.stop()}}),n)})))()},debounceSearchContractors:function(e){var t=this;return Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:clearTimeout(t.debounce),t.debounce=setTimeout(Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchContractorsWithKeyword(e);case 2:case"end":return n.stop()}}),n)}))),1e3);case 2:case"end":return n.stop()}}),n)})))()},fetchProductOrServicesWithKeyword:function(e){this.products=[],this.productOrServicesSearchPayload.page=1,this.productOrServicesSearchPayload.keyword=e||"",this.fetchProductOrServices(this.editingItem.directoryProductOrServiceTypeId)},okedReachedEndOfList:function(e){e&&this.fetchOkeds()},debounceSearchOked:function(e){var t=this;return Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:clearTimeout(t.debounce),t.debounce=setTimeout(Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchOkedsWithKeyword(e);case 2:case"end":return n.stop()}}),n)}))),1e3);case 2:case"end":return n.stop()}}),n)})))()},fetchOkedsWithKeyword:function(e){this.okeds=[],this.okedSearchPayload.page=1,this.okedSearchPayload.keyword=e||"",this.fetchOkeds()},fetchOkeds:function(){var e=this;return Object(s["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoadingOked=!0,t.next=3,d["a"].searchListWithKeyword(g,e.okedSearchPayload).then((function(t){var n;if((n=e.okeds).push.apply(n,Object(i["a"])(t.data.list)),e.hasNextPageOked=t.data.total/e.okedSearchPayload.itemsPerPage>e.okedSearchPayload.page,e.okedSearchPayload.page+=1,!e.isModeCreate&&e.editingItem.okedId){var r=e.okeds.find((function(t){return t.id==e.editingItem.okedId}));!r&&e.editingItem.infoOkedDto&&e.okeds.push(e.editingItem.infoOkedDto)}})).catch((function(t){console.log(t),e.okeds=[]})).finally((function(){e.isLoadingOked=!1}));case 3:case"end":return t.stop()}}),t)})))()},customLabelOked:function(e){var t=this.okeds.find((function(t){return t.id==e}));return t?"".concat(t.code," - ").concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},skpReachedEndOfList:function(e){e&&this.fetchSkps()},debounceSearchSkp:function(e){var t=this;return Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:clearTimeout(t.debounce),t.debounce=setTimeout(Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchSkpsWithKeyword(e);case 2:case"end":return n.stop()}}),n)}))),1e3);case 2:case"end":return n.stop()}}),n)})))()},fetchSkpsWithKeyword:function(e){this.skps=[],this.skpSearchPayload.page=1,this.skpSearchPayload.keyword=e||"",this.fetchSkps()},fetchSkps:function(){var e=this;return Object(s["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoadingSkp=!0,t.next=3,d["a"].searchListWithKeyword(h,e.skpSearchPayload).then((function(t){var n;if((n=e.skps).push.apply(n,Object(i["a"])(t.data.list)),e.hasNextPageSkp=t.data.total/e.skpSearchPayload.itemsPerPage>e.skpSearchPayload.page,e.skpSearchPayload.page+=1,!e.isModeCreate&&e.editingItem.skpId){var r=e.skps.find((function(t){return t.id==e.editingItem.skpId}));!r&&e.editingItem.infoSKPDto&&e.skps.push(e.editingItem.infoSKPDto)}})).catch((function(t){console.log(t),e.skps=[]})).finally((function(){e.isLoadingSkp=!1}));case 3:case"end":return t.stop()}}),t)})))()},customLabelSkp:function(e){var t=this.skps.find((function(t){return t.id==e}));return t?"".concat(t.code," - ").concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},tnvedReachedEndOfList:function(e){e&&this.fetchTnveds()},debounceSearchTnved:function(e){var t=this;return Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:clearTimeout(t.debounce),t.debounce=setTimeout(Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchTnvedsWithKeyword(e);case 2:case"end":return n.stop()}}),n)}))),1e3);case 2:case"end":return n.stop()}}),n)})))()},fetchTnvedsWithKeyword:function(e){this.tnveds=[],this.tnvedSearchPayload.page=1,this.tnvedSearchPayload.keyword=e||"",this.fetchTnveds()},fetchTnveds:function(){var e=this;return Object(s["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoadingTnved=!0,t.next=3,d["a"].searchListWithKeyword(b,e.tnvedSearchPayload).then((function(t){var n;if((n=e.tnveds).push.apply(n,Object(i["a"])(t.data.list)),e.hasNextPageTnved=t.data.total/e.tnvedSearchPayload.itemsPerPage>e.tnvedSearchPayload.page,e.tnvedSearchPayload.page+=1,!e.isModeCreate&&e.editingItem.tnvedId){var r=e.tnveds.find((function(t){return t.id==e.editingItem.tnvedId}));!r&&e.editingItem.infoTNVEDDto&&e.tnveds.push(e.editingItem.infoTNVEDDto)}})).catch((function(t){console.log(t),e.tnveds=[]})).finally((function(){e.isLoadingTnved=!1}));case 3:case"end":return t.stop()}}),t)})))()},customLabelTnved:function(e){var t=this.tnveds.find((function(t){return t.id==e}));return t?"".concat(t.code," - ").concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},fetchProductOrServices:function(e){var t=this;return Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoadingProductOrServices=!0,n.next=3,l["a"].getProductOrServicesByTypeId(e,t.productOrServicesSearchPayload).then((function(e){var n;if((n=t.products).push.apply(n,Object(i["a"])(e.data.list)),t.hasNextPageProductOrServices=e.data.total/t.productOrServicesSearchPayload.itemsPerPage>t.productOrServicesSearchPayload.page,t.productOrServicesSearchPayload.page+=1,!t.isModeCreate&&t.editingItem.directoryProductOrServiceId){var r=t.products.find((function(e){return e.id==t.editingItem.directoryProductOrServiceId}));!r&&t.editingItem.directoryProductOrServiceDto&&t.products.push(t.editingItem.directoryProductOrServiceDto)}})).catch((function(e){console.log(e),t.products=[]})).finally((function(){t.isLoadingProductOrServices=!1}));case 3:case"end":return n.stop()}}),n)})))()},fetchContractorsWithKeyword:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.contractors=[],this.contractorSearchPayload.page=1,this.contractorSearchPayload.keyword=e||"",this.fetchContractors(t)},fetchContractors:function(e){var t=this;return Object(s["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.contractorSearchPayload.sortBy=[],t.contractorSearchPayload.sortBy.push("created"),t.contractorSearchPayload.sortDesc=[],t.contractorSearchPayload.sortDesc.push(!0),t.isLoadingContractors=!0,n.next=7,d["a"].searchListWithKeyword("contractor",t.contractorSearchPayload,"by-contractor").then((function(n){var r;if((r=t.contractors).push.apply(r,Object(i["a"])(n.data.list)),t.hasNextPageContractors=n.data.total/t.contractorSearchPayload.itemsPerPage>t.contractorSearchPayload.page,t.contractorSearchPayload.page+=1,e&&(t.editingItem.contractorId=t.contractors.length?t.contractors[0].id:null),!t.isModeCreate&&t.editingItem.contractorId){var a=t.contractors.find((function(e){return e.id==t.editingItem.contractorId}));!a&&t.editingItem.contractorDto&&t.contractors.push(t.editingItem.contractorDto)}})).catch((function(e){console.log(e),t.contractors=[]})).finally((function(){t.isLoadingContractors=!1}));case 7:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(s["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.contractorSearchPayload=Object.assign({},e.var_default_search_payload),e.productOrServicesSearchPayload=Object.assign({},e.var_default_search_payload),e.okedSearchPayload=Object.assign({},e.var_default_search_payload),e.skpSearchPayload=Object.assign({},e.var_default_search_payload),e.tnvedSearchPayload=Object.assign({},e.var_default_search_payload),e.var_default_search_payload.itemsPerPage=500,!e.isModeCreate){t.next=11;break}return t.next=9,d["a"].getEmpty(u).then((function(t){e.editingItem=t.data,d["a"].getEmptyCustomUrl("".concat(I,"/empty")).then((function(t){if(e.defaultAnnouncedMediaDto=t.data,!e.editingItem.announcedMediaDtos||!e.editingItem.announcedMediaDtos.length){e.editingItem.announcedMediaDtos=[];var n=Object.assign({},e.defaultAnnouncedMediaDto);e.editingItem.announcedMediaDtos.push(n)}})).catch((function(e){console.log(e)})),d["a"].getEmptyCustomUrl("".concat(v,"/empty")).then((function(t){if(e.defaultPriceApprovalDto=t.data,!e.editingItem.priceApprovalDtos||!e.editingItem.priceApprovalDtos.length){e.editingItem.priceApprovalDtos=[];var n=Object.assign({},e.defaultPriceApprovalDto);e.editingItem.priceApprovalDtos.push(n)}})).catch((function(e){console.log(e)})),d["a"].getEmptyCustomUrl("".concat(y,"/empty")).then((function(t){if(e.defaultCommissionApplicationDto=t.data,!e.editingItem.commissionApplicationDtos||!e.editingItem.commissionApplicationDtos.length){e.editingItem.commissionApplicationDtos=[];var n=Object.assign({},e.defaultCommissionApplicationDto);e.editingItem.commissionApplicationDtos.push(n)}})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 9:t.next=13;break;case 11:return t.next=13,d["a"].getById(u,e.$route.params.id,!0).then((function(t){"PENDING"!=t.data.documentStatusCode&&e.$router.go(-1),e.editingItem=t.data,e.editingItem.announcedMediaDtos&&e.editingItem.announcedMediaDtos.length||d["a"].getEmptyCustomUrl("".concat(I,"/empty")).then((function(t){if(e.defaultAnnouncedMediaDto=t.data,!e.editingItem.announcedMediaDtos||!e.editingItem.announcedMediaDtos.length){e.editingItem.announcedMediaDtos=[];var n=Object.assign({},e.defaultAnnouncedMediaDto);e.editingItem.announcedMediaDtos.push(n)}})).catch((function(e){console.log(e)})),e.editingItem.priceApprovalDtos&&e.editingItem.priceApprovalDtos.length||d["a"].getEmptyCustomUrl("".concat(v,"/empty")).then((function(t){if(e.defaultPriceApprovalDto=t.data,!e.editingItem.priceApprovalDtos||!e.editingItem.priceApprovalDtos.length){e.editingItem.priceApprovalDtos=[];var n=Object.assign({},e.defaultPriceApprovalDto);e.editingItem.priceApprovalDtos.push(n)}})).catch((function(e){console.log(e)})),e.editingItem.commissionApplicationDtos&&e.editingItem.commissionApplicationDtos.length||d["a"].getEmptyCustomUrl("".concat(y,"/empty")).then((function(t){if(e.defaultCommissionApplicationDto=t.data,!e.editingItem.commissionApplicationDtos||!e.editingItem.commissionApplicationDtos.length){e.editingItem.commissionApplicationDtos=[];var n=Object.assign({},e.defaultCommissionApplicationDto);e.editingItem.commissionApplicationDtos.push(n)}})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 13:return t.next=15,e.fetchContractors();case 15:return t.next=17,e.fetchOkeds();case 17:if(!e.isDominant){t.next=23;break}return t.next=20,e.fetchSkps();case 20:return t.next=22,e.fetchTnveds();case 22:d["a"].searchList("reestr/group-of-individuals",e.var_default_search_payload).then((function(t){e.groupOfIndividuals=t.data.list})).catch((function(e){console.log(e)}));case 23:return t.next=25,l["a"].fetchRegionsForContractorReestrByCurrentUserId().then((function(t){e.regions=t.data,e.regionSelected(e.editingItem.regionId,!0)})).catch((function(e){console.log(e)}));case 25:(e.$route.name.includes("Create")||e.$route.name.includes("Update"))&&d["a"].searchList("directory/product-or-service-types",e.var_default_search_payload,e.isDominant?m:e.isNatural?p:"").then((function(t){e.productTypes=t.data.list,e.productTypeSelected(e.editingItem.directoryProductOrServiceTypeId,!0)})).catch((function(e){console.log(e)})),d["a"].searchListWithKeyword("directory/units",e.var_default_search_payload).then((function(t){e.units=t.data.list})).catch((function(e){console.log(e)}));case 27:case"end":return t.stop()}}),t)})))()}},O=k,D=(n("67a6"),n("2877")),w=Object(D["a"])(O,a,o,!1,null,"0732933b",null);t["default"]=w.exports}}]);