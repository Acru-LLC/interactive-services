(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18fe1a95"],{"0313":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-licence",staticStyle:{position:"relative !important"}},[e("froala",{ref:"editorRef",attrs:{id:"edit",tag:"textarea",config:t.config},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)},i=[],n=(a("adc8"),a("0abf"),a("ee3e"),a("9144"),a("42c1"),a("399e"),a("dfa9"),a("b9e7"),{components:{},watch:{text:{handler:function(t){this.$emit("changeText",t)}}},methods:{setTextContent:function(t){this.text=t}},data:function(){var t=this;return{text:"",editor:null,config:{tableStyles:{class1:"No borders"},embedlyScriptPath:"",imageInsertButtons:["imageUpload","|","imageByURL"],language:"ru",events:{"image.beforeUpload":function(e){var a=t.$refs.editorRef.getEditor();if(e.length>0){var s=new FileReader;s.onload=function(t){var e=t.target.result;a.image.insert(e,null,null,a.image.get())},s.readAsDataURL(e[0])}return a.popups.hideAll(),!1}},documentReady:!0,fontSize:["3","4","6","8","9","10","11","12","14","16","18","22","24","30","36","48","60","72","96"],fontFamilyDefaultSelection:"Times New Roman",toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","textColor","backgroundColor","fontFamily","fontSize","lineHeight","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","insertImage","insertTable","html","|","specialCharacters"],charCounterCount:!1,tabSpaces:4,height:600,fontSizeUnit:"pt",placeholderText:""}}}}),c=n,r=(a("c8f9"),a("2877")),o=Object(r["a"])(c,s,i,!1,null,null,null);e["a"]=o.exports},"08c5":function(t,e,a){"use strict";a("cfb6")},"1a42":function(t,e,a){},2740:function(t,e,a){t.exports=a.p+"img/3.af730164.png"},"29d3":function(t,e,a){t.exports=a.p+"img/2.1ef3a30b.png"},"445b":function(t,e,a){t.exports=a.p+"img/4.9daaee33.png"},"5fe9":function(t,e,a){"use strict";a.r(e);a("99af");var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"col-md-12 text-center"},[e("div",{staticClass:"h4 mb-4 d-inline-block"},[t._v(t._s(t.$t("submodules.reports.report_sended")))])]),e("Modal",{ref:"editModalRef",attrs:{size:"xl",value:t.editModal,title:t.selectedTrItem.fileName,scroll:!0,okText:"actions.save",variantOk:"success",cancelText:"actions.cancel",signerHide:!1},on:{okModal:t.okModal,closeModal:function(e){t.editModal=!1},viewModalClick:t.viewModalClick},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[e("Editor",{ref:"editorRef",on:{changeText:t.changeText}})],1)]},proxy:!0}])}),e("b-modal",{attrs:{scrollable:"",size:"xl",title:t.$t("actions.view")},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.viewIlovaModal=!1}}},[t._v(t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.viewIlovaModal,callback:function(e){t.viewIlovaModal=e},expression:"viewIlovaModal"}},[t.ilovaUploadPath?e("div",{staticStyle:{height:"700px"}},[e("embed",{attrs:{width:"100%",height:"800",src:"".concat(t.baseUrl,"/").concat(t.ilovaUploadPath),type:"application/pdf"}})]):t._e()]),e("b-modal",{attrs:{scrollable:"",size:"xl",title:t.selectedTrItem.id?t.selectedTrItem.fileName:""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.viewModalBeforeSigned=!1}}},[t._v(" "+t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.viewModalBeforeSigned,callback:function(e){t.viewModalBeforeSigned=e},expression:"viewModalBeforeSigned"}},[e("b-overlay",{attrs:{variant:"white",opacity:1,show:t.loaderPdf,rounded:"lg"}},[e("div",{staticStyle:{"min-height":"700px"}},[t.base64?e("embed",{style:"min-height:".concat(t.heightWindow-250,"px"),attrs:{width:"100%",src:"data:application/pdf;base64, ".concat(t.base64),type:"application/pdf"}}):t._e()])])],1),e("b-modal",{attrs:{scrollable:"",size:"xl",title:t.selectedTrItem.id?t.selectedTrItem.fileName:""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.viewModal=!1}}},[t._v(t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.viewModal,callback:function(e){t.viewModal=e},expression:"viewModal"}},[t.selectedTrItem.url?e("div",{staticStyle:{height:"700px"}},[e("embed",{attrs:{width:"100%",height:"800",src:"".concat(t.baseUrl,"/").concat(t.selectedTrItem.url),type:"application/pdf"}})]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body p-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"d-inline-block mt-1 ml-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control rounded bg-light border-light",staticStyle:{width:"300px"},attrs:{type:"text",placeholder:t.$t("actions.search")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"mdi mdi-magnify search-icon"})])])])]),t._m(0)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-7"},[e("div",{staticClass:"card card-body"},[e("div",{staticClass:"table-responsive"},[e("b-overlay",{attrs:{opacity:.1,show:t.loading,rounded:"sm"}},[e("table",{staticClass:"table table-centered table-striped table-nowrap table-hover"},[e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"70px"},attrs:{scope:"col"}},[t._v(" â„– ")]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("column.created_by"))+" ")]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("docDate"))+" ")]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("docName"))+" ")])])]),e("tbody",[0===t.list.length?e("tr",{staticClass:"text-center"},[e("td",{staticStyle:{"vertical-align":"middle"},style:t.loading?"height:50px":"",attrs:{colspan:"9"}},[e("h5",[t._v(" "+t._s(t.$t("messages.data_not_found"))+" ")])])]):t._e(),t._l(t.list,(function(a,s){return e("tr",{key:s+"CREATE_DOC",staticClass:"p_cursor",class:t.selectedTrItem.id===a.id?"bg-soft-primary text-primary":"CANCELED"===a.status?"bg-soft-danger":"",on:{click:function(e){return e.preventDefault(),t.clickTrItem(a)}}},[e("td",{staticClass:"text-center"},[e("strong",[t._v(" "+t._s(t.paginate(s,t.limit,t.page-1)))])]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(a.ownerLastName?a.ownerLastName:"")+" "+t._s(a.ownerFirstName?a.ownerFirstName:"")+" "+t._s(a.ownerParentName?a.ownerParentName:"")+" ")]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(a.date)+" ")]),e("td",{staticClass:"text-center"},[e("p",{staticClass:"pre m-0"},[t._v(t._s(a.fileName))])])])}))],2)])])],1),t.total>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("b-pagination",{staticClass:"m-0",attrs:{size:"sm","total-rows":t.total,"per-page":t.limit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]):t._e()])]),e("div",{staticClass:"col-5"},[e("div",{staticClass:"card card-body"},[e("table",{staticClass:"table m-0"},[e("tbody",[t.selectedTrItem.id?e("tr",[e("td",{staticClass:"text-muted text-center p-0",attrs:{colspan:"2"}},[e("div",{staticClass:"p-4"},["SIGNED"===t.selectedTrItem.status||"CANCELED"===t.selectedTrItem.status?e("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.viewIlova(t.selectedTrItem)}}},[e("i",{staticClass:"fa fa-eye mr-1"}),t._v(" "+t._s(t.$t("actions.view"))+" ")]):e("div",["pdf"===t.selectedTrItem.fileType?e("b-button",{staticClass:"ml-1",attrs:{variant:"primary"},on:{click:function(e){return t.viewIlova(t.selectedTrItem)}}},[e("i",{staticClass:"fa fa-eye"}),t._v(" "+t._s(t.$t("actions.view"))+" ")]):t._e()],1)],1)])]):t._e(),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(" "+t._s(t.$t("docName"))+" ")])]),e("td",[t._v(" "+t._s(t.selectedTrItem.id&&t.selectedTrItem.fileName?t.selectedTrItem.fileName:"")+" ")])]),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(" "+t._s(t.$t("docCreatedDate"))+" ")])]),e("td",[t._v(" "+t._s(t.selectedTrItem.id&&t.selectedTrItem.created?t.selectedTrItem.created:"")+" ")])]),t.selectedTrItem.comment?e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(" "+t._s(t.$t("column.comment"))+" ")])]),e("td",[t._v(" "+t._s(t.selectedTrItem.comment)+" ")])]):t._e(),t.selectedTrItem.isForCommission?e("tr",[e("td",{attrs:{colspan:"2"}},[e("div",{staticClass:"p-2 bg-gradient bg-info rounded text-white"},[t._v(" "+t._s(t.$t("submodules.commission.doc_status.send_for_commission"))+" ")])])]):t._e(),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(t._s(t.$t("whoSent")))])]),e("td",{staticClass:"pl-0"},[t.selectedTrItem.id?e("ul",{staticClass:"list-unstyled chat-list",attrs:{id:"il"}},[e("li",[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),t.selectedTrItem.ownerUploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{height:"auto",src:"".concat(t.hrUrl,"/").concat(t.selectedTrItem.ownerUploadPath),alt:""}})]):t._e(),t.selectedTrItem.ownerUploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(" "+t._s(t.selectedTrItem.ownerFirstName.charAt(0))+" ")])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"font-size-14 mb-1"},[t._v(" "+t._s("".concat(t.selectedTrItem.ownerLastName," ").concat(t.selectedTrItem.ownerFirstName," ").concat(t.selectedTrItem.ownerParentName))+" ")]),e("p",{staticClass:"m-0"},[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.depNameLt,nameRu:t.selectedTrItem.depNameRu,nameUz:t.selectedTrItem.depNameUz}))+" ")]),e("p",{staticClass:"m-0"},[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.positionNameLt,nameRu:t.selectedTrItem.positionNameRu,nameUz:t.selectedTrItem.positionNameUz}))+" ")])])])])]):t._e()])]),t.filesList.length>0?e("tr",[e("td",{staticClass:"text-muted",attrs:{colspan:"2"}},[e("b",[t._v(t._s(t.$t("letter_ilovalar")))])])]):t._e(),t._l(t.filesList,(function(a,s){return e("tr",{key:s+"FILE",staticClass:"mt-3"},[e("td",{staticClass:"p-2",attrs:{colspan:"2"}},[e("div",{staticClass:"d-flex align-items-center bg-light p-2 justify-content-between"},[e("div",{staticClass:"d-flex align-items-center"},[e("a",{attrs:{download:"pdf"!==t.getExt(a.uploadPath)&&a.uploadPath,href:"pdf"===t.getExt(a.uploadPath)?"#":"".concat(t.baseUrl,"/").concat(a.uploadPath)},on:{click:function(e){return t.viewIlova(a)}}},[e("FileView",{staticClass:"my-card-hovered",attrs:{uploadPath:a.fileName}})],1),e("span",{staticClass:"ml-2"},[t._v(" "+t._s(a.fileName)+" ")])]),e("a",{staticClass:"mr-3 p-1 btn btn-sm btn-light",attrs:{download:"",href:"".concat(t.baseUrl,"/").concat(a.uploadPath)}},[e("i",{staticClass:"bx bx-download font-size-20"})])])])])})),t.infoData&&t.infoData.review&&t.infoData.agreement&&t.infoData.signature?e("tr",[e("td",{staticClass:"text-center pt-5 pb-0",attrs:{colspan:"2"}},[e("b",[t._v(t._s(t.$t("qabulQiluvchilar")))])]),e("td")]):t._e()],2)]),e("b-overlay",{attrs:{opacity:.1,show:t.loaderReceiver,rounded:"sm"}},[e("Receivers",{attrs:{selectedReview:t.infoData.review,selectedAgreement:t.infoData.agreement,selectedSignature:t.infoData.signature}})],1)],1)])])])])],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"text-sm-right"},[e("div",{staticClass:"mr-3 float-right"})])])}],n=a("c7eb"),c=a("1da1"),r=(a("d3b7"),a("7db0"),a("93c1")),o=a("9281"),l=a("0313"),d=a("fdfc"),m={components:{Receivers:o["a"],Editor:l["a"],Modal:d["a"]},watch:{page:function(){this.getList()},searchValue:function(t){this.getList()}},data:function(){return{filesList:[],viewModal:!1,selectedTrItem:{},active:"",sendTypeList:[{label:this.$t("forSignature"),value:"Signature"},{label:this.$t("forAgreement"),value:"Agreement"},{label:this.$t("forReview"),value:"Review"}],title:this.$t("sended"),items:[{text:this.$t("menu"),href:"/"},{text:this.$t("sended"),active:!0}],list:[],searchValue:"",page:1,limit:20,loading:!1,total:1,isModal:!1,currentItem:{},sendModal:!1,loaderButton:!1,isModalKeys:!1,loaderReceiver:!1,infoData:{},ilovaUploadPath:null,viewIlovaModal:!1,viewModalBeforeSigned:!1,loaderPdf:!1,src:null,base64:null,editModal:!1,loader:!1,contextText:""}},created:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getList();case 2:case"end":return e.stop()}}),e)})))()},computed:{params:function(){return{params:{itemsPerPage:this.limit,page:this.page-1},search:this.searchValue}}},methods:{okModal:function(){var t=this,e=this.$refs.editorRef.text;this.$refs.editModalRef.loading(!0),r["a"].saveLetterBody(this.selectedTrItem.id,e).then((function(){var e=t.selectedTrItem;t.successEdited(),t.getList(),t.editModal=!1,setTimeout((function(){var a=t.list.find((function(t){return t.id==e.id}));t.selectedTrItem=a,t.$forceUpdate(),t.getReceivers(t.selectedTrItem)}),500)})).catch((function(t){})).finally((function(){t.$refs.editModalRef.loading(!1)}))},viewModalClick:function(){var t=this;this.$refs.editModalRef.loadingPdf(!0),this.viewModalBeforeSigned=!0,this.loaderPdf=!0,this.base64=null,r["a"].convert(this.contextText).then((function(e){setTimeout((function(){t.base64=e.data,t.loader=!1}),400)})).finally((function(){t.loaderPdf=!1,t.$refs.editModalRef.loadingPdf(!1)}))},editLetter:function(t){var e=this;this.editModal=!0,setTimeout((function(){r["a"].getBody(t.id).then((function(t){var a=e.$refs.editorRef;a&&(e._empty(t.data)||a.setTextContent(t.data))}))}),400)},convertToPdf:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(s,i){var n={url:"".concat(t.url),outputtype:".pdf",forSign:a,key:t.key};r["a"].convertToPdfByApi(n).then((function(t){t.data.uploadPath?(e.$nextTick((function(){e.src="".concat(e.baseUrl,"/").concat(t.data.uploadPath)})),s(t.data.uploadPath)):s(!1)})).catch((function(t){i(t)}))}))},getByIdLetter:function(){var t=this;r["a"].getByIdLetter(this.selectedTrItem.id).then((function(e){t.currentDoc=e.data,t.loaderPdf=!0,t.convertToPdf(e.data).then((function(a){a?t.loaderPdf=!1:setTimeout((function(){t.convertToPdf(e.data).then((function(){t.loaderPdf=!1})).catch((function(e){t.loaderPdf=!1}))}),4e3)}))})).catch((function(t){}))},viewLetter:function(){var t=this;this.viewModalBeforeSigned=!0,this.loaderPdf=!0,this.base64=null,r["a"].viewPdfByLetterId(this.selectedTrItem.id).then((function(e){setTimeout((function(){t.base64=e.data}),300)})).finally((function(){t.loaderPdf=!1}))},viewDocBeforeSigned:function(){this.viewLetter()},viewIlova:function(t){var e=this;"pdf"===this.getExt(t.uploadPath?t.uploadPath:t.url)?(this.ilovaUploadPath=t.uploadPath?t.uploadPath:t.url,this.viewIlovaModal=!0):this.convertToPdf(t).then((function(t){t&&(e.ilovaUploadPath=t,e.viewIlovaModal=!0)}))},getAttachedFilesById:function(t){var e=this;r["a"].getAttachedFilesById(t).then((function(t){e.filesList=t.data}))},viewDocSigned:function(){this.viewModal=!0},clickTrItem:function(t){this.selectedTrItem.id===t.id?(this.selectedTrItem={},this.infoData={}):(this.selectedTrItem=t,this.getAttachedFilesById(t.letterId),this.getReceivers(t))},signatureItem:function(){this.isModalKeys=!0},getReceivers:function(t){var e=this;this.loaderReceiver=!0,r["a"].getReceivers(t.letterId).then((function(t){e.infoData=t.data})).finally((function(){e.loaderReceiver=!1}))},changeText:function(t){this.contextText=t},getList:function(){var t=this;this.loading=!0,r["a"].getListLetterSend(this.params).then((function(e){var a=e.data;t.list=a.list,t.total=a.total})).catch((function(t){})).finally((function(){t.loading=!1}))}}},u=m,p=(a("08c5"),a("2877")),f=Object(p["a"])(u,s,i,!1,null,null,null);e["default"]=f.exports},6043:function(t,e,a){"use strict";a("99af");var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card mb-0"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"button-items d-flex",staticStyle:{"justify-content":"space-between"}},[e("b-button",{staticClass:"btn-label",attrs:{variant:"primary"}},[e("i",{staticClass:"bx bx-smile label-icon"}),t._v(" "+t._s("(".concat(t.members.length,")"))+" ")]),e("span",[e("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.$emit("cancel")}}},[e("i",{staticClass:"fa fa-times"}),t._v(" "+t._s(t.$t("actions.close")))]),t.async?t._e():e("b-button",{attrs:{variant:"success"},on:{click:t.save}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)],1)]),e("div",[e("div",{staticClass:"p-4"},[e("div",{staticClass:"search-box mb-2"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])]),e("simplebar",{key:t.cmpKey+"ADS",ref:"contactsRef",style:"height:".concat(t.heightWindow-165,"px"),attrs:{"data-simplebar-auto-hide":"false",id:"contact-list"}},[e("ul",{staticClass:"list-unstyled chat-list",attrs:{id:"il"}},t._l(t.contactList,(function(a,s){return e("li",{key:a.id+"EMPLOYEE"+s,attrs:{id:t.contactList[t.contactList.length-1].id==a.id?"lid":""},on:{click:function(e){return t.pushMember(a)}}},[e("a",{attrs:{href:"javascript: void(0);"}},[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),a.photoUploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{height:"auto",src:"".concat(t.publicPath,"/").concat(a.photoUploadPath),alt:""}})]):t._e(),a.photoUploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(" "+t._s(a.firstName.charAt(0))+" ")])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"font-size-14 mb-1",class:t.check(a)},[t._v(" "+t._s("".concat(a.firstName," ").concat(a.lastName," ").concat(a.middleName?a.middleName:""))+" ")]),e("p",{staticClass:"m-0",class:t.check(a)},[t._v(" "+t._s(t.getName({nameLt:a.departmentNameLt,nameRu:a.departmentNameRu,nameUz:a.departmentNameUz}))+" ")]),e("p",{staticClass:"m-0",class:t.check(a)},[t._v(" "+t._s(t.getName({nameLt:a.directoryPositionNameLt,nameRu:a.directoryPositionNameRu,nameUz:a.directoryPositionNameUz}))+" ")])]),t.check(a)?e("i",{staticClass:"fas fa-user-check font-size-18 text-primary"}):t._e()])])])})),0)])],1)])])])},i=[],n=a("c7eb"),c=a("1da1"),r=a("f8cd5"),o=a("8d3b"),l={props:{notIn:{type:Boolean,default:!1},async:{type:Boolean,default:!1},application:{type:Object,default:function(){return{}}}},components:{simplebar:o["a"]},data:function(){return{publicPath:"/",contactList:[],contactPage:0,members:[],objectMembers:{},groupModal:!1,searchValue:"",cmpKey:0}},methods:{reset:function(){var t=this;this.cmpKey+=1,setTimeout((function(){t.scrollActive()}),200)},scrollActive:function(){var t=this;this.$refs.contactsRef.SimpleBar&&this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,n=a.clientHeight,c=1;i-n-c<s&&t.loadMoreContact()}))},save:function(){var t=this;this.$emit("save",this.members),this.members=[],this.objectMembers={},setTimeout((function(){t.getContacts({page:0,itemsPerPage:20})}),300)},pushMember:function(t){t.id==this.objectMembers.id?this.objectMembers={}:this.objectMembers=t},check:function(t){return this.objectMembers.id==t.id&&["font-weight-bold","text-primary"]},getContacts:function(t){var e=this;"FROM_DXA"===this.application.type&&"NOT_BELONG"===this.application.applicationTypeInProject?r["a"].getAllInManagement({}).then((function(t){e.$nextTick((function(){e.contactList=t.data}))})):r["a"].getByYurDepForSign({params:t,search:this.searchValue}).then((function(t){e.$nextTick((function(){e.contactList=t.data.list}))}))},loadMoreContact:function(){var t=this;r["a"].getByYurDepForSign({params:{page:this.contactPage+=1,itemsPerPage:20},search:this.searchValue}).then(function(){var e=Object(c["a"])(Object(n["a"])().mark((function e(a){var s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.list.length>0?t.$nextTick((function(){t.contactList=t.contactList.concat(s.list)})):t.contactPage=t.contactPage-1;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},mounted:function(){var t=document.querySelector("#contact-list .simplebar-content-wrapper");t&&t.scrollTo({top:500,behavior:"smooth"}),this.scrollActive()},created:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,itemsPerPage:20});case 2:case"end":return e.stop()}}),e)})))()},watch:{searchValue:{handler:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,itemsPerPage:20});case 2:case"end":return e.stop()}}),e)})))()}},objectMembers:{handler:function(t){var e=this;return Object(c["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.async&&e.$emit("asyncValue",t);case 1:case"end":return a.stop()}}),a)})))()}}}},d=l,m=a("2877"),u=Object(m["a"])(d,s,i,!1,null,null,null);e["a"]=u.exports},"745f":function(t,e,a){"use strict";a("8337")},8337:function(t,e,a){},9281:function(t,e,a){"use strict";a("99af");var s=function(){var t=this,e=t._self._c;return e("div",[t.selectedSignature.length>0?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("29d3"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("forSignature")))])])]),e("div",{staticClass:"pl-4"},[e("div",{staticClass:"table-responsive border-color-custom m-0"},[e("table",{staticClass:"table table-centered m-0"},[e("tbody",t._l(t.selectedSignature,(function(a,s){return e("tr",{key:s+"sign"},[e("td",{staticStyle:{width:"50px"}},[a.signerUploadPath?e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.hrUrl,"/").concat(a.signerUploadPath),alt:""}}):e("div",{staticClass:"avatar-sm"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(a.signerLastName.charAt(0)))+" ")])])]),e("td",[e("div",{staticClass:"d-flex align-items-center"},[e("div",[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0"},[t._v(" "+t._s("".concat(a.signerLastName," ").concat(a.signerFirstName," ").concat(a.signerParentName))+" ")])]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.g_name({nameUz:a.depNameUz,nameLt:a.depNameLt,nameRu:a.depNameRu}))+" ")]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.g_name({nameUz:a.positionNameUz,nameLt:a.positionNameLt,nameRu:a.positionNameRu}))+" ")])]),e("div",[a.signed?e("i",{staticClass:"mdi ml-3 text-success mdi-check-all",staticStyle:{"font-size":"26px"}}):t._e()])]),a.signDate?e("div",{staticClass:"mt-1"},[e("b",[t._v(t._s(t.$t("dateSign")))]),t._v(" : "+t._s(a.signDate)+" ")]):t._e(),a.cancelled?e("div",[e("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[t._v(" "+t._s(t.$t("docs_r.CANCELED_TO_WORK"))+" ")]),e("br"),a.comment?e("div",[e("label",{staticClass:"mt-1 mb-0 font-size-12"},[t._v(t._s(t.$t("submodules.reports.reasonRejected"))+": ")]),e("p",{staticClass:"text-muted m-0"},[t._v(t._s(a.comment))])]):t._e()],1):t._e(),a.isForCommission?e("div",[e("div",{staticClass:"mt-1 mb-0 p-2 badge badge-info"},[t._v(" "+t._s(t.$t("submodules.commission.doc_status.send_for_commission"))+" ")])]):t._e()])])})),0)])])])]):t._e(),t.selectedAgreement.length>0?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("445b"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("forAgreement")))])])]),e("div",{staticClass:"pl-4"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-centered m-0"},[t.selectedAgreement.length>0?e("tbody",t._l(t.selectedAgreement,(function(a,s){return e("tr",{key:s+"AD"},[e("td",{staticStyle:{width:"50px"}},[a.signerUploadPath?e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.hrUrl,"/").concat(a.signerUploadPath),alt:""}}):e("div",{staticClass:"avatar-sm"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(a.signerLastName.charAt(0)))+" ")])])]),e("td",[e("div",{staticClass:"d-flex align-items-center"},[e("div",[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0"},[t._v(" "+t._s("".concat(a.signerLastName," ").concat(a.signerFirstName," ").concat(a.signerParentName))+" ")])]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.g_name({nameUz:a.depNameUz,nameLt:a.depNameLt,nameRu:a.depNameRu}))+" ")]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.g_name({nameUz:a.positionNameUz,nameLt:a.positionNameLt,nameRu:a.positionNameRu}))+" ")])]),e("div",[a.isAgreed?e("i",{staticClass:"mdi mdi-handshake ml-3 text-success",staticStyle:{"font-size":"26px"}}):t._e()])]),a.cancelled?e("div",[e("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[t._v(" "+t._s(t.$t("docs_r.CANCELED_TO_WORK"))+" ")]),e("br"),a.comment?e("div",[e("label",{staticClass:"mt-1 mb-0 font-size-12"},[t._v(t._s(t.$t("submodules.reports.reasonRejected"))+": ")]),e("p",{staticClass:"text-muted m-0"},[t._v(t._s(a.comment))])]):t._e()],1):t._e(),a.isForCommission?e("div",[e("div",{staticClass:"mt-1 mb-0 p-2 badge badge-info"},[t._v(" "+t._s(t.$t("submodules.commission.doc_status.send_for_commission"))+" ")])]):t._e()])])})),0):t._e()])])])]):t._e(),t.selectedReview.length>0?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("2740"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("forReview")))])])]),e("div",{staticClass:"pl-4"},[e("div",{staticClass:"table-responsive m-0"},[e("table",{staticClass:"table table-centered m-0"},[t.selectedReview.length>0?e("tbody",t._l(t.selectedReview,(function(a,s){return e("tr",{key:s+"AD"},[e("td",{staticStyle:{width:"50px"}},[a.signerUploadPath?e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.hrUrl,"/").concat(a.signerUploadPath),alt:""}}):e("div",{staticClass:"avatar-sm"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(a.signerLastName.charAt(0)))+" ")])])]),e("td",[e("div",{staticClass:"d-flex align-items-center"},[e("div",[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0"},[t._v(" "+t._s("".concat(a.signerLastName," ").concat(a.signerFirstName," ").concat(a.signerParentName))+" ")])]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.g_name({nameUz:a.depNameUz,nameLt:a.depNameLt,nameRu:a.depNameRu}))+" ")]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.g_name({nameUz:a.positionNameUz,nameLt:a.positionNameLt,nameRu:a.positionNameRu}))+" ")])]),e("div",[a.isViewed?e("i",{staticClass:"ml-3 text-success mdi mdi-file-eye",staticStyle:{"font-size":"22px"}}):t._e()])]),a.cancelled?e("div",[e("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[t._v(" "+t._s(t.$t("docs_r.CANCELED_TO_WORK"))+" ")]),e("br"),a.comment?e("div",[e("label",{staticClass:"mt-1 mb-0 font-size-12"},[t._v(t._s(t.$t("submodules.reports.reasonRejected"))+": ")]),e("p",{staticClass:"text-muted m-0"},[t._v(t._s(a.comment))])]):t._e()],1):t._e(),a.isForCommission?e("div",[e("div",{staticClass:"mt-1 mb-0 p-2 badge badge-info"},[t._v(" "+t._s(t.$t("submodules.commission.doc_status.send_for_commission"))+" ")])]):t._e()])])})),0):t._e()])])])]):t._e()])},i=[],n=a("6275"),c={data:function(){return{g_name:n["o"]}},props:{selectedReview:{type:Array,default:function(){return[]}},selectedAgreement:{type:Array,default:function(){return[]}},selectedSignature:{type:Array,default:function(){return[]}}}},r=c,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},c8f9:function(t,e,a){"use strict";a("1a42")},cfb6:function(t,e,a){},f8cd5:function(t,e,a){"use strict";var s=a("c7eb"),i=a("1da1"),n=(a("99af"),a("ac1f"),a("841c"),a("f2db"));e["a"]={getCurrent:function(){var t=Object(i["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",n["a"].get("/employee/currentEmpId"));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getListByYurDepartment:function(t){return n["a"].post("/employee/get-by-yur-dep?name=".concat(t.search,"&yurDepId=").concat(t.yurDepId?t.yurDepId:""),t.params)},getListByYurDepartmentNotInProj:function(t){return n["a"].post("/employee/get-by-yur-dep-notInProject?name=".concat(t.search,"&projectId=").concat(t.projectId),t.params)},getCurrentUserExperience:function(){return n["a"].get("/employee/listEmployeeExperience")},lisByDepId:function(t){var e=t.id,a=t.data,s=t.search;return n["a"].post("/employee/list-by-depId/".concat(e,"?search=").concat(s),a)},getPhoneEmail:function(t){var e=t.search,a=t.pg;return n["a"].post("/employee/get-email-phone-by-yur-dep?name=".concat(e),a)},getNearBirthdays:function(){return n["a"].get("/employee/lateAnniversary")},eliminateBirthDay:function(){return n["a"].get("/employee/eliminateBirthday")},turnOffBirthDay:function(){return n["a"].get("/employee/turnOffEliminateBirthday")},getByYurDepForSign:function(t){return n["a"].post("/employee/getByYurDepForSign?keyword=".concat(t.search),t.params)},getAllInManagement:function(){return n["a"].get("/employee/get-all-employee/in-management")}}},fdfc:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("b-modal",{attrs:{id:"widthM",scrollable:t.scroll,"content-class":"shadow","no-close-on-backdrop":!0,"hide-backdrop":t.hideBackDrop,size:t.size,"body-class":"pb-1"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("h4",[t._v(t._s(t.title))]),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"mr-3"},[t.signerHide?e("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"primary"},on:{click:t.setUser}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderUser,rounded:"sm"}},[e("i",{staticClass:"fa fa-user-check mr-2",staticStyle:{"font-size":"16px"}}),t._v(" "+t._s(t.$t("actions.imzolovchi"))+" ")])],1):t._e()],1),e("div",{staticClass:"mr-3"},[e("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"primary"},on:{click:function(e){return t.$emit("viewModalClick")}}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderPdf,rounded:"sm"}},[e("i",{staticClass:"fa fa-eye mr-2",staticStyle:{"font-size":"16px"}}),t._v(" "+t._s(t.$t("actions.view_pdf"))+" ")])],1)],1),e("div",{on:{click:function(e){return t.$emit("closeModal")}}},[e("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"light"}},[e("i",{staticClass:"fa fa-times"})])],1)])]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"danger"},on:{click:function(e){return t.$emit("closeModal")}}},[t._v(" "+t._s(t.$t(t.cancelText)))]),t.hasOkButton?e("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{disabled:t.loader,variant:t.variantOk},on:{click:function(e){return t.$emit("okModal")}}},[e("b-overlay",{attrs:{opacity:.1,show:t.loader,rounded:"sm"}},[t._v(" "+t._s(t.$t(t.okText))+" ")])],1):t._e()]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("b-sidebar",{staticClass:"sidebar-part",attrs:{"backdrop-variant":"transparent",shadow:"",backdrop:"","sidebar-class":"p-0","no-header":!0,right:""},model:{value:t.isSidebar_3,callback:function(e){t.isSidebar_3=e},expression:"isSidebar_3"}},[e("MemberesSignature",{ref:"partRef_3",attrs:{notIn:!1,async:!0},on:{asyncValue:t.asyncValue_3,cancel:function(e){t.isSidebar_3=!1}}})],1),t._t("body")],2)],1)},i=[],n=a("6043"),c={components:{MemberesSignature:n["a"]},data:function(){return{loader:!1,loaderPdf:!1,loaderUser:!1,isSidebar_3:!1}},methods:{asyncValue_3:function(t){this.$emit("signerSet",t)},setUser:function(){this.isSidebar_3=!0},loading:function(t){this.loader=t},loadingPdf:function(t){this.loaderPdf=t},loadingUser:function(t){this.loaderUser=t}},props:{signerHide:{type:Boolean,default:!0},value:{type:Boolean,default:!1},size:{type:String,default:"md"},scroll:{type:Boolean,default:!1},hasOkButton:{type:Boolean,default:!0},okText:{type:String,default:"OK"},cancelText:{type:String,default:"actions.cancel"},title:{type:String,default:"Title"},variantOk:{type:String,default:"primary"},hideBackDrop:{type:Boolean,default:!1}}},r=c,o=(a("745f"),a("2877")),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports}}]);