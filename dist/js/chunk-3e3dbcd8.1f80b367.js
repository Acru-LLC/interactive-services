(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e3dbcd8"],{"2f24":function(t,e,s){"use strict";s("391c")},"391c":function(t,e,s){},"46ed":function(t,e,s){},4807:function(t,e,s){},7733:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pb-5",staticStyle:{overflow:"auto"}},[e("table",{staticClass:"table table-centered table-custom-bordered"},[e("thead",[t._t("thead")],2),e("tbody",[t._l(t.listRows,(function(s,a){return[e("Tr",{key:s.id+"SelectedRow",attrs:{index:a,listColumns:t.listColumns,thirdColumns:t.thirdColumns,data:s}})]}))],2)])])},n=[],i=s("5530"),l=function(){var t=this,e=t._self._c;return e("tr",{on:{click:function(e){return t.$emit("pushData",t.data)}}},[t._t("index"),e("th",{staticClass:"text-center"},[e("p",{staticClass:"m-0"},[t._v(t._s(t.getName(Object(i["a"])({},t.data))))])]),t._l(t.thirdColumns.length,(function(s,a){return e("td",{directives:[{name:"show",rawName:"v-show",value:t.thirdColumns.length!==a+1,expression:"thirdColumns.length !== index + 1"}],key:a+"td",staticClass:"text-center"})})),t._t("actions")],2)},o=[],r=s("2909"),c={methods:{setColums:function(t){return this.columns=Object(r["a"])(t),this.columns}},data:function(){return{}},props:["data","listColumns","thirdColumns"]},d=c,u=s("2877"),h=Object(u["a"])(d,l,o,!1,null,null,null),m=h.exports,f={components:{Tr:m},props:{listRows:{type:Array,default:function(){return[]}},listColumns:{type:Array,default:function(){return[]}},thirdColumns:{type:Array,default:function(){return[]}}}},p=f,v=(s("a67b"),Object(u["a"])(p,a,n,!1,null,null,null));e["a"]=v.exports},"7a89":function(t,e,s){},9176:function(t,e,s){"use strict";s("9d31")},9248:function(t,e,s){"use strict";s("7a89")},"9d31":function(t,e,s){},a67b:function(t,e,s){"use strict";s("46ed")},b243:function(t,e,s){"use strict";s("4807")},b9042:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("b-modal",{attrs:{"cancel-variant":"outline-danger","ok-variant":"success","no-close-on-backdrop":!0,"ok-title":t.$t("actions.save"),"cancel-title":t.$t("actions.cancel"),size:"md",title:t.$t("actions.add")},on:{close:function(e){t.saveModal=!1},cancel:function(e){t.saveModal=!1},ok:t.okModal},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.saveModal=!1}}},[t._v(" "+t._s(t.$t("actions.close"))+" ")]),e("b-overlay",{attrs:{opacity:.1,show:t.loader,rounded:"sm"}},[e("b-button",{attrs:{variant:"success"},on:{click:t.okModal}},[t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)]},proxy:!0}]),model:{value:t.saveModal,callback:function(e){t.saveModal=e},expression:"saveModal"}},[e("Create",{ref:"addRef",attrs:{isGenerated:t.isGenerated}})],1),e("b-modal",{attrs:{size:"xl","footer-bg-variant":"light","header-bg-variant":"light",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"100%"}},[e("b-input-group",{staticStyle:{width:"300px"}},[e("b-form-input",{attrs:{size:"md",placeholder:"".concat(t.$t("reportColumn")),type:"search"},model:{value:t.searchValueColumns,callback:function(e){t.searchValueColumns=e},expression:"searchValueColumns"}}),e("b-input-group-append",[e("b-button",{attrs:{size:"",variant:"outline-primary"}},[e("i",{staticClass:"fa fa-search"})])],1)],1)],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.isSidebarColumns=!1}}},[t._v(" "+t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.isSidebarColumns,callback:function(e){t.isSidebarColumns=e},expression:"isSidebarColumns"}},[e("div",[e("TableColumns",{ref:"tableRefColumn",attrs:{page:t.pageColumns,limit:t.limitColumns,list:t.listColumns,loading:t.loadingColumns,sidebar:!0},on:{changePage:t.changePageColumn,setColumns:t.setColumns},scopedSlots:t._u([{key:"thead",fn:function(){return[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"5% !important"}},[t._v(" № ")]),e("th",{staticStyle:{width:"80% !important"}},[e("div",{staticClass:"pl-2"},[t._v(" "+t._s(t.$t("submodules.templates_row.nm"))+" ")])]),e("th",{staticClass:"text-center",staticStyle:{width:"30%"}},[t._v(t._s(t.$t("column.comment")))]),e("th",{staticClass:"text-center",staticStyle:{width:"5% !important"}},[t._v(" "+t._s(t.$t("column.status"))+" ")])])]},proxy:!0},{key:"pagination",fn:function(){return[t.listColumns.length>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("b-pagination",{staticClass:"m-0",attrs:{size:"sm","total-rows":t.totalColumns,"per-page":t.limitColumns},model:{value:t.pageColumns,callback:function(e){t.pageColumns=e},expression:"pageColumns"}})],1)]):t._e()]},proxy:!0}])})],1)]),e("b-modal",{attrs:{size:"xl","footer-bg-variant":"light","header-bg-variant":"light",scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"100%"}},[e("b-input-group",{staticStyle:{"max-width":"300px"}},[e("b-form-input",{attrs:{size:"md",placeholder:"".concat(t.$t("reportRows")),type:"search"},model:{value:t.searchValueRows,callback:function(e){t.searchValueRows=e},expression:"searchValueRows"}}),e("b-input-group-append",[e("b-button",{attrs:{size:"",variant:"outline-primary"}},[e("i",{staticClass:"fa fa-search"})])],1)],1)],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.isSidebarRows=!1}}},[t._v(t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.isSidebarRows,callback:function(e){t.isSidebarRows=e},expression:"isSidebarRows"}},[e("div",{staticClass:"p-2 table-reponsive"},[e("TableRows",{ref:"tableRefRow",attrs:{sidebar:!0,page:t.pageRows,limit:t.limitRows,list:t.listRows,loading:t.loadingRows},on:{changePage:t.changePageRow,setRow:t.setRow},scopedSlots:t._u([{key:"thead",fn:function(){return[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"5% !important"}},[t._v("№ ")]),e("th",[t._v(t._s(t.$t("submodules.templates_row.nm")))])])]},proxy:!0},{key:"pagination",fn:function(){return[t.listRows.length>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("b-pagination",{staticClass:"m-0",attrs:{size:"sm","total-rows":t.totalRows,"per-page":t.limitRows},model:{value:t.pageRows,callback:function(e){t.pageRows=e},expression:"pageRows"}})],1)]):t._e()]},proxy:!0}])})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"mr-2 d-inline-block"},[e("Back",{attrs:{to:"/report/templates"}})],1)]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"d-flex align-items-center justify-content-end"},[t.$can("create","auto-generated-doctable")?e("div",{staticClass:"mr-2 d-flex w-100 h-100 align-items-center justify-content-end"},[e("label",{staticClass:"mb-0 mr-2 mt-2",attrs:{for:"isGenerated"}},[t._v(t._s("".concat(t.$t("auto_generate_info"))))]),e("b-form-checkbox",{attrs:{switch:"",id:"isGenerated",size:"lg",value:!0,"unchecked-value":!1},on:{change:t.isGeneratedChanged},model:{value:t.isGenerated,callback:function(e){t.isGenerated=e},expression:"isGenerated"}})],1):t._e(),e("b-button-group",{staticStyle:{width:"60%"}},[e("b-button",{staticClass:"d-flex align-items-center",attrs:{type:"button",variant:"outline-primary"},on:{click:function(e){return e.preventDefault(),t.addColumns.apply(null,arguments)}}},[e("i",{staticClass:"bx bx-columns mr-1"}),t._v(" "+t._s(t.$t("selectColumns"))+" ")]),e("b-button",{staticClass:"d-flex align-items-center",attrs:{disabled:t.isGenerated,type:"button",variant:"outline-primary"},on:{click:function(e){return e.preventDefault(),t.addRows.apply(null,arguments)}}},[e("i",{staticClass:"bx bx-table mr-1"}),t._v(" "+t._s(t.$t("selectRows"))+" ")]),e("b-button",{staticClass:"d-flex align-items-center",attrs:{disabled:0==t.selectedColumns.length,type:"button",variant:"success"},on:{click:function(e){return e.preventDefault(),t.saveTableModal.apply(null,arguments)}}},[e("i",{staticClass:"bx bx-save mr-1"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)],1)])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"bg-white p-3",staticStyle:{"min-height":"75vh"}},[e("TableTemplate",{ref:"refTable",attrs:{listRows:t.selectedRows,thirdColumns:t.thirdTrIdData},scopedSlots:t._u([{key:"thead",fn:function(){return[e("tr",{staticClass:"tr-text-center"},t._l(t.firstColumns,(function(s,a){return e("th",{key:a+"first",class:t.rowspanFirstClass(s,a),staticStyle:{width:"3%"},attrs:{rowspan:t.rowspanFirst(s),colspan:t.colspanFirst(s)}},[e("div",{staticStyle:{"max-height":"200px",display:"inline-block"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:{variant:"success"},expression:"{ variant: 'success' }"}],class:1==s.isVertical?"rotate_text":"",attrs:{title:t.getName({nameLt:s.nameLt,nameRu:s.nameRu,nameUz:s.nameUz})}},[t._v(" "+t._s(t.getName({nameLt:s.nameLt,nameRu:s.nameRu,nameUz:s.nameUz}))+" ")])])])})),0),e("tr",{staticClass:"tr-text-center"},t._l(t.secondColumns,(function(s,a){return e("th",{key:a+"second",class:t.rowspanSecondClass(s),staticStyle:{width:"3%"},attrs:{rowspan:t.rowspanSecond(s),colspan:t.colspanSecond(s)}},[e("div",{staticStyle:{position:"relative",display:"inline-block",cursor:"pointer"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:{variant:"success"},expression:"{ variant: 'success' }"}],class:1==s.isVertical?"rotate_text":"",staticStyle:{"max-height":"150px"},attrs:{title:t.getName({nameLt:s.nameLt,nameRu:s.nameRu,nameUz:s.nameUz})}},[t._v(" "+t._s(t.getName({nameLt:s.nameLt,nameRu:s.nameRu,nameUz:s.nameUz}))+" ")])])])})),0),e("tr",{staticClass:"tr-text-center"},t._l(t.thirdColumns,(function(s,a){return e("th",{key:a+"third",staticClass:"thirdTrId",staticStyle:{width:"3%"},attrs:{colspan:s.children.length>0?s.children.length:1}},[e("div",{staticStyle:{"max-height":"200px",position:"relative",display:"inline-block",cursor:"pointer"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:{variant:"success"},expression:"{ variant: 'success' }"}],class:1==s.isVertical?"rotate_text":"",attrs:{title:t.getName({nameLt:s.nameLt,nameRu:s.nameRu,nameUz:s.nameUz})}},[t._v(" "+t._s(t.getName({nameLt:s.nameLt,nameRu:s.nameRu,nameUz:s.nameUz}))+" ")])])])})),0),e("tr",{staticClass:"tr-text-center"},t._l(t.thirdTrIdData,(function(s,a){return e("td",{key:a+"I-1"},[t.selectedRows.length>1?e("strong",[t._v(t._s(t.selectedRows.length>1&&0==a?"":a))]):e("strong",[t._v(t._s(a+1))])])})),0)]},proxy:!0}])})],1)])])],1)])},n=[],i=s("5530"),l=(s("e9c4"),s("d81d"),s("d3b7"),s("14d9"),s("159b"),s("fb6a"),s("4de4"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive mb-0"},[e("b-overlay",{attrs:{opacity:.1,show:t.loading,rounded:"sm"}},[e("table",{staticClass:"table table-centered table-custom-bordered-column"},[e("thead",{staticClass:"thead-light"},[t._t("thead")],2),e("tbody",[t._l(t.list,(function(s,a){return[e("Tr",{key:s.id+"Column",class:t.getClass(s)?"table-primary":"",attrs:{sidebar:t.sidebar,index:a,data:s},on:{pushData:t.pushData,isVerticalChange:t.isVerticalChange},scopedSlots:t._u([{key:"index",fn:function(){return[e("td",{staticClass:"text-center p_cursor",on:{click:function(e){return e.preventDefault(),t.pushData(s)}}},[e("strong",[t._v(t._s(t.util_paginate(a,t.limit+1,t.page-1)))])])]},proxy:!0},{key:"comment",fn:function(){return[e("td",{staticClass:"text-center"},[t._v(t._s(s.comment))])]},proxy:!0},{key:"createdDate",fn:function(){return[e("td",{staticClass:"text-center"},[t._v(t._s(s.createdDate))])]},proxy:!0},{key:"actions",fn:function(){return[t.sidebar?t._e():e("td",{staticClass:"text-center"},[s.isEditable?e("i",{staticClass:"bx bx-edit font-size-18 p_cursor text-hover-primary",on:{click:function(e){return t.$emit("showModal","edit",s)}}}):t._e(),s.isEditable?e("i",{staticClass:"bx bx-trash ml-2 font-size-18 p_cursor text-hover-danger",on:{click:function(e){return t.$emit("showModal","delete",s)}}}):t._e()])]},proxy:!0}],null,!0)})]})),0==t.list.length?e("tr",{staticClass:"text-center"},[e("td",{staticStyle:{"vertical-align":"middle"},style:t.loading?"height:50px":"height:40px",attrs:{colspan:"9"}},[e("h6",{staticClass:"m-0"},[t._v(" "+t._s(t.$t("messages.data_not_found"))+" ")])])]):t._e()],2)])])],1),t._t("pagination")],2)}),o=[],r=(s("c740"),s("a434"),s("7db0"),s("a9e3"),function(){var t=this,e=t._self._c;return e("tr",[t._t("index"),e("td",{staticClass:"p_cursor",staticStyle:{width:"70%"},on:{click:function(e){return t.$emit("pushData",t.data)}}},[e("div",{staticClass:"d-flex align-items-start align-content-center justify-content-between",staticStyle:{width:"100%",margin:"auto",height:"100%"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"dots",class:t.data.children.length>0?"rotate_text":"",style:t.getStyle(t.data.children),attrs:{title:t.getName({nameLt:t.data.nameLt,nameUz:t.data.nameUz,nameRu:t.data.nameRu})}},[e("span",{staticClass:"d-block ml-2 pre dots"},[t._v(" "+t._s(t.getName({nameLt:t.data.nameLt,nameUz:t.data.nameUz,nameRu:t.data.nameRu}))+" ")])]),e("div",{staticStyle:{"border-left":"1px solid #ccc","margin-top":"-1px","margin-bottom":"-1.5px"},style:t.data.children.length>0?"width:90%;":""},[e("div",t._l(t.data.children,(function(s,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.data.children.length>0,expression:"data.children.length > 0"}],key:s.id+"Child-1",style:a!==t.data.children.length-1?"border-bottom: 1px solid #ccc":""},[e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:s.children.length>0?"rotate_text":"",attrs:{title:t.getName({nameLt:s.nameLt,nameUz:s.nameUz,nameRu:s.nameRu})}},[e("span",{staticClass:"dots d-block ml-2",style:s.children.length?t.getStyle(s.children):""},[t._v(" "+t._s(t.getName({nameLt:s.nameLt,nameUz:s.nameUz,nameRu:s.nameRu}))+" ")])]),e("div",{staticStyle:{"border-left":"1px solid #ccc"},style:t.data.children.length>0?"width:90%":""},[e("div",t._l(s.children,(function(a,n){return e("div",{directives:[{name:"show",rawName:"v-show",value:s.children.length>0,expression:"child1.children.length > 0"}],key:a.id+"Child-1",style:n!==s.children.length-1?"border-bottom: 1px solid  #ccc":""},[e("div",[e("div",[e("span",{staticClass:"ml-2 d-block"},[t._v(" "+t._s(t.getName({nameLt:a.nameLt,nameUz:a.nameUz,nameRu:a.nameRu}))+" ")])])])])})),0)])])])})),0)])])]),t._t("comment"),e("td",{staticClass:"text-center"},[e("b-form-checkbox",{attrs:{switch:"",value:1,"unchecked-value":0},model:{value:t.data.isVertical,callback:function(e){t.$set(t.data,"isVertical",e)},expression:"data.isVertical"}})],1),t.sidebar?t._e():e("td",{staticClass:"text-center",on:{click:function(e){return t.$emit("pushData",t.data)}}},[t._v(" "+t._s(t.data.typeCode)+" ")]),t.sidebar?t._e():e("td",{staticClass:"text-center",on:{click:function(e){return t.$emit("pushData",t.data)}}},[t._v(" "+t._s(t.data.comment)+" ")]),t.sidebar?t._e():e("td",{staticClass:"text-center",on:{click:function(e){return t.$emit("pushData",t.data)}}},[t._v(" "+t._s(t.data.createdDate)+" ")]),t._t("actions")],2)}),c=[],d={data:function(){return{ischeck:!1}},methods:{getStyle:function(t){var e=0;t.forEach((function(t){e=t.children.length}));var s=0;if(t.length>0)while(s<=t.length)return s%2==0?(s++,"height:".concat(t.length+e,"0pt")):(s++,"")}},props:["data","sidebar"],watch:{"data.isVertical":{handler:function(){this.$emit("isVerticalChange",this.data)}}}},u=d,h=(s("9248"),s("2877")),m=Object(h["a"])(u,r,c,!1,null,"208260fe",null),f=m.exports,p={watch:{selectedColumn:{handler:function(t){this.$emit("setColumns",t)}},page:{handler:function(t){this.$emit("changePage",t)}}},methods:{pushData:function(t){var e=this.selectedColumn.findIndex((function(e){return e.id==t.id}));e>-1?this.selectedColumn.splice(e,1):this.selectedColumn.push(t)},isVerticalChange:function(t){var e=this.selectedColumn.findIndex((function(e){return e.id==t.id}));e>-1&&this.$set(this.selectedColumn[e],"isVertical",t.isVertical)},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.selectedColumn=t},getClass:function(t){var e=this.selectedColumn.find((function(e){return e.id==t.id}));return e&&(this.list.find((function(e){return e.id==t.id})).isVertical=this.selectedColumn.find((function(e){return e.id==t.id})).isVertical),e}},data:function(){return{selectedColumn:[]}},props:{sidebar:{default:!1,type:Boolean},page:{default:1,type:Number},limit:{default:20,type:Number},list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},components:{Tr:f}},v=p,g=Object(h["a"])(v,l,o,!1,null,null,null),b=g.exports,C=s("bbaf"),w=s("7733"),y=s("a7b9"),_=s("81aa"),x={components:{TableColumns:b,TableRows:C["a"],TableTemplate:w["a"],Create:_["a"]},watch:{isSidebarColumns:{handler:function(t){t&&this.getListColumns()}},isSidebarRows:{handler:function(t){t&&this.getListRows()}},searchValueColumns:{handler:function(){this.getListColumns()}},searchValueRows:{handler:function(){this.getListRows()}}},data:function(){return{title:this.$t("createReportTemplate"),items:[{text:this.$t("Hisobotlar"),href:"/"},{text:this.$t("reportTemplates"),href:"/report/templates"},{text:this.$t("createReportTemplate"),active:!0}],isGenerated:!1,isSidebarColumns:!1,limitColumns:20,pageColumns:1,totalColumns:0,listColumns:[],loadingColumns:!1,searchValueColumns:"",secondSelectedColumns:[],selectedColumns:[],isSidebarRows:!1,limitRows:20,pageRows:1,totalRows:0,listRows:[],loadingRows:!1,searchValueRows:"",firstColumns:[],secondColumns:[],selectedRows:[],oldSelectedRows:[],thirdColumns:[],thirdTrIdData:[],loader:!1,saveModal:!1,mode:"create"}},computed:{paramsRows:function(){return{params:{limit:this.limitRows,page:this.pageRows-1},search:this.searchValueRows}},paramsColumns:function(){return{params:{limit:this.limitColumns,page:this.pageColumns-1},search:this.searchValueColumns}}},methods:{isGeneratedChanged:function(t){t?(this.oldSelectedRows=JSON.parse(JSON.stringify(this.selectedRows)),this.selectedRows=[]):this.selectedRows=JSON.parse(JSON.stringify(this.oldSelectedRows)),console.log(this.selectedRows)},changePageRow:function(){this.getListRows()},changePageColumn:function(){this.getListColumns()},saveTableModal:function(){this.saveModal=!0},checkAndReturnIsGathered:function(t){for(var e=0;e<t.length;e++){var s=t[e];if(s.children&&s.children.length)this.checkAndReturnIsGathered(s.children);else if("BIGDECIMAL"!=s.typeCode)return!1}return!0},create:function(){var t=this;this.$refs.addRef.form.isGathered=this.checkAndReturnIsGathered(this.selectedColumns),this.$refs.addRef.form.isGenerated=this.isGenerated;var e=this.selectedColumns.map((function(t,e){return{id:t.id,index:e,isVertical:1===t.isVertical?1:0}})),s=this.selectedRows.map((function(t,e){return{id:t.id,index:e}}));this.loader=!0,this.$refs.addRef.form.generateType&&this.isGenerated||(this.$refs.addRef.form.generateType="OTHER"),y["a"].saveTable(this.$refs.addRef.form,this.selectedColumns,this.selectedRows,e,s).then((function(e){e.data&&(t.successSaved(),t.$router.push("/report/templates"))})).catch((function(t){})).finally((function(){t.loader=!1}))},update:function(){var t=this;this.loader=!0,this.$refs.addRef.form.generateType&&this.isGenerated||(this.$refs.addRef.form.generateType="OTHER"),y["a"].updateRow(this.$refs.addRef.form).then((function(e){e.data&&t.successCreateAndEdit()})).catch((function(t){})).finally((function(){t.loader=!1}))},okModal:function(t){t.preventDefault(),this.$refs.addRef.checkValidity()?this.enterInfo():"create"===this.mode?this.create():this.update()},setColumns:function(t){var e=this;this.selectedColumns=[],this.selectedColumns=t,this.firstColumns=[],this.secondColumns=[],this.thirdColumns=[],t.forEach((function(t){var s=t.isVertical;e.$set(t,"isVertical",s),e.firstColumns.push(t),t.children.forEach((function(s){s.isVertical=t.isVertical,e.secondColumns.push(s),s.children.forEach((function(s){s.isVertical=t.isVertical,e.thirdColumns.push(Object(i["a"])(Object(i["a"])({},s),{},{fId:t.id}))}))}))})),setTimeout((function(){e.thirdTrIdData=Array.prototype.slice.call(document.getElementsByClassName("thirdTrId"))}),300)},setRow:function(t){this.selectedRows=t},getListRows:function(){var t=this;this.loadingRows=!0,y["a"].getListRow(this.paramsRows).then((function(e){t.listRows=e.data.list,t.totalRows=e.data.total})).catch((function(t){})).finally((function(){t.loadingRows=!1}))},getListColumns:function(){var t=this;this.loadingColumns=!0,y["a"].getListColumnWithChildren(this.paramsColumns).then((function(e){t.listColumns=e.data.list,t.totalColumns=e.data.total})).catch((function(t){})).finally((function(){t.loadingColumns=!1}))},addRows:function(){var t=this;this.isSidebarRows=!0,setTimeout((function(){t.$refs.tableRefRow.reset(t.selectedRows)}),300)},addColumns:function(){var t=this;this.isSidebarColumns=!0,setTimeout((function(){t.$refs.tableRefColumn.reset(t.selectedColumns)}),300)},rowspanFirst:function(t){return t.children.length>0?1:(t.children.length>0&&this.thirdColumns.length,3)},colspanFirst:function(t){var e=this.thirdColumns.filter((function(e){return e.fId===t.id})),s=t.children.filter((function(t){return 0==t.children.length}));return t.children.length>0&&0==e.length?t.children.length:t.children.length>0&&e.length>0?s.length+e.length:1},rowspanSecond:function(t){return 0==t.children.length&&0==this.thirdColumns.length?1:0==t.children.length&&this.thirdColumns.length>0?2:1},colspanSecond:function(t){return t.children.length>0?t.children.length:1},rowspanFirstClass:function(t){return t.children.length>0?"":(t.children.length>0&&this.thirdColumns.length,"thirdTrId")},rowspanSecondClass:function(t){return 0==t.children.length&&0==this.thirdColumns.length||0==t.children.length&&this.thirdColumns.length>0?"thirdTrId":""}}},R=x,k=(s("9176"),Object(h["a"])(R,a,n,!1,null,null,null));e["default"]=k.exports},bbaf:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive mb-0"},[e("b-overlay",{attrs:{opacity:.1,show:t.loading,rounded:"sm"}},[e("table",{staticClass:"table table-centered table-nowrap table-hovered table-custom-bordered"},[e("thead",{staticClass:"thead-light"},[t._t("thead")],2),e("tbody",[t._l(t.list,(function(s,a){return[e("Tr",{key:s.id+"c-1",staticClass:"effect",class:t.getClass(s)?"table-primary":"",attrs:{index:a,data:s},on:{pushData:t.pushData},scopedSlots:t._u([{key:"index",fn:function(){return[e("td",{staticClass:"text-center",on:{click:function(e){return e.preventDefault(),t.pushData(s)}}},[e("strong",[t._v(t._s(t.util_paginate(a,t.limit,t.page-1)))])])]},proxy:!0},{key:"actions",fn:function(){return[t.sidebar?t._e():e("td",{staticClass:"text-center"},[e("i",{staticClass:"bx bx-edit font-size-18 p_cursor text-hover-primary",on:{click:function(e){return t.$emit("showModal","edit",s)}}}),e("i",{staticClass:"bx bx-trash ml-2 font-size-18 p_cursor text-hover-danger",on:{click:function(e){return t.$emit("showModal","delete",s)}}})])]},proxy:!0}],null,!0)})]})),0==t.list.length?e("tr",{staticClass:"text-center"},[e("td",{staticStyle:{"vertical-align":"middle"},style:t.loading?"height:50px":"height:40px",attrs:{colspan:"9"}},[e("h6",{staticClass:"m-0"},[t._v(" "+t._s(t.$t("messages.data_not_found"))+" ")])])]):t._e()],2)])])],1),t._t("pagination")],2)},n=[],i=(s("c740"),s("a434"),s("14d9"),s("7db0"),s("d3b7"),s("a9e3"),function(){var t=this,e=t._self._c;return e("tr",[t._t("index"),e("td",{staticClass:"p_cursor",staticStyle:{width:"40%"},on:{click:function(e){return t.$emit("pushData",t.data)}}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"dots",attrs:{title:t.getName({nameUz:t.data.nameUz,nameLt:t.data.nameLt,nameRu:t.data.nameRu})}},[e("span",{staticClass:"d-block ml-2 pre dots"},[t._v(" "+t._s(t.getName({nameUz:t.data.nameUz,nameLt:t.data.nameLt,nameRu:t.data.nameRu}))+" ")])])]),e("td",{staticClass:"p_cursor",on:{click:function(e){return t.$emit("pushData",t.data)}}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"dots",attrs:{title:t.data.comment}},[e("span",{staticClass:"d-block ml-2 pre dots"},[t._v(" "+t._s(t.data.comment)+" ")])])]),t._t("actions")],2)}),l=[],o={data:function(){return{}},methods:{},props:["data","sidebar"]},r=o,c=(s("2f24"),s("2877")),d=Object(c["a"])(r,i,l,!1,null,null,null),u=d.exports,h={watch:{selectedRow:{handler:function(t){this.$emit("setRow",t)}},page:{handler:function(t){this.$emit("changePage",t)}}},data:function(){return{selectedRow:[]}},methods:{pushData:function(t){var e=this.selectedRow.findIndex((function(e){return e.id==t.id}));e>-1?this.selectedRow.splice(e,1):this.selectedRow.push(t)},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.selectedRow=t},getClass:function(t){var e=this.selectedRow.find((function(e){return e.id==t.id}));return e}},props:{sidebar:{default:!1,type:Boolean},page:{default:1,type:Number},limit:{default:20,type:Number},list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},components:{Tr:u}},m=h,f=(s("b243"),Object(c["a"])(m,a,n,!1,null,"d5a05ccc",null));e["a"]=f.exports}}]);