(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4357d115","chunk-62b6a48c"],{"2f66":function(t,e,n){"use strict";n("e27e")},"7db0":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").find,a=n("44d2"),c="find",i=!0;c in[]&&Array(1)[c]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},8468:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("d9e2");function r(t){if(null==t)throw new TypeError("Cannot destructure "+t)}},"887a":function(t,e,n){"use strict";n("99af"),n("b0c0");var r=n("f2db"),o=(n("7476"),{getTemplateByCategoryId:function(t,e,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r["a"].post("templates/get-by-category/".concat(t||"","?keyword=").concat(e||""),n,o)},getTemplateListByCategoryId:function(t,e,n,o){return r["a"].post("templates/sample/list-search?keyword=".concat(n||"","&categoryId=").concat(t||"","&personType=").concat(e||""),o)},getApplicationFromDxaById:function(t){return r["a"].get("application-dxa/get-all-information?id=".concat(t||""))},getApplicationInfoBystepId:function(t,e){return r["a"].get("application-dxa/get-info/".concat(t,"/").concat(e))},getVisaAllInfoById:function(t){return r["a"].get("application-dxa/get-all-header-info?id=".concat(t||""))},getApplicationFilesBystepId:function(t,e,n){return r["a"].get("application-dxa/get-file-info/".concat(parseInt(e),"?application_id=").concat(t,"&applicationDXAId=").concat(n))},getApplicationFilesDownloadById:function(t,e){return r["a"].customRequest({url:"application-dxa/upload-file/".concat(parseInt(e),"?application_id=").concat(t),method:"GET",responseType:"blob"})},getApplicationTree:function(t){return r["a"].get("before-commission/application/get-tree/".concat(t))},petrolPricesByDate:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r["a"].post("docReport/petrol-report?fromDate=".concat(t||"","&toDate=").concat(e||"","&regionId=").concat(n||""),{},o)},testTelegramBotApi:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("docReport/petrol-data-for-telegram-bot?docTableId=".concat(t,"&petrolId=").concat(e),{},n)},fetchDateTypesByParentId:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("dateType/listByParentId/".concat(t),e,n)},getContractorBankAccounts:function(t){return r["a"].get("contractor/get-contractor-banks/".concat(t))},getContractorFounders:function(t){return r["a"].get("contractor/get-contractor-founders/".concat(t))},getContractorDirector:function(t){return r["a"].get("contractor/get-contractor-director/".concat(t))},getContractorAccounter:function(t){return r["a"].get("contractor/get-contractor-accountant/".concat(t))},approveReestrDoc:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("reestr/contractor-reestr-documents/reestr-document-confirmation/".concat(t),e)},updateReestr:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n?r["a"].post("".concat(t,"/update/").concat(n),e,o):r["a"].post("".concat(t,"/update/").concat(e.id),e,o)},getContractorsByProdectOrServiceTypeIdAndProductOrServiceId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-by-is-republic/".concat(t),{},e)},searchReestrContractorListByIndividualsGroupId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic-for-group-of-individuals/".concat(t),{},e)},searchReestrContractorListByParentId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic/".concat(t),{},e)},searchReestrHistoryListByContractorId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(t),{},e)},searchReestrListByRepublic:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(t),{},e)},getReestrByRepublic:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type-by-is-republic/by-region/".concat(t),{},e)},getReestrByRegionId:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type/by-region/".concat(e,"?regionId=").concat(t),{},n)},getProductOrServicesByTypeId:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object.assign({},e);return o.page=o.page-1,r["a"].post("directory/product-or-services/get/by-type-id/".concat(t,"?keyword=").concat(e.keyword?e.keyword:""),o,n)},savePermittedDepsByUserId:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].post("department/save/permitted/by-user-id/for-dep-perm-control/".concat(t),e,n)},fetchControlPermittedDepsByUser:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("department/get/checked/permitted/by-user-id/for-dep-perm-control/".concat(t),e)},getAdConstructionsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("contractor-advertising-construction/get-all/for-map?passportNumber=".concat(t.passportNumber,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds,"&designTypeIds=").concat(t.designTypeIds),null,e)},getAdConstructionsForMapEAuction:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("contractor-advertising-construction/get-all/for-map/e-auction?passportNumber=".concat(t.passportNumber,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds,"&designTypeIds=").concat(t.designTypeIds),null,e)},getPetrolStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("petrol/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getSugarStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("sugar/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getBakeryStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("bakery/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getFlourStationsForMap:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].post("flour/get-all/for-map?name=".concat(t.name,"&contractorIds=").concat(t.contractorIds,"&regionIds=").concat(t.regionIds,"&districtIds=").concat(t.districtIds),null,e)},getAdDesignTypesByActiveStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("directory/advertisement-design-type/get-all-by-active-status/",t)},getVolumesByActiveStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("directory/advertisement-design-type/get-all-by-active-status/",t)},getVolumeTypesByActiveStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("directory/advertisement-volume-types/get-all-by-active-status/",t)},getPrivilegeCoefficientValueByAdDesignTypeId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("directory/advertisement-design-type_privilege_coefficients/get-coefficient-by-design-type-id?designTypeId=".concat(t),e)},getCoefficientValueByZoneAndDistrictIds:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r["a"].get("directory/coefficients/get-by-district-and-zone/".concat(t,"/").concat(e),n)},getMinCollectionValueByRegionAndDistrictIds:function(t,e,n,o,a){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r["a"].get("directory/minimum-collections/get-by-region?regionId=".concat(t,"&districtId=").concat(e,"&locationTypeId=").concat(n,"&designTypeId=").concat(o,"&volumeTypeId=").concat(a||""),c)},getAdZonesByDistrictId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("directory/coefficients/get-zones/by-district-id/".concat(t),e)},getGroupOfRegion:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("directory/group-regions/get-group/by-region-id/".concat(t),e)},getAdVolumeTypesByAdLocationTypeId:function(t,e){return r["a"].get("directory/advertisement-volume-types/get-all/".concat(t),e)},getAdDesignTypesByAdLocationTypeId:function(t,e,n){return r["a"].get("directory/advertisement-design-type/get-design-types/".concat(e,"/").concat(t),n)},updateUserPasswordByAdmin:function(t,e){return r["a"].put("user/update-password/no-checking",t,e)},updateUserPassword:function(t,e){return r["a"].put("user/update-password",t,e)},updateRolePermissionsById:function(t,e){return r["a"].post("role/add-permissions/".concat(t.id),t.permissionIds,e)},permissionsListByRoleId:function(t,e){return r["a"].get("permission/list/by-role-id/".concat(t),e)},updateDepartment:function(t){return r["a"].put("department/update/".concat(t.departmentDto.id),t)},validateInnFromApi:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("contractor/check-inn-is-valid?inn=".concat(t),e)},checkAdPassportNumber:function(t){return r["a"].get("contractor-advertising-construction/check-passport-number?passportNumber=".concat(t))},checkAdPassportNumberByRegion:function(t,e){return r["a"].get("contractor-advertising-construction/check-passport-number/by-region?passportNumber=".concat(t,"&regionId=").concat(e))},findContractorByInn:function(t){return r["a"].get("department/check-inn?inn=".concat(t))},getIndividualInfoByInn:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("employee/get-by-inn-from-soliq/".concat(t),e)},getSingleContractorByInn:function(t){return r["a"].get("contractor/get-by-inn/".concat(t))},getContractorInfoByInnForCreate:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-create?inn=".concat(t,"&pinfl=").concat(e,"&isYur=").concat(Boolean(n)),o)},getContractorInfoByInnForUpdate:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-update?inn=".concat(t,"&pinfl=").concat(e,"&isYur=").concat(Boolean(n)),o)},getCuratorsForDepartment:function(){return r["a"].get("department/get-department/curators")},getGeoLocationsByParentId:function(t){return r["a"].get("geographical-region/list/by-parent-id/".concat(t))},getGeoLocationsByMultipleParentIds:function(t){return r["a"].get("geographical-region/get-all-district/by-region-ids?regionIds=".concat(t))},fetchRegions:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r["a"].get("geographical-region/get-all-region",t)},fetchRegions14:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("geographical-region/get-region-tree?keyword=".concat(t),e)},fetchRegionsForAdvertisementByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-advertisement")},fetchRegionsForPetrolByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-petrol")},fetchRegionsForSugarByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-sugar")},fetchRegionsForBakeryByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-bakery")},fetchRegionsForFlourByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-flour")},fetchRegionsForContractorReestrByCurrentUserId:function(){return r["a"].get("geographical-region/get-all-regions-by-current-user-id/for-reestr")},searchEmployeesByDep:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object.assign({},t);return o.page-=1,r["a"].post("employee/search/by-depId/".concat(e),o,n)},searchEmployeesByDepID:function(t){var e=Object.assign({},t);return e.page-=1,r["a"].post("employee/getByYurDepForSign",e)},searchEmployeesWithoutDep:function(t){var e=Object.assign({},t);return e.page-=1,r["a"].post("employee/search/without/dep",e)},createDepWithLegalInfo:function(t){return r["a"].post("department/finish",t)},getRefByCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("reference/get-code/".concat(t),e)},getRefByCodeNew:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("reference/get-reference-by-code/".concat(t),e)},getEmployeeList:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].get("employee/get-all-for-create-user/by-keyword?keyword=".concat(t),e)},getCountNotifications:function(){return r["a"].get("report/advertisement-notifications/unread-messages")},getNotificationList:function(t){var e=Object.assign({},t);return e.page-=1,r["a"].post("notification/list-search?search=".concat(e.searchTitle))},acceptById:function(t){return r["a"].post("report/advertisement-notifications/accepted-notification/".concat(t))},rejectById:function(t,e,n){var o=Object.assign({},e);return r["a"].post("report/advertisement-notifications/rejected-notification/".concat(t),o,n)},getAllReceivers:function(t,e){return r["a"].post("report/advertisement-notifications/outgoing-receivers/".concat(t),e)},getAllReceiversForReport:function(t,e){return r["a"].post("report/general-inventory-reports/outgoing-receivers/".concat(t),e)},acceptReportById:function(t){return r["a"].post("report/general-inventory-reports/accepted-report/".concat(t))},rejectReportById:function(t){return r["a"].post("report/general-inventory-reports/rejected-report/".concat(t))},makeReadNotification:function(t){return r["a"].put("notification/make-read-notification/".concat(t))},getCounts:function(){return r["a"].get("report/dashboard/get-count")},getCountsByRegion:function(){return r["a"].get("report/dashboard/get-all-counts-by-region")},sendMessageToUser:function(t){return r["a"].post("murojaat/send-message",t)}});e["a"]=o},cc29:function(t,e,n){"use strict";n.r(e);var r=n("8468"),o=(n("d81d"),n("99af"),function(){var t=this,e=t._self._c;return e("base-create-or-update-wrapper",{attrs:{"has-save-suspend":"","custom-title":t.isModeCreate?t.$t("actions.create"):t.$t("actions.update")},on:{save:t.save}},[e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(n){return Object(r["a"])(n),[e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:t.$t("column.code"),placeholder:t.$t("column.code")},model:{value:t.editingItem.code,callback:function(e){t.$set(t.editingItem,"code",e)},expression:"editingItem.code"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseTreeselectWithValidation",{ref:"parentDepVeeName",attrs:{"not-required":"",placeholder:t.$t("column.parent_department"),label:"nameUz","form-label":t.$t("column.parent_department"),options:t.departments,"show-count":!0,"default-expand-level":1,normalizer:t.normalizer,name:"parentDepVeeName"},on:{close:function(e){return t.treeClosed("parentDepVeeName")}},model:{value:t.editingItem.parentId,callback:function(e){t.$set(t.editingItem,"parentId",e)},expression:"editingItem.parentId"}})],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:t.$t("column.full_name"),placeholder:t.$t("column.full_name")},model:{value:t.editingItem.nameUz,callback:function(e){t.$set(t.editingItem,"nameUz",e)},expression:"editingItem.nameUz"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:t.$t("column.short_name"),placeholder:t.$t("column.short_name")},model:{value:t.editingItem.shortName,callback:function(e){t.$set(t.editingItem,"shortName",e)},expression:"editingItem.shortName"}})],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:t.curators.map((function(t){return t.id})),label:t.$t("column.curator"),"custom-label":t.customLabelCurators,placeholder:t.$t("column.curator"),"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:t.editingItem.curatorId,callback:function(e){t.$set(t.editingItem,"curatorId",e)},expression:"editingItem.curatorId"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseSelectWithValidation",{staticClass:"required",attrs:{rules:"required",label:t.$t("column.status"),"value-field":"id"},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v(t._s(t.$t("column.status")))])]},proxy:!0}],null,!0),model:{value:t.editingItem.statusId,callback:function(e){t.$set(t.editingItem,"statusId",e)},expression:"editingItem.statusId"}},t._l(t.statuses,(function(n,r){return e("b-form-select-option",{key:"".concat(n,"-").concat(r),attrs:{value:n.id}},[t._v(t._s(t.getName({nameRu:n.nameRu,nameLt:n.nameLt,nameUz:n.nameUz}))+" ")])})),1)],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",options:t.types.map((function(t){return t.id})),label:t.$t("submodules.department_types.title"),"custom-label":t.customLabelDepType,placeholder:t.$t("submodules.department_types.title"),"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:t.editingItem.typeId,callback:function(e){t.$set(t.editingItem,"typeId",e)},expression:"editingItem.typeId"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{attrs:{"not-required":"",label:t.$t("column.vat_code"),placeholder:t.$t("column.vat_code")},model:{value:t.contractorDto.vatCode,callback:function(e){t.$set(t.contractorDto,"vatCode",e)},expression:"contractorDto.vatCode"}})],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{staticClass:"required",attrs:{name:"INN",rules:{required:!0,regex:/\b\d{9}\b/},"with-input-append":"",mask:"#########",label:t.$t("column.inn"),placeholder:"123456789"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findContractorByInn.apply(null,arguments)}},scopedSlots:t._u([{key:"append-slot",fn:function(){return[e("b-button",{staticStyle:{padding:"2.5px 10px","font-size":"1.2rem"},attrs:{variant:"outline-primary",id:"contractorSearchButton"},on:{click:t.findContractorByInn}},[e("i",{staticClass:"mdi mdi-account-search"})])]},proxy:!0}],null,!0),model:{value:t.contractorDto.inn,callback:function(e){t.$set(t.contractorDto,"inn",e)},expression:"contractorDto.inn"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:t.$t("column.director"),placeholder:t.$t("column.director")},model:{value:t.contractorDto.director,callback:function(e){t.$set(t.contractorDto,"director",e)},expression:"contractorDto.director"}})],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{attrs:{"not-required":"",label:t.$t("column.mobile_number"),mask:"+998#########",placeholder:"+998#########"},model:{value:t.contractorDto.mobileNumber,callback:function(e){t.$set(t.contractorDto,"mobileNumber",e)},expression:"contractorDto.mobileNumber"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:t.$t("column.accounter"),placeholder:t.$t("column.accounter")},model:{value:t.contractorDto.accounter,callback:function(e){t.$set(t.contractorDto,"accounter",e)},expression:"contractorDto.accounter"}})],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",allowEmpty:!1,options:t.regions.map((function(t){return t.id})),label:t.$t("column.region"),"custom-label":t.customLabelRegion,placeholder:t.$t("column.region"),"open-direction":"bottom","max-height":600,"show-labels":!1},on:{select:t.regionSelected},model:{value:t.contractorDto.addressDto.regionId,callback:function(e){t.$set(t.contractorDto.addressDto,"regionId",e)},expression:"contractorDto.addressDto.regionId"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",allowEmpty:!1,options:t.districts.map((function(t){return t.id})),label:t.$t("column.district"),"custom-label":t.customLabelDistrict,placeholder:t.$t("column.district"),"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:t.contractorDto.addressDto.districtId,callback:function(e){t.$set(t.contractorDto.addressDto,"districtId",e)},expression:"contractorDto.addressDto.districtId"}})],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{staticClass:"required",attrs:{rules:{required:!0,regex:/\b\d{5}\b/},mask:"#####",label:t.$t("column.oked"),placeholder:"12345"},model:{value:t.contractorDto.oked,callback:function(e){t.$set(t.contractorDto,"oked",e)},expression:"contractorDto.oked"}})],1),e("b-col",{attrs:{sm:"12",md:"6"}},[e("BaseInputWithValidation",{attrs:{"not-required":"",label:t.$t("column.address"),placeholder:t.$t("column.address")},model:{value:t.contractorDto.address,callback:function(e){t.$set(t.contractorDto,"address",e)},expression:"contractorDto.address"}})],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12",md:"6"}}),e("b-col",{attrs:{sm:"12",md:"6"}})],1)]}}])})],1)}),a=[],c=n("c7eb"),i=n("1da1"),s=(n("b0c0"),n("7db0"),n("d3b7"),n("14d9"),n("03f4")),d=n("887a"),u={name:"CreateOrUpdate",components:{},data:function(){return{types:[],departments:[],curators:[],regions:[],districts:[],statuses:[],editingItem:{},isLegal:!1,contractorDto:{addressDto:{}}}},computed:{isModeCreate:function(){return"CreateDepartment"===this.$route.name},computedObserver:function(){return this.$refs.observer}},methods:{regionSelected:function(t){var e=arguments,n=this;return Object(i["a"])(Object(c["a"])().mark((function r(){var o;return Object(c["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.length>1&&void 0!==e[1]&&e[1],o||(n.contractorDto.addressDto.districtId=null),!t){r.next=5;break}return r.next=5,d["a"].getGeoLocationsByParentId(t).then((function(t){n.districts=t.data})).catch((function(t){console.log(t)}));case 5:case"end":return r.stop()}}),r)})))()},findContractorByInn:function(){var t=this;this.computedObserver.fields.INN.valid?d["a"].validateInnFromApi(this.contractorDto.inn).then((function(e){e.data?d["a"].findContractorByInn(t.contractorDto.inn).then((function(e){t.editingItem.shortName=e.data.regOrganisationDto.shortName,t.editingItem.nameUz=e.data.regOrganisationDto.fullName,t.contractorDto.accounter=e.data.regOrganisationDto.accounter,t.contractorDto.director=e.data.regOrganisationDto.director,t.contractorDto.shortName=e.data.regOrganisationDto.shortName,t.contractorDto.fullName=e.data.regOrganisationDto.fullName,t.contractorDto.addressDto.additional=e.data.regOrganisationDto.address,t.contractorDto.addressDto.districtId=e.data.regOrganisationDto.districtId,t.contractorDto.addressDto.regionId=e.data.regOrganisationDto.regionId,t.regionSelected(t.contractorDto.addressDto.regionId,!0),t.contractorDto.oked=e.data.regOrganisationDto.oked,t.contractorDto.address=e.data.regOrganisationDto.address,t.contractorDto.mobileNumber=e.data.regOrganisationDto.gdTelWork})):t.computedObserver.setErrors({INN:[t.$t("validator.inn")]})})).catch((function(t){console.log(t)})):this.computedObserver.refs.INN.validate()},customLabelDepType:function(t){var e=this.types.find((function(e){return e.id==t}));return e?"".concat(this.getName({nameRu:e.nameRu,nameLt:e.nameLt,nameUz:e.nameUz})):""},customLabelDistrict:function(t){var e=this.districts.find((function(e){return e.id==t}));return e?"".concat(this.getName({nameRu:e.nameRu,nameLt:e.nameLt,nameUz:e.nameUz})):""},customLabelRegion:function(t){var e=this.regions.find((function(e){return e.id==t}));return e?"".concat(this.getName({nameRu:e.nameRu,nameLt:e.nameLt,nameUz:e.nameUz})):""},customLabelCurators:function(t){var e=this.curators.find((function(e){return e.id==t}));return e?"".concat(this.getName({nameRu:e.nameRu,nameLt:e.nameLt,nameUz:e.nameUz})):""},treeClosed:function(t){this.computedObserver.refs[t].validate()},normalizer:function(t){return t.children&&0!==t.children.length?{id:t.id,label:this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz}),children:t.children&&t.children.length>0?t.children:[]}:(delete t.children,{id:t.id,label:this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})})},customFilter:function(t,e,n){var r=t.name.toLowerCase(),o=t.code.toLowerCase(),a=e.toLowerCase();return r.indexOf(a)>-1||o.indexOf(a)>-1},save:function(){var t=this;this.computedObserver.validate().then((function(e){if(e)if(t.editingItem.id){t.isLegal&&t.contractorDto&&t.contractorDto.inn&&(t.editingItem.inn=t.contractorDto.inn);var n={contractorDto:t.isLegal?Object.assign({},t.contractorDto):{},departmentDto:Object.assign({},t.editingItem)};d["a"].updateDepartment(n).then((function(e){t.computedObserver.reset(),t.editingItem=Object.assign({},{}),t.$router.go(-1),t.$toast(t.$t("messages.saved_successfully"),{type:"success"})}))}else if(t.isLegal&&t.contractorDto&&t.contractorDto.inn){t.editingItem.inn=t.contractorDto.inn;var r={contractorDto:Object.assign({},t.contractorDto),departmentDto:Object.assign({},t.editingItem)};d["a"].createDepWithLegalInfo(r).then((function(e){t.computedObserver.reset(),t.editingItem=Object.assign({},{}),t.$router.go(-1),t.$toast(t.$t("messages.saved_successfully"),{type:"success"})}))}else{var o={departmentDto:Object.assign({},t.editingItem)};s["a"].create("department",o).then((function(e){t.computedObserver.reset(),t.editingItem=Object.assign({},{}),t.$router.go(-1),t.$toast(t.$t("messages.saved_successfully"),{type:"success"})}))}else t.$toast(t.$t("messages.fill_required_fields"),{type:"error"})}))}},created:function(){var t=this;return Object(i["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.var_default_search_payload.itemsPerPage=500,!t.isModeCreate){e.next=7;break}return t.isLegal=!0,e.next=5,s["a"].getEmptyCustomUrl("department/get/legal-empty",!0).then((function(e){t.editingItem=Object.assign({},e.data.departmentDto),t.contractorDto=Object.assign({},e.data.contractorDto),t.$route.params.parentDepId&&(t.editingItem.parentId=t.$route.params.parentDepId)})).catch((function(t){console.log(t)}));case 5:e.next=9;break;case 7:return e.next=9,s["a"].getById("department",t.$route.params.id,!0).then((function(e){t.editingItem=e.data.departmentDto,t.contractorDto=e.data.contractorDto,t.editingItem.inn&&(t.isLegal=!0)})).catch((function(t){console.log(t)}));case 9:return e.next=11,s["a"].searchList("department",t.var_default_search_payload).then((function(e){e.data.id&&t.departments.push(e.data)})).catch((function(t){console.log(t)}));case 11:return e.next=13,d["a"].getCuratorsForDepartment().then((function(e){t.curators=e.data})).catch((function(t){console.log(t)}));case 13:return e.next=15,s["a"].searchList("directory/department-type",t.var_default_search_payload).then((function(e){t.types=e.data.list})).catch((function(t){console.log(t)}));case 15:return e.next=17,d["a"].getRefByCode("status").then((function(e){if(t.statuses=e.data.children,t.isModeCreate){var n=t.statuses.find((function(t){return"ACTIVE"==t.code}));n&&(t.editingItem.statusId=n.id)}})).catch((function(t){console.log(t)}));case 17:return e.next=19,d["a"].fetchRegions().then((function(e){t.regions=e.data,t.regionSelected(t.contractorDto.addressDto.regionId,!0)})).catch((function(t){console.log(t)}));case 19:case"end":return e.stop()}}),e)})))()}},l=u,g=(n("2f66"),n("2877")),p=Object(g["a"])(l,o,a,!1,null,"67e81c48",null);e["default"]=p.exports},e27e:function(t,e,n){}}]);