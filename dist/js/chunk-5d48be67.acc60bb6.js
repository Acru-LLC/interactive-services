(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d48be67"],{8468:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("d9e2");function i(e){if(null==e)throw new TypeError("Cannot destructure "+e)}},"8e88":function(e,t,a){"use strict";a.r(t);var i=a("8468"),n=function(){var e=this,t=e._self._c;return t("b-overlay",{attrs:{opacity:.1,show:e.loader,"z-index":"1000",rounded:"sm"}},[t("base-create-or-update-wrapper",{attrs:{"custom-title":e.$t("actions.upload"),"has-save-suspend":""},on:{save:e.save}},[t("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(a){return Object(i["a"])(a),[t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[t("BaseFileUploaderWithValidation",{attrs:{"data-vv-name":"file","data-vv-as":"file",multiple:!1,"max-files":1,maxFilesize:100,label:e.$t("actions.excel_file_upload")},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),t("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[t("p",[e._v(" "+e._s(e.$t("actions.download_template"))+" ")]),t("a",{staticClass:"btn btn-info",attrs:{target:"_blank",href:e.getTemplateUrl,download:""}},[e._v(" "+e._s(e.$t("actions.download_template"))+" ")])])],1)]}}])})],1)],1)},o=[],r=a("c7eb"),l=a("1da1"),s=(a("b0c0"),a("ee24")),c={data:function(){return{file:null,loader:!1}},computed:{computedObserver:function(){return this.$refs.observer},isRealization:function(){return"IntegrationPriceStockRealizationUpload"===this.$route.name},getTemplateUrl:function(){return this.isRealization?"/template/integration/price-stock/birja-realizatsiya-shablon.xlsx":"/template/integration/price-stock/birja-vstavlenie-s-realizatsiei-shablon.xlsx"}},watch:{},methods:{save:function(){var e=this;this.computedObserver.validate().then(function(){var t=Object(l["a"])(Object(r["a"])().mark((function t(a){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loader=!0,!a){t.next=16;break}if(e.loader=!0,!e.isRealization){t.next=8;break}return t.next=6,s["a"].uploadByExcelRealization(e.file[0]).then((function(t){e.file=null}));case 6:t.next=10;break;case 8:return t.next=10,s["a"].uploadByExcelEmbeddingRealization(e.file[0]).then((function(t){e.file=null}));case 10:e.computedObserver.reset(),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"}),e.loader=!1,t.next=18;break;case 16:e.$toast(e.$t("messages.fill_required_fields"),{type:"error"}),e.loader=!1;case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},d=c,u=a("2877"),p=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=p.exports},ee24:function(e,t,a){"use strict";var i=a("5530"),n=a("f2db"),o={listEmbeddingRealization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n["a"].post("price/stock/product/list/embedding-realization?keyword=".concat(e),Object(i["a"])(Object(i["a"])({},t),{},{page:t.page-1}),a)},getEmbeddingRealizationById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("price/stock/product/get-embedding-realization-by-id/".concat(e),{},t)},uploadByExcelEmbeddingRealization:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new FormData;return a.append("file",e.file),n["a"].formDataFile("price/stock/product/uploadByExcel/embedding-realization",a,t)},listRealization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n["a"].post("price/stock/product/list/realization?keyword=".concat(e),Object(i["a"])(Object(i["a"])({},t),{},{page:t.page-1}),a)},getRealizationById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("price/stock/product/get-realization-by-id/".concat(e),{},t)},uploadByExcelRealization:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new FormData;return a.append("file",e.file),n["a"].formDataFile("price/stock/product/uploadByExcel/realization",a,t)}};t["a"]=o}}]);