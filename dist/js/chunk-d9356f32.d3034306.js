(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9356f32"],{"1f92":function(t){t.exports=JSON.parse('{"app_name":"FAIRTECH.UZ","app_short_name":"FT","app_made_by_1":"dataprizma.uz","api_url":"app.fairtech.uz","api_request_type":"http","app_test":false,"api_keys":["fairtech.uz","A5788A817D8546933F8611208D736225C5A087519C1506CBEC86A0E93ACC5B36E3C9587652A8EC2452BD1FD77DE165BFA8DD84695E2AEA49816A00581B053AF3","localhost","96D0C1491615C82B9A54D9989779DF825B690748224C2B04F500F370D51827CE2644D8D4A82C18184D73AB8530BB8ED537269603F61DB0D03D2104ABF789970B","127.0.0.1","A7BCFA5D490B351BE0754130DF03A068F855DB4333D43921125B9CF2670EF6A40370C646B90401955E1F7BC9CDBF59CE0B2C5467D820BE189C845D0B79CFC96F","null","E0A205EC4E7B78BBB56AFF83A733A1BB9FD39D562E67978CC5E7D73B0951DB1954595A20672A63332535E13CC6EC1E1FC8857BB09E0855D7E76E411B6FA16E9D"],"app_version":"1.0.1","call_center_number":"+998 78 122 99 07"}')},"1ff1":function(t,e,n){t.exports=n.p+"img/loginBack.9623020b.png"},2532:function(t,e,n){"use strict";var a=n("23e7"),r=n("e330"),i=n("5a34"),s=n("1d80"),c=n("577e"),o=n("ab13"),u=r("".indexOf);a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~u(c(s(this)),c(i(t)),arguments.length>1?arguments[1]:void 0)}})},"31c7":function(t,e,n){"use strict";n("7292")},6102:function(t,e,n){},7292:function(t,e,n){},"83fa":function(t,e,n){t.exports=n.p+"img/user.01bed0d6.png"},8468:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("d9e2");function a(t){if(null==t)throw new TypeError("Cannot destructure "+t)}},"9db4":function(t,e,n){"use strict";n("6102")},"9efe":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"container-fluid p-0",staticStyle:{position:"absolute"}},[e("div",{staticClass:"row g-0"},[t._m(1),e("div",{staticClass:"col-xl-7"},[e("div",{staticClass:"auth-full-page-content justify-content-center p-md-5 p-4"},[e("div",{staticClass:"w-100"},[e("div",{staticClass:"d-flex flex-column h-100"},[e("div",{staticClass:"my-auto"},[t._m(2),t._t("default")],2),e("div",{staticClass:"mt-4 mt-md-5 text-center"},[e("p",{staticClass:"mb-0"},[t._v(" © "+t._s((new Date).getFullYear())+" ACRU. Developed by "),e("a",{attrs:{href:"https://dataprizma.uz"}},[t._v("Dataprizma LLC")])])])])])])])])])])},r=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"preloader"}},[e("div",{attrs:{id:"status"}},[e("div",{staticClass:"spinner-chase"},[e("div",{staticClass:"chase-dot"}),e("div",{staticClass:"chase-dot"}),e("div",{staticClass:"chase-dot"}),e("div",{staticClass:"chase-dot"}),e("div",{staticClass:"chase-dot"}),e("div",{staticClass:"chase-dot"})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-xl-5"},[e("img",{staticClass:"auth-logo-dark",staticStyle:{position:"fixed",width:"100%",height:"100%",bottom:"0"},attrs:{src:n("1ff1")}}),e("div",{staticClass:"auth-full-bg"},[e("div",{staticClass:"w-100 pt-lg-5 p-4 auth-gerb-bg"},[e("div",{staticClass:"d-flex h-100 flex-column"},[e("div",{staticClass:"p-4"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"text-center mt-5"},[e("img",{staticStyle:{position:"relative",left:"30%"},attrs:{src:n("bcc2"),height:"200"}})])])])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-login-title"},[e("h4",{staticClass:"mb-0"},[t._v("FAIR TECH")]),e("h4",[t._v("ягона ахборот тизими")])])}],i=(n("f2db"),{components:{}}),s=i,c=(n("31c7"),n("2877")),o=Object(c["a"])(s,a,r,!1,null,"cd692078",null);e["a"]=o.exports},bcc2:function(t,e,n){t.exports=n.p+"img/acru-logo-with-name.60635187.svg"},c087:function(t,e,n){t.exports=n.p+"img/company.266eb133.png"},fc87:function(t,n,a){"use strict";a("14d9");var r=function(){var t=this,e=t._self._c;return e("div",[e("b-card",{staticClass:"e-signs-wrapper-card"},[e("b-card-title",[e("b-row",[e("b-col",{attrs:{md:"4",sm:"12"}},[e("h4",[t._v(t._s(t.$t("auth.e_signatures")))])]),e("b-col",{attrs:{md:"5",sm:"12"}},[e("b-form-input",{attrs:{size:"sm",placeholder:t.$t("auth.e_sign_search")},on:{input:t.debounceSearch},scopedSlots:t._u([{key:"append-content",fn:function(){return[e("i",{staticClass:"mdi mdi-search"})]},proxy:!0}]),model:{value:t.SearchText,callback:function(e){t.SearchText=e},expression:"SearchText"}})],1),t.forLogin?e("b-col",{staticClass:"text-sm-end",attrs:{sm:"3"}},[e("b-button",{staticClass:"btn btn-warning",attrs:{size:"sm"},on:{click:function(e){return t.$router.push({name:"Login"})}}},[t._v(" "+t._s(t.$t("actions.back"))+" ")])],1):t._e()],1)],1),e("b-card-body",{style:t.forLogin?{"max-height":"60vh",overflow:"auto"}:""},[t.loading?e("div",[e("div",{staticStyle:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0","background-color":"rgb(255, 255, 255, 0.4)"}},[e("div",{staticStyle:{position:"absolute",bottom:"50%",left:"50%",transform:"translateX(-50%)"}},[e("b-spinner",{attrs:{color:"success"}})],1)])]):e("div",[0===t.keysList.length?e("div",[e("b-card",{attrs:{md:"12",sm:"12"}},[e("b-card-body",[e("h1",{staticClass:"text-center text-danger"},[t._v(" "+t._s(t.$t("auth.no_e_signatures_found"))+" ")])])],1)],1):e("b-row",t._l(t.keysList,(function(n,a){return e("b-col",{key:"signkey-".concat(a),attrs:{md:t.forLogin?6:4,sm:6,xl:t.forLogin?6:3}},[e("b-card",{staticClass:"mr-3 mb-3 e-sign-card p-0",attrs:{"accent-color":"primary","body-class":"p-0"}},[e("b-card-title",[t._v(t._s(n.serialNumber)+" - "+t._s(n.CN))]),e("b-card-body",[e("b-row",[e("p",{staticClass:"ml-2"},[e("i",{staticClass:"mdi mdi-file-key-outline",staticStyle:{color:"#556ee6","font-size":"2.5rem"}}),e("b",[t._v(t._s(t.$t("auth.certificate_number")))]),t._v(": "+t._s(n.serialNumber)+" ")])]),e("b-row",[e("p",{staticClass:"ml-2 mt-2"},[e("b",[t._v(t._s(t.$t("column.inn")))]),t._v(": "+t._s(n.TIN))])]),e("b-row",[e("p",{staticClass:"ml-2"},[e("b",[t._v(t._s(t.$t("column.fio")))]),t._v(": "+t._s(n.CN))])]),e("b-row",[e("p",{staticClass:"ml-2"},[e("b",[t._v(t._s(t.$t("auth.organisation")))]),t._v(": "+t._s(n.O))])]),e("b-row",[e("p",{staticClass:"ml-2"},[e("b",{staticClass:"small"},[t._v(t._s(t.$t("auth.certificate_validity_period")))]),t._v(": "+t._s(t.getDateFormat(n.validFrom))+" - "+t._s(t.getDateFormat(n.validTo))+" ")]),e("p")])],1),e("footer",{staticClass:"d-flex justify-content-end"},[n.expired?e("b",{staticClass:"text-danger"},[t._v(" "+t._s(t.$t("auth.certificate_expired"))+" ")]):t.signSelectBtnDisabled?e("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:""}},[t._v(" "+t._s(t.$t("auth.continue_with_this_signature"))+" ")]):e("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.openSignModal(n)}}},[t._v(" "+t._s(t.$t("auth.continue_with_this_signature"))+" ")])])],1)],1)})),1)],1)]),t.forLogin?t._e():e("footer",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.$router.push({name:"Login"})}}},[t._v(" "+t._s(t.$t("actions.back"))+" ")])])],1)],1)},i=[],s=a("c7eb"),c=a("1da1"),o=(a("4de4"),a("d3b7"),a("caad"),a("2532"),a("b0c0"),a("e9c4"),a("25f0"),a("4df5")),u=a("1f92"),l=3,d=37,f="Ошибка соединения с E-IMZO. Возможно у вас не установлен модуль E-IMZO или Браузер E-IMZO.",p="Браузер не поддерживает технологию WebSocket. Установите последнюю версию браузера.",b='ВНИМАНИЕ !!! Установите новую версию приложения E-IMZO или Браузера E-IMZO.<br /><a href="https://e-imzo.uz/main/downloads/" role="button">Скачать ПО E-IMZO</a>',m="Пароль неверный.",h={props:{forLogin:{type:Boolean,default:!1},dataToSign:{default:function(){}}},name:"ESigns",data:function(){return{signSelectBtnDisabled:!1,openConfirmModal:!1,signModal:!1,SearchText:"",alertShow:!1,alertMsg:"",alertType:"",dataToSignIfNot:{},publicPath:"/",Invoice:{},pkcs7:null,signByImzoText:null,vo:null,keysList:[],fullKeyList:[],alertMessage:null,showMessage:!1,currentAlertCounter:5,loading:!1,confirmDialog:!1,isYur:null,currentItem:null,modalTitle:null,loadingButton:!1,AppSettings:u}},methods:{debounceSearch:function(t){var e=this;clearTimeout(e.debounce),e.debounce=setTimeout((function(){e.keyFilter(t)}),500)},keyFilter:function(t){var e=t.toUpperCase();this.keysList=e?this.fullKeyList.filter((function(t){if(t.CN.includes(e)||t.O.includes(e)||t.T.includes(e)||t.TIN.includes(e)||t.UID.includes(e)||t.name.includes(e)||t.serialNumber.includes(e))return t})):this.fullKeyList},signByEimzo:function(){var t=this;return Object(c["a"])(Object(s["a"])().mark((function e(){var n,a,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loadingButton=!0,n=t,a=null,t.dataToSign&&t.dataToSign.key?a=JSON.stringify({key:t.dataToSign.key,inn:t.dataToSign.inn}):t.dataToSignIfNot&&t.dataToSignIfNot.key&&(a=JSON.stringify({key:t.dataToSignIfNot.key,PNFL:t.dataToSignIfNot.PNFL,TIN:t.dataToSignIfNot.TIN,INN:t.dataToSignIfNot.INN})),r=new Promise((function(t,e){EIMZOClient.loadKey(n.currentItem,(function(r){EIMZOClient.createPkcs7(r,a,null,(function(e){t(e)}),(function(t,a){e("error"),n.loadingButton=!1,a?-1!==a.indexOf("BadPaddingException")&&n.$toast(m,{type:"error"}):(document.getElementById("keyId").innerHTML="",n.$toast(p,{type:"error"})),t&&n.wsError(t)}))}),(function(t,a){e("error"),n.loadingButton=!1,a?-1!==a.indexOf("BadPaddingException")?n.$toast(m,{type:"error"}):n.$toast(a,{type:"error"}):n.$toast(p,{type:"error"}),t&&n.wsError(t)}))})),r.then((function(t){n.$emit("sign",t,n.dataToSignIfNot.TIN,n.dataToSignIfNot.PNFL,n.dataToSignIfNot.INN)}),(function(t){console.log(t)})).finally((function(){n.confirmDialog=!1,n.loadingButton=!1}));case 6:case"end":return e.stop()}}),e)})))()},continueRegistration:function(t){var e=this;return Object(c["a"])(Object(s["a"])().mark((function n(){var a;return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=9;break}if(!e.forLogin){n.next=6;break}return n.next=4,e.signByEimzo();case 4:n.next=9;break;case 6:e.signSelectBtnDisabled=!0,a=!!e.currentItem.T&&e.currentItem.TIN!==e.currentItem.UID,o["c"].isOrgRegistered(e.currentItem.TIN,e.currentItem.PINFL,e.currentItem.UID,a,e.currentItem.T).then((function(t){var n={responseData:t.data,currentItem:e.currentItem};e.$emit("keySelected",n)})).catch((function(t){console.log(t)})).finally((function(t){e.signSelectBtnDisabled=!1}));case 9:case"end":return n.stop()}}),n)})))()},appLoad:function(){var t=this;return Object(c["a"])(Object(s["a"])().mark((function e(){var n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,EIMZOClient.API_KEYS=u.api_keys,e.next=4,EIMZOClient.checkVersion(function(){var t=Object(c["a"])(Object(s["a"])().mark((function t(e,a){var r,i;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=100*l+d,i=100*parseInt(e)+parseInt(a),!(i<r)){t.next=6;break}n.$toast(b,{type:"error"}),t.next=8;break;case 6:return t.next=8,EIMZOClient.installApiKeys(Object(c["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.uiLoadKeys();case 2:case"end":return t.stop()}}),t)}))),(function(t,e){n.loading=!1,e?n.$toast(e,{type:"error"}):n.wsError(t,n.$t("actions.error"),"error")}));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t,e){n.loading=!1,e?n.$toast(e,{type:"error"}):n.$toast(n.$t("auth.is_e_signature_installed"),{type:"error"})}));case 4:return e.abrupt("return",1);case 5:case"end":return e.stop()}}),e)})))()},openSignModal:function(t,e){var n=this;return Object(c["a"])(Object(s["a"])().mark((function a(){var r;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=n.$createElement,n.currentItem=t,n.isYur=e,n.modalTitle=t.serialNumber+" - "+t.CN,n.dataToSign&&n.dataToSign.key){a.next=7;break}return a.next=7,o["c"].getKeyForLoginSign(t.TIN,t.UID,t.PINFL).then((function(t){n.dataToSignIfNot=t.data}));case 7:n.$bvModal.msgBoxConfirm(n.forLogin?r("h5",{class:"mb-0"},[n.$t("auth.continue_login_with_this_signature")]):r("h5",{class:"mb-0"},[n.$t("auth.continue_reg_with_this_signature")]),{okTitle:n.$t("actions.confirm"),cancelTitle:n.$t("actions.cancel")}).then(function(){var t=Object(c["a"])(Object(s["a"])().mark((function t(e){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,n.continueRegistration(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){}));case 8:case"end":return a.stop()}}),a)})))()},hideModal:function(t){this.$data[t]=!1},timestamper:function(t,e,n){return Object(c["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o["c"].getTimestamper(t).then((function(t){e(t.data.data)}));case 3:a.next=8;break;case 5:a.prev=5,a.t0=a["catch"](0),a.t0.request&&n(a.t0.request.response);case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))()},getDateFormat:function(t){var e=new Date(t),n=e.getMonth()+1;return e.getDate().toString()+"."+(n<=9?"0"+n:n).toString()+"."+e.getFullYear().toString()},getImzo:function(){var t=this;return Object(c["a"])(Object(s["a"])().mark((function e(){var n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,EIMZOClient.installApiKeys((function(){n.uiLoadKeys()}),(function(t,e){e?n.$toast(e,{type:"error"}):n.wsError(t)}));case 2:case"end":return e.stop()}}),e)})))()},uiCreateItem:function(t,e){var n=this;return Object(c["a"])(Object(s["a"])().mark((function a(){var r,i,c;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n,i=new Date,e.expired=dates.compare(i,e.validTo)>0,c=document.createElement("option"),c.value=t,c.text=e.CN,e.expired&&(c.style.color="gray",c.text=c.text+" (срок истек)"),r.keysList.push(e),r.fullKeyList.push(e),c.setAttribute("vo",JSON.stringify(e)),c.setAttribute("id",t),a.abrupt("return",c);case 12:case"end":return a.stop()}}),a)})))()},uiLoadKeys:function(){var t=this;return Object(c["a"])(Object(s["a"])().mark((function e(){var n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,EIMZOClient.listAllUserKeys(function(){var t=Object(c["a"])(Object(s["a"])().mark((function t(e,n){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return","itm-"+e.serialNumber+"-"+n);case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),function(){var t=Object(c["a"])(Object(s["a"])().mark((function t(e,a){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.uiCreateItem(e,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t,e){n.keysList=n.fullKeyList}),(function(t,e){n.$toast(f+" : "+t,{type:"error"})}));case 3:return e.abrupt("return",1);case 4:case"end":return e.stop()}}),e)})))()},wsError:function(){var t=this;return Object(c["a"])(Object(s["a"])().mark((function n(){return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:e?t.$toast(f+" : "+e,{type:"error"}):t.$toast(p,{type:"error"});case 1:case"end":return n.stop()}}),n)})))()},uiComboSelect:function(t){if(t){var e=document.getElementById(t);e.setAttribute("selected","true")}},cbChanged:function(t){document.getElementById("keyId").innerHTML=""},uiClearCombo:function(){var t=document.getElementById("user_eimzo_keys");t.length=0},uiFillCombo:function(t){document.getElementById("user_eimzo_keys");this.itemList=t}},computed:{ImgUser:function(){return a("83fa")},ImgCompany:function(){return a("c087")}},created:function(){var t=this;this.loading=!0,this.appLoad().catch((function(e){t.loading=!1})),this.loading=!1}},g=h,v=(a("9db4"),a("2877")),_=Object(v["a"])(g,r,i,!1,null,"0fb03560",null);n["a"]=_.exports}}]);