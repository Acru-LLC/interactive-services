(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c56c6ca2"],{"0df3":function(e,t,n){},"11c7":function(e,t,n){"use strict";n("0df3")},"4bec":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("b-card",{staticClass:"h-100",attrs:{"no-body":""}},[t("b-card-body",[t("b-card-title",{staticClass:"headline d-flex justify-content-between align-items-center"},[t("b-btn",{staticClass:"text-capitalize",attrs:{variant:"warning"},on:{click:e.goBack}},[e._v(" "+e._s(e.$t("actions.back"))+" ")])],1)],1),t("div",{staticClass:"no-licence",staticStyle:{position:"relative !important"}},[t("froala",{ref:"editorRef",attrs:{id:"edit",tag:"textarea",config:e.config},model:{value:e.editingItem.bodyHtml,callback:function(t){e.$set(e.editingItem,"bodyHtml",t)},expression:"editingItem.bodyHtml"}})],1)],1)},i=[],r=n("c7eb"),o=n("1da1"),s=(n("b0c0"),n("7db0"),n("d3b7"),n("adc8"),n("0abf"),n("ee3e"),n("9144"),n("42c1"),n("399e"),n("dfa9")),c=n.n(s),l=(n("b9e7"),n("93c1")),d=n("03f4"),u=(n("9225"),n("2b0e"));n("56d7");u["default"].use(c.a);var f="templates",m={name:"CreateForm",props:{customIsModeCreate:{type:Boolean,default:!1}},watch:{text:{handler:function(e){this.$emit("changeText",e)}}},components:{},data:function(){var e=this;return{text:"",editor:null,config:{tableStyles:{class1:"No borders"},embedlyScriptPath:"",imageInsertButtons:["imageUpload","|","imageByURL"],language:"ru",events:{"image.beforeUpload":function(t){var n=e.$refs.editorRef.getEditor();if(t.length>0){var a=new FileReader;a.onload=function(e){var t=e.target.result;n.image.insert(t,null,null,n.image.get())},a.readAsDataURL(t[0])}return n.popups.hideAll(),!1}},documentReady:!0,fontSize:["3","4","6","8","9","10","11","12","14","16","18","22","24","30","36","48","60","72","96"],fontFamilyDefaultSelection:"Times New Roman",toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","textColor","backgroundColor","fontFamily","fontSize","lineHeight","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","insertImage","insertTable","html","|","specialCharacters"],charCounterCount:!1,tabSpaces:4,height:600,fontSizeUnit:"pt",placeholderText:""},categoryId:null,category:[],editingItem:{},statuses:[]}},computed:{isModeCreate:function(){return this.customIsModeCreate?this.customIsModeCreate:"CreateTemplates"===this.$route.name},computedObserver:function(){return this.$refs.observer}},methods:{goBack:function(){this.$router.go(-1)},setTextContent:function(e){this.editingItem.bodyHtml=e},customLabelCategory:function(e){var t=this.category.find((function(t){return t.id===e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},fetchCategoryList:function(){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l["a"].searchList("template/category",this.var_default_search_payload,null,!0).then((function(n){e.category=n.data.list,t()})).catch((function(e){console.log(e)}))},treeClosed:function(e){this.computedObserver.refs[e].validate()},normalizer:function(e){return e.children&&0!==e.children.length?{id:e.id,label:e.name,children:e.children&&e.children.length>0?e.children:[]}:(delete e.children,{id:e.id,label:e.name})},save:function(){var e=this;this.computedObserver.validate().then((function(t){t?e.editingItem.id?d["a"].update(f,e.editingItem).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):d["a"].create(f,e.editingItem).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):e.$toast(e.$t("messages.fill_required_fields"),{type:"error"})}))}},created:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.var_default_search_payload.itemsPerPage=500,t.next=3,d["a"].getById(f,e.$route.params.id,!1).then((function(t){e.editingItem=t.data})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}},g=m,h=(n("8fde"),n("11c7"),n("2877")),b=Object(h["a"])(g,a,i,!1,null,"e249321e",null);t["default"]=b.exports},"7db0":function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").find,r=n("44d2"),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),a({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},"8f78":function(e,t,n){},"8fde":function(e,t,n){"use strict";n("8f78")}}]);