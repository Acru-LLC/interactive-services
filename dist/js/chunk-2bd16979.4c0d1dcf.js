(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bd16979"],{"0dc3":function(t,e,a){"use strict";a.r(e);a("99af");var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"col-md-12 text-center"},[e("div",{staticClass:"h4 mb-4 d-inline-block"},[t._v(t._s(t.$t("submodules.reports.report_sended")))])]),e("b-modal",{attrs:{id:"widthM",scrollable:"",size:"xl",title:"".concat(t.getName({nameLt:t.selectedTrItem.docTableNameLt,nameRu:t.selectedTrItem.docTableNameRu,nameUz:t.selectedTrItem.docTableNameUz}))},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.viewReportModal=!1}}},[t._v(" "+t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.viewReportModal,callback:function(e){t.viewReportModal=e},expression:"viewReportModal"}},[t.isHasDynamicRow||t.isGeneratedRow?e("ViewReportDynamicModal",{ref:"viewReportDynamicModalRef"}):e("ViewReportModal",{ref:"viewReportModalRef"})],1),e("b-modal",{attrs:{scrollable:"","no-close-on-backdrop":!0,size:"xl",id:"doc-create-modal",title:"".concat(t.$t("actions.send"))},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.sendModal=!1}}},[t._v(" "+t._s(t.$t("actions.cancel"))+" ")]),e("b-button",{attrs:{variant:"success"},on:{click:t.sendAndSave}},[e("b-overlay",{attrs:{opacity:.1,show:t.loaderButton,rounded:"sm"}},[t._v(" "+t._s(t.$t("actions.send"))+" ")])],1)]},proxy:!0}]),model:{value:t.sendModal,callback:function(e){t.sendModal=e},expression:"sendModal"}},[e("Send",{ref:"sendRef"})],1),e("b-modal",{attrs:{"cancel-variant":"outline-danger","ok-variant":"success","no-close-on-backdrop":!0,"ok-title":t.$t("actions.save"),"cancel-title":t.$t("actions.cancel"),size:"md",title:t.$t("actions.add")},on:{close:function(e){t.showModal=!1},cancel:function(e){t.showModal=!1},ok:t.okModal},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.showModal=!1}}},[t._v(t._s(t.$t("actions.close"))+" ")]),e("b-overlay",{attrs:{opacity:.1,show:t.loader,rounded:"sm"}},[e("b-button",{attrs:{variant:"success"},on:{click:t.okModal}},[t._v(t._s(t.$t("actions.save"))+" ")])],1)]},proxy:!0}]),model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("Create",{ref:"addRef"})],1),e("b-modal",{attrs:{"cancel-variant":"outline-danger","ok-variant":"success","no-close-on-backdrop":!0,"ok-title":t.$t("actions.save"),"cancel-title":t.$t("actions.cancel"),size:"xl",title:t.$t("yuridikDep")},on:{close:function(e){t.modalShare=!1},cancel:function(e){t.modalShare=!1},ok:t.okModal},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalShare=!1}}},[t._v(t._s(t.$t("actions.close"))+" ")]),e("b-overlay",{attrs:{opacity:.1,show:t.loaderShare,rounded:"sm"}},[e("b-button",{attrs:{variant:"success"},on:{click:t.okShareModal}},[t._v(" "+t._s(t.$t("actions.send"))+" ")])],1)]},proxy:!0}]),model:{value:t.modalShare,callback:function(e){t.modalShare=e},expression:"modalShare"}},[e("Oraganizations",{ref:"organizationsRef"})],1),e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"mr-2 mb-2 d-inline-block"},[e("div",{staticClass:"d-inline-block mt-1 ml-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control rounded bg-light border-light",staticStyle:{width:"300px"},attrs:{type:"text",placeholder:t.$t("actions.search")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"mdi mdi-magnify search-icon"})])])])])])]),e("div",{staticClass:"pt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-7"},[e("Table",{ref:"tableRef",attrs:{page:t.page,limit:t.limit,list:t.list,loading:t.loading},on:{clickTr:t.clickTr,share:t.share,showModal:t.actionClick},scopedSlots:t._u([{key:"thead",fn:function(){return[e("tr",{staticClass:"tr-text-center"},[e("th",{staticClass:"text-center",staticStyle:{width:"10px !important"}},[e("span",{staticClass:"d-block"},[t._v("â„–")])]),e("th",{staticStyle:{"min-width":"150px"}},[t._v(t._s(t.$t("column.name")))]),e("th",[t._v(t._s(t.$t("submodules.reports.report_date")))]),e("th",{staticClass:"text-center",staticStyle:{"min-width":"350px"}},[t._v(t._s(t.$t("nameShakl")))]),e("th",{staticClass:"text-center",staticStyle:{"min-width":"300px"}},[t._v(" "+t._s(t.$t("titleShakl"))+" ")]),e("th",{staticClass:"text-center"},[t._v(t._s(t.$t("dateTypes")))]),e("th",[t._v(t._s(t.$t("submodules.reports.yur_department")))]),e("th",[t._v(t._s(t.$t("submodules.reports.created_datetime")))]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("column.status"))+" ")])])]},proxy:!0},{key:"pagination",fn:function(){return[t.total>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("b-pagination",{staticClass:"m-0",attrs:{size:"sm","total-rows":t.total,"per-page":t.limit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]):t._e()]},proxy:!0}])})],1),e("div",{staticClass:"col-5"},[e("div",{staticClass:"card card-body"},[e("table",{staticClass:"table m-0"},[e("tbody",[e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(" "+t._s(t.$t("date"))+" ")])]),e("td",[t._v(" "+t._s(t.selectedTrItem.reportDate)+" ")])]),e("tr",[e("td",{staticClass:"text-muted",staticStyle:{width:"35%"}},[e("b",[t._v(" "+t._s(t.$t("nameShakl"))+" ")])]),e("td",[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.docTableNameLt,nameRu:t.selectedTrItem.docTableNameRu,nameUz:t.selectedTrItem.docTableNameUz}))+" ")])]),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(" "+t._s(t.$t("titleShakl"))+" ")])]),e("td",[e("p",{staticClass:"pre m-0"},[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.docTableTitleLt,nameRu:t.selectedTrItem.docTableTitleRu,nameUz:t.selectedTrItem.docTableTitleUz}))+" ")])])]),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(" "+t._s(t.$t("dateTypes"))+" ")])]),e("td",[e("p",{staticClass:"pre m-0"},[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.dateTypeNameLt,nameRu:t.selectedTrItem.dateTypeNameRu,nameUz:t.selectedTrItem.dateTypeNameUz}))+" ")])])]),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(" "+t._s(t.$t("conditionTable"))+" ")])]),e("td",[e("p",{staticClass:"pre m-0"},[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.docTableConditionLt,nameRu:t.selectedTrItem.docTableConditionRu,nameUz:t.selectedTrItem.docTableConditionUz}))+" ")])])]),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(t._s(t.$t("whoSent")))])]),e("td",{staticClass:"pl-0"},[t.selectedTrItem.id?e("ul",{staticClass:"list-unstyled chat-list",attrs:{id:"il"}},[e("li",[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),t.selectedTrItem.employeeUploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{height:"auto",src:"".concat(t.publicPath,"/").concat(t.selectedTrItem.employeeUploadPath),alt:""}})]):t._e(),t.selectedTrItem.employeeUploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(" "+t._s(t.selectedTrItem.employeeFirstName.charAt(0))+" ")])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"font-size-14 mb-1"},[t._v(" "+t._s("".concat(t.selectedTrItem.employeeLastName," ").concat(t.selectedTrItem.employeeFirstName," ").concat(t.selectedTrItem.employeeParentName))+" ")]),e("p",{staticClass:"m-0"},[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.departmentNameLt,nameRu:t.selectedTrItem.departmentNameRu,nameUz:t.selectedTrItem.departmentNameUz}))+" ")]),e("p",{staticClass:"m-0"},[t._v(" "+t._s(t.getName({nameLt:t.selectedTrItem.positionNameLt,nameRu:t.selectedTrItem.positionNameRu,nameUz:t.selectedTrItem.positionNameUz}))+" ")])])])])]):t._e()])]),t.selectedTrItem.id?e("tr",[e("td",{staticClass:"text-muted text-center p-0",attrs:{colspan:"2"}},[e("div",{staticClass:"mt-4 mb-3"},[e("b-button",{staticClass:"mr-2",attrs:{type:"button",variant:"success"},on:{click:function(e){return t.toggleModal(!0,"copy",t.selectedTrItem)}}},[e("i",{staticClass:"mdi mdi-content-copy mr-1",staticStyle:{"font-size":"14px"}}),t._v(" "+t._s(t.$t("actions.copy"))+" ")]),e("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.actionClick("view",t.selectedTrItem)}}},[e("i",{staticClass:"fa fa-eye"}),t._v(" "+t._s(t.$t("actions.view"))+" ")])],1)])]):t._e(),e("tr",[e("td",{staticClass:"text-muted"},[e("b",[t._v(t._s(t.$t("column.receivers")))])]),e("td")])])]),e("b-overlay",{attrs:{opacity:.1,show:t.loaderReceiver,rounded:"sm"}},[e("Receivers",{attrs:{infoData:t.infoData}})],1)],1)])])])])])])])])],1)},i=[],n=(a("a4d3"),a("e01a"),a("d3b7"),a("14d9"),a("a9e0")),c=function(){var t=this,e=t._self._c;return e("div",[e("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:t.$t("column.name_uz"),"label-on-top":""},on:{input:function(e){return t.form.nameLt=t.toLatin(e)}},model:{value:t.form.nameUz,callback:function(e){t.$set(t.form,"nameUz",e)},expression:"form.nameUz"}}),e("BaseInputWithValidation",{attrs:{"not-required":"","custom-classes":"mt-3",label:t.$t("column.name_lt"),"label-on-top":""},on:{input:function(e){return t.form.nameUz=t.toCyrill(e)}},model:{value:t.form.nameLt,callback:function(e){t.$set(t.form,"nameLt",e)},expression:"form.nameLt"}}),e("BaseInputWithValidation",{attrs:{"not-required":"","custom-classes":"mt-3",label:t.$t("column.name_ru"),"label-on-top":""},model:{value:t.form.nameRu,callback:function(e){t.$set(t.form,"nameRu",e)},expression:"form.nameRu"}}),e("div",{staticClass:"mt-3"},[e("label",{staticClass:"mb-2"},[t._v(t._s(t.$t("date")))]),e("br"),e("BaseDatePickerWithValidation",{attrs:{"not-required":"","only-form-element":"",lang:"ru"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),e("div",{staticClass:"mt-3"},[e("label",{staticClass:"mb-2"},[t._v(t._s(t.$t("reportTemplates")))]),e("div",{staticClass:"p-2",staticStyle:{border:"1px solid #ccc","border-radius":"4px",cursor:"not-allowed"}},[t._v(" "+t._s(t.form.tableId?t.getName({nameUz:t.form.tableId.nameUz,nameLt:t.form.tableId.nameLt,nameRu:t.form.tableId.nameRu}):"")+" ")])]),e("div",{staticClass:"mt-3"},[e("label",{staticClass:"mb-2"},[t._v(t._s(t.$t("dateTypes")))]),e("MultiselectCustomized",{ref:"refSelect",attrs:{submitted:t.submitted,label:t.g_label_Uz("nameRu","nameLt","nameUz"),options:t.list},on:{searchItem:t.searchItem2,value:t.getValue2}})],1),t.title?e("div",{staticClass:"mt-3"},[e("label",{staticClass:"mb-2"},[t._v(t._s(t.$t("titleTable")))]),e("div",{staticClass:"border p-2"},[t._v(" "+t._s(t.getName({nameUz:t.title.titleUz,NameRu:t.title.titleRu,nameLt:t.title.titleLt}))+" ")])]):t._e()],1)},r=[],o=a("c7eb"),l=a("1da1"),d=a("5530"),u=(a("ac1f"),a("841c"),a("1dce")),m=a("a7b9"),p=a("6275"),h={components:{},validations:{form:{date:{},tableId:{},dateTypeId:{}}},mixins:[u["validationMixin"]],methods:{getListDateTypesChild:function(t){var e=this;t&&m["a"].getListDateTypesChild(this.params2,t).then((function(t){e.list=t.data.list}))},searchItem:function(t){this.search=t,this.getListTable()},getValue:function(t){this.title=t,this.form.tableId=t,this.getListDateTypesChild()},searchItem2:function(t){this.search2=t,this.getListDateTypesChild()},getValue2:function(t){this.title2=t,this.form.dateTypeId=t},checkValidity:function(){return this.submitted=!0,this.$v.form.$touch(),this.$v.form.$anyError},setFormData:function(t){this.form=Object(d["a"])(Object(d["a"])({},this.form),t),this.form.tableId={id:t.docTableId,nameLt:t.docTableNameLt,nameRu:t.docTableNameRu,nameUz:t.docTableNameUz},this.form.dateTypeId={id:t.dateTypeId,nameLt:t.dateTypeNameLt,nameRu:t.dateTypeNameRu,nameUz:t.dateTypeNameUz},this.getListDateTypesChild(t.parentDateTypeId)},getListTable:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].getOwnTable(t.params).then((function(e){e.data&&(t.valueList=e.data.list)})).catch((function(t){}));case 2:case"end":return e.stop()}}),e)})))()}},created:function(){},computed:{params:function(){return{params:{limit:20,page:0},search:this.search}},params2:function(){return{params:{limit:20,page:0},search:this.search2}}},data:function(){return{title:null,search2:"",list:[],g_label_Uz:p["m"],submitted:!1,valueList:[],search:"",form:{date:"",tableId:null,dateTypeId:null,nameUz:"",nameLt:"",nameRu:""}}}},f=h,v=a("2877"),b=Object(v["a"])(f,c,r,!1,null,null,null),g=b.exports,y=a("c2a4"),_=a("9225"),C=a("af25"),T=a("7383"),w=a("f768"),R=a("c825"),x=a("acae"),k={page:{title:_["default"].t("reportRows"),meta:[{name:"description",content:y.description}]},components:{Table:n["a"],Create:g,Oraganizations:T["a"],Send:w["a"],Receivers:C["a"],ViewReportModal:R["a"],ViewReportDynamicModal:x["a"]},data:function(){return{publicPath:"/",loaderButton:!1,indexTab:0,loaderShare:!1,title:"".concat(this.$t("organizitionalReport")," - ").concat(this.$t("createNewDoc")),items:[{text:this.$t("Hisobotlar"),href:"/"},{text:this.$t("organizitionalReport")}],tabStatus:["CREATED"],list:[],searchValue:"",page:1,limit:20,total:1,showModal:!1,mode:"create",currentSort:"block",currentSortDir:"asc",loading:!1,loader:!1,modalShare:!1,currentReport:{},selectedTrItem:{},sendModal:!1,loaderReceiver:!1,infoData:[],viewReportModal:!1,isHasDynamicRow:!1,isGeneratedRow:!1}},created:function(){this.getList()},watch:{indexTab:function(t){0==t?this.tabStatus=["CREATED"]:1==t&&(this.tabStatus=["SEND","CANCELED","APPROVED"]),this.getList()},page:function(){this.getList()},searchValue:{handler:function(){this.getList()}}},computed:{params:function(){return{params:{limit:this.limit,page:this.page-1},search:this.searchValue}}},methods:{getReceivers:function(t){var e=this;this.loaderReceiver=!0,m["a"].getReceivers(t.id).then((function(t){e.infoData=t.data})).finally((function(){e.loaderReceiver=!1}))},sendAndSave:function(){var t=this;if(this.$refs.sendRef)if(this.$refs.sendRef.selectedReview.id&&this.$refs.sendRef.selectedSignature.employeeId){this.loaderButton=!0;var e={reportId:this.selectedTrItem.id,signerId:this.$refs.sendRef.selectedSignature.employeeId,receiverDepId:this.$refs.sendRef.selectedReview.id};m["a"].sendDocReport(e).then((function(e){e.data&&(t.sendModal=!1,t.$router.push("/report/organizitional/sent"),t.successSaved())})).catch((function(t){})).finally((function(e){t.loaderButton=!1}))}else Object(p["u"])(this.$t("messages.fill_info_fully"))},clickTr:function(t){this.selectedTrItem.id==t.id?(this.selectedTrItem={},this.infoData=[],this.$refs.tableRef.resetCurrentData()):(this.selectedTrItem=t,this.getReceivers(t))},okShareModal:function(){var t=this,e=this.$refs.organizationsRef.selectedYuridik;e&&e.id?(this.loaderShare=!0,m["a"].addDepartmentTable(e,this.currentReport).then((function(){t.modalShare=!1,t.getList(),t.successSaved()})).catch((function(t){})).finally((function(){return t.loaderShare=!1}))):this.enterInfo()},share:function(t){this.currentReport=t,this.modalShare=!0},sort:function(t){t===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=t},toggleModal:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy",s=arguments.length>2?arguments[2]:void 0;this.showModal=t,this.mode=a,setTimeout((function(){e.$refs.addRef.setFormData(s)}),200)},delete:function(t){var e=this;this.cnf().then((function(a){a.value&&m["a"].deleteRow(t.id).then((function(t){e.deleteSuccess(),e.getList()})).catch((function(t){}))}))},actionClick:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;this.isHasDynamicRow=a.hasDynamicRowsForTable,this.isGeneratedRow=a.isGenerated,"delete"==e?this.delete(a):"edit"==e?this.$router.push("/report/organizitional/insert/".concat(Object(p["j"])(a.docTableId),"/?reportId=").concat(Object(p["j"])(a.id))):"view"==e?(this.viewReportModal=!0,a.hasDynamicRowsForTable||a.isGenerated?setTimeout((function(){t.$refs.viewReportDynamicModalRef.getById(a.docTableId,a.id)}),400):setTimeout((function(){t.$refs.viewReportModalRef.getById(a.docTableId,a.id,a.status)}),400)):"send"==e&&(this.sendModal=!0)},successCreateAndEdit:function(){this.getList(),"copy"==this.mode&&this.successSaved(),this.showModal=!1},create:function(t){var e=this;this.loader=!0,m["a"].createCopyDocReport(this.$refs.addRef.form).then((function(t){t.data&&(e.successCreateAndEdit(),e.$router.push("/report/organizitional/create"))})).catch((function(t){})).finally((function(){e.loader=!1}))},update:function(){var t=this;this.loader=!0,m["a"].updateRow(this.$refs.addRef.form).then((function(e){e.data&&t.successCreateAndEdit()})).catch((function(t){})).finally((function(){t.loader=!1}))},okModal:function(t){t.preventDefault(),this.$refs.addRef.checkValidity()?this.enterInfo():"copy"==this.mode?this.create():this.enterInfo()},getList:function(){var t=this;this.loading=!0,m["a"].listDocReportSent(this.params).then((function(e){t.list=e.data.list,t.total=e.data.total})).catch((function(t){})).finally((function(){t.loading=!1}))}}},D=k,S=(a("fbae"),Object(v["a"])(D,s,i,!1,null,null,null));e["default"]=S.exports},2e3:function(t,e,a){"use strict";a("b96b")},"24dd":function(t,e,a){t.exports=a.p+"img/2.bcd63d0d.png"},2532:function(t,e,a){"use strict";var s=a("23e7"),i=a("e330"),n=a("5a34"),c=a("1d80"),r=a("577e"),o=a("ab13"),l=i("".indexOf);s({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~l(r(c(this)),r(n(t)),arguments.length>1?arguments[1]:void 0)}})},"2b91":function(t,e,a){},3868:function(t,e,a){t.exports=a.p+"img/4.9daaee33.png"},"52ba":function(t,e,a){"use strict";a("c869")},6078:function(t,e,a){},7383:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("Treeselect",{class:t.submitted&&!t.selectedYuridik.length?"tr_select_red":"tr_select",attrs:{multiple:!0,normalizer:t.nrm,options:t.allYuridik,placeholder:t.$t("yuridikDep")},model:{value:t.selectedYuridik,callback:function(e){t.selectedYuridik=e},expression:"selectedYuridik"}})],1)},i=[],n=a("6275"),c=a("ca17"),r=a.n(c),o=(a("542c"),a("a7b9")),l={components:{Treeselect:r.a},data:function(){return{allYuridik:[],nrm:n["r"],selectedYuridik:[],submitted:!1}},created:function(){this.getAllYuridik()},methods:{getAllYuridik:function(){var t=this;o["a"].getAllYuridik().then((function(e){t.allYuridik=e.data})).catch((function(t){}))}}},d=l,u=a("2877"),m=Object(u["a"])(d,s,i,!1,null,null,null);e["a"]=m.exports},a383:function(t,e,a){t.exports=a.p+"img/3.af730164.png"},a9e0:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive mb-0"},[e("b-overlay",{attrs:{opacity:.1,show:t.loading,rounded:"sm"}},[e("table",{staticClass:"table table-centered table-nowrap table-hover"},[e("thead",{staticClass:"thead-light"},[t._t("thead")],2),e("tbody",[t._l(t.list,(function(a,s){return[e("Tr",{key:a.id+"c-1",class:t.currentTrData.id===a.id?"bg-soft-primary text-primary":"CANCELED"===a.status?"bg-soft-danger text-danger":"",attrs:{index:s,data:a},on:{clickTr:t.clickTr,pushData:t.pushData},scopedSlots:t._u([{key:"index",fn:function(){return[e("td",{staticClass:"text-center",on:{click:function(e){return e.preventDefault(),t.pushData(a)}}},[e("strong",[t._v(t._s(t.paginate(s,t.limit,t.page-1)))])])]},proxy:!0},{key:"name",fn:function(){return[e("td",{staticClass:"text-center"},[e("span",{staticClass:"pre text-hover-primary p_cursor"},[t._v(" "+t._s(t.getName({nameLt:a.docTableNameLt,nameRu:a.docTableNameRu,nameUz:a.docTableNameUz}))+" ")])])]},proxy:!0},{key:"docName",fn:function(){return[e("td",{staticClass:"text-center"},[e("span",{staticClass:"pre text-hover-primary p_cursor"},[t._v(" "+t._s(t.getName({nameUz:a.nameUz,nameLt:a.nameLt,nameRu:a.nameRu}))+" ")])])]},proxy:!0}],null,!0)})]})),0===t.list.length?e("tr",{staticClass:"text-center"},[e("td",{staticStyle:{"vertical-align":"middle"},style:t.loading?"height:50px":"height:40px",attrs:{colspan:"9"}},[e("h6",{staticClass:"m-0"},[t._v(" "+t._s(t.$t("messages.data_not_found"))+" ")])])]):t._e()],2)])])],1),t._t("pagination")],2)},i=[],n=(a("a9e3"),a("c740"),a("a434"),a("14d9"),function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-text-center p_cursor",on:{click:function(e){return t.$emit("clickTr",t.data)}}},[t._t("index"),t._t("docName"),e("td",[t._v(t._s(t.data.reportDate))]),t._t("name"),e("td",[e("p",{staticClass:"pre m-0"},[t._v(" "+t._s(t.getName({nameLt:t.data.docTableTitleLt,nameUz:t.data.docTableTitleUz,nameRu:t.data.docTableTitleRu}))+" ")])]),e("td",[e("p",{staticClass:"pre m-0"},[t._v(" "+t._s(t.getName({nameLt:t.data.dateTypeNameLt,nameRu:t.data.dateTypeNameRu}))+" ")])]),e("td",{staticClass:"text-wrap"},[t._v(" "+t._s(t.getName({nameLt:t.data.yurDepNameLt,nameRu:t.data.yurDepNameRu,nameUz:t.data.yurDepNameUz}))+" ")]),e("td",{staticClass:"text-wrap"},[t._v(t._s(t.data.createdDate))]),e("td",{staticClass:"text-center"},[e("b-badge",{staticClass:"pre",attrs:{variant:t.getVariant(t.data.status)}},[t._v(" "+t._s(t.getLabel(t.data.status))+" ")])],1),t._t("actions")],2)}),c=[],r={methods:{getVariant:function(t){return"CANCEL"==t||"CANCELED"==t?"danger":"SIGN"==t||"APPROVED"==t?"success":"primary"},getLabel:function(t){return this.$t("docs_r.".concat(t))}},data:function(){return{}},props:["data"]},o=r,l=a("2877"),d=Object(l["a"])(o,n,c,!1,null,null,null),u=d.exports,m={components:{Tr:u},props:{sidebar:{default:!1,type:Boolean},page:{default:1,type:Number},limit:{default:20,type:Number},list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{selectedRow:[],currentTrData:{}}},methods:{clickTr:function(t){this.currentTrData=t,this.$emit("clickTr",t)},resetCurrentData:function(){this.currentTrData={}},pushData:function(t){var e=this.selectedRow.findIndex((function(e){return e.id===t.id}));e>-1?this.selectedRow.splice(e,1):this.selectedRow.push(t)},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.selectedRow=t}},watch:{selectedRow:{handler:function(t){this.$emit("setRow",t)}},list:function(){var t=this;this.list.length>0&&setTimeout((function(){return t.clickTr(t.list[0])}),500)}}},p=m,h=Object(l["a"])(p,s,i,!1,null,null,null);e["a"]=h.exports},af25:function(t,e,a){"use strict";a("99af");var s=function(){var t=this,e=t._self._c;return e("div",t._l(t.infoData,(function(s,i){return e("div",{key:"hhh"+i},[s.signerId?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("3868"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("actions.for_agreement")))])])]),e("div",{staticClass:"pl-4"},[e("div",{staticClass:"table-responsive border-color-custom m-0"},[e("table",{staticClass:"table table-centered m-0"},[e("tbody",[e("tr",[e("td",{staticStyle:{width:"50px"}},[s.signerUploadPath?e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath,"/").concat(s.signerUploadPath),alt:""}}):e("div",{staticClass:"avatar-sm"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(s.signerLastName.charAt(0)))+" ")])])]),e("td",[e("div",{staticClass:"d-flex align-items-center"},[e("div",[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0"},[t._v(" "+t._s("".concat(s.signerLastName," ").concat(s.signerFirstName," ").concat(s.signerParentName))+" ")])]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:s.signerYurDepNameLt,nameRu:s.signerYurDepNameRu,nameUz:s.signerYurDepNameUz}))+" ")]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:s.signerDepNameLt,nameRu:s.signerDepNameRu,nameUz:s.signerDepNameUz}))+" ")]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:s.signerPositionNameLt?s.signerPositionNameLt:"",nameRu:s.signerPositionNameRu?s.signerPositionNameRu:"",nameUz:s.signerPositionNameUz?s.signerPositionNameUz:""}))+" ")])]),e("div",[s.signed?e("i",{staticClass:"mdi ml-3 text-success mdi-check-all",staticStyle:{"font-size":"26px"}}):t._e()])]),s.signDate?e("div",{staticClass:"mt-1"},[e("b",[t._v(t._s(t.$t("dateSign")))]),t._v(" : "+t._s(s.signDate)+" ")]):t._e(),s.cancelled?e("div",[e("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[t._v(" "+t._s(t.$t("docs_r.CANCELED_TO_WORK"))+" ")]),e("br"),s.comment?e("div",[e("label",{staticClass:"mt-1 mb-0 font-size-12"},[t._v(t._s(t.$t("submodules.reports.reasonRejected"))+": ")]),e("p",{staticClass:"text-muted m-0"},[t._v(" "+t._s(s.comment)+" ")])]):t._e()],1):t._e()])])])])])])]):t._e(),s.receiverDepId?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("a383"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("actions.dep_work_with_report")))])])]),e("div",[e("div",{staticClass:"table-responsive m-0"},[e("table",{staticClass:"table table-centered m-0"},[s.id?e("tbody",[e("tr",[e("td",[e("h5",{staticClass:"font-size-14 m-0"},[e("span",{staticClass:"text-muted"},[t._v(" "+t._s("".concat(t.getName({nameLt:s.receiverPDepNameLt,nameRu:s.receiverPDepNameRu,nameUz:s.receiverPDepNameUz})))+" ")]),e("br"),t._v(" - "),e("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s("".concat(t.getName({nameLt:s.receiverDepNameLt,nameRu:s.receiverDepNameRu,nameUz:s.receiverDepNameUz})))+" ")])])])])]):t._e()])])]),s.decidedEmployeeFirstName?e("div",{staticClass:"pl-4"},[e("div",{staticClass:"table-responsive border-color-custom m-0"},[e("table",{staticClass:"table table-centered m-0"},[e("tbody",[e("tr",[e("td",{staticStyle:{width:"50px"}},[s.decidedUploadPath?e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath,"/").concat(s.decidedUploadPath),alt:""}}):e("div",{staticClass:"avatar-sm"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(s.decidedEmployeeLastName?s.decidedEmployeeLastName.charAt(0):""))+" ")])])]),e("td",[e("div",{staticClass:"d-flex align-items-center"},[e("div",[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0"},[t._v(" "+t._s("".concat(s.decidedEmployeeLastName?s.decidedEmployeeLastName:""," ").concat(s.decidedEmployeeFirstName?s.decidedEmployeeFirstName:""," ").concat(s.decidedEmployeeMiddleName?s.decidedEmployeeMiddleName:""))+" ")])]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:s.decidedPositionNameLt,nameRu:s.decidedPositionNameRu,nameUz:s.decidedPositionNameUz}))+" ")])]),e("div",[s.decidedCancelled?t._e():e("i",{staticClass:"mdi ml-3 text-success mdi-check-all",staticStyle:{"font-size":"26px"}})])]),s.decidedDate?e("div",{staticClass:"mt-1"},[e("b",[t._v(t._s(t.$t("dateSign")))]),t._v(" : "+t._s(s.decidedDate?new Date(s.decidedDate).ddmmyyyyhhmmss():"")+" ")]):t._e(),s.decidedCancelled?e("div",[e("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[t._v(" "+t._s(t.$t("docs_r.CANCELED_TO_WORK"))+" ")]),e("br"),s.decidedComment?e("div",[e("label",{staticClass:"mt-1 mb-0 font-size-12"},[t._v(t._s(t.$t("submodules.reports.reasonRejected"))+": ")]),e("p",{staticClass:"text-muted m-0"},[t._v(" "+t._s(s.decidedComment)+" ")])]):t._e()],1):t._e()])])])])])]):t._e()]):t._e()])})),0)},i=[],n={data:function(){return{publicPath:"/"}},props:{infoData:{type:Array,default:function(){return[]}}}},c=n,r=a("2877"),o=Object(r["a"])(c,s,i,!1,null,null,null);e["a"]=o.exports},b96b:function(t,e,a){},c869:function(t,e,a){},ea54:function(t,e,a){"use strict";a("caad"),a("2532");var s=function(){var t=this,e=t._self._c;return e("li",[e("div",{staticClass:"hoverable"},[e("div",{staticClass:"d-flex align-items-center",class:{bold:t.isFolder,notBold:!t.isFolder}},[t.isFolder?[e("i",{staticClass:"mdi mdi-domain building-icon",class:t.open?"mdi-domain":"mdi-office-building",on:{click:t.toggle}})]:[e("i",{staticClass:"mdi mdi-office-building-outline building-icon"})],e("p",{ref:"depRef-".concat(t.departmentForTree.id),staticClass:"dep-name",class:t.members.includes(t.departmentForTree.id)?"active":"",attrs:{id:"depId-".concat(t.departmentForTree.id)},on:{click:function(e){return t.$emit("toggleActiveClass",t.departmentForTree)}}},[t._v(" "+t._s(t.departmentForTree?t.getName({nameRu:t.departmentForTree.nameRu,nameLt:t.departmentForTree.nameLt,nameUz:t.departmentForTree.nameUz}):"")+" ")])],2),e("div",[t.members.includes(t.departmentForTree.id)?e("i",{staticClass:"mdi mdi-check-decagram delete text-primary"}):t._e()])]),t.isFolder?e("ul",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},t._l(t.departmentForTree.children?t.departmentForTree.children:[],(function(a,s){return e("org-str-tree-view",{key:s+"depChild",staticClass:"item",attrs:{"without-actions":t.withoutActions,"without-add-action":t.withoutAddAction,"without-edit-action":t.withoutEditAction,"without-delete-action":t.withoutDeleteAction,"department-for-tree":a,members:t.members},on:{addClicked:t.emitAddClicked,editClicked:t.emitEditClicked,deleteClicked:t.emitDeleteClicked,toggleActiveClass:t.emitToggleActiveClass}})})),1):t._e()])},i=[],n={name:"OrgStrTreeView",props:{departmentForTree:{type:Object,default:function(){}},members:{type:Array,default:function(){return[]}},withoutActions:{type:Boolean,default:!1},withoutAddAction:{type:Boolean,default:!1},withoutEditAction:{type:Boolean,default:!1},withoutDeleteAction:{type:Boolean,default:!1}},data:function(){return{open:!1,hoverState:!1}},computed:{isFolder:function(){return this.departmentForTree?this.departmentForTree.children&&this.departmentForTree.children.length:0}},methods:{emitAddClicked:function(t){this.$emit("addClicked",t)},emitEditClicked:function(t){this.$emit("editClicked",t)},emitDeleteClicked:function(t){this.$emit("deleteClicked",t)},emitToggleActiveClass:function(t){this.$emit("toggleActiveClass",t)},toggle:function(){this.isFolder&&(this.open=!this.open)}},created:function(){this.departmentForTree.parentId||(this.open=!0)}},c=n,r=(a("efae"),a("2877")),o=Object(r["a"])(c,s,i,!1,null,"e1a07550",null);e["a"]=o.exports},ea69:function(t,e,a){"use strict";var s=a("5530"),i=(a("99af"),a("ac1f"),a("841c"),a("f2db"));e["a"]={extended:function(t,e){var a=e.id,s=e.applicationDxaId;return i["a"].post("before-commission/application/application-review/extended?id=".concat(a,"&applicationDXAId=").concat(s),t)},viewPdfById:function(t){return i["a"].get("/docSample/convertToPdf/".concat(t))},saveHeader:function(t){var e=new FormData;return e.append("file",t),i["a"].formDataFile("/letter/saveHeader",e)},convert:function(t){return i["a"].post("/letter/letterConvert",{html:t})},getListDocumentTypeEditor:function(t){var e=t.params,a=t.search;return i["a"].post("/docSample/list?search=".concat(a),e)},createDocumentTypeEditor:function(t,e){var a=Object(s["a"])(Object(s["a"])({},e),{},{body:t});return i["a"].post("/docSample/create",a)},deleteDocumentTypeEditor:function(t){return i["a"].delete("/docSample/delete/".concat(t))},updateDocumentTypeEditor:function(t,e){return i["a"].post("/docSample/update",{id:t,body:e})},getListRoom:function(t){var e=t.params,a=t.search;return i["a"].post("/meeting-room/list?search=".concat(a),e)},createRoom:function(t){return i["a"].post("/meeting-room/create",t)},deleteRoom:function(t){return i["a"].delete("/meeting-room/delete/".concat(t))},updateRoom:function(t){return i["a"].post("/meeting-room/update",t)},getListProjectTypes:function(t){var e=t.params,a=t.search;return i["a"].post("/directoryProjectType/list?search=".concat(a),e)},createProjectTypes:function(t){return i["a"].post("/directoryProjectType/create",t)},deleteProjectTypes:function(t){return i["a"].delete("/directoryProjectType/delete/".concat(t))},updateProjectTypes:function(t){return i["a"].post("/directoryProjectType/update",t)},getListDocumentType:function(t){var e=t.params,a=t.search;return i["a"].post("/docType/list?search=".concat(a),e)},createDocumentType:function(t){var e=new FormData;return e.append("nameLt",t.nameLt),e.append("nameRu",t.nameRu),e.append("file",t.file),i["a"].formDataFile("/docType/create",e)},deleteDocumentType:function(t){return i["a"].delete("/docType/delete/".concat(t))},updateDocumentType:function(t){return i["a"].post("/docType/update",t)},getListDateTypesChild:function(t,e){var a=t.params,s=t.search;return i["a"].post("/dateType/listByParentId/".concat(e,"?search=").concat(s),a)},getListDateTypes:function(t){var e=t.params,a=t.search;return i["a"].post("/dateType/list?search=".concat(a),e)},createDateTypes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&(t.parentId=e),i["a"].post("/dateType/create",t)},deleteDateTypes:function(t){return i["a"].delete("/dateType/delete/".concat(t))},updateDateTypes:function(t,e){return e&&(t.parentId=e),i["a"].post("/dateType/update",t)},listSearchTemplateSample:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{page:0,itemsPerPage:20},s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return i["a"].post("/template-sample/list-search?keyword=".concat(t,"&type=").concat(e),a,s)},getTemplateSample:function(t){return i["a"].get("/template-sample/get-by-id/".concat(t),!0)},deleteTemplateSample:function(t){return i["a"].delete("/template-sample/delete/".concat(t),!0)},updateTemplateSample:function(t,e,a,s){var n=new FormData;return n.append("file",null===s||void 0===s?void 0:s.file),i["a"].put("/template-sample/update/".concat(t,"?writtenName=").concat(e,"&type=").concat(a),n,!0)},createTemplateSample:function(t,e,a){var s=new FormData;return s.append("file",null===a||void 0===a?void 0:a.file),i["a"].post("/template-sample/create?writtenName=".concat(t,"&type=").concat(e),s,!0)}}},efae:function(t,e,a){"use strict";a("6078")},f768:function(t,e,a){"use strict";a("99af");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"border-color-custom",staticStyle:{"min-height":"200px"}},[e("b-sidebar",{staticClass:"sidebar-part",attrs:{"backdrop-variant":"transparent",shadow:"",backdrop:"","sidebar-class":"p-0","no-header":!0,right:""},model:{value:t.isSidebar_3,callback:function(e){t.isSidebar_3=e},expression:"isSidebar_3"}},[e("MemberesSignature",{ref:"partRef_3",attrs:{notIn:!1,async:!0},on:{asyncValue:t.asyncValue_3,cancel:function(e){t.isSidebar_3=!1}}})],1),e("b-sidebar",{staticClass:"sidebar-part",attrs:{"backdrop-variant":"transparent",shadow:"",backdrop:"","sidebar-class":"p-0","no-header":!0,right:""},model:{value:t.isSidebar_2,callback:function(e){t.isSidebar_2=e},expression:"isSidebar_2"}},[e("DepartmentSignature",{ref:"partRef_2",attrs:{notIn:!1,async:!0,selectedTrItem:t.selectedTrItem},on:{asyncValue:t.asyncValue_2,cancel:function(e){t.isSidebar_2=!1}}})],1),e("div",[e("div",{staticClass:"d-flex justify-content-center"},t._l(t.sendTypeList,(function(s,i){return e("div",{key:i+"doc",staticClass:"card my-card-hovered mr-3",class:s.value==t.active?"my-card-active":"",staticStyle:{height:"13rem !important",width:"13rem !important"},style:!(t.selected_me&&"Signature"==s.value),on:{click:function(e){return e.preventDefault(),t.selectSendType(s.value)}}},[e("div",{staticClass:"card-body text-center card-design",style:t.selected_me&&"withoutAgreement"==s.value?"background-color: #dce9ff":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("img",{staticStyle:{"border-radius":"50%"},attrs:{src:"withoutAgreement"==s.value?a("24dd"):"Review"==s.value?a("a383"):a("3868"),alt:"DOC",height:"70"}})]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"mt-3 col-12"},[e("p",{staticStyle:{"font-size":"14px"}},[e("b",[t._v(t._s(s.label))])])])])])])])})),0)]),t.selected_me?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("24dd"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("actions.no_agreement_with_me")))])])])]):t._e(),t.selectedSignature.id?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("3868"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("actions.for_agreement")))])])]),e("div",[e("div",{staticClass:"table-responsive border-color-custom m-0"},[e("table",{staticClass:"table table-centered m-0"},[e("tbody",[e("tr",[e("td",{staticStyle:{width:"50px"}},[t.selectedSignature.uploadPath?e("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(t.publicPath,"/").concat(t.selectedSignature.uploadPath),alt:""}}):e("div",{staticClass:"avatar-sm mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(t.selectedSignature.fullName.charAt(0)))+" ")])])]),e("td",[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0"},[t._v(" "+t._s("".concat(t.selectedSignature.fullName))+" ")])]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:t.selectedSignature.departmentNameLt,nameRu:t.selectedSignature.departmentNameRu,nameUz:t.selectedSignature.departmentNameUz}))+" ")]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:t.selectedSignature.directoryPositionNameLt,nameRu:t.selectedSignature.directoryPositionNameRu,nameUz:t.selectedSignature.directoryPositionNameUz}))+" ")])])])])])])])]):t._e(),t.selectedReview&&t.selectedReview.id?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex align-items-center"},[e("img",{attrs:{src:a("a383"),alt:"DOC",height:"45"}}),e("h5",{staticClass:"ml-3"},[e("strong",[t._v(t._s(t.$t("actions.dep_work_with_report")))])])]),e("div",[e("div",{staticClass:"table-responsive m-0"},[e("table",{staticClass:"table table-centered m-0"},[t.selectedReview&&t.selectedReview.id?e("tbody",[e("tr",[e("td",[e("h5",{staticClass:"font-size-14 m-0"},[e("span",{staticClass:"text-muted"},[t._v(" "+t._s("".concat(t.getName({nameUz:t.selectedReview.parentNameUz,nameLt:t.selectedReview.parentNameLt,nameRu:t.selectedReview.parentNameRu})))+" ")]),e("br"),t._v(" - "),e("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s("".concat(t.getName({nameUz:t.selectedReview.nameUz,nameLt:t.selectedReview.nameLt,nameRu:t.selectedReview.nameRu})))+" ")])])])])]):t._e()])])])]):t._e()],1)},i=[],n=a("5530"),c=a("6275"),r=a("ea69"),o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card mb-0"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"button-items d-flex",staticStyle:{"justify-content":"space-between"}},[e("b-button",{staticClass:"btn-label",attrs:{variant:"primary"}},[e("i",{staticClass:"bx bx-smile label-icon"}),t._v(" "+t._s("(".concat(t.members.length,")"))+" ")]),e("span",[e("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.$emit("cancel")}}},[e("i",{staticClass:"fa fa-times"}),t._v(" "+t._s(t.$t("actions.close")))]),t.async?t._e():e("b-button",{attrs:{variant:"success"},on:{click:t.save}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)],1)]),e("div",[e("div",{staticClass:"p-4"},[e("div",{staticClass:"search-box mb-2"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"bx bx-search-alt search-icon"})])]),e("simplebar",{key:t.cmpKey+"ADS",ref:"contactsRef",style:"height:".concat(t.heightWindow-165,"px"),attrs:{"data-simplebar-auto-hide":"false",id:"contact-list"}},[e("ul",{staticClass:"list-unstyled chat-list",attrs:{id:"il"}},t._l(t.contactList,(function(a,s){return e("li",{key:a.id+"EMPLOYEE"+s,attrs:{id:t.contactList[t.contactList.length-1].id==a.id?"lid":""},on:{click:function(e){return t.pushMember(a)}}},[e("a",{attrs:{href:"javascript: void(0);"}},[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),a.uploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-sm",attrs:{height:"auto",src:"".concat(t.publicPath,"/").concat(a.uploadPath),alt:""}})]):t._e(),a.uploadPath?t._e():e("div",{staticClass:"avatar-sm align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(" "+t._s(a.fullName.charAt(0))+" ")])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"font-size-14 mb-1",class:t.check(a)},[t._v(" "+t._s("".concat(a.fullName))+" ")]),e("p",{staticClass:"m-0",class:t.check(a)},[t._v(" "+t._s(t.getName({nameLt:a.departmentNameLt,nameRu:a.departmentNameRu,nameUz:a.departmentNameUz}))+" ")]),e("p",{staticClass:"m-0",class:t.check(a)},[t._v(" "+t._s(t.getName({nameLt:a.directoryPositionNameLt,nameRu:a.directoryPositionNameRu,nameUz:a.directoryPositionNameUz}))+" ")])]),t.check(a)?e("i",{staticClass:"fas fa-user-check font-size-18 text-primary"}):t._e()])])])})),0)])],1)])])])},l=[],d=a("c7eb"),u=a("1da1"),m=a("f8cd5"),p=a("8d3b"),h={props:{notIn:{type:Boolean,default:!1},async:{type:Boolean,default:!1}},components:{simplebar:p["a"]},data:function(){return{publicPath:"/",heightWindow:window.innerHeight,contactList:[],contactPage:0,members:[],objectMembers:{},groupModal:!1,searchValue:"",cmpKey:0}},methods:{resetSelectedMembers:function(){this.objectMembers={}},reset:function(){var t=this;this.cmpKey+=1,setTimeout((function(){t.scrollActive()}),200)},scrollActive:function(){var t=this;this.$refs.contactsRef.SimpleBar&&this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,n=a.clientHeight,c=1;i-n-c<s&&t.loadMoreContact()}))},save:function(){var t=this;this.$emit("save",this.members),this.members=[],this.objectMembers={},setTimeout((function(){t.getContacts({page:0,itemsPerPage:20})}),300)},pushMember:function(t){t.id==this.objectMembers.id?this.objectMembers={}:this.objectMembers=t},check:function(t){return this.objectMembers.id==t.id&&["font-weight-bold","text-primary"]},getContacts:function(t){var e=this;m["a"].getByYurDepForSign({params:t,search:this.searchValue}).then((function(t){e.$nextTick((function(){e.contactList=t.data.list}))}))},loadMoreContact:function(){var t=this;m["a"].getByYurDepForSign({params:{page:this.contactPage+=1,itemsPerPage:20},search:this.searchValue}).then(function(){var e=Object(u["a"])(Object(d["a"])().mark((function e(a){var s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.list.length>0?t.$nextTick((function(){t.contactList=t.contactList.concat(s.list)})):t.contactPage=t.contactPage-1;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},mounted:function(){var t=document.querySelector("#contact-list .simplebar-content-wrapper");t&&t.scrollTo({top:500,behavior:"smooth"}),this.scrollActive()},created:function(){var t=this;return Object(u["a"])(Object(d["a"])().mark((function e(){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,itemsPerPage:20});case 2:case"end":return e.stop()}}),e)})))()},watch:{searchValue:{handler:function(){var t=this;return Object(u["a"])(Object(d["a"])().mark((function e(){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,itemsPerPage:20});case 2:case"end":return e.stop()}}),e)})))()}},objectMembers:{handler:function(t){var e=this;return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.async&&e.$emit("asyncValue",t);case 1:case"end":return a.stop()}}),a)})))()}}}},f=h,v=a("2877"),b=Object(v["a"])(f,o,l,!1,null,null,null),g=b.exports,y=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card mb-0"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"button-items d-flex",staticStyle:{"justify-content":"space-between"}},[e("b-button",{staticClass:"btn-label",attrs:{variant:"primary"}},[e("i",{staticClass:"bx bx-smile label-icon"}),t._v(" "+t._s("(".concat(t.members.length,")"))+" ")]),e("span",[e("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.$emit("cancel")}}},[e("i",{staticClass:"fa fa-times"}),t._v(" "+t._s(t.$t("actions.close")))]),t.async?t._e():e("b-button",{attrs:{variant:"success"},on:{click:t.save}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)],1)]),e("div",[e("div",{staticClass:"p-4"},[e("simplebar",{key:t.cmpKey+"ADS",ref:"contactsRef",style:"height:".concat(t.heightWindow-165,"px"),attrs:{"data-simplebar-auto-hide":"false",id:"contact-list"}},[e("ul",{staticClass:"list-unstyled chat-list",attrs:{id:"il"}},[e("org-str-tree-view",{staticClass:"item",attrs:{departmentForTree:{children:t.contactList},members:[t.objectMembers.id]},on:{toggleActiveClass:t.pushMember}})],1)])],1)])])])},_=[],C=a("a7b9"),T=a("ea54"),w={props:{notIn:{type:Boolean,default:!1},async:{type:Boolean,default:!1},selectedTrItem:{type:Object,default:function(){}}},components:{simplebar:p["a"],OrgStrTreeView:T["a"]},data:function(){return{heightWindow:window.innerHeight,contactList:[],contactPage:0,members:[],objectMembers:{},groupModal:!1,searchValue:"",cmpKey:0}},methods:{reset:function(){var t=this;this.cmpKey+=1,setTimeout((function(){t.scrollActive()}),200)},scrollActive:function(){var t=this;this.$refs.contactsRef.SimpleBar&&this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,s=a.scrollTop,i=a.scrollHeight,n=a.clientHeight,c=1;i-n-c<s&&t.loadMoreContact()}))},save:function(){var t=this;this.$emit("save",this.members),this.members=[],this.$set(this,"objectMembers",{}),setTimeout((function(){t.getContacts({page:0,limit:20})}),300)},pushMember:function(t){t.id===this.objectMembers.id?this.$set(this,"objectMembers",{}):this.$set(this,"objectMembers",t)},check:function(t){return this.objectMembers.id===t&&["font-weight-bold","text-primary"]},getContacts:function(t){var e=this;C["a"].listDepartmentForDocument(this.selectedTrItem.id).then((function(t){e.$nextTick((function(){e.contactList=t.data}))}))},loadMoreContact:function(){var t=this;C["a"].listDepartmentForDocument(this.selectedTrItem.id).then(function(){var e=Object(u["a"])(Object(d["a"])().mark((function e(a){var s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.data,s.length>0||(t.contactPage=t.contactPage-1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},mounted:function(){var t=document.querySelector("#contact-list .simplebar-content-wrapper");t&&t.scrollTo({top:500,behavior:"smooth"}),this.scrollActive()},created:function(){var t=this;return Object(u["a"])(Object(d["a"])().mark((function e(){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,limit:20});case 2:case"end":return e.stop()}}),e)})))()},watch:{searchValue:{handler:function(){var t=this;return Object(u["a"])(Object(d["a"])().mark((function e(){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,limit:20});case 2:case"end":return e.stop()}}),e)})))()}},objectMembers:{handler:function(t){var e=this;return Object(u["a"])(Object(d["a"])().mark((function a(){return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.async&&e.$emit("asyncValue",t);case 1:case"end":return a.stop()}}),a)})))()}}}},R=w,x=Object(v["a"])(R,y,_,!1,null,null,null),k=x.exports,D={props:{selectedTrItem:{type:Object,default:function(){return{}}}},watch:{"form.file":{handler:function(t){var e=this;if(t)if("err"==Object(c["d"])(t))this.file=null;else{var a=new FileReader;a.addEventListener("load",(function(){e.imgUrl=a.result})),a.readAsDataURL(t)}}},searchValue:{handler:function(){this.getDocTypeList()}}},components:{MemberesSignature:g,DepartmentSignature:k},computed:{params:function(){return{params:{limit:30,page:0},search:this.searchValue}}},methods:{asyncValue:function(t){this.selectedAgreement=t},asyncValue_2:function(t){var e=this.setAsync2ValueRecursive(this.$refs.partRef_2.contactList,t);t&&t.id&&e||(this.selectedReview={})},setAsync2ValueRecursive:function(t,e){for(var a=t.length,s=0;s<a;s++){if(t[s].id===e.id)return this.selectedReview=t[s];if(t[s].children&&this.setAsync2ValueRecursive(t[s].children,e))return this.selectedReview}},asyncValue_3:function(t){this.selectedSignature=t},selectSendType:function(t){this.active=t,"Agreement"==t?(this.isSidebar=!0,this.$refs.partRef.reset()):"Review"==t?(this.isSidebar_2=!0,this.$refs.partRef_2.reset()):"Signature"==t?this.selected_me?this.$toast(this.$t("error.self_sign_selected"),{type:"error"}):(this.isSidebar_3=!0,this.$refs.partRef_3.reset()):"withoutAgreement"==t&&(this.selected_me=!this.selected_me,this.selectedSignature={},this.$refs.partRef_3.resetSelectedMembers())},searchItemDocTypeList:function(t){this.searchValue=t},getValueDocTypeList:function(t){this.form.docTypeId=t?t.id:null},getDocTypeList:function(){var t=this;r["a"].getListDocumentType(this.params).then((function(e){t.docTypeList=e.data.list})).catch((function(t){}))},checkValidity:function(){return this.submitted=!0,this.$v.form.$touch(),this.$v.form.$anyError},setFormData:function(t){this.form=Object(n["a"])(Object(n["a"])({},this.form),t)}},created:function(){},data:function(){return{publicPath:"/",active:null,g_label:c["l"],searchValue:"",docTypeList:[],sendTypeList:[{label:this.$t("actions.for_agreement"),value:"Signature"},{label:this.$t("actions.no_agreement_with_me"),value:"withoutAgreement"},{label:this.$t("actions.dep_work_with_report"),value:"Review"}],submitted:!1,selected_me:!1,isSidebar:!1,isSidebar_2:!1,selectedReview:{},isSidebar_3:!1,selectedAgreement:{},selectedSignature:{}}}},S=D,N=(a("2000"),a("52ba"),Object(v["a"])(S,s,i,!1,null,"60c7e7c0",null));e["a"]=N.exports},f8cd5:function(t,e,a){"use strict";var s=a("c7eb"),i=a("1da1"),n=(a("99af"),a("ac1f"),a("841c"),a("f2db"));e["a"]={getCurrent:function(){var t=Object(i["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",n["a"].get("/employee/currentEmpId"));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getListByYurDepartment:function(t){return n["a"].post("/employee/get-by-yur-dep?name=".concat(t.search,"&yurDepId=").concat(t.yurDepId?t.yurDepId:""),t.params)},getListByYurDepartmentNotInProj:function(t){return n["a"].post("/employee/get-by-yur-dep-notInProject?name=".concat(t.search,"&projectId=").concat(t.projectId),t.params)},getCurrentUserExperience:function(){return n["a"].get("/employee/listEmployeeExperience")},lisByDepId:function(t){var e=t.id,a=t.data,s=t.search;return n["a"].post("/employee/list-by-depId/".concat(e,"?search=").concat(s),a)},getPhoneEmail:function(t){var e=t.search,a=t.pg;return n["a"].post("/employee/get-email-phone-by-yur-dep?name=".concat(e),a)},getNearBirthdays:function(){return n["a"].get("/employee/lateAnniversary")},eliminateBirthDay:function(){return n["a"].get("/employee/eliminateBirthday")},turnOffBirthDay:function(){return n["a"].get("/employee/turnOffEliminateBirthday")},getByYurDepForSign:function(t){return n["a"].post("/employee/getByYurDepForSign?keyword=".concat(t.search),t.params)},getAllInManagement:function(){return n["a"].get("/employee/get-all-employee/in-management")}}},fbae:function(t,e,a){"use strict";a("2b91")}}]);