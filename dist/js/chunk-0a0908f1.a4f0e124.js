(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a0908f1"],{"52c0":function(e,t,a){},"6e39":function(e,t,a){"use strict";a("e79b")},"7db0":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").find,s=a("44d2"),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(i)},8468:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d9e2");function n(e){if(null==e)throw new TypeError("Cannot destructure "+e)}},a459:function(e,t,a){"use strict";a("52c0")},aad5:function(e,t,a){},d1fb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("base-create-or-update-wrapper",{attrs:{"has-save-suspend":"","custom-title":e.isModeCreate?e.$t("actions.create"):e.$t("actions.update")},on:{save:e.save}},[t("CreateForm",{ref:"formPositions"})],1)},r=[],s=a("c7eb"),i=a("1da1"),o=(a("b0c0"),a("8468")),c=(a("d81d"),function(){var e=this,t=e._self._c;return t("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(a){return Object(o["a"])(a),[t("div",[t("div",[t("b-card-group",{staticStyle:{padding:"0 50px 0 50px"}},[t("b-card",{staticStyle:{border:"1px solid"},attrs:{"border-variant":"success",header:e.$t("word_templates.create_template"),"header-bg-variant":"success","header-text-variant":"white",align:"center"}},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required","label-on-top":"",options:e.category.map((function(e){return e.id})),label:e.$t("word_templates.categories"),placeholder:e.$t("word_templates.categories"),"open-direction":"bottom","show-labels":!1,"custom-label":e.customLabelCategory},on:{"search-change":e.fetchCategoryList},model:{value:e.editingItem.categoryId,callback:function(t){e.$set(e.editingItem,"categoryId",t)},expression:"editingItem.categoryId"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{staticClass:"required",attrs:{"custom-styles":"grid-template-columns: 0% 90%",rules:"required","label-on-top":"",label:e.$t("word_templates.template_name"),placeholder:e.$t("word_templates.template_name")},model:{value:e.editingItem.name,callback:function(t){e.$set(e.editingItem,"name",t)},expression:"editingItem.name"}})],1)],1),t("b-row",[t("b-col",{staticClass:"mt-3",attrs:{sm:"12",md:"12"}},[t("div",{staticClass:"no-licence",staticStyle:{position:"relative !important"}},[t("froala",{ref:"editorRef",attrs:{id:"edit",tag:"textarea",config:e.config},model:{value:e.editingItem.bodyHtml,callback:function(t){e.$set(e.editingItem,"bodyHtml",t)},expression:"editingItem.bodyHtml"}})],1)])],1)],1)],1)],1)],1)])]}}])})}),d=[],l=(a("7db0"),a("d3b7"),a("adc8"),a("0abf"),a("ee3e"),a("9144"),a("42c1"),a("399e"),a("dfa9")),u=a.n(l),m=(a("b9e7"),a("93c1")),f=a("03f4"),h=(a("9225"),a("2b0e"));h["default"].use(u.a);var p="templates",g={name:"CreateForm",props:{customIsModeCreate:{type:Boolean,default:!1}},watch:{text:{handler:function(e){this.$emit("changeText",e)}}},components:{},data:function(){var e=this;return{text:"",editor:null,config:{tableStyles:{class1:"No borders"},embedlyScriptPath:"",imageInsertButtons:["imageUpload","|","imageByURL"],language:"ru",events:{"image.beforeUpload":function(t){var a=e.$refs.editorRef.getEditor();if(t.length>0){var n=new FileReader;n.onload=function(e){var t=e.target.result;a.image.insert(t,null,null,a.image.get())},n.readAsDataURL(t[0])}return a.popups.hideAll(),!1}},documentReady:!0,fontSize:["3","4","6","8","9","10","11","12","14","16","18","22","24","30","36","48","60","72","96"],fontFamilyDefaultSelection:"Times New Roman",toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","textColor","backgroundColor","fontFamily","fontSize","lineHeight","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","insertImage","insertTable","html","|","specialCharacters"],charCounterCount:!1,tabSpaces:4,height:600,fontSizeUnit:"pt",placeholderText:""},categoryId:null,category:[],editingItem:{},statuses:[]}},computed:{isModeCreate:function(){return this.customIsModeCreate?this.customIsModeCreate:"CreateTemplates"===this.$route.name},computedObserver:function(){return this.$refs.observer}},methods:{setTextContent:function(e){this.editingItem.bodyHtml=e},customLabelCategory:function(e){var t=this.category.find((function(t){return t.id===e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},fetchCategoryList:function(){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;m["a"].searchList("template/category",this.var_default_search_payload,null,!0).then((function(a){e.category=a.data.list,t()})).catch((function(e){console.log(e)}))},getTemplatesCategory:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].searchListWithKeyword("template/category",e.var_default_search_payload).then((function(t){e.category=t.data.list})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},treeClosed:function(e){this.computedObserver.refs[e].validate()},normalizer:function(e){return e.children&&0!==e.children.length?{id:e.id,label:e.name,children:e.children&&e.children.length>0?e.children:[]}:(delete e.children,{id:e.id,label:e.name})},save:function(){var e=this;this.computedObserver.validate().then((function(t){t?e.editingItem.id?f["a"].update(p,e.editingItem).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):f["a"].create(p,e.editingItem).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):e.$toast(e.$t("messages.fill_required_fields"),{type:"error"})}))}},created:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.var_default_search_payload.itemsPerPage=500,!e.isModeCreate){t.next=6;break}return t.next=4,f["a"].getEmpty(p).then((function(t){e.editingItem=t.data})).catch((function(e){console.log(e)}));case 4:t.next=8;break;case 6:return t.next=8,f["a"].getById(p,e.$route.params.id,!1).then((function(t){e.editingItem=t.data})).catch((function(e){console.log(e)}));case 8:return t.next=10,e.getTemplatesCategory();case 10:case"end":return t.stop()}}),t)})))()}},b=g,v=(a("ed3d"),a("a459"),a("2877")),y=Object(v["a"])(b,c,d,!1,null,"f00ae3b4",null),$=y.exports,I="templates",C={name:"CreateOrUpdate",components:{CreateForm:$},data:function(){return{}},computed:{isModeCreate:function(){return"CreateTemplates"===this.$route.name},computedObserver:function(){return this.$refs.formPositions.$refs.observer}},methods:{treeClosed:function(e){this.computedObserver.refs[e].validate()},normalizer:function(e){return e.children&&0!==e.children.length?{id:e.id,label:e.name,children:e.children&&e.children.length>0?e.children:[]}:(delete e.children,{id:e.id,label:e.name})},save:function(){var e=this;this.computedObserver.validate().then((function(t){t?e.$refs.formPositions.editingItem.id?f["a"].update(I,e.$refs.formPositions.editingItem).then((function(t){e.computedObserver.reset(),e.$refs.formPositions.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):f["a"].create(I,e.$refs.formPositions.editingItem).then((function(t){e.computedObserver.reset(),e.$refs.formPositions.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):e.$toast(e.$t("messages.fill_required_fields"),{type:"error"})}))}},created:function(){return Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},w=C,_=(a("6e39"),Object(v["a"])(w,n,r,!1,null,"d86c4748",null));t["default"]=_.exports},e79b:function(e,t,a){},ed3d:function(e,t,a){"use strict";a("aad5")}}]);