(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b481c56","chunk-373a0a2a"],{"1db8":function(e,t,a){"use strict";a("b721")},"328c":function(e,t,a){"use strict";a.r(t);var n=a("8468"),o=(a("d81d"),function(){var e=this,t=e._self._c;return t("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(a){return Object(n["a"])(a),[t("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"text-center"},[t("b",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("submodules.doc.applicant")))])]),t("div",{staticClass:"p-4"},[t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:e.$t("auth.last_name"),placeholder:e.$t("auth.last_name")},model:{value:e.editingItem.applicantSecondName,callback:function(t){e.$set(e.editingItem,"applicantSecondName",t)},expression:"editingItem.applicantSecondName"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{staticClass:"required",attrs:{rules:"required",label:e.$t("auth.first_name"),placeholder:e.$t("auth.first_name")},model:{value:e.editingItem.applicantFirstName,callback:function(t){e.$set(e.editingItem,"applicantFirstName",t)},expression:"editingItem.applicantFirstName"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("auth.middle_name"),placeholder:e.$t("auth.middle_name")},model:{value:e.editingItem.applicantMiddleName,callback:function(t){e.$set(e.editingItem,"applicantMiddleName",t)},expression:"editingItem.applicantMiddleName"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("submodules.doc.address"),placeholder:e.$t("submodules.doc.address")},model:{value:e.editingItem.address,callback:function(t){e.$set(e.editingItem,"address",t)},expression:"editingItem.address"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:e.confirmation_document.map((function(e){return e.id})),label:e.$t("submodules.commission.confirmation_document.title"),"custom-label":e.customLabelConfirmationDocument,placeholder:e.$t("submodules.commission.confirmation_document.title"),"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:e.editingItem.confirmationDocumentId,callback:function(t){e.$set(e.editingItem,"confirmationDocumentId",t)},expression:"editingItem.confirmationDocumentId"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:e.reception_method.map((function(e){return e.id})),label:e.$t("submodules.doc.method_of_reception"),"custom-label":e.customLabelReceptionMethod,placeholder:e.$t("submodules.doc.method_of_reception"),"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:e.editingItem.receptionMethodId,callback:function(t){e.$set(e.editingItem,"receptionMethodId",t)},expression:"editingItem.receptionMethodId"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:e.appeal_type.map((function(e){return e.id})),label:e.$t("submodules.commission.appeal_type.title"),"custom-label":e.customLabelAppealType,placeholder:e.$t("submodules.commission.appeal_type.title"),"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:e.editingItem.appealTypeId,callback:function(t){e.$set(e.editingItem,"appealTypeId",t)},expression:"editingItem.appealTypeId"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{attrs:{"not-required":"",options:e.document_status.map((function(e){return e.id})),label:e.$t("submodules.commission.document_status.title"),"custom-label":e.customLabelDocumentStatus,placeholder:e.$t("submodules.commission.document_status.title"),"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:e.editingItem.documentStatusId,callback:function(t){e.$set(e.editingItem,"documentStatusId",t)},expression:"editingItem.documentStatusId"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("submodules.doc.entered_number_physical"),placeholder:e.$t("submodules.doc.entered_number_physical")},model:{value:e.editingItem.numberOfOutgoingDocument,callback:function(t){e.$set(e.editingItem,"numberOfOutgoingDocument",t)},expression:"editingItem.numberOfOutgoingDocument"}})],1),t("b-col",{staticClass:"float-left",attrs:{sm:"12",md:"6"}},[t("BaseDatePickerWithValidation",{attrs:{"not-required":"","disable-after":"","custom-styles":"grid-template-columns: 25% 75%;",label:e.$t("submodules.doc.entered_date_physical"),lang:"ru"},model:{value:e.editingItem.dateOfOutgoingDocument,callback:function(t){e.$set(e.editingItem,"dateOfOutgoingDocument",t)},expression:"editingItem.dateOfOutgoingDocument"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("submodules.doc.create_entered_number_physical"),placeholder:e.$t("submodules.doc.create_entered_number_physical")},model:{value:e.editingItem.numberOfIncomingDocument,callback:function(t){e.$set(e.editingItem,"numberOfIncomingDocument",t)},expression:"editingItem.numberOfIncomingDocument"}})],1),t("b-col",{staticClass:"float-left",attrs:{sm:"12",md:"6"}},[t("BaseDatePickerWithValidation",{attrs:{"not-required":"","disable-after":"","custom-styles":"grid-template-columns: 25% 75%;",label:e.$t("submodules.doc.create_entered_date_physical"),lang:"ru"},model:{value:e.editingItem.dateOfIncomingDocument,callback:function(t){e.$set(e.editingItem,"dateOfIncomingDocument",t)},expression:"editingItem.dateOfIncomingDocument"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("submodules.doc.other_contragent")},model:{value:e.editingItem.nameOfOrganizationWasSent,callback:function(t){e.$set(e.editingItem,"nameOfOrganizationWasSent",t)},expression:"editingItem.nameOfOrganizationWasSent"}})],1),t("b-col",{staticClass:"float-left",attrs:{sm:"12",md:"6"}},[t("BaseDatePickerWithValidation",{staticClass:"required",attrs:{rules:"required","disable-before":"","custom-styles":"grid-template-columns: 25% 75%;",label:e.$t("submodules.doc.completionTime"),lang:"ru"},model:{value:e.editingItem.completionTime,callback:function(t){e.$set(e.editingItem,"completionTime",t)},expression:"editingItem.completionTime"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{rules:{email:!0,required:!1},placeholder:"meningEmail@gmail.com",label:e.$t("column.mail")},model:{value:e.editingItem.email,callback:function(t){e.$set(e.editingItem,"email",t)},expression:"editingItem.email"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseInputWithValidation",{attrs:{"not-required":"",label:e.$t("column.phone_number"),mask:"+998#########",placeholder:"+998#########"},model:{value:e.editingItem.contractorPhoneNumber,callback:function(t){e.$set(e.editingItem,"contractorPhoneNumber",t)},expression:"editingItem.contractorPhoneNumber"}})],1)],1),t("from-to-employees",{ref:"fromToEmployeesRef",on:{assignmentChanged:e.assignmentsChanged}}),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseTextareaWithValidation",{attrs:{"not-required":"","max-rows":"8",label:e.$t("submodules.doc.summary"),placeholder:e.$t("submodules.doc.summary")},model:{value:e.editingItem.summary,callback:function(t){e.$set(e.editingItem,"summary",t)},expression:"editingItem.summary"}})],1)],1),t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"6"}},[t("ValidationProvider",{attrs:{name:"supplementDoc",mode:"passive"},scopedSlots:e._u([{key:"default",fn:function(){return[t("BaseFileUploaderWithValidation",{ref:"supplementDocUploader",attrs:{"data-vv-name":"supplementDocFile","data-vv-as":"SupplementDocFile","max-files":null,"max-fileSize":null,"label-on-top":!1,label:e.$t("submodules.doc.application_file")},model:{value:e.editingItem.applicationFiles,callback:function(t){e.$set(e.editingItem,"applicationFiles",t)},expression:"editingItem.applicationFiles"}})]},proxy:!0}],null,!0)})],1)],1)],1)],1)]}}])})}),s=[],i=a("c7eb"),l=a("1da1"),m=(a("b0c0"),a("e9c4"),a("7db0"),a("d3b7"),a("9992")),r=a("03f4"),c="before-commission/application",d={name:"CreateApplicationByPhysical",props:{customIsModeCreate:{type:Boolean,default:!1}},components:{FromToEmployees:m["default"]},data:function(){return{confirmation_document:[],reception_method:[],document_status:[],appeal_type:[],addContractorModal:!1,editingItem:{},statuses:[]}},computed:{isModeCreate:function(){return this.customIsModeCreate?this.customIsModeCreate:"CreateApplicationByPhysical"===this.$route.name},computedObserver:function(){return this.$refs.observer}},methods:{assignmentsChanged:function(){this.editingItem.assignments=JSON.parse(JSON.stringify(this.$refs.fromToEmployeesRef.assignment))},customLabelPosition:function(e){var t=this.positions.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelConfirmationDocument:function(e){var t=this.confirmation_document.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelReceptionMethod:function(e){var t=this.reception_method.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelAppealType:function(e){var t=this.appeal_type.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelDocumentStatus:function(e){var t=this.document_status.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},treeClosed:function(e){this.computedObserver.refs[e].validate()},normalizer:function(e){return e.children&&0!==e.children.length?{id:e.id,label:e.name,children:e.children&&e.children.length>0?e.children:[]}:(delete e.children,{id:e.id,label:e.name})},save:function(){var e=this;this.computedObserver.validate().then((function(t){t?e.editingItem.id?r["a"].update(c,e.editingItem).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):r["a"].create(c,e.editingItem).then((function(t){e.computedObserver.reset(),e.editingItem=Object.assign({},{}),e.$router.go(-1),e.$toast(e.$t("messages.saved_successfully"),{type:"success"})})):e.$toast(e.$t("messages.fill_required_fields"),{type:"error"})}))}},created:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.var_default_search_payload.itemsPerPage=500,!e.isModeCreate){t.next=14;break}return t.next=4,r["a"].getEmpty(c).then((function(t){e.editingItem=t.data})).catch((function(e){console.log(e)}));case 4:return t.next=6,r["a"].searchList("directory/commission/confirmation-document",e.var_default_search_payload,null,!0).then((function(t){e.confirmation_document=t.data.list})).catch((function(e){console.log(e)}));case 6:return t.next=8,r["a"].searchList("directory/application/reception-method",e.var_default_search_payload,null,!0).then((function(t){e.reception_method=t.data.list})).catch((function(e){console.log(e)}));case 8:return t.next=10,r["a"].searchList("directory/application/appeal-type",e.var_default_search_payload,null,!0).then((function(t){e.appeal_type=t.data.list})).catch((function(e){console.log(e)}));case 10:return t.next=12,r["a"].searchList("directory/application/document-status",e.var_default_search_payload,null,!0).then((function(t){e.document_status=t.data.list})).catch((function(e){console.log(e)}));case 12:t.next=16;break;case 14:return t.next=16,r["a"].getById(c,e.$route.params.id,!1).then((function(t){e.editingItem=t.data})).catch((function(e){console.log(e)}));case 16:case"end":return t.stop()}}),t)})))()}},u=d,p=(a("1db8"),a("2877")),b=Object(p["a"])(u,o,s,!1,null,"7342612a",null);t["default"]=b.exports},"7db0":function(e,t,a){"use strict";var n=a("23e7"),o=a("b727").find,s=a("44d2"),i="find",l=!0;i in[]&&Array(1)[i]((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s(i)},8468:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d9e2");function n(e){if(null==e)throw new TypeError("Cannot destructure "+e)}},9992:function(e,t,a){"use strict";a.r(t);a("a434"),a("d81d");var n=function(){var e=this,t=e._self._c;return t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{cols:"12"}},[t("h5",{staticClass:"m-0 text-center"},[e._v(" "+e._s(e.$t("submodules.employees.see_doc_chronology"))+" ")]),t("hr",{staticClass:"my-2"})]),e._l(e.assignment,(function(a,n){return t("b-col",{key:"from-to-employees-".concat(n),attrs:{cols:"12"}},[t("b-row",{staticClass:"mb-3"},[t("b-col",{attrs:{sm:"12",md:"4"}},[t("BaseDatePickerWithValidation",{staticClass:"required",attrs:{rules:"required","disable-after":"",label:e.$t("column.send_date"),"label-on-top":"","custom-styles":"grid-template-columns: 0 100% 0 !important;",lang:"ru"},model:{value:a.dateOfCreated,callback:function(t){e.$set(a,"dateOfCreated",t)},expression:"member.dateOfCreated"}})],1),t("b-col",{attrs:{sm:"12",md:"6"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",options:0==n?e.employees:e.filteredFromEmployees,label:e.$t("column.from_whom"),"label-on-top":"","custom-label":e.customLabelEmployees,placeholder:"","open-direction":"bottom","max-height":600,"show-labels":!1},on:{select:e.employeeSelected},scopedSlots:e._u([{key:"singleLabel",fn:function(a){return[t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[t("strong",[e._v(e._s(a.option.employeeFullName))])])]),e._v(" "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentParentNameUz,nameLt:a.option.departmentParentNameLt,nameRu:a.option.departmentParentNameRu})))])]),e._v(" / "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentNameUz,nameLt:a.option.departmentNameLt,nameRu:a.option.departmentNameRu})))])]),t("div",[t("span",{staticClass:"option__small"},[t("i",[e._v(e._s(e.getName({nameUz:a.option.positionNameUz,nameLt:a.option.positionNameLt,nameRu:a.option.positionNameRu})))])])])]}},{key:"option",fn:function(a){return[t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[t("strong",[e._v(e._s(a.option.employeeFullName))])])]),e._v(" "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentParentNameUz,nameLt:a.option.departmentParentNameLt,nameRu:a.option.departmentParentNameRu})))])]),e._v(" / "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentNameUz,nameLt:a.option.departmentNameLt,nameRu:a.option.departmentNameRu})))])]),t("div",[t("span",{staticClass:"option__small"},[t("i",[e._v(e._s(e.getName({nameUz:a.option.positionNameUz,nameLt:a.option.positionNameLt,nameRu:a.option.positionNameRu})))])])])]}}],null,!0),model:{value:a.fromEmployee,callback:function(t){e.$set(a,"fromEmployee",t)},expression:"member.fromEmployee"}})],1),t("b-col",{staticClass:"d-flex align-items-end justify-content-end",attrs:{sm:"12",md:"2"}},[n==e.assignment.length-1?t("b-btn",{staticClass:"mr-2",attrs:{variant:"success",size:"sm"},on:{click:e.addMember}},[t("i",{staticClass:"mdi mdi-plus"})]):e._e(),e.assignment.length>1&&0!=n?t("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.assignment.splice(n,1)}}},[t("i",{staticClass:"mdi mdi-trash-can"})]):e._e()],1)],1),e._l(a.toEmployees,(function(o,s){return t("b-row",{key:"".concat(s,"-toEmployee")},[t("b-col",{attrs:{sm:"12",md:"4"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",options:e.employees,label:e.$t("column.to_whom"),"label-on-top":"","custom-label":e.customLabelEmployees,placeholder:"","open-direction":"bottom","max-height":600,"show-labels":!1},on:{select:e.employeeSelected},scopedSlots:e._u([{key:"singleLabel",fn:function(a){return[t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[t("strong",[e._v(e._s(a.option.employeeFullName))])])]),e._v(" "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentParentNameUz,nameLt:a.option.departmentParentNameLt,nameRu:a.option.departmentParentNameRu})))])]),e._v(" / "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentNameUz,nameLt:a.option.departmentNameLt,nameRu:a.option.departmentNameRu})))])]),t("div",[t("span",{staticClass:"option__small"},[t("i",[e._v(e._s(e.getName({nameUz:a.option.positionNameUz,nameLt:a.option.positionNameLt,nameRu:a.option.positionNameRu})))])])])]}},{key:"option",fn:function(a){return[t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[t("strong",[e._v(e._s(a.option.employeeFullName))])])]),e._v(" "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentParentNameUz,nameLt:a.option.departmentParentNameLt,nameRu:a.option.departmentParentNameRu})))])]),e._v(" / "),t("br"),t("span",{staticClass:"option__desc"},[t("span",{staticClass:"option__title"},[e._v(e._s(e.getName({nameUz:a.option.departmentNameUz,nameLt:a.option.departmentNameLt,nameRu:a.option.departmentNameRu})))])]),t("div",[t("span",{staticClass:"option__small"},[t("i",[e._v(e._s(e.getName({nameUz:a.option.positionNameUz,nameLt:a.option.positionNameLt,nameRu:a.option.positionNameRu})))])])])]}}],null,!0),model:{value:o.toEmployee,callback:function(t){e.$set(o,"toEmployee",t)},expression:"toMember.toEmployee"}})],1),t("b-col",{attrs:{sm:"12",md:"3"}},[t("BaseMultiselectWithValidation",{staticClass:"required",attrs:{rules:"required",options:e.mailingPurposes.map((function(e){return e.id})),label:e.$t("submodules.mailing_purpose.title"),"label-on-top":"",placeholder:"","custom-label":e.customLabelMailingPurpose,"open-direction":"bottom","max-height":600,"show-labels":!1},model:{value:o.mailingPurposeId,callback:function(t){e.$set(o,"mailingPurposeId",t)},expression:"toMember.mailingPurposeId"}})],1),t("b-col",{attrs:{sm:"12",md:"5"}},[t("b-row",{staticClass:"align-items-end h-100"},[n==e.assignment.length-1?t("b-col",{attrs:{sm:"12",md:"7"}},[t("b-form-checkbox",{attrs:{id:"isProjectOwner-".concat(s),name:"project-owner-checkbox"},on:{change:function(t){return e.isProjectOwnerChanged(t,n,s)}},model:{value:o.isProjectOwner,callback:function(t){e.$set(o,"isProjectOwner",t)},expression:"toMember.isProjectOwner"}},[t("strong",[e._v(e._s(e.$t("column.is_project_owner")))]),e._v(" "),t("span",{staticStyle:{color:"red"}},[e._v(" *")])])],1):e._e(),t("b-col",{attrs:{sm:"12",md:"5"}},[s==a.toEmployees.length-1&&0!=n?t("b-btn",{staticClass:"mr-2",attrs:{variant:"success",size:"sm"},on:{click:function(t){return e.addMemberEmployee(n)}}},[t("i",{staticClass:"mdi mdi-plus"})]):e._e(),a.toEmployees.length>1&&0!==n?t("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){return a.toEmployees.splice(s,1)}}},[t("i",{staticClass:"mdi mdi-trash-can"})]):e._e()],1)],1)],1)],1)})),t("hr",{staticClass:"my-2"})],2)}))],2)},o=[],s=a("c7eb"),i=a("1da1"),l=(a("14d9"),a("7db0"),a("d3b7"),a("99af"),a("159b"),a("c740"),a("03f4")),m={name:"FromToEmployees",data:function(){return{mailingPurposeModal:!1,mailingPurposes:[],processModal:!1,processes:[],employees:[],assignment:[{id:null,employeeId:null,toEmployees:[{}]}],filteredFromEmployees:[]}},methods:{isProjectOwnerChanged:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.assignment=this.assignment.map((function(o,s){return a.$set(o,"toEmployees",o.toEmployees.map((function(o,i){return t==s&&n==i?a.$set(o,"isProjectOwner",e):a.$set(o,"isProjectOwner",!1),o}))),o}))},employeeSelected:function(){},addMemberEmployee:function(e){this.assignment[e].toEmployees.push({})},addMember:function(){this.assignment.push({id:this.assignment.length+1,employeeId:null,toEmployees:[{}]}),this.isProjectOwnerChanged(!1)},deleteMember:function(e){0!==e&&this.assignment.splice(e,1)},customLabelMailingPurpose:function(e){var t=this.mailingPurposes.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelProcess:function(e){var t=this.processes.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},customLabelEmployees:function(e){var t=this.employees.find((function(t){return t.id==e.id}));return t?"".concat(t.employeeFullName," (").concat(this.getName({nameUz:t.departmentParentNameUz,nameLt:t.departmentParentNameLt,nameRu:t.departmentParentNameRu}),")"):""}},watch:{assignment:{deep:!0,handler:function(e,t){var a=this;this.$emit("assignmentChanged"),this.filteredFromEmployees=[],e.forEach((function(t){t.toEmployees&&t.toEmployees.length&&t.toEmployees.forEach((function(t){if(t.toEmployee){var n=a.filteredFromEmployees.findIndex((function(e){return e.employeeId==t.toEmployee.employeeId}));if(n<0&&t.toEmployee.employeeId){var o=e.findIndex((function(e){return!(!e.fromEmployee||!e.fromEmployee.employeeId)&&e.fromEmployee.employeeId==t.toEmployee.employeeId}));if(o<0)a.filteredFromEmployees.push(t.toEmployee);else{var s=a.filteredFromEmployees.findIndex((function(e){return e.employeeId==t.toEmployee.employeeId}));s>-1&&a.filteredFromEmployees.splice(s,1)}}}}))}))}}},created:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.var_default_search_payload.itemsPerPage=500,t.next=3,l["a"].searchListWithKeyword("user",e.var_default_search_payload,"inner",!0).then((function(t){e.employees=t.data.list})).catch((function(e){console.log(e)}));case 3:return t.next=5,l["a"].searchList("before-commission/directory/mailing-purpose",e.var_default_search_payload,null,!0).then((function(t){e.mailingPurposes=t.data.list})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})))()}},r=m,c=a("2877"),d=Object(c["a"])(r,n,o,!1,null,null,null);t["default"]=d.exports},b721:function(e,t,a){}}]);