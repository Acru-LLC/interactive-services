(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7178dade"],{"0313":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"no-licence",staticStyle:{position:"relative !important"}},[t("froala",{ref:"editorRef",attrs:{id:"edit",tag:"textarea",config:e.config},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)},s=[],r=(a("adc8"),a("0abf"),a("ee3e"),a("9144"),a("42c1"),a("399e"),a("dfa9"),a("b9e7"),{components:{},watch:{text:{handler:function(e){this.$emit("changeText",e)}}},methods:{setTextContent:function(e){this.text=e}},data:function(){var e=this;return{text:"",editor:null,config:{tableStyles:{class1:"No borders"},embedlyScriptPath:"",imageInsertButtons:["imageUpload","|","imageByURL"],language:"ru",events:{"image.beforeUpload":function(t){var a=e.$refs.editorRef.getEditor();if(t.length>0){var n=new FileReader;n.onload=function(e){var t=e.target.result;a.image.insert(t,null,null,a.image.get())},n.readAsDataURL(t[0])}return a.popups.hideAll(),!1}},documentReady:!0,fontSize:["3","4","6","8","9","10","11","12","14","16","18","22","24","30","36","48","60","72","96"],fontFamilyDefaultSelection:"Times New Roman",toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","textColor","backgroundColor","fontFamily","fontSize","lineHeight","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","insertImage","insertTable","html","|","specialCharacters"],charCounterCount:!1,tabSpaces:4,height:600,fontSizeUnit:"pt",placeholderText:""}}}}),i=r,c=(a("c8f9"),a("2877")),o=Object(c["a"])(i,n,s,!1,null,null,null);t["a"]=o.exports},"07df":function(e,t,a){"use strict";a("18d0")},"18d0":function(e,t,a){},"1a42":function(e,t,a){},"1f92":function(e){e.exports=JSON.parse('{"app_name":"FAIRTECH.UZ","app_short_name":"FT","app_made_by_1":"dataprizma.uz","api_url":"app.fairtech.uz","api_request_type":"http","app_test":false,"api_keys":["fairtech.uz","A5788A817D8546933F8611208D736225C5A087519C1506CBEC86A0E93ACC5B36E3C9587652A8EC2452BD1FD77DE165BFA8DD84695E2AEA49816A00581B053AF3","localhost","96D0C1491615C82B9A54D9989779DF825B690748224C2B04F500F370D51827CE2644D8D4A82C18184D73AB8530BB8ED537269603F61DB0D03D2104ABF789970B","127.0.0.1","A7BCFA5D490B351BE0754130DF03A068F855DB4333D43921125B9CF2670EF6A40370C646B90401955E1F7BC9CDBF59CE0B2C5467D820BE189C845D0B79CFC96F","null","E0A205EC4E7B78BBB56AFF83A733A1BB9FD39D562E67978CC5E7D73B0951DB1954595A20672A63332535E13CC6EC1E1FC8857BB09E0855D7E76E411B6FA16E9D"],"app_version":"1.0.1","call_center_number":"+998 78 122 99 07"}')},2740:function(e,t,a){e.exports=a.p+"img/3.af730164.png"},"29d3":function(e,t,a){e.exports=a.p+"img/2.1ef3a30b.png"},"445b":function(e,t,a){e.exports=a.p+"img/4.9daaee33.png"},6043:function(e,t,a){"use strict";a("99af");var n=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"card mb-0"},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"button-items d-flex",staticStyle:{"justify-content":"space-between"}},[t("b-button",{staticClass:"btn-label",attrs:{variant:"primary"}},[t("i",{staticClass:"bx bx-smile label-icon"}),e._v(" "+e._s("(".concat(e.members.length,")"))+" ")]),t("span",[t("b-button",{attrs:{variant:"outline-danger"},on:{click:function(t){return e.$emit("cancel")}}},[t("i",{staticClass:"fa fa-times"}),e._v(" "+e._s(e.$t("actions.close")))]),e.async?e._e():t("b-button",{attrs:{variant:"success"},on:{click:e.save}},[t("i",{staticClass:"fa fa-save"}),e._v(" "+e._s(e.$t("actions.save"))+" ")])],1)],1)]),t("div",[t("div",{staticClass:"p-4"},[t("div",{staticClass:"search-box mb-2"},[t("div",{staticClass:"position-relative"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.$t("actions.filter")},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),t("i",{staticClass:"bx bx-search-alt search-icon"})])]),t("simplebar",{key:e.cmpKey+"ADS",ref:"contactsRef",style:"height:".concat(e.heightWindow-165,"px"),attrs:{"data-simplebar-auto-hide":"false",id:"contact-list"}},[t("ul",{staticClass:"list-unstyled chat-list",attrs:{id:"il"}},e._l(e.contactList,(function(a,n){return t("li",{key:a.id+"EMPLOYEE"+n,attrs:{id:e.contactList[e.contactList.length-1].id==a.id?"lid":""},on:{click:function(t){return e.pushMember(a)}}},[t("a",{attrs:{href:"javascript: void(0);"}},[t("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[t("div",{staticClass:"align-self-center mr-3"}),a.photoUploadPath?t("div",{staticClass:"align-self-center mr-3"},[t("img",{staticClass:"rounded-circle avatar-sm",attrs:{height:"auto",src:"".concat(e.publicPath,"/").concat(a.photoUploadPath),alt:""}})]):e._e(),a.photoUploadPath?e._e():t("div",{staticClass:"avatar-sm align-self-center mr-3"},[t("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[e._v(" "+e._s(a.firstName.charAt(0))+" ")])]),t("div",{staticClass:"media-body overflow-hidden"},[t("h5",{staticClass:"font-size-14 mb-1",class:e.check(a)},[e._v(" "+e._s("".concat(a.firstName," ").concat(a.lastName," ").concat(a.middleName?a.middleName:""))+" ")]),t("p",{staticClass:"m-0",class:e.check(a)},[e._v(" "+e._s(e.getName({nameLt:a.departmentNameLt,nameRu:a.departmentNameRu,nameUz:a.departmentNameUz}))+" ")]),t("p",{staticClass:"m-0",class:e.check(a)},[e._v(" "+e._s(e.getName({nameLt:a.directoryPositionNameLt,nameRu:a.directoryPositionNameRu,nameUz:a.directoryPositionNameUz}))+" ")])]),e.check(a)?t("i",{staticClass:"fas fa-user-check font-size-18 text-primary"}):e._e()])])])})),0)])],1)])])])},s=[],r=a("c7eb"),i=a("1da1"),c=a("f8cd5"),o=a("8d3b"),l={props:{notIn:{type:Boolean,default:!1},async:{type:Boolean,default:!1},application:{type:Object,default:function(){return{}}}},components:{simplebar:o["a"]},data:function(){return{publicPath:"/",contactList:[],contactPage:0,members:[],objectMembers:{},groupModal:!1,searchValue:"",cmpKey:0}},methods:{reset:function(){var e=this;this.cmpKey+=1,setTimeout((function(){e.scrollActive()}),200)},scrollActive:function(){var e=this;this.$refs.contactsRef.SimpleBar&&this.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(t){var a=event.target,n=a.scrollTop,s=a.scrollHeight,r=a.clientHeight,i=1;s-r-i<n&&e.loadMoreContact()}))},save:function(){var e=this;this.$emit("save",this.members),this.members=[],this.objectMembers={},setTimeout((function(){e.getContacts({page:0,itemsPerPage:20})}),300)},pushMember:function(e){e.id==this.objectMembers.id?this.objectMembers={}:this.objectMembers=e},check:function(e){return this.objectMembers.id==e.id&&["font-weight-bold","text-primary"]},getContacts:function(e){var t=this;"FROM_DXA"===this.application.type&&"NOT_BELONG"===this.application.applicationTypeInProject?c["a"].getAllInManagement({}).then((function(e){t.$nextTick((function(){t.contactList=e.data}))})):c["a"].getByYurDepForSign({params:e,search:this.searchValue}).then((function(e){t.$nextTick((function(){t.contactList=e.data.list}))}))},loadMoreContact:function(){var e=this;c["a"].getByYurDepForSign({params:{page:this.contactPage+=1,itemsPerPage:20},search:this.searchValue}).then(function(){var t=Object(i["a"])(Object(r["a"])().mark((function t(a){var n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a.data,n.list.length>0?e.$nextTick((function(){e.contactList=e.contactList.concat(n.list)})):e.contactPage=e.contactPage-1;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},mounted:function(){var e=document.querySelector("#contact-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.scrollActive()},created:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getContacts({page:0,itemsPerPage:20});case 2:case"end":return t.stop()}}),t)})))()},watch:{searchValue:{handler:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getContacts({page:0,itemsPerPage:20});case 2:case"end":return t.stop()}}),t)})))()}},objectMembers:{handler:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.async&&t.$emit("asyncValue",e);case 1:case"end":return a.stop()}}),a)})))()}}}},d=l,u=a("2877"),m=Object(u["a"])(d,n,s,!1,null,null,null);t["a"]=m.exports},"745f":function(e,t,a){"use strict";a("8337")},8337:function(e,t,a){},"887a":function(e,t,a){"use strict";a("99af"),a("b0c0");var n=a("f2db"),s=(a("7476"),{getTemplateByCategoryId:function(e,t,a){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n["a"].post("templates/get-by-category/".concat(e||"","?keyword=").concat(t||""),a,s)},getTemplateListByCategoryId:function(e,t,a,s){return n["a"].post("templates/sample/list-search?keyword=".concat(a||"","&categoryId=").concat(e||"","&personType=").concat(t||""),s)},getApplicationFromDxaById:function(e){return n["a"].get("application-dxa/get-all-information?id=".concat(e||""))},getApplicationInfoBystepId:function(e,t){return n["a"].get("application-dxa/get-info/".concat(e,"/").concat(t))},getVisaAllInfoById:function(e){return n["a"].get("application-dxa/get-all-header-info?id=".concat(e||""))},getApplicationFilesBystepId:function(e,t,a){return n["a"].get("application-dxa/get-file-info/".concat(parseInt(t),"?application_id=").concat(e,"&applicationDXAId=").concat(a))},getApplicationFilesDownloadById:function(e,t){return n["a"].customRequest({url:"application-dxa/upload-file/".concat(parseInt(t),"?application_id=").concat(e),method:"GET",responseType:"blob"})},getApplicationTree:function(e){return n["a"].get("before-commission/application/get-tree/".concat(e))},petrolPricesByDate:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n["a"].post("docReport/petrol-report?fromDate=".concat(e||"","&toDate=").concat(t||"","&regionId=").concat(a||""),{},s)},testTelegramBotApi:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n["a"].post("docReport/petrol-data-for-telegram-bot?docTableId=".concat(e,"&petrolId=").concat(t),{},a)},fetchDateTypesByParentId:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n["a"].post("dateType/listByParentId/".concat(e),t,a)},getContractorBankAccounts:function(e){return n["a"].get("contractor/get-contractor-banks/".concat(e))},getContractorFounders:function(e){return n["a"].get("contractor/get-contractor-founders/".concat(e))},getContractorDirector:function(e){return n["a"].get("contractor/get-contractor-director/".concat(e))},getContractorAccounter:function(e){return n["a"].get("contractor/get-contractor-accountant/".concat(e))},approveReestrDoc:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("reestr/contractor-reestr-documents/reestr-document-confirmation/".concat(e),t)},updateReestr:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a?n["a"].post("".concat(e,"/update/").concat(a),t,s):n["a"].post("".concat(e,"/update/").concat(t.id),t,s)},getContractorsByProdectOrServiceTypeIdAndProductOrServiceId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-by-is-republic/".concat(e),{},t)},searchReestrContractorListByIndividualsGroupId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic-for-group-of-individuals/".concat(e),{},t)},searchReestrContractorListByParentId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("reestr/contractor-reestr-documents/list-search-for-contractor-children-by-is-republic/".concat(e),{},t)},searchReestrHistoryListByContractorId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(e),{},t)},searchReestrListByRepublic:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("reestr/contractor-reestr-documents/list-search-by-is-republic/".concat(e),{},t)},getReestrByRepublic:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type-by-is-republic/by-region/".concat(e),{},t)},getReestrByRegionId:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n["a"].post("reestr/contractor-reestr-documents/get/product-or-service-type/by-region/".concat(t,"?regionId=").concat(e),{},a)},getProductOrServicesByTypeId:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object.assign({},t);return s.page=s.page-1,n["a"].post("directory/product-or-services/get/by-type-id/".concat(e,"?keyword=").concat(t.keyword?t.keyword:""),s,a)},savePermittedDepsByUserId:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n["a"].post("department/save/permitted/by-user-id/for-dep-perm-control/".concat(e),t,a)},fetchControlPermittedDepsByUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("department/get/checked/permitted/by-user-id/for-dep-perm-control/".concat(e),t)},getAdConstructionsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("contractor-advertising-construction/get-all/for-map?passportNumber=".concat(e.passportNumber,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds,"&designTypeIds=").concat(e.designTypeIds),null,t)},getAdConstructionsForMapEAuction:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("contractor-advertising-construction/get-all/for-map/e-auction?passportNumber=".concat(e.passportNumber,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds,"&designTypeIds=").concat(e.designTypeIds),null,t)},getPetrolStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("petrol/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getSugarStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("sugar/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getBakeryStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("bakery/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getFlourStationsForMap:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].post("flour/get-all/for-map?name=".concat(e.name,"&contractorIds=").concat(e.contractorIds,"&regionIds=").concat(e.regionIds,"&districtIds=").concat(e.districtIds),null,t)},getAdDesignTypesByActiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n["a"].get("directory/advertisement-design-type/get-all-by-active-status/",e)},getVolumesByActiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n["a"].get("directory/advertisement-design-type/get-all-by-active-status/",e)},getVolumeTypesByActiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n["a"].get("directory/advertisement-volume-types/get-all-by-active-status/",e)},getPrivilegeCoefficientValueByAdDesignTypeId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("directory/advertisement-design-type_privilege_coefficients/get-coefficient-by-design-type-id?designTypeId=".concat(e),t)},getCoefficientValueByZoneAndDistrictIds:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n["a"].get("directory/coefficients/get-by-district-and-zone/".concat(e,"/").concat(t),a)},getMinCollectionValueByRegionAndDistrictIds:function(e,t,a,s,r){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return n["a"].get("directory/minimum-collections/get-by-region?regionId=".concat(e,"&districtId=").concat(t,"&locationTypeId=").concat(a,"&designTypeId=").concat(s,"&volumeTypeId=").concat(r||""),i)},getAdZonesByDistrictId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("directory/coefficients/get-zones/by-district-id/".concat(e),t)},getGroupOfRegion:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("directory/group-regions/get-group/by-region-id/".concat(e),t)},getAdVolumeTypesByAdLocationTypeId:function(e,t){return n["a"].get("directory/advertisement-volume-types/get-all/".concat(e),t)},getAdDesignTypesByAdLocationTypeId:function(e,t,a){return n["a"].get("directory/advertisement-design-type/get-design-types/".concat(t,"/").concat(e),a)},updateUserPasswordByAdmin:function(e,t){return n["a"].put("user/update-password/no-checking",e,t)},updateUserPassword:function(e,t){return n["a"].put("user/update-password",e,t)},updateRolePermissionsById:function(e,t){return n["a"].post("role/add-permissions/".concat(e.id),e.permissionIds,t)},permissionsListByRoleId:function(e,t){return n["a"].get("permission/list/by-role-id/".concat(e),t)},updateDepartment:function(e){return n["a"].put("department/update/".concat(e.departmentDto.id),e)},validateInnFromApi:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("contractor/check-inn-is-valid?inn=".concat(e),t)},checkAdPassportNumber:function(e){return n["a"].get("contractor-advertising-construction/check-passport-number?passportNumber=".concat(e))},checkAdPassportNumberByRegion:function(e,t){return n["a"].get("contractor-advertising-construction/check-passport-number/by-region?passportNumber=".concat(e,"&regionId=").concat(t))},findContractorByInn:function(e){return n["a"].get("department/check-inn?inn=".concat(e))},getIndividualInfoByInn:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("employee/get-by-inn-from-soliq/".concat(e),t)},getSingleContractorByInn:function(e){return n["a"].get("contractor/get-by-inn/".concat(e))},getContractorInfoByInnForCreate:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-create?inn=".concat(e,"&pinfl=").concat(t,"&isYur=").concat(Boolean(a)),s)},getContractorInfoByInnForUpdate:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n["a"].get("contractor/get-new-contractor-info-from-soliq-by-inn/for-update?inn=".concat(e,"&pinfl=").concat(t,"&isYur=").concat(Boolean(a)),s)},getCuratorsForDepartment:function(){return n["a"].get("department/get-department/curators")},getGeoLocationsByParentId:function(e){return n["a"].get("geographical-region/list/by-parent-id/".concat(e))},getGeoLocationsByMultipleParentIds:function(e){return n["a"].get("geographical-region/get-all-district/by-region-ids?regionIds=".concat(e))},fetchRegions:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n["a"].get("geographical-region/get-all-region",e)},fetchRegions14:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("geographical-region/get-region-tree?keyword=".concat(e),t)},fetchRegionsForAdvertisementByCurrentUserId:function(){return n["a"].get("geographical-region/get-all-regions-by-current-user-id/for-advertisement")},fetchRegionsForPetrolByCurrentUserId:function(){return n["a"].get("geographical-region/get-all-regions-by-current-user-id/for-petrol")},fetchRegionsForSugarByCurrentUserId:function(){return n["a"].get("geographical-region/get-all-regions-by-current-user-id/for-sugar")},fetchRegionsForBakeryByCurrentUserId:function(){return n["a"].get("geographical-region/get-all-regions-by-current-user-id/for-bakery")},fetchRegionsForFlourByCurrentUserId:function(){return n["a"].get("geographical-region/get-all-regions-by-current-user-id/for-flour")},fetchRegionsForContractorReestrByCurrentUserId:function(){return n["a"].get("geographical-region/get-all-regions-by-current-user-id/for-reestr")},searchEmployeesByDep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object.assign({},e);return s.page-=1,n["a"].post("employee/search/by-depId/".concat(t),s,a)},searchEmployeesByDepID:function(e){var t=Object.assign({},e);return t.page-=1,n["a"].post("employee/getByYurDepForSign",t)},searchEmployeesWithoutDep:function(e){var t=Object.assign({},e);return t.page-=1,n["a"].post("employee/search/without/dep",t)},createDepWithLegalInfo:function(e){return n["a"].post("department/finish",e)},getRefByCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("reference/get-code/".concat(e),t)},getRefByCodeNew:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("reference/get-reference-by-code/".concat(e),t)},getEmployeeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n["a"].get("employee/get-all-for-create-user/by-keyword?keyword=".concat(e),t)},getCountNotifications:function(){return n["a"].get("report/advertisement-notifications/unread-messages")},getNotificationList:function(e){var t=Object.assign({},e);return t.page-=1,n["a"].post("notification/list-search?search=".concat(t.searchTitle))},acceptById:function(e){return n["a"].post("report/advertisement-notifications/accepted-notification/".concat(e))},rejectById:function(e,t,a){var s=Object.assign({},t);return n["a"].post("report/advertisement-notifications/rejected-notification/".concat(e),s,a)},getAllReceivers:function(e,t){return n["a"].post("report/advertisement-notifications/outgoing-receivers/".concat(e),t)},getAllReceiversForReport:function(e,t){return n["a"].post("report/general-inventory-reports/outgoing-receivers/".concat(e),t)},acceptReportById:function(e){return n["a"].post("report/general-inventory-reports/accepted-report/".concat(e))},rejectReportById:function(e){return n["a"].post("report/general-inventory-reports/rejected-report/".concat(e))},makeReadNotification:function(e){return n["a"].put("notification/make-read-notification/".concat(e))},getCounts:function(){return n["a"].get("report/dashboard/get-count")},getCountsByRegion:function(){return n["a"].get("report/dashboard/get-all-counts-by-region")},sendMessageToUser:function(e){return n["a"].post("murojaat/send-message",e)}});t["a"]=s},9281:function(e,t,a){"use strict";a("99af");var n=function(){var e=this,t=e._self._c;return t("div",[e.selectedSignature.length>0?t("div",{staticClass:"card"},[t("div",{staticClass:"card-header bg-white d-flex align-items-center"},[t("img",{attrs:{src:a("29d3"),alt:"DOC",height:"45"}}),t("h5",{staticClass:"ml-3"},[t("strong",[e._v(e._s(e.$t("forSignature")))])])]),t("div",{staticClass:"pl-4"},[t("div",{staticClass:"table-responsive border-color-custom m-0"},[t("table",{staticClass:"table table-centered m-0"},[t("tbody",e._l(e.selectedSignature,(function(a,n){return t("tr",{key:n+"sign"},[t("td",{staticStyle:{width:"50px"}},[a.signerUploadPath?t("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(e.hrUrl,"/").concat(a.signerUploadPath),alt:""}}):t("div",{staticClass:"avatar-sm"},[t("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[e._v(" "+e._s("".concat(a.signerLastName.charAt(0)))+" ")])])]),t("td",[t("div",{staticClass:"d-flex align-items-center"},[t("div",[t("h5",{staticClass:"font-size-14 m-0"},[t("p",{staticClass:"text-dark m-0"},[e._v(" "+e._s("".concat(a.signerLastName," ").concat(a.signerFirstName," ").concat(a.signerParentName))+" ")])]),t("p",{staticClass:"m-0 text-muted"},[e._v(" "+e._s(e.g_name({nameUz:a.depNameUz,nameLt:a.depNameLt,nameRu:a.depNameRu}))+" ")]),t("p",{staticClass:"m-0 text-muted"},[e._v(" "+e._s(e.g_name({nameUz:a.positionNameUz,nameLt:a.positionNameLt,nameRu:a.positionNameRu}))+" ")])]),t("div",[a.signed?t("i",{staticClass:"mdi ml-3 text-success mdi-check-all",staticStyle:{"font-size":"26px"}}):e._e()])]),a.signDate?t("div",{staticClass:"mt-1"},[t("b",[e._v(e._s(e.$t("dateSign")))]),e._v(" : "+e._s(a.signDate)+" ")]):e._e(),a.cancelled?t("div",[t("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[e._v(" "+e._s(e.$t("docs_r.CANCELED_TO_WORK"))+" ")]),t("br"),a.comment?t("div",[t("label",{staticClass:"mt-1 mb-0 font-size-12"},[e._v(e._s(e.$t("submodules.reports.reasonRejected"))+": ")]),t("p",{staticClass:"text-muted m-0"},[e._v(e._s(a.comment))])]):e._e()],1):e._e(),a.isForCommission?t("div",[t("div",{staticClass:"mt-1 mb-0 p-2 badge badge-info"},[e._v(" "+e._s(e.$t("submodules.commission.doc_status.send_for_commission"))+" ")])]):e._e()])])})),0)])])])]):e._e(),e.selectedAgreement.length>0?t("div",{staticClass:"card"},[t("div",{staticClass:"card-header bg-white d-flex align-items-center"},[t("img",{attrs:{src:a("445b"),alt:"DOC",height:"45"}}),t("h5",{staticClass:"ml-3"},[t("strong",[e._v(e._s(e.$t("forAgreement")))])])]),t("div",{staticClass:"pl-4"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-centered m-0"},[e.selectedAgreement.length>0?t("tbody",e._l(e.selectedAgreement,(function(a,n){return t("tr",{key:n+"AD"},[t("td",{staticStyle:{width:"50px"}},[a.signerUploadPath?t("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(e.hrUrl,"/").concat(a.signerUploadPath),alt:""}}):t("div",{staticClass:"avatar-sm"},[t("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[e._v(" "+e._s("".concat(a.signerLastName.charAt(0)))+" ")])])]),t("td",[t("div",{staticClass:"d-flex align-items-center"},[t("div",[t("h5",{staticClass:"font-size-14 m-0"},[t("p",{staticClass:"text-dark m-0"},[e._v(" "+e._s("".concat(a.signerLastName," ").concat(a.signerFirstName," ").concat(a.signerParentName))+" ")])]),t("p",{staticClass:"m-0 text-muted"},[e._v(" "+e._s(e.g_name({nameUz:a.depNameUz,nameLt:a.depNameLt,nameRu:a.depNameRu}))+" ")]),t("p",{staticClass:"m-0 text-muted"},[e._v(" "+e._s(e.g_name({nameUz:a.positionNameUz,nameLt:a.positionNameLt,nameRu:a.positionNameRu}))+" ")])]),t("div",[a.isAgreed?t("i",{staticClass:"mdi mdi-handshake ml-3 text-success",staticStyle:{"font-size":"26px"}}):e._e()])]),a.cancelled?t("div",[t("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[e._v(" "+e._s(e.$t("docs_r.CANCELED_TO_WORK"))+" ")]),t("br"),a.comment?t("div",[t("label",{staticClass:"mt-1 mb-0 font-size-12"},[e._v(e._s(e.$t("submodules.reports.reasonRejected"))+": ")]),t("p",{staticClass:"text-muted m-0"},[e._v(e._s(a.comment))])]):e._e()],1):e._e(),a.isForCommission?t("div",[t("div",{staticClass:"mt-1 mb-0 p-2 badge badge-info"},[e._v(" "+e._s(e.$t("submodules.commission.doc_status.send_for_commission"))+" ")])]):e._e()])])})),0):e._e()])])])]):e._e(),e.selectedReview.length>0?t("div",{staticClass:"card"},[t("div",{staticClass:"card-header bg-white d-flex align-items-center"},[t("img",{attrs:{src:a("2740"),alt:"DOC",height:"45"}}),t("h5",{staticClass:"ml-3"},[t("strong",[e._v(e._s(e.$t("forReview")))])])]),t("div",{staticClass:"pl-4"},[t("div",{staticClass:"table-responsive m-0"},[t("table",{staticClass:"table table-centered m-0"},[e.selectedReview.length>0?t("tbody",e._l(e.selectedReview,(function(a,n){return t("tr",{key:n+"AD"},[t("td",{staticStyle:{width:"50px"}},[a.signerUploadPath?t("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(e.hrUrl,"/").concat(a.signerUploadPath),alt:""}}):t("div",{staticClass:"avatar-sm"},[t("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[e._v(" "+e._s("".concat(a.signerLastName.charAt(0)))+" ")])])]),t("td",[t("div",{staticClass:"d-flex align-items-center"},[t("div",[t("h5",{staticClass:"font-size-14 m-0"},[t("p",{staticClass:"text-dark m-0"},[e._v(" "+e._s("".concat(a.signerLastName," ").concat(a.signerFirstName," ").concat(a.signerParentName))+" ")])]),t("p",{staticClass:"m-0 text-muted"},[e._v(" "+e._s(e.g_name({nameUz:a.depNameUz,nameLt:a.depNameLt,nameRu:a.depNameRu}))+" ")]),t("p",{staticClass:"m-0 text-muted"},[e._v(" "+e._s(e.g_name({nameUz:a.positionNameUz,nameLt:a.positionNameLt,nameRu:a.positionNameRu}))+" ")])]),t("div",[a.isViewed?t("i",{staticClass:"ml-3 text-success mdi mdi-file-eye",staticStyle:{"font-size":"22px"}}):e._e()])]),a.cancelled?t("div",[t("b-badge",{staticClass:"mt-2",attrs:{variant:"danger"}},[e._v(" "+e._s(e.$t("docs_r.CANCELED_TO_WORK"))+" ")]),t("br"),a.comment?t("div",[t("label",{staticClass:"mt-1 mb-0 font-size-12"},[e._v(e._s(e.$t("submodules.reports.reasonRejected"))+": ")]),t("p",{staticClass:"text-muted m-0"},[e._v(e._s(a.comment))])]):e._e()],1):e._e(),a.isForCommission?t("div",[t("div",{staticClass:"mt-1 mb-0 p-2 badge badge-info"},[e._v(" "+e._s(e.$t("submodules.commission.doc_status.send_for_commission"))+" ")])]):e._e()])])})),0):e._e()])])])]):e._e()])},s=[],r=a("6275"),i={data:function(){return{g_name:r["o"]}},props:{selectedReview:{type:Array,default:function(){return[]}},selectedAgreement:{type:Array,default:function(){return[]}},selectedSignature:{type:Array,default:function(){return[]}}}},c=i,o=a("2877"),l=Object(o["a"])(c,n,s,!1,null,null,null);t["a"]=l.exports},c8f9:function(e,t,a){"use strict";a("1a42")},d24a:function(e,t,a){"use strict";a.r(t);a("99af"),a("d81d");var n=function(){var e,t,n=this,s=n._self._c;return s("div",[s("div",{staticClass:"col-md-12 text-center"},[s("div",{staticClass:"h4 mb-4 d-inline-block"},[n._v(n._s(n.$t("submodules.reports.report_income")))])]),s("b-modal",{attrs:{title:n.$t("submodules.reports.reasonRejected"),scrollable:"",size:"md"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"danger"},on:{click:n.rejectSeeConfirm}},[s("b-overlay",{attrs:{opacity:.1,show:n.rejectedSeeLoader,rounded:"sm"}},[n._v(" "+n._s(n.$t("submodules.reports.rejected"))+" ")])],1)]},proxy:!0}]),model:{value:n.isRejectedSeeModal,callback:function(e){n.isRejectedSeeModal=e},expression:"isRejectedSeeModal"}},[s("b-form-textarea",{attrs:{rows:"5"},model:{value:n.reasonRejectedSee,callback:function(e){n.reasonRejectedSee=e},expression:"reasonRejectedSee"}})],1),s("b-modal",{attrs:{title:n.$t("submodules.reports.make_sign"),"hide-footer":"",scrollable:"",size:"lg"},model:{value:n.signatureSeeModal,callback:function(e){n.signatureSeeModal=e},expression:"signatureSeeModal"}},[s("SignKeys",{attrs:{dataToSign:n.selectedTrItem},on:{sign:n.signSuccessSee}})],1),s("Modal",{ref:"editModalRef",attrs:{cancelText:"actions.cancel",okText:"actions.save",scroll:!0,signerHide:!1,size:"xl",title:n.selectedTrItem.fileName,value:n.editModal,variantOk:"success"},on:{closeModal:function(e){n.editModal=!1},okModal:n.okModal,viewModalClick:n.viewModalClick},scopedSlots:n._u([{key:"body",fn:function(){return[s("div",[s("Editor",{ref:"editorRef",on:{changeText:n.changeText}})],1)]},proxy:!0}])}),s("b-modal",{attrs:{title:n.$t("actions.view"),scrollable:"",size:"xl"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"secondary"},on:{click:function(e){n.viewIlovaModal=!1}}},[n._v(n._s(n.$t("actions.close")))])]},proxy:!0}]),model:{value:n.viewIlovaModal,callback:function(e){n.viewIlovaModal=e},expression:"viewIlovaModal"}},[n.ilovaUploadPath?s("div",{staticStyle:{height:"700px"}},[s("embed",{attrs:{src:"".concat(n.baseUrl,"/").concat(n.ilovaUploadPath),height:"800",type:"application/pdf",width:"100%"}})]):n._e()]),s("b-modal",{attrs:{title:"".concat(n.$t("submodules.reports.make_sign")),"hide-footer":"",scrollable:"",size:"lg"},model:{value:n.signatureModal,callback:function(e){n.signatureModal=e},expression:"signatureModal"}},[s("SignKeys",{attrs:{dataToSign:n.selectedTrItem},on:{sign:n.signSuccess}})],1),s("b-modal",{attrs:{title:n.selectedTrItem.id?n.selectedTrItem.fileName:"",scrollable:"",size:"xl"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"secondary"},on:{click:function(e){n.viewModal=!1}}},[n._v(n._s(n.$t("actions.close")))])]},proxy:!0}]),model:{value:n.viewModal,callback:function(e){n.viewModal=e},expression:"viewModal"}},[n.selectedTrItem.url?s("div",{staticStyle:{height:"700px"}},[s("embed",{attrs:{src:"".concat(n.baseUrl,"/").concat(n.selectedTrItem.url),height:"800",type:"application/pdf",width:"100%"}})]):n._e()]),s("b-modal",{attrs:{title:n.selectedTrItem.id?n.selectedTrItem.fileName:"","body-bg-variant":"light",scrollable:"",size:"xl"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"secondary"},on:{click:function(e){n.viewModalBeforeSigned=!1}}},[n._v(n._s(n.$t("actions.close")))])]},proxy:!0}]),model:{value:n.viewModalBeforeSigned,callback:function(e){n.viewModalBeforeSigned=e},expression:"viewModalBeforeSigned"}},[s("b-overlay",{attrs:{opacity:1,show:n.loaderPdf,rounded:"lg",variant:"white"}},[s("div",{staticStyle:{"min-height":"700px"}},[n.base64?s("embed",{staticStyle:{width:"100%"},style:"min-height:".concat(n.heightWindow-250,"px"),attrs:{src:"data:application/pdf;base64, ".concat(n.base64)}}):n._e()])])],1),s("b-modal",{attrs:{title:"".concat(n.$t("submodules.commission.title")),scrollable:"",size:"md"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"success"},on:{click:n.openSignatureModalForCommission}},[s("b-overlay",{attrs:{opacity:.1,show:n.commissionModalLoader,rounded:"sm"}},[n._v(" "+n._s(n.$t("actions.continue"))+" ")])],1)]},proxy:!0}]),model:{value:n.commissionsModal,callback:function(e){n.commissionsModal=e},expression:"commissionsModal"}},[s("BaseMultiselectWithValidation",{staticClass:"required",attrs:{"custom-label":n.customLabelCommissionTypes,label:n.$t("submodules.commission.special_commission_type.title"),"max-height":600,options:n.commissionTypes.map((function(e){return e.id})),"show-labels":!1,"label-on-top":"","open-direction":"bottom",placeholder:"",rules:"required"},model:{value:n.commissionTypeId,callback:function(e){n.commissionTypeId=e},expression:"commissionTypeId"}}),s("BaseDatePickerWithValidation",{attrs:{label:n.$t("date"),placeholder:n.$t("date"),lang:"ru",required:""},model:{value:n.commissionCompletionDate,callback:function(e){n.commissionCompletionDate=e},expression:"commissionCompletionDate"}}),s("b-form-textarea",{staticClass:"mt-3",attrs:{placeholder:n.$t("submodules.doc.summary"),rows:"5"},model:{value:n.commissionComment,callback:function(e){n.commissionComment=e},expression:"commissionComment"}})],1),s("b-modal",{attrs:{title:"".concat(n.$t("submodules.reports.reasonRejected")),scrollable:"",size:"md"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"danger"},on:{click:n.rejectConfirm}},[s("b-overlay",{attrs:{opacity:.1,show:n.rejectedLoader,rounded:"sm"}},[n._v(" "+n._s(n.$t("submodules.reports.rejected"))+" ")])],1)]},proxy:!0}]),model:{value:n.isRejectedModal,callback:function(e){n.isRejectedModal=e},expression:"isRejectedModal"}},[s("b-form-textarea",{attrs:{rows:"5"},model:{value:n.reasonRejected,callback:function(e){n.reasonRejected=e},expression:"reasonRejected"}})],1),s("b-modal",{attrs:{title:"".concat(n.$t("column.comment")),scrollable:"",size:"md"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"warning",disabled:!n.reasonForReview},on:{click:n.forReview}},[s("b-overlay",{attrs:{opacity:.1,show:n.rejectedLoader,rounded:"sm"}},[n._v(" "+n._s(n.$t("submodules.commission.returnsee"))+" ")])],1)]},proxy:!0}]),model:{value:n.isForReviewModal,callback:function(e){n.isForReviewModal=e},expression:"isForReviewModal"}},[s("b-form-textarea",{attrs:{rows:"5"},model:{value:n.reasonForReview,callback:function(e){n.reasonForReview=e},expression:"reasonForReview"}})],1),s("b-modal",{attrs:{title:"".concat(n.$t("submodules.commission.send_for_sign")),scrollable:"",size:"md"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"success"},on:{click:n.handleSendLetterToChairman}},[s("b-overlay",{attrs:{opacity:.1,show:n.sendLetterToChairman.loader,rounded:"sm"}},[n._v(" "+n._s(n.$t("submodules.commission.send_for_sign"))+" ")])],1)]},proxy:!0}]),model:{value:n.sendLetterToChairman.modal,callback:function(e){n.$set(n.sendLetterToChairman,"modal",e)},expression:"sendLetterToChairman.modal"}},[s("b-form-textarea",{attrs:{rows:"5"},model:{value:n.sendLetterToChairman.comment,callback:function(e){n.$set(n.sendLetterToChairman,"comment",e)},expression:"sendLetterToChairman.comment"}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body p-2"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"d-inline-block mt-1 ml-2"},[s("div",{staticClass:"search-box"},[s("div",{staticClass:"position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model",value:n.searchValue,expression:"searchValue"}],staticClass:"form-control rounded bg-light border-light",staticStyle:{width:"300px"},attrs:{placeholder:n.$t("actions.search"),type:"text"},domProps:{value:n.searchValue},on:{input:function(e){e.target.composing||(n.searchValue=e.target.value)}}}),s("i",{staticClass:"mdi mdi-magnify search-icon"})])])])]),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"text-sm-right"},[s("div",{staticClass:"mr-3 float-right"},[s("div",{staticClass:"d-flex align-items-center"},n._l(n.sendTypeList,(function(e,t){return s("div",{key:t+"doc",staticClass:"card m-0 my-card-hovered_2 mr-3",class:e.value===n.active?"my-card-active":"",on:{click:function(t){return t.preventDefault(),n.selectSendType(e.value)}}},[s("div",{staticClass:"card-body p-0 text-center d-flex align-items-center justify-content-center"},[s("div",[s("div",{staticClass:"d-flex align-items-center"},[s("img",{attrs:{src:"SIGNATURE"===e.value?a("29d3"):"REVIEW"===e.value?a("2740"):a("445b"),alt:"DOC",height:"30"}}),s("div",{staticClass:"ml-2"},[s("p",{staticClass:"m-0"},[n._v(" "+n._s(e.label)+" ")])]),s("div",{staticClass:"ml-2"},["AGREEMENT"===e.value&&n.agreementCount>0?s("b-badge",{attrs:{variant:"success"}},[n._v(" "+n._s(n.agreementCount)+" ")]):n._e(),"SIGNATURE"===e.value&&n.signatureCount>0?s("b-badge",{attrs:{variant:"success"}},[n._v(" "+n._s(n.signatureCount)+" ")]):n._e(),"REVIEW"===e.value&&n.reviewCount>0?s("b-badge",{attrs:{variant:"success"}},[n._v(" "+n._s(n.reviewCount)+" ")]):n._e()],1)])])])])})),0)])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-7"},[s("div",{staticClass:"card card-body"},[s("div",{staticClass:"table-responsive"},[s("b-overlay",{attrs:{opacity:.1,show:n.loading,rounded:"sm"}},[s("table",{staticClass:"table table-centered table-striped table-nowrap table-hover"},[s("thead",{staticClass:"thead-light"},[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"70px"},attrs:{scope:"col"}},[n._v("№")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[n._v(" "+n._s(n.$t("column.created_by"))+" ")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[n._v(" "+n._s(n.$t("submodules.doc.founder"))+" ")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[n._v(" "+n._s(n.$t("docDate"))+" ")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[n._v(" "+n._s(n.$t("docName"))+" ")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[n._v(" "+n._s(n.$t("puropseOfSending"))+" ")])])]),s("tbody",[0===n.list.length?s("tr",{staticClass:"text-center"},[s("td",{staticStyle:{"vertical-align":"middle"},style:n.loading?"height:50px":"",attrs:{colspan:"9"}},[s("h5",[n._v(" "+n._s(n.$t("messages.data_not_found"))+" ")])])]):n._e(),n._l(n.list,(function(e,t){return s("tr",{key:t+"CREATE_DOC",staticClass:"p_cursor",class:n.selectedTrItem.id==e.id?"bg-soft-primary text-primary":"CANCELED"===e.status||e.cancelled?"bg-soft-danger text-danger":e.isViewed?"bg-soft-success text-dark":"bg-white text-dark font-weight-bold",on:{click:function(t){return t.preventDefault(),n.clickTrItem(e)}}},[s("td",{staticClass:"text-center"},[s("strong",[n._v(" "+n._s(n.paginate(t,n.limit,n.page-1)))])]),s("td",{staticClass:"text-left"},[n._v(" "+n._s(e.ownerLastName?e.ownerLastName:"")+" "+n._s(e.ownerFirstName?e.ownerFirstName:"")+" "+n._s(e.ownerParentName?e.ownerParentName:"")+" ")]),s("td",{staticClass:"text-left"},[n._v(" "+n._s(e.senderLastName?e.senderLastName:"")+" "+n._s(e.senderFirstName?e.senderFirstName:"")+" "+n._s(e.senderParentName?e.senderParentName:"")+" ")]),s("td",{staticClass:"text-center",class:e.isRead?"":"font-weight-bold"},[n._v(" "+n._s(e.date)+" ")]),s("td",{staticClass:"text-center",class:e.isRead?"":"font-weight-bold"},[s("p",{staticClass:"pre m-0"},[n._v(n._s(e.fileName))])]),s("td",{staticClass:"text-center p-0",class:e.isRead?"":"font-weight-bold"},[n._v(" "+n._s("SIGNATURE"===e.action?n.$t("forSignature"):"AGREEMENT"===e.action?n.$t("forAgreement"):"REVIEW"===e.action?n.$t("forReview"):"")+" "),"SIGNATURE"===e.action&&e.signed?s("i",{staticClass:"mdi mdi-check-all font-size-22 p-0 ml-2 text-success"}):n._e(),"AGREEMENT"===e.action&&e.isAgreed?s("i",{staticClass:"mdi mdi-handshake font-size-22 ml-2 text-success"}):n._e(),"REVIEW"===e.action&&e.isViewed?s("i",{staticClass:"mdi mdi-file-eye font-size-18 font-size-16 ml-2 text-success"}):n._e()])])}))],2)])])],1),n.total>0?s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("b-pagination",{staticClass:"m-0",attrs:{"per-page":n.limit,"total-rows":n.total,size:"sm"},model:{value:n.page,callback:function(e){n.page=e},expression:"page"}})],1)]):n._e()])]),s("div",{staticClass:"col-5"},[s("div",{staticClass:"card card-body"},[s("table",{staticClass:"table m-0"},[s("tbody",[n.selectedTrItem.id?s("tr",[s("td",{staticClass:"text-muted text-center p-0",attrs:{colspan:"2"}},[s("div",{staticClass:"p-4"},[-1===["SIGNED","CANCELED"].indexOf(n.selectedTrItem.status)||"SIGNED"===n.selectedTrItem.status&&"REVIEW"===n.selectedTrItem.action&&n.selectedTrItem.isHeadOfDepartment?s("div",["SIGNATURE"===n.selectedTrItem.action&&!n.selectedTrItem.signed||"AGREEMENT"===n.selectedTrItem.action&&!n.selectedTrItem.isAgreed||"REVIEW"===n.selectedTrItem.action&&!n.selectedTrItem.isViewed&&!n.selectedTrItem.cancelled?s("b-button-group",["FROM_DXA"===n.selectedTrItem.applicationTypeInProject&&"SEND_FOR_COMMISSION"===n.selectedTrItem.status?s("b-button",{attrs:{variant:"success"},on:{click:function(e){return n.signItem(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-check"}),s("br"),n._v(" "+n._s(n.$t("actions.for_start_commission"))+" ")]):n._e(),"FROM_DXA"!==n.selectedTrItem.applicationTypeInProject&&"NOT_BELONG"!==n.selectedTrItem.applicationTypeInProject?s("b-button",{attrs:{variant:"success"},on:{click:function(e){return n.signItem(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-check"}),s("br"),n._v(" "+n._s(n.signItemButtonLabel)+" ")]):n._e(),"NOT_BELONG"===n.selectedTrItem.applicationTypeInProject?s("b-button",{attrs:{variant:"success"},on:{click:function(e){return n.signItem(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-check"}),s("br"),n._v(" "+n._s(n.$t("submodules.reports.make_sign"))+" ")]):n._e(),"FROM_DXA"!==n.selectedTrItem.applicationTypeInProject&&"SEND_FOR_COMMISSION"===n.selectedTrItem.status&&"SIGNATURE"===n.selectedTrItem.action?s("b-button",{attrs:{variant:"success"},on:{click:function(e){return n.signItem(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-check"}),s("br"),n._v(" "+n._s(n.$t("submodules.reports.make_sign"))+" ")]):n._e(),"FROM_DXA"===n.selectedTrItem.applicationTypeInProject&&"SEND_FOR_COMMISSION"!==n.selectedTrItem.status&&"SIGNATURE"!==n.selectedTrItem.action?s("b-button",{attrs:{variant:"success"},on:{click:function(e){return n.signItem(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-check"}),s("br"),n._v(" "+n._s("REVIEW"===n.selectedTrItem.action?n.$t("confirm"):"AGREEMENT"===n.selectedTrItem.action?n.$t("submodules.reports.make_agreement"):"")+" ")]):n._e(),"FROM_DXA"===n.selectedTrItem.applicationTypeInProject&&"SEND_SIGN"===n.selectedTrItem.status&&"SIGNATURE"===n.selectedTrItem.action?s("b-button",{attrs:{variant:"success"},on:{click:function(e){return n.signAcceptedItem(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-check"}),s("br"),n._v(" "+n._s(n.$t("submodules.reports.doc_make_sign"))+" ")]):n._e(),"FROM_DXA"===n.selectedTrItem.applicationTypeInProject&&"SEND_SIGN"===n.selectedTrItem.status&&"SIGNATURE"===n.selectedTrItem.action?s("b-button",{attrs:{variant:"danger"},on:{click:function(e){return n.signRejectedItem(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-times"}),s("br"),n._v(" "+n._s(n.$t("submodules.reports.doc_reject_make_sign"))+" ")]):n._e(),"FROM_DXA"===n.selectedTrItem.applicationTypeInProject||"NOT_BELONG"===n.selectedTrItem.applicationTypeInProject||-1!==["TO_SIGN_REJECT_LETTER","SENT_FOR_REJECT","REJECTED","TO_INVOKE_SIGNED","TO_SIGN_FINISH_LETTER","SEND_SIGN_FINISH","FINISH_LETTER_SIGN_AND_SEND","SEND_SIGN_TO_RETURN","SEND_SIGN","SEND_SEEN_CLOSED"].indexOf(n.selectedTrItem.status)||n.selectedTrItem.isForCommission||n.selectedTrItem.isHeadOfDepartment?n._e():s("b-button",{attrs:{variant:"danger"},on:{click:n.showRejectedModal}},[s("i",{staticClass:"fa fa-times"}),s("br"),n._v(" "+n._s(n.$t("submodules.reports.rejected"))+" ")]),n.computedMakeSignedCompromiseDecisionToReject?s("b-button",{attrs:{variant:"danger"},on:{click:n.showRejectedModal}},[s("i",{staticClass:"fa fa-times"}),s("br"),n._v(" "+n._s(n.$t("submodules.commission.doc_status.reject_begin_commission"))+" ")]):n._e(),"FROM_DXA"===n.selectedTrItem.applicationTypeInProject||"NOT_BELONG"===n.selectedTrItem.applicationTypeInProject||-1===["SEND_SIGN"].indexOf(n.selectedTrItem.status)||n.selectedTrItem.isHeadOfDepartment?n._e():s("b-button",{attrs:{variant:"warning"},on:{click:n.showRejectedModal}},[s("i",{staticClass:"fa fa-times"}),s("br"),n._v(" "+n._s(n.$t("submodules.commission.returnsee"))+" ")]),"FROM_DXA"===n.selectedTrItem.applicationTypeInProject&&"SEND_SIGN"===n.selectedTrItem.status?s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"ml-1",attrs:{title:n.$t("submodules.commission.returnByRais"),variant:"warning"},on:{click:function(e){return n.showRejectedByRaisModal(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-times"}),s("br"),n._v(" "+n._s(n.$t("column.return"))+" ")]):n._e(),-1===["TO_SIGN_REJECT_LETTER"].indexOf(n.selectedTrItem.status)&&"SIGNATURE"===n.selectedTrItem.action&&"docx"===n.selectedTrItem.fileType?s("b-button",{attrs:{to:{name:"Office-DOCUMENT-commission",query:{id:n.selectedTrItem.letterId,page:"GET"}},target:"_blank",variant:"light"}},[s("i",{staticClass:"fa fa-pencil-alt"}),s("br"),n._v(" "+n._s(n.$t("actions.edit"))+" ")]):n._e()],1):n._e(),s("b-button-group",[-1===["TO_SIGN_REJECT_LETTER","REJECTED","TO_INVOKE_SIGNED","FINISH_LETTER_SIGN_AND_SEND"].indexOf(n.selectedTrItem.status)&&-1===["LETTER_FINISH","LETTER_REJECT"].indexOf(n.selectedTrItem.letterType)?s("b-button",{attrs:{variant:"info"},on:{click:function(e){return n.viewProject(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-eye"}),s("br"),n._v(" "+n._s("COMMISSION"===n.selectedTrItem.projectType?n.$t("actions.view_commission"):n.$t("actions.view_project"))+" ")]):n._e(),"pdf"===n.getExt(n.selectedTrItem.uploadPath?n.selectedTrItem.uploadPath:n.selectedTrItem.url)?s("b-button",{attrs:{variant:"primary"},on:{click:function(e){return n.viewIlova(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-eye"}),s("br"),n._v(" "+n._s(n.$t("actions.view_document"))+" ")]):n._e(),"FROM_DXA"===n.selectedTrItem.applicationTypeInProject&&"docx"===n.getExt(n.selectedTrItem.uploadPath?n.selectedTrItem.uploadPath:n.selectedTrItem.url)?s("b-button",{attrs:{variant:"outline-info"},on:{click:function(e){return n.openOnlyOffice(n.selectedTrItem.letterId)}}},[s("i",{staticClass:"fa fa-pen"}),s("br"),n._v(" "+n._s(n.$t("actions.edit"))+" ")]):n._e()],1)],1):s("b-button-group",[-1===["TO_SIGN_REJECT_LETTER","REJECTED","TO_INVOKE_SIGNED","FINISH_LETTER_SIGN_AND_SEND"].indexOf(n.selectedTrItem.status)&&-1===["LETTER_FINISH","LETTER_REJECT"].indexOf(n.selectedTrItem.letterType)?s("b-button",{attrs:{variant:"info"},on:{click:function(e){return n.viewProject(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-eye"}),s("br"),n._v(" "+n._s(n.$t("actions.view_project"))+" ")]):n._e(),"pdf"===n.getExt(n.selectedTrItem.uploadPath?n.selectedTrItem.uploadPath:n.selectedTrItem.url)?s("b-button",{attrs:{variant:"primary"},on:{click:function(e){return n.viewIlova(n.selectedTrItem)}}},[s("i",{staticClass:"fa fa-eye"}),s("br"),n._v(" "+n._s(n.$t("actions.view_document"))+" ")]):n._e(),"docx"===n.getExt(n.selectedTrItem.uploadPath?n.selectedTrItem.uploadPath:n.selectedTrItem.url)&&"CANCELED"!==n.selectedTrItem.status?s("b-button",{attrs:{variant:"outline-info"},on:{click:function(e){return n.openOnlyOffice(n.selectedTrItem.letterId)}}},[s("i",{staticClass:"fa fa-pen"}),s("br"),n._v(" "+n._s(n.$t("actions.edit"))+" ")]):n._e()],1)],1)])]):n._e(),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(" "+n._s(n.$t("docName"))+" ")])]),s("td",[n._v(" "+n._s(n.selectedTrItem.id&&n.selectedTrItem.fileName?n.selectedTrItem.fileName:"")+" ")])]),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(" "+n._s(n.$t("docCreatedDate"))+" ")])]),s("td",[n._v(" "+n._s(n.selectedTrItem.created)+" ")])]),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(" "+n._s(n.$t("submodules.dxa.dxa_application_number"))+" ")])]),s("td",[n._v(" "+n._s(n.visaInfoById.applicationRegNumber)+" ")])]),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(" "+n._s(n.$t("submodules.commission.income_date"))+" ")])]),s("td",[n._v(" "+n._s(n.visaInfoById.dateCameFromDxa)+" ")])]),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(" "+n._s(n.$t("submodules.dxa.application_type")))]),n._v(" "),s("br")]),s("td",["FOR_SALE"===n.visaInfoById.applicationType?s("span",{staticClass:"text-left",staticStyle:{"font-size":"12px"}},[n._v(" "+n._s(n.$t("submodules.dxa.dxa_application_1"))+" ")]):"FOR_ADD"===n.visaInfoById.applicationType?s("span",{staticClass:"text-left",staticStyle:{"font-size":"12px"}},[n._v(" "+n._s(n.$t("submodules.dxa.dxa_application_2"))+" ")]):n._e()])]),n.selectedTrItem.isForCommission?s("tr",[s("td",{attrs:{colspan:"2"}},[s("div",{staticClass:"p-2 bg-gradient bg-info rounded text-white"},[n._v(" "+n._s(n.$t("submodules.commission.doc_status.send_for_commission"))+" ")])])]):n._e(),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(n._s(n.$t("whoSent")))])]),s("td",{staticClass:"pl-0"},[n.selectedTrItem.id?s("ul",{staticClass:"list-unstyled chat-list",attrs:{id:"il"}},[s("li",[s("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[s("div",{staticClass:"align-self-center mr-3"}),n.selectedTrItem.senderUploadPath?s("div",{staticClass:"align-self-center mr-3"},[s("img",{staticClass:"rounded-circle avatar-sm",attrs:{src:"".concat(n.hrUrl,"/").concat(n.selectedTrItem.senderUploadPath),alt:"",height:"auto"}})]):n._e(),n.selectedTrItem.senderUploadPath?n._e():s("div",{staticClass:"avatar-sm align-self-center mr-3"},[s("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[n._v(" "+n._s(null===(e=n.selectedTrItem)||void 0===e||null===(t=e.senderFirstName)||void 0===t?void 0:t.charAt(0))+" ")])]),s("div",{staticClass:"media-body overflow-hidden"},[s("h5",{staticClass:"font-size-14 mb-1"},[n._v(" "+n._s("".concat(n.selectedTrItem.senderLastName," ").concat(n.selectedTrItem.senderFirstName," ").concat(n.selectedTrItem.senderParentName))+" ")]),s("p",{staticClass:"m-0"},[n._v(" "+n._s(n.getName({nameLt:n.selectedTrItem.senderDepNameLt,nameRu:n.selectedTrItem.senderDepNameRu,nameUz:n.selectedTrItem.senderDepNameUz}))+" ")]),s("p",{staticClass:"m-0"},[n._v(" "+n._s(n.getName({nameLt:n.selectedTrItem.senderPositionNameLt,nameRu:n.selectedTrItem.senderPositionNameRu,nameUz:n.selectedTrItem.senderPositionNameUz}))+" ")])])])])]):n._e()])]),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(n._s(n.$t("puropseOfSending")))])]),s("td",[n._v(" "+n._s(n.selectedTrItem.id?"SIGNATURE"===n.selectedTrItem.action?n.$t("forSignature"):"AGREEMENT"===n.selectedTrItem.action?n.$t("forAgreement"):"REVIEW"===n.selectedTrItem.action?n.$t("forReview"):"":"")+" ")])]),null!==n.selectedTrItem.comment&&""!==n.selectedTrItem.comment?s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(n._s(n.$t("column.comment")))])]),s("td",[n._v(" "+n._s(n.selectedTrItem.comment)+" ")])]):n._e(),n.filesList.length>0?s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(n._s(n.$t("letter_ilovalar")))])]),s("td")]):n._e(),n._l(n.filesList,(function(e,t){return s("tr",{key:t+"FILE",staticClass:"mt-3"},[s("td",{staticClass:"p-2",attrs:{colspan:"2"}},[s("div",{staticClass:"d-flex align-items-center bg-light p-2 justify-content-between"},[s("div",{staticClass:"d-flex align-items-center"},[s("a",{attrs:{download:"pdf"!==n.getExt(e.uploadPath)&&e.uploadPath,href:"pdf"===n.getExt(e.uploadPath)?"#":"".concat(n.baseUrl,"/").concat(e.uploadPath)},on:{click:function(t){return n.viewIlova(e)}}},[s("FileView",{staticClass:"my-card-hovered",attrs:{uploadPath:e.fileName}})],1),s("span",{staticClass:"ml-2"},[n._v(" "+n._s(e.fileName)+" ")])]),s("a",{staticClass:"mr-3 p-1 btn btn-sm btn-light",attrs:{href:"".concat(n.baseUrl,"/").concat(e.uploadPath),download:""}},[s("i",{staticClass:"bx bx-download font-size-20"})])])])])})),n.selectedTrItem.isRejectLetterCreated&&n.rejectedLetter?s("tr",[s("td",{staticClass:"text-muted"},[s("a",{attrs:{download:"pdf"!==n.getExt(n.rejectedLetter.url)&&n.rejectedLetter.url,href:"pdf"===n.getExt(n.rejectedLetter.url)?"#":"".concat(n.baseUrl,"/").concat(n.rejectedLetter.url)},on:{click:function(e){return n.viewFile(n.rejectedLetter.url)}}},[s("FileView",{staticClass:"d-inline-block my-card-hovered",attrs:{uploadPath:n.rejectedLetter.url}}),s("b",{staticClass:"align-top d-inline-block p-2 py-3"},[n._v(n._s(n.rejectedLetter.fileName))])],1)]),s("td",["CREATED"===n.rejectedLetter.status?s("b-btn",{attrs:{variant:"success m-2"},on:{click:function(e){n.sendLetterToChairman.modal=!0}}},[s("i",{staticClass:"fa fa-file-signature"}),n._v(" "+n._s(n.$t("submodules.commission.send_for_sign"))+" ")]):n._e()],1)]):n._e(),s("tr",[s("td",{staticClass:"text-muted"},[s("b",[n._v(n._s(n.$t("qabulQiluvchilar")))])]),s("td")])],2)]),s("b-overlay",{attrs:{opacity:.1,show:n.loaderReceiver,rounded:"sm"}},[s("Receivers",{attrs:{selectedAgreement:n.infoData.agreement,selectedReview:n.infoData.review,selectedSignature:n.infoData.signature}})],1),n.selectedTrItem&&n.projectFilesList.length?s("div",{staticClass:"wrapper"},[s("span",{attrs:{CLASS:"fromcenter"}},[n._v(n._s(n.$t("commission_attached_files")))])]):n._e(),n.selectedTrItem&&n.projectFilesList.length?s("div",{staticClass:"card card-body card-tabs mt-1",staticStyle:{"min-height":"10em",width:"100%"}},n._l(n.projectFilesList,(function(e,t){return s("tr",{key:t+"FILE",staticClass:"mt-1"},[s("div",{staticClass:"d-flex align-items-center bg-light p-2 justify-content-between"},[s("div",{staticClass:"d-flex align-items-center"},[s("a",{attrs:{download:"pdf"!==n.getExt(e.url)&&e.url,href:"pdf"===n.getExt(e.url)?"#":"".concat(n.baseUrl,"/").concat(e.url)},on:{click:function(t){return n.viewIlovaProject(e.url)}}},[s("BaseFileViewer",{staticClass:"my-card-hovered",attrs:{uploadPath:e.url}})],1),s("span",{staticClass:"ml-2"},[n._v(" "+n._s(e.fileName)+" ")])])])])})),0):n._e()],1)])])])]),s("b-modal",{attrs:{title:n.$t("actions.view"),scrollable:"",size:"xl"},scopedSlots:n._u([{key:"modal-footer",fn:function(){return[s("b-button",{attrs:{variant:"secondary"},on:{click:function(e){n.viewFileModal=!1}}},[n._v(n._s(n.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:n.viewFileModal,callback:function(e){n.viewFileModal=e},expression:"viewFileModal"}},[n.fileUploadPath?s("div",{staticStyle:{height:"700px"}},[s("embed",{attrs:{src:"".concat(n.baseUrl,"/").concat(n.fileUploadPath),height:"800",type:"application/pdf",width:"100%"}})]):n._e()])],1)},s=[],r=a("c7eb"),i=a("1da1"),c=(a("caad"),a("d3b7"),a("7db0"),a("14d9"),a("8a79"),a("93c1")),o=a("6275"),l=a("f574"),d=a("9281"),u=a("0313"),m=a("fdfc"),p=a("887a"),f={components:{SignKeys:l["a"],Receivers:d["a"],Editor:u["a"],Modal:m["a"]},watch:{page:function(){this.getList()},searchValue:function(e){this.getList()}},data:function(){return{rejectedSeeLoader:!1,rejectedLetter:null,viewFileModal:!1,fileUploadPath:null,isRejectedSeeModal:!1,signatureSeeModal:!1,reasonRejectedSee:"",commissionTypeId:null,commissionComment:"",commissionCompletionDate:null,commissionModalLoader:!1,commissionTypes:[],commissionsModal:!1,currentPage:1,src:null,numPages:void 0,reasonRejected:"",reasonForReview:"",selectedTrItem:{},active:"",sendTypeList:[{label:this.$t("forSignature"),value:"SIGNATURE"},{label:this.$t("forAgreement"),value:"AGREEMENT"},{label:this.$t("forReview"),value:"REVIEW"}],title:this.$t("received"),items:[{text:this.$t("menu"),href:"/"},{text:this.$t("received"),active:!0}],list:[],searchValue:"",page:1,limit:20,loading:!1,total:1,isModal:!1,currentItem:{},signatureModal:!1,loaderButton:!1,isModalKeys:!1,agreementCount:0,signatureCount:0,reviewCount:0,loaderReceiver:!1,infoData:{},visaInfoById:{},rejectedLoader:!1,isRejectedModal:!1,isForReviewModal:!1,viewModal:!1,filesList:[],projectFilesList:[],viewModalBeforeSigned:!1,loaderPdf:!1,ilovaUploadPath:null,viewIlovaModal:!1,base64:null,editModal:!1,loader:!1,contextText:"",icon:{pdf:a("9f06")},sendLetterToChairman:{modal:!1,comment:"",loader:!1}}},created:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getList();case 2:return t.next=4,e.getIncomeTotalCount();case 4:case"end":return t.stop()}}),t)})))()},computed:{params:function(){return{params:{itemsPerPage:this.limit,page:this.page-1},search:this.searchValue}},computedMakeSignedCompromiseDecisionToReject:function(){return"FROM_DXA"!==this.selectedTrItem.applicationTypeInProject&&"NOT_BELONG"!==this.selectedTrItem.applicationTypeInProject&&-1===["SENT_FOR_REJECT","REJECTED","TO_INVOKE_SIGNED","TO_SIGN_FINISH_LETTER","FINISH_LETTER_SIGN_AND_SEND","SEND_SIGN_TO_RETURN","SEND_SIGN"].indexOf(this.selectedTrItem.status)&&this.selectedTrItem.isForCommission&&!this.selectedTrItem.isHeadOfDepartment},computedMakeSignedCompromiseDecisionToAccept:function(){return"FROM_DXA"!==this.selectedTrItem.applicationTypeInProject&&"NOT_BELONG"!==this.selectedTrItem.applicationTypeInProject&&-1===["REJECTED"].indexOf(this.selectedTrItem.status)&&this.selectedTrItem.isForCommission&&!this.selectedTrItem.isHeadOfDepartment},signItemButtonLabel:function(){if("SIGNATURE"===this.selectedTrItem.action)return"SEND_SIGN"===this.selectedTrItem.status?this.$t("submodules.commission.doc_status.send_for_commission"):this.$t("submodules.reports.make_sign");if("REVIEW"===this.selectedTrItem.action){if(this.selectedTrItem.isForCommission&&!this.selectedTrItem.isHeadOfDepartment)return this.$t("submodules.commission.doc_status.for_begin_commission");if("SEND_SEEN_CLOSED"===this.selectedTrItem.status&&["FOR_RESUME_WORK","FOR_DELAY_WORK","FOR_SUSPEND_WORK"].includes(this.selectedTrItem.returnType))return this.$t("submodules.commission.doc_status.allow_project_reopening");switch(this.selectedTrItem.status){case"SENT_FOR_REJECT":if(!this.selectedTrItem.isRejectLetterCreated)return this.$t("submodules.commission.doc_button.create_letter");break;case"REJECTED":return this.$t("submodules.commission.doc_status.confirmation_that_letter_has_reached");case"FINISH_LETTER_SIGN_AND_SEND":return this.$t("submodules.commission.doc_status.confirmation_that_work_finished");default:return this.$t("confirm")}}else if("AGREEMENT"===this.selectedTrItem.action)return this.$t("submodules.reports.make_agreement");return""}},methods:{showRejectedByRaisModal:function(e){this.currentItem=e,this.isRejectedSeeModal=!0},rejectSeeConfirm:function(){var e=this;Object(o["g"])(this.$t("messages.reject_title")).then((function(t){t.value&&(e.signatureSeeModal=!0)}))},signSuccessSee:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:n={signedContent:e.content,inn:e.inn,pnfl:e.pnfl},a.t0=t.selectedTrItem.action,a.next="REVIEW"===a.t0?4:11;break;case 4:a.t1=t.selectedTrItem.status,a.next="SEND_SEEN_CLOSED"===a.t1?7:10;break;case 7:return a.next=9,c["a"].letterCancelled(n,t.selectedTrItem.letterId,t.selectedTrItem.id,t.reasonRejectedSee).then(Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isRejectedSeeModal=!1,t.signatureSeeModal=!1,t.getProjects(),t.getTotalCount();case 4:case"end":return e.stop()}}),e)})))).catch((function(e){}));case 9:return a.abrupt("break",10);case 10:return a.abrupt("break",14);case 11:return a.next=13,c["a"].onlyDocSignForRRejectedByRais(n,t.selectedTrItem.letterId,t.selectedTrItem.id,t.reasonRejectedSee).then(Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isRejectedSeeModal=!1,t.signatureSeeModal=!1,Object.assign({},t.selectedTrItem),e.next=5,Object(o["w"])(t.$t("successDocSigned"));case 5:t.getList(),t.getTotalCount();case 7:case"end":return e.stop()}}),e)})))).catch((function(e){}));case 13:return a.abrupt("break",14);case 14:case"end":return a.stop()}}),a)})))()},openSignatureModalForCommission:function(){var e=this;if(this.commissionTypeId)if("REVIEW"===this.selectedTrItem.action&&"INNER"===this.selectedTrItem.applicationTypeInProject&&"SENT_TO_MANAGEMENT"===this.selectedTrItem.status&&"BEFORE_COMMISSION"===this.selectedTrItem.projectType){if(!this.commissionCompletionDate)return this.$toast(this.$t("messages.fill_required_fields"),{type:"error"});c["a"].makeReviewForCommissionManagement(this.selectedTrItem.id,this.commissionTypeId,this.commissionComment,this.commissionCompletionDate).then(Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["w"])(e.$t("successDocSigned"));case 2:e.getProjects(),e.getTotalCount(),e.signatureModal=!1,e.commissionsModal=!1;case 6:case"end":return t.stop()}}),t)})))).catch((function(e){})).finally((function(){e.signatureModal=!1,e.commissionsModal=!1}))}else this.signatureModal=!0;else this.$toast(this.$t("messages.fill_required_fields"),{type:"error"})},customLabelCommissionTypes:function(e){var t=this.commissionTypes.find((function(t){return t.id==e}));return t?"".concat(this.getName({nameRu:t.nameRu,nameLt:t.nameLt,nameUz:t.nameUz})):""},changeText:function(e){this.contextText=e},okModal:function(){var e=this,t=this.$refs.editorRef.text;this.$refs.editModalRef.loading(!0),c["a"].saveLetterBody(this.selectedTrItem.letterId,t).then((function(){var t=Object.assign({},e.selectedTrItem);e.successEdited(),e.getList(!0,t.id),e.editModal=!1})).catch((function(e){})).finally((function(){e.$refs.editModalRef.loading(!1)}))},viewModalClick:function(){var e=this;this.$refs.editModalRef.loadingPdf(!0),this.viewModalBeforeSigned=!0,this.loaderPdf=!0,this.base64=null,c["a"].convert(this.contextText).then((function(t){setTimeout((function(){e.base64=t.data}),400)})).finally((function(){e.loaderPdf=!1,e.$refs.editModalRef.loadingPdf(!1)}))},editLetter:function(e){},viewProject:function(e){var t=this.$router.resolve({name:"COMMISSION"===e.projectType?"CommissionProjects":"ProjectsMain",query:{page:"overview",id:e.projectId}});window.open(t.href,"_blank")},viewIlova:function(e){var t=this,a=this.getExt(e.uploadPath?e.uploadPath:e.url);"pdf"===a?(this.ilovaUploadPath=e.uploadPath?e.uploadPath:e.url,this.viewIlovaModal=!0):this.convertToPdf(e).then((function(e){e&&(t.ilovaUploadPath=e,t.viewIlovaModal=!0)}))},openOnlyOffice:function(e){var t=this.$router.resolve({name:"Office-DOCUMENT-commission",query:{id:e,page:"GET"}});window.open(t.href,"_blank")},viewIlovaProject:function(e){"pdf"===this.getExt(e)&&(this.ilovaUploadPath=e,this.viewIlovaModal=!0)},convertToPdf:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,s){var r={url:"".concat(e.url),outputtype:".pdf",forSign:a,key:e.key};c["a"].convertToPdfByApi(r).then((function(e){e.data.uploadPath?(t.$nextTick((function(){t.src="".concat(t.baseUrl,"/").concat(e.data.uploadPath)})),n(e.data.uploadPath)):n(!1)})).catch((function(e){s(e)}))}))},getByIdLetter:function(){var e=this;c["a"].getByIdLetter(this.selectedTrItem.letterId).then((function(t){e.currentDoc=t.data,e.loaderPdf=!0,e.convertToPdf(t.data).then((function(a){a?e.loaderPdf=!1:setTimeout((function(){e.convertToPdf(t.data).then((function(){e.loaderPdf=!1})).catch((function(t){e.loaderPdf=!1}))}),4e3)}))})).catch((function(e){}))},viewLetter:function(){var e=this;this.viewModalBeforeSigned=!0,this.loaderPdf=!0,this.base64=null,c["a"].viewPdfByLetterId(this.selectedTrItem.letterId).then((function(t){setTimeout((function(){e.base64=t.data}),300)})).finally((function(){e.loaderPdf=!1}))},viewDocBeforeSigned:function(){this.viewLetter()},setCurrentPage:function(e){this.currentPage=e},getAttachedFilesById:function(e){var t=this;c["a"].getAttachedFilesById(e).then((function(e){t.filesList=e.data}))},getProjectLettersByLetterId:function(e){var t=this;c["a"].projectLettersByLetterId(e.letterId).then((function(e){t.projectFilesList=e.data}))},saveRejected:function(e){var t=this;this.convertToPdf(this.selectedTrItem).then((function(a){t.rejectedLoader=!0,c["a"].saveRejected(t.selectedTrItem.letterId,t.selectedTrItem.id,t.reasonRejected,e).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isRejectedModal=!1,a=Object.assign({},t.selectedTrItem),e.next=4,t.successSaved();case 4:return e.next=6,t.getList(!0,a.id);case 6:return e.next=8,t.getIncomeTotalCount();case 8:case"end":return e.stop()}}),e)})))).finally((function(){t.rejectedLoader=!1}))}))},handleToReject:function(){var e=this;this.cnf().then((function(t){t.value&&e.$router.push("/letter/to-reject/".concat(e.selectedTrItem.id,"/").concat(e.selectedTrItem.letterId))}))},showRejectedModal:function(){switch(this.selectedTrItem.action){case"SIGNATURE":switch(this.selectedTrItem.status){case"SEND_FOR_COMMISSION":this.handleToReject();break;case"SEND_SIGN":this.isForReviewModal=!0;break;default:this.isRejectedModal=!0;break}break;case"REVIEW":if(this.computedMakeSignedCompromiseDecisionToReject)this.handleMakeSignedCompromiseDecisionToReject();else switch(this.selectedTrItem.status){case"SEND_SEEN_CLOSED":this.handleLetterCancelled(this.selectedTrItem);break;default:this.isRejectedModal=!0;break}break;default:this.isRejectedModal=!0;break}},handleMakeSignedCompromiseDecisionToReject:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/letter/income/".concat(e.selectedTrItem.letterId,"/").concat(e.selectedTrItem.id,"?type=compromise-decision-to-reject"));case 2:case"end":return t.stop()}}),t)})))()},handleMakeSignedCompromiseDecisionToAccept:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/letter/income/".concat(e.selectedTrItem.letterId,"/").concat(e.selectedTrItem.id,"?type=compromise-decision-to-accept"));case 2:case"end":return t.stop()}}),t)})))()},viewDocSigned:function(){this.viewModal=!0},getIncomeTotalCount:function(){var e=this;c["a"].getIncomeTotalCount().then((function(t){e.agreementCount=t.data.agreement,e.reviewCount=t.data.review,e.signatureCount=t.data.signature}))},signSuccess:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n={signedContent:e.content,inn:e.inn,pnfl:e.pnfl},!t.isRejectedModal){a.next=7;break}t.isModalKeys=!1,t.signatureModal=!1,t.saveRejected(n),a.next=21;break;case 7:a.t0=t.selectedTrItem.status,a.next="COMMISSION_SEND"===a.t0?10:"NOT_BELONG"===a.t0?12:"SEND_SIGN_TO_RETURN"===a.t0?15:"SEND_SIGN"===a.t0?17:19;break;case 10:return c["a"].onlyDocSign(n,t.selectedTrItem.id).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isModalKeys=!1,t.signatureModal=!1,a=Object.assign({},t.selectedTrItem),e.next=5,Object(o["w"])(t.$t("successDocSigned"));case 5:return e.next=7,t.getList(!0,a.id);case 7:return e.next=9,t.getIncomeTotalCount();case 9:case"end":return e.stop()}}),e)})))).catch((function(e){})),a.abrupt("break",21);case 12:return a.next=14,c["a"].onlyDocSign(n,t.selectedTrItem.id).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].onlyDocSignNotBelong(n,t.selectedTrItem.id).then(Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).catch((function(e){t.catchErr(e)}));case 2:return t.isModalKeys=!1,t.signatureModal=!1,a=Object.assign({},t.selectedTrItem),e.next=7,Object(o["w"])(t.$t("successDocSigned"));case 7:return e.next=9,t.getList(!0,a.id);case 9:return e.next=11,t.getIncomeTotalCount();case 11:case"end":return e.stop()}}),e)})))).catch((function(e){}));case 14:return a.abrupt("break",21);case 15:return c["a"].signDoc(n,t.selectedTrItem.id,t.commissionTypeId,t.commissionComment).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isModalKeys=!1,t.signatureModal=!1,t.commissionsModal=!1,a=Object.assign({},t.selectedTrItem),e.next=6,Object(o["w"])(t.$t("successDocSigned"));case 6:return e.next=8,t.getList(!0,a.id);case 8:return e.next=10,t.getIncomeTotalCount();case 10:case"end":return e.stop()}}),e)})))).catch((function(e){})),a.abrupt("break",21);case 17:return c["a"].letterCancelled(n,t.selectedTrItem.letterId,t.selectedTrItem.id,t.reasonForReview).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isModalKeys=!1,t.signatureModal=!1,t.isForReviewModal=!1,t.reasonForReview="",a=Object.assign({},t.selectedTrItem),e.next=7,Object(o["w"])(t.$t("successDocSigned"));case 7:return e.next=9,t.getList(!0,a.id);case 9:return e.next=11,t.getIncomeTotalCount();case 11:case"end":return e.stop()}}),e)})))).catch((function(e){})),a.abrupt("break",21);case 19:return c["a"].signDoc(n,t.selectedTrItem.id,t.commissionTypeId,t.commissionComment).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isModalKeys=!1,t.signatureModal=!1,t.commissionsModal=!1,a=Object.assign({},t.selectedTrItem),e.next=6,Object(o["w"])(t.$t("successDocSigned"));case 6:return e.next=8,t.getList(!0,a.id);case 8:return e.next=10,t.getIncomeTotalCount();case 10:case"end":return e.stop()}}),e)})))).catch((function(e){})),a.abrupt("break",21);case 21:case"end":return a.stop()}}),a)})))()},getReceivers:function(e){var t=this;this.loaderReceiver=!0,c["a"].getReceivers(e.letterId).then((function(e){t.infoData=e.data})).finally((function(){t.loaderReceiver=!1}))},getVisaInfoById:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].getVisaAllInfoById(e.selectedTrItem.applicationIdFromDXA,!1).then((function(t){e.visaInfoById=t.data})).catch((function(e){console.log(e)})).finally((function(){}));case 2:case"end":return t.stop()}}),t)})))()},clickTrItem:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.selectedTrItem.id!==e.id){a.next=5;break}t.selectedTrItem={},t.infoData={},a.next=20;break;case 5:return t.selectedTrItem=e,a.next=8,t.getAttachedFilesById(e.letterId);case 8:return a.next=10,t.getReceivers(e);case 10:if(!["FROM_DXA","NOT_BELONG"].includes(e.applicationTypeInProject)){a.next=17;break}return a.next=13,t.getVisaInfoById();case 13:return a.next=15,t.getProjectLettersByLetterId(e);case 15:a.next=19;break;case 17:t.visaInfoById={},t.projectFilesList=[];case 19:e.isRejectLetterCreated?c["a"].getRejectLetter(e.letterId).then((function(e){t.rejectedLetter=e.data})).catch((function(e){console.log(e)})):(t.rejectedLetter=null,t.fileUploadPath=null);case 20:case"end":return a.stop()}}),a)})))()},signatureItem:function(){this.isModalKeys=!0},selectSendType:function(e){this.selectedTrItem={},this.infoData={},this.active==e?this.active="":this.active=e,this.getList()},makeAgree:function(e){var t=this;this.cnf().then((function(a){a.value&&c["a"].makeAgree(e.letterId).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.assign({},t.selectedTrItem),e.next=3,t.successSaved();case 3:return e.next=5,t.getList(!0,a.id);case 5:return e.next=7,t.getIncomeTotalCount();case 7:case"end":return e.stop()}}),e)}))))}))},fetchCommissionTypes:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};c["a"].searchList("directory/commission/commission-type",this.var_default_search_payload,null,!0).then((function(a){e.commissionTypes=a.data.list,t()})).catch((function(e){console.log(e)}))},makeReviewForCommission:function(e){var t=this;this.cnf().then((function(a){a.value&&c["a"].makeReviewForCommission(e.id,e.comment).then(Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.successSaved();case 2:return e.next=4,t.$router.push("/projects/commission");case 4:case"end":return e.stop()}}),e)}))))}))},letterMakeViewed:function(e){var t=this;this.cnf().then((function(a){a.value&&c["a"].makeCompromiseDecisionViewed(e.id).then((function(){t.forceRouteReload()}))}))},letterRejectViewed:function(e){var t=this;this.cnf().then((function(a){a.value&&c["a"].makeViewedLetterToReject(e.id).then((function(){t.forceRouteReload()}))}))},makeReviewForCommissionWithComment:function(e){var t=this;if(0===this.commissionTypes.length)return this.fetchCommissionTypes((function(){t.commissionsModal=!0}));this.commissionsModal=!0},makeReview:function(e){var t=this;this.cnf().then((function(a){a.value&&c["a"].makeReview(e.letterId).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.assign({},t.selectedTrItem),e.next=3,t.successSaved();case 3:return e.next=5,t.getList(!0,a.id);case 5:return e.next=7,t.getIncomeTotalCount();case 7:case"end":return e.stop()}}),e)}))))}))},makeReviewLetter:function(e){var t=this;this.cnf().then((function(a){a.value&&c["a"].makeAgreedLetter(e.id).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.assign({},t.selectedTrItem),e.next=3,t.successSaved();case 3:return e.next=5,t.getList(!0,a.id);case 5:return e.next=7,t.getIncomeTotalCount();case 7:case"end":return e.stop()}}),e)}))))}))},rejectConfirm:function(){var e=this;Object(o["g"])(this.$t("messages.reject_title")).then((function(t){t.value&&(e.signatureModal=!0)}))},forReview:function(){var e=this;Object(o["g"])(this.$t("messages.you_sure_title")).then((function(t){t.value&&(e.signatureModal=!0)}))},viewFile:function(e){"pdf"===this.getExt(e)&&(this.fileUploadPath=e,this.viewFileModal=!0)},signItemToManagement:function(e){this.$router.push("/letter/income/to-management/".concat(e.letterId,"/").concat(e.id))},handleSendLetterToChairman:function(){var e=this;this.cnf().then((function(t){var a=t.value;a&&(e.sendLetterToChairman.loader=!0,c["a"].handleSendLetterToChairman(e.rejectedLetter.id,e.sendLetterToChairman.comment).then((function(){e.getList(),e.sendLetterToChairman.loader=!1,e.sendLetterToChairman.modal=!1})).finally((function(){e.sendLetterToChairman.loader=!1,e.sendLetterToChairman.modal=!1})))}))},handleLetterCancelled:function(e){this.isRejectedSeeModal=!0},signAcceptedItem:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("FROM_DXA"!==e.applicationTypeInProject||"SEND_SIGN"!==e.status||"SIGNATURE"!==e.action){a.next=3;break}return a.next=3,c["a"].setLetterRejtOrAccept(e.letterId,!1).then((function(a){t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id))}));case 3:case"end":return a.stop()}}),a)})))()},signRejectedItem:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("FROM_DXA"!==e.applicationTypeInProject||"SEND_SIGN"!==e.status||"SIGNATURE"!==e.action){a.next=3;break}return a.next=3,c["a"].setLetterRejtOrAccept(e.letterId,!0).then((function(a){t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id))}));case 3:case"end":return a.stop()}}),a)})))()},signItem:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=e.action,a.next="SIGNATURE"===a.t0?3:"AGREEMENT"===a.t0?59:"REVIEW"===a.t0?66:98;break;case 3:if(t.currentItem=e,"FROM_DXA"!==e.applicationTypeInProject){a.next=18;break}a.t1=e.status,a.next="SEND_SIGN"===a.t1?8:"COMMISSION_SEND"===a.t1?11:14;break;case 8:return a.next=10,c["a"].setLetterRejtOrAccept(e.letterId,!0).then((function(a){t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id))}));case 10:return a.abrupt("break",16);case 11:return a.next=13,c["a"].setLetterRejtOrAccept(e.letterId,!0).then((function(a){t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id))}));case 13:return a.abrupt("break",16);case 14:return Object(o["g"])(t.$t("docConfirm")).then((function(e){e.value&&(t.signatureModal=!0)})),a.abrupt("break",16);case 16:a.next=58;break;case 18:if("NOT_BELONG"!==e.applicationTypeInProject){a.next=24;break}if("pdf"===e.fileType){a.next=22;break}return a.next=22,t.convertToPdf(e).then(function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(a){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.uploadPath&&a.uploadPath.endsWith(".pdf")||t.$toast(t.$t("messages.project_files_convert_pdf_error"),{type:"error"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 22:a.next=58;break;case 24:a.t2=e.status,a.next="SEND_SIGN"===a.t2?27:"FOR_REGION"===a.t2?29:"FOR_NOT_BELONG"===a.t2?32:"COMMISSION_SEND"===a.t2?35:"SEND_SIGN_FINISH"===a.t2?37:"FOR_NOT_COMPLETED"===a.t2?40:"SEND_FOR_COMMISSION"===a.t2?43:"SEND_SIGN_TO_RETURN"===a.t2?46:"TO_SIGN_REJECT_LETTER"===a.t2?49:"TO_SIGN_FINISH_LETTER"===a.t2?52:55;break;case 27:return t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id)),a.abrupt("break",58);case 29:return a.next=31,c["a"].setLetterRejtOrAccept(e.letterId,!0).then((function(a){t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id))}));case 31:return a.abrupt("break",58);case 32:return a.next=34,c["a"].setLetterRejtOrAccept(e.letterId,!0).then((function(a){t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id))}));case 34:return a.abrupt("break",58);case 35:return t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id)),a.abrupt("break",58);case 37:return a.next=39,t.$router.push("/letter/make-signed-to-closed/".concat(e.id,"/").concat(e.letterId));case 39:return a.abrupt("break",58);case 40:return a.next=42,c["a"].setLetterRejtOrAccept(e.letterId,!0).then((function(a){t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id))}));case 42:return a.abrupt("break",58);case 43:return a.next=45,t.$router.push("/letter/before-commission/".concat(e.id,"/").concat(e.letterId));case 45:return a.abrupt("break",58);case 46:return a.next=48,t.$router.push("/letter/income/".concat(e.letterId,"/").concat(e.id));case 48:return a.abrupt("break",58);case 49:return a.next=51,t.$router.push("/letter/to-reject/".concat(e.id,"/").concat(e.letterId));case 51:return a.abrupt("break",58);case 52:return a.next=54,t.$router.push("/letter/before-commission/".concat(e.id,"/").concat(e.letterId));case 54:return a.abrupt("break",58);case 55:return a.next=57,Object(o["g"])(t.$t("docConfirm")).then((function(e){e.value&&(t.signatureModal=!0)}));case 57:return a.abrupt("break",58);case 58:return a.abrupt("break",98);case 59:t.currentItem=e,a.t3=e.status,a.next=63;break;case 63:return t.makeAgree(e),a.abrupt("break",65);case 65:return a.abrupt("break",98);case 66:if(t.currentItem=e,!t.computedMakeSignedCompromiseDecisionToAccept){a.next=72;break}return a.next=70,t.handleMakeSignedCompromiseDecisionToAccept();case 70:a.next=97;break;case 72:if(t.currentItem.isForCommission||!t.currentItem.isHeadOfDepartment){a.next=76;break}t.letterMakeViewed(e),a.next=97;break;case 76:a.t4=e.status,a.next="SEND_FOR_COMMISSION"===a.t4?79:"SENT_TO_MANAGEMENT"===a.t4?81:"SENT_FOR_REJECT"===a.t4?83:"TO_INVOKE_SIGNED"===a.t4?85:"SEND_SEEN_CLOSED"===a.t4?87:"FINISH_LETTER_SIGN_AND_SEND"===a.t4?90:"REJECTED"===a.t4?93:95;break;case 79:return t.makeReviewForCommission(e),a.abrupt("break",97);case 81:return t.makeReviewForCommissionWithComment(e),a.abrupt("break",97);case 83:return t.uploadRejectLetter(e),a.abrupt("break",97);case 85:return t.makeReviewLetter(e),a.abrupt("break",97);case 87:return a.next=89,t.cnf().then((function(a){a.value&&(["FOR_RESUME_WORK","FOR_DELAY_WORK","FOR_SUSPEND_WORK"].includes(t.selectedTrItem.returnType)?c["a"].letterAcceptForReopen(e.letterId).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.assign({},t.selectedTrItem),e.next=3,t.successSaved();case 3:return e.next=5,t.getList(!0,a.id);case 5:return e.next=7,t.getIncomeTotalCount();case 7:case"end":return e.stop()}}),e)})))):c["a"].makeAgreedLetterToClosed(e.id).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.assign({},t.selectedTrItem),e.next=3,t.successSaved();case 3:return e.next=5,t.getList(!0,a.id);case 5:return e.next=7,t.getIncomeTotalCount();case 7:case"end":return e.stop()}}),e)})))))}));case 89:return a.abrupt("break",97);case 90:return a.next=92,t.cnf().then((function(a){a.value&&c["a"].makeViewedLetterToFinish(e.id).then(Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.assign({},t.selectedTrItem),e.next=3,t.successSaved();case 3:return e.next=5,t.getList(!0,a.id);case 5:return e.next=7,t.getIncomeTotalCount();case 7:case"end":return e.stop()}}),e)}))))}));case 92:return a.abrupt("break",97);case 93:return t.letterRejectViewed(e),a.abrupt("break",97);case 95:return t.makeReview(e),a.abrupt("break",97);case 97:return a.abrupt("break",98);case 98:case"end":return a.stop()}}),a)})))()},save:function(){var e=this;this.$refs.addRef.checkValidity()?this.enterInfo():c["a"].upload(this.$refs.addRef.form).then((function(t){if(t.data){e.getList();var a=e.$router.resolve({name:"Office-DOCUMENT-commission",query:{page:"GET",id:t.data.id}});window.open(a.href,"_blank"),e.isModal=!1}}))},add:function(){this.isModal=!0},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;this.loading=!0,c["a"].getListLetterIncome(this.params,this.active).then((function(n){var s=n.data;if(e.list=s.list,e.total=s.total,t){var r=e.list.find((function(e){return e.id===a}));e.selectedTrItem=Object.assign({},r),e.getReceivers(e.selectedTrItem)}})).catch((function(e){})).finally((function(){e.loading=!1}))},uploadRejectLetter:function(e){var t=this;this.cnf().then((function(a){var n=a.value;n&&c["a"].uploadRejectLetter(e.id,"LETTER_REJECT","Rad etish xati").then((function(e){var a=t.$router.resolve({name:"Office-DOCUMENT-commission",query:{id:e.data.id,page:"GET"}});t.getList(),t.getIncomeTotalCount(),window.open(a.href,"_blank")}))}))}}},g=f,h=(a("07df"),a("2877")),v=Object(h["a"])(g,n,s,!1,null,null,null);t["default"]=v.exports},f574:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",[t("b-row",[t("b-col",{attrs:{cols:"12"}},[t("div",[0===e.keysList.length?t("div",[t("b-row",[t("b-col",[t("div",{staticClass:"card p-5 text-center"},[t("i",{staticClass:"bx bx-info-circle text-danger",staticStyle:{"font-size":"40px"}}),t("h4",{staticClass:"text-danger m-0",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(e.$t("auth.no_e_signatures_found"))+" ")])])])],1)],1):e._e(),e.loading?t("div",{staticClass:"text-center p-10"},[t("b-spinner",{attrs:{variant:"primary",type:"grow"}})],1):t("div",e._l(e.keysList,(function(a,n){return t("b-row",{key:n,staticClass:"mb-2"},[t("b-col",[t("b-overlay",{attrs:{opacity:.1,show:e.loadingButton&&e.currentItem.TIN==a.TIN,rounded:"sm"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-body",[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("p",{staticClass:"m-0 text-primary",staticStyle:{"font-size":"1rem","font-weight":"700"}},[e._v(" "+e._s(a.CN)+" ")]),t("button",{staticClass:"btn btn-success btn-md float-right",staticStyle:{width:"200px"},attrs:{disabled:a.expired},on:{click:function(t){return e.openSignModal(a)}}},[t("i",{staticClass:"fa fa-check"}),e._v(" "+e._s(e.$t("actions.selectKey"))+" ")])]),t("br"),t("div",{staticClass:"d-flex mt-2 align-items-center justify-content-start"},[t("div",[t("p",{staticClass:"m-0 text-muted font-weight-bold",staticStyle:{"font-size":"0.875rem"}},[e._v(" "+e._s(e.$t("login.inn"))+" ")]),t("p",{staticClass:"m-0 text-dark"},[e._v(e._s(a.TIN))])]),t("div",{staticClass:"pl-5 ml-3"},[t("p",{staticClass:"m-0 text-muted font-weight-bold text",staticStyle:{"font-size":"0.875rem"}},[e._v(" "+e._s(e.$t("login.numberLicence"))+" ")]),t("p",{staticClass:"m-0 text-dark"},[e._v(e._s(a.serialNumber))])]),t("div",{staticClass:"pl-5 ml-3"},[t("p",{staticClass:"m-0 text-muted font-weight-bold text",staticStyle:{"font-size":"0.875rem"}},[e._v(" "+e._s(e.$t("login.srokLicence"))+" ")]),t("p",{staticClass:"m-0 text-dark"},[e._v(" "+e._s(e.getDateFormat(a.validFrom))+" - "+e._s(e.getDateFormat(a.validTo))+" ")])])])])],1)],1)],1)],1)})),1)])])],1),t("b-modal",{attrs:{"no-close-on-backdrop":!0,"hide-header":!0,"ok-title":e.$t("actions.yes"),"cancel-title":e.$t("actions.no")},on:{close:function(t){return e.hideModal("signModal")},cancel:function(t){return e.hideModal("signModal")},ok:e.signByEimzo},model:{value:e.signModal,callback:function(t){e.signModal=t},expression:"signModal"}},[t("h4",[e._v(e._s(e.modalTitle))]),e.loadingButton?t("div",{staticClass:"text-center p-10"},[t("b-spinner",{attrs:{variant:"primary",type:"grow"}})],1):e._e()])],1)},s=[],r=a("c7eb"),i=a("1da1"),c=(a("e9c4"),a("d3b7"),a("25f0"),a("14d9"),a("1f92")),o=3,l=37,d="Ошибка соединения с E-IMZO. Возможно у вас не установлен модуль E-IMZO или Браузер E-IMZO.",u="Браузер не поддерживает технологию WebSocket. Установите последнюю версию браузера.",m='ВНИМАНИЕ !!! Установите новую версию приложения E-IMZO или Браузера E-IMZO.<br /><a href="https://e-imzo.uz/main/downloads/" role="button">Скачать ПО E-IMZO</a>',p="Пароль неверный.",f={props:["dataToSign"],data:function(){return{loading:!1,keysList:[],currentItem:null,modalTitle:null,signModal:!1,loadingButton:!1}},name:"LOGINESP",created:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.appLoad();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{hideModal:function(e){this.$data[e]=!1},wsError:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e?t.uiShowMessage("errorCAPIWS : "+e):t.uiShowMessage("errorBrowserWS");case 1:case"end":return a.stop()}}),a)})))()},signByEimzo:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var a,n,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loadingButton=!0,a=t,n=JSON.stringify(t.dataToSign),s=new Promise((function(e,t){EIMZOClient.loadKey(a.currentItem,(function(s){EIMZOClient.createPkcs7(s,n,null,(function(t){e(t)}),(function(e,n){if(t("error"),a.loadingButton=!1,n)-1!=n.indexOf("BadPaddingException")?a.showMsgError(p):a.showMsgError(n);else{var s=document.getElementById("keyId");s&&(s.innerHTML=""),a.showMsgError(u)}e&&a.wsError(e)}))}),(function(e,n){t("error"),a.loadingButton=!1,n?-1!=n.indexOf("BadPaddingException")?a.showMsgError(p):a.showMsgError(n):a.$showMsgErro(u),e&&a.wsError(e)}))})),s.then((function(e){a.$emit("sign",{inn:a.currentItem.TIN,content:e,pnfl:a.currentItem.PINFL})}),(function(e){console.log(e),a.showMsgError("Server error...")})).finally((function(){a.signModal=!1,a.loadingButton=!1}));case 5:case"end":return e.stop()}}),e)})))()},openSignModal:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.currentItem=e,t.modalTitle=e.serialNumber+" - "+e.CN,t.signByEimzo();case 3:case"end":return a.stop()}}),a)})))()},getDateFormat:function(e){var t=new Date(e),a=t.getMonth()+1;return t.getDate().toString()+"."+(a<=9?"0"+a:a).toString()+"."+t.getFullYear().toString()},uiCreateItem:function(e,t){var a=this,n=new Date;t.expired=dates.compare(n,t.validTo)>0;var s=document.createElement("option");return s.value=e,s.text=t.CN,t.expired&&(s.style.color="gray",s.text=s.text+" (срок истек)"),a.keysList.push(t),s.setAttribute("vo",JSON.stringify(t)),s.setAttribute("id",e),s},uiLoadKeys:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,EIMZOClient.listAllUserKeys((function(e,t){var a="itm-"+e.serialNumber+"-"+t;return a}),(function(e,t){return a.uiCreateItem(e,t)}),(function(e,t){}),(function(e,t){a.showMsgError(d)}));case 2:case"end":return t.stop()}}),t)})))()},appLoad:function(){var e=this;e.loading=!0,EIMZOClient.API_KEYS=c.api_keys,EIMZOClient.checkVersion((function(t,a){var n=100*o+l,s=100*parseInt(t)+parseInt(a);s<n?(e.loading=!1,e.showMsgError(m)):EIMZOClient.installApiKeys((function(){e.loading=!1,e.uiLoadKeys()}),(function(t,a){e.loading=!1,a?e.showMsgError(a):e.wsError(t)}))}),(function(t,a){e.loading=!1,a?e.showMsgError(a):e.showMsgError(t)}))},close:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$emit("close");case 2:case"end":return t.stop()}}),t)})))()}}},g=f,h=a("2877"),v=Object(h["a"])(g,n,s,!1,null,null,null);t["a"]=v.exports},f8cd5:function(e,t,a){"use strict";var n=a("c7eb"),s=a("1da1"),r=(a("99af"),a("ac1f"),a("841c"),a("f2db"));t["a"]={getCurrent:function(){var e=Object(s["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r["a"].get("/employee/currentEmpId"));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getListByYurDepartment:function(e){return r["a"].post("/employee/get-by-yur-dep?name=".concat(e.search,"&yurDepId=").concat(e.yurDepId?e.yurDepId:""),e.params)},getListByYurDepartmentNotInProj:function(e){return r["a"].post("/employee/get-by-yur-dep-notInProject?name=".concat(e.search,"&projectId=").concat(e.projectId),e.params)},getCurrentUserExperience:function(){return r["a"].get("/employee/listEmployeeExperience")},lisByDepId:function(e){var t=e.id,a=e.data,n=e.search;return r["a"].post("/employee/list-by-depId/".concat(t,"?search=").concat(n),a)},getPhoneEmail:function(e){var t=e.search,a=e.pg;return r["a"].post("/employee/get-email-phone-by-yur-dep?name=".concat(t),a)},getNearBirthdays:function(){return r["a"].get("/employee/lateAnniversary")},eliminateBirthDay:function(){return r["a"].get("/employee/eliminateBirthday")},turnOffBirthDay:function(){return r["a"].get("/employee/turnOffEliminateBirthday")},getByYurDepForSign:function(e){return r["a"].post("/employee/getByYurDepForSign?keyword=".concat(e.search),e.params)},getAllInManagement:function(){return r["a"].get("/employee/get-all-employee/in-management")}}},fdfc:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",[t("b-modal",{attrs:{id:"widthM",scrollable:e.scroll,"content-class":"shadow","no-close-on-backdrop":!0,"hide-backdrop":e.hideBackDrop,size:e.size,"body-class":"pb-1"},scopedSlots:e._u([{key:"modal-header",fn:function(){return[t("h4",[e._v(e._s(e.title))]),t("div",{staticClass:"d-flex align-items-center"},[t("div",{staticClass:"mr-3"},[e.signerHide?t("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"primary"},on:{click:e.setUser}},[t("b-overlay",{attrs:{opacity:.1,show:e.loaderUser,rounded:"sm"}},[t("i",{staticClass:"fa fa-user-check mr-2",staticStyle:{"font-size":"16px"}}),e._v(" "+e._s(e.$t("actions.imzolovchi"))+" ")])],1):e._e()],1),t("div",{staticClass:"mr-3"},[t("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"primary"},on:{click:function(t){return e.$emit("viewModalClick")}}},[t("b-overlay",{attrs:{opacity:.1,show:e.loaderPdf,rounded:"sm"}},[t("i",{staticClass:"fa fa-eye mr-2",staticStyle:{"font-size":"16px"}}),e._v(" "+e._s(e.$t("actions.view_pdf"))+" ")])],1)],1),t("div",{on:{click:function(t){return e.$emit("closeModal")}}},[t("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"light"}},[t("i",{staticClass:"fa fa-times"})])],1)])]},proxy:!0},{key:"modal-footer",fn:function(){return[t("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{variant:"danger"},on:{click:function(t){return e.$emit("closeModal")}}},[e._v(" "+e._s(e.$t(e.cancelText)))]),e.hasOkButton?t("b-button",{staticStyle:{padding:"11.5px 16px 11.5px 15px"},attrs:{disabled:e.loader,variant:e.variantOk},on:{click:function(t){return e.$emit("okModal")}}},[t("b-overlay",{attrs:{opacity:.1,show:e.loader,rounded:"sm"}},[e._v(" "+e._s(e.$t(e.okText))+" ")])],1):e._e()]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("b-sidebar",{staticClass:"sidebar-part",attrs:{"backdrop-variant":"transparent",shadow:"",backdrop:"","sidebar-class":"p-0","no-header":!0,right:""},model:{value:e.isSidebar_3,callback:function(t){e.isSidebar_3=t},expression:"isSidebar_3"}},[t("MemberesSignature",{ref:"partRef_3",attrs:{notIn:!1,async:!0},on:{asyncValue:e.asyncValue_3,cancel:function(t){e.isSidebar_3=!1}}})],1),e._t("body")],2)],1)},s=[],r=a("6043"),i={components:{MemberesSignature:r["a"]},data:function(){return{loader:!1,loaderPdf:!1,loaderUser:!1,isSidebar_3:!1}},methods:{asyncValue_3:function(e){this.$emit("signerSet",e)},setUser:function(){this.isSidebar_3=!0},loading:function(e){this.loader=e},loadingPdf:function(e){this.loaderPdf=e},loadingUser:function(e){this.loaderUser=e}},props:{signerHide:{type:Boolean,default:!0},value:{type:Boolean,default:!1},size:{type:String,default:"md"},scroll:{type:Boolean,default:!1},hasOkButton:{type:Boolean,default:!0},okText:{type:String,default:"OK"},cancelText:{type:String,default:"actions.cancel"},title:{type:String,default:"Title"},variantOk:{type:String,default:"primary"},hideBackDrop:{type:Boolean,default:!1}}},c=i,o=(a("745f"),a("2877")),l=Object(o["a"])(c,n,s,!1,null,null,null);t["a"]=l.exports}}]);