(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33ea27b6"],{"084f":function(t,e,a){"use strict";a.r(e);a("14d9"),a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[e("div",{staticClass:"btn btn-outline-dark btn-secondary float-left",on:{click:function(e){return t.$router.push({name:"IndexFinalForecastFill"})}}},[t._v(" "+t._s(t.$t("actions.back"))+" ")]),e("div",{staticClass:"h5 mb-4 d-inline-block"},[t._v(t._s(t.$t("submodules.final_forecast.title")))]),e("div",{staticClass:"btn btn-success float-right",on:{click:t.save}},[t._v(t._s(t.$t("actions.save")))]),e("div",{staticClass:"btn btn-primary float-right",on:{click:t.excelExport}},[t._v(t._s(t.$t("actions.excel")))])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{ref:"table",staticClass:"table table-sm table-bordered table-condensed vertical-align-middle"},[e("thead",[e("tr",[e("th",{staticClass:"text-center h5",attrs:{colspan:t.getTableMaxRows}},[t._v(" "+t._s(t.form.StatisticReportHeaderDto?t.getName({nameUz:t.form.StatisticReportHeaderDto.decisionNameUz,nameRu:t.form.StatisticReportHeaderDto.decisionNameRu,nameLt:t.form.StatisticReportHeaderDto.decisionNameLt}):"")+" ")])]),e("tr",{staticClass:"text-center"},[e("th",{attrs:{rowspan:"3"}},[t._v("â„–")]),e("th",{staticClass:"text-center",attrs:{rowspan:"3",colspan:"2"}},[t._v(t._s(t.$t("submodules.final_forecast.state_program_and_target_indicator"))+" ")]),e("th",{attrs:{rowspan:"3"}},[t._v(t._s(t.$t("column.unit")))]),e("th",{staticClass:"text-center",attrs:{colspan:t.quarterPlanDoneList.length||1}},[t._v(" "+t._s(t.$t("submodules.final_forecast.year_plan",{year:t.form.StatisticReportHeaderDto?t.form.StatisticReportHeaderDto.year:""}))+" ")])]),e("tr",t._l(t.quarterList,(function(a,n){return e("th",{key:n,staticClass:"text-center",attrs:{colspan:"2"}},[t._v(" "+t._s(t.getName({nameUz:a.nameUz,nameRu:a.nameRu,nameLt:a.nameLt}))+" ")])})),0),e("tr",t._l(t.quarterPlanDoneList,(function(a,n){return e("th",{key:n,staticClass:"text-center"},[t._v(" "+t._s("plan"===a.type?t.$t("submodules.final_forecast.plan"):t.$t("submodules.final_forecast.done"))+" ")])})),0),e("tr",{staticClass:"text-center"},[e("th",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.form.StatisticReportHeaderDto?t.getName({nameUz:t.form.StatisticReportHeaderDto.organizationNameUz,nameRu:t.form.StatisticReportHeaderDto.organizationNameRu,nameLt:t.form.StatisticReportHeaderDto.organizationNameLt}):"")+" ")]),e("th",[t._v(" "+t._s(t.form.StatisticReportHeaderDto?t.getName({nameUz:t.form.StatisticReportHeaderDto.measurementUnitNameUz,nameRu:t.form.StatisticReportHeaderDto.measurementUnitNameRu,nameLt:t.form.StatisticReportHeaderDto.measurementUnitNameLt}):"")+" ")]),e("th",{attrs:{colspan:t.quarterPlanDoneList.length||1}},[t._v(" "+t._s(t.form.StatisticReportHeaderDto?t.form.StatisticReportHeaderDto.value:"")+" ")])]),e("tr",{staticClass:"text-center"},[e("td"),e("th",{attrs:{colspan:t.getTableMaxRows-1}},[t._v(" "+t._s(t.form.StatisticReportHeaderDto?t.getName({nameUz:t.form.StatisticReportHeaderDto.strategicPurposeUz,nameRu:t.form.StatisticReportHeaderDto.strategicPurposeRu,nameLt:t.form.StatisticReportHeaderDto.strategicPurposeLt}):"")+" ")])])]),t._l(t.infoTypeList,(function(a,n){return e("Info",{key:n,ref:"infoType",refInFor:!0,attrs:{infoTypeKey:n,infoType:a,statisticReportInfoDto:t.form.StatisticReportInfoDto,getTableMaxRows:t.getTableMaxRows,quarterList:t.quarterList,quarterPlanDoneList:t.quarterPlanDoneList,measurementUnitList:t.measurementUnitList,measurementUnitMap:t.measurementUnitMap},on:{"open-parent-modal":t.openModal,"confirm-quarter-value":t.confirmQuarterValue}})}))],2)])])])])]),e("b-modal",{ref:"modal",attrs:{id:"modal-1",title:t.modal.title},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.modal.show=!1}}},[t._v(t._s(t.$t("actions.save")))])]},proxy:!0}]),model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},["quarter_plan"===t.modal.step?e("div",[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("column.value")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.StatisticReportInfoDto[t.modal.parentIndex].children[t.modal.childIndex].quarterValueDtoList[t.modal.quarterKey].done,expression:"form.StatisticReportInfoDto[modal.parentIndex].children[modal.childIndex].quarterValueDtoList[modal.quarterKey].done"}],ref:"quarter_plan",staticClass:"form-control",attrs:{type:"number",step:"any"},domProps:{value:t.form.StatisticReportInfoDto[t.modal.parentIndex].children[t.modal.childIndex].quarterValueDtoList[t.modal.quarterKey].done},on:{input:function(e){e.target.composing||t.$set(t.form.StatisticReportInfoDto[t.modal.parentIndex].children[t.modal.childIndex].quarterValueDtoList[t.modal.quarterKey],"done",e.target.value)}}})])]):t._e(),"bases"===t.modal.step?e("div",[e("div",{staticClass:"form-group"},[e("BaseFileUploaderWithValidation",{ref:"supplementDocUploader",attrs:{"not-required":"","max-files":null,"max-fileSize":null,"label-on-top":!1,label:t.$t("attached_files")},model:{value:t.modal.bases,callback:function(e){t.$set(t.modal,"bases",e)},expression:"modal.bases"}})],1),void 0!==this.modal.childIndex?e("div",[t.form.StatisticReportInfoDto[this.modal.parentIndex].children[this.modal.childIndex].bases&&t.form.StatisticReportInfoDto[this.modal.parentIndex].children[this.modal.childIndex].bases[t.modal.quarterKey]?e("div",{staticClass:"d-inline-block"},t._l(t.form.StatisticReportInfoDto[this.modal.parentIndex].children[this.modal.childIndex].bases[t.modal.quarterKey],(function(a,n){return e("div",{key:n,staticClass:"d-inline-block"},[e("a",{staticClass:"btn",attrs:{href:"/"+a.url,download:""}},[e("i",{staticClass:"mdi mdi-download"}),t._v(" "+t._s(a.name))])])})),0):t._e(),t._l(t.form.StatisticReportInfoDto[this.modal.parentIndex].children[this.modal.childIndex].quarterValueDtoList[t.modal.quarterKey].baseFiles,(function(a,n){return e("div",{key:n,staticClass:"d-inline-block"},[e("a",{staticClass:"btn",attrs:{href:"/"+a.url,download:""}},[e("i",{staticClass:"mdi mdi-download"}),t._v(" "+t._s(a.name))])])}))],2):e("div",[t.form.StatisticReportInfoDto[this.modal.parentIndex].bases&&t.form.StatisticReportInfoDto[this.modal.parentIndex].bases[t.modal.quarterKey]?e("div",{staticClass:"d-inline-block"},[t._l(t.form.StatisticReportInfoDto[this.modal.parentIndex].bases[t.modal.quarterKey],(function(a,n){return e("div",{key:n,staticClass:"d-inline-block"},[e("a",{staticClass:"btn",attrs:{href:"/"+a.url,download:""}},[e("i",{staticClass:"mdi mdi-download"}),t._v(" "+t._s(a.name))])])})),t._l(t.form.StatisticReportInfoDto[this.modal.parentIndex].quarterValueDtoList[t.modal.quarterKey].baseFiles,(function(a,n){return e("div",{key:n,staticClass:"d-inline-block"},[e("a",{staticClass:"btn",attrs:{href:"/"+a.url,download:""}},[e("i",{staticClass:"mdi mdi-download"}),t._v(" "+t._s(a.name))])])}))],2):t._e()])]):t._e()])],1)},i=[],r=a("5530"),o=a("c7eb"),s=a("1da1"),l=(a("a4d3"),a("e01a"),a("d3b7"),a("159b"),a("d81d"),a("ac1f"),a("5319"),a("e9c4"),a("99af"),a("9225")),d=(a("4de4"),a("a15b"),function(){var t=this,e=t._self._c;return e("tbody",{staticClass:"vertical-align-middle"},[e("tr",{staticClass:"bg-light-violet"},[e("th",[t._v(t._s(t.infoTypeKey+1))]),e("th",{attrs:{colspan:t.getTableMaxRows-1}},[t._v(t._s(t.infoType.name))])]),t._l(t.list.filter((function(e){return e.infoType===t.infoType.code})),(function(a,n){return e("tr",{key:n,class:a.isParent?"bg-light-orange":""},[e("td",[t._v(t._s(a.number))]),e("td",{staticStyle:{"max-width":"22vw"},attrs:{colspan:"2"}},[t._v(" "+t._s(t.getName({nameUz:a.nameUz,nameRu:a.nameRu,nameLt:a.nameLt})||"")+" "+t._s(a.employeeFullNames.length?"("+(a.employeeFullNames.join(", ")||"").toLowerCase().replace(/(?:^|\s)\S/g,(function(t){return t.toUpperCase()}))+")":"")+" ")]),e("td",[t._v(" "+t._s(a.measurementUnitId?t.getName({nameUz:a.measurementUnitNameUz,nameRu:a.measurementUnitNameRu,nameLt:a.measurementUnitNameLt}):"")+" ")]),t._l(t.quarterPlanDoneList,(function(n,i){return e("th",{key:i},[a.isParent?e("div",["plan"===n.type?e("div",{staticClass:"text-center"},[t._v(" "+t._s(a.quarterValueDtoList[n.quarterIndex]?a.quarterValueDtoList[n.quarterIndex].plan:"-")+" ")]):e("div",[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex].done,expression:"statisticReportInfoDto[childItem.parentIndex].quarterValueDtoList[quarterItem.quarterIndex].done"}],staticClass:"form-control",attrs:{type:"number",step:"any",disabled:t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex].isConfirmed},domProps:{value:t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex].done},on:{input:function(e){e.target.composing||t.$set(t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex],"done",e.target.value)}}}),!0!==t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex].isConfirmed?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text btn btn-info",on:{click:function(e){return t.openParentModal(!0,"bases",t.infoTypeKey,a.parentIndex,a.childIndex,n.quarterIndex)}}},[e("i",{staticClass:"bx mdi mdi-attachment"})])]):t._e(),!0!==t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex].isConfirmed&&a.attachedEmployeeDtos.filter((function(e){return e.employeeId===t.currentEmployeeId})).length>0?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"bg-primary input-group-text text-white cursor-pointer",on:{click:function(e){return t.confirmValue(t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex])}}},[e("i",{staticClass:"bx mdi mdi-check"})])]):t._e(),t.statisticReportInfoDto[a.parentIndex].quarterValueDtoList[n.quarterIndex].isConfirmed?e("div",{staticClass:"input-group-prepend"},[e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"bg-success input-group-text text-white",attrs:{title:t.$t("column.confirmed")}},[e("i",{staticClass:"bx mdi mdi-check"})])]):t._e()])])]):e("div",{staticClass:"text-center"},["plan"===n.type?e("div",{staticClass:"text-center"},[t._v(" "+t._s(a.quarterValueDtoList[n.quarterIndex]?a.quarterValueDtoList[n.quarterIndex].plan:"-")+" ")]):e("div",[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex].done,expression:"statisticReportInfoDto[childItem.parentIndex].children[childItem.childIndex].quarterValueDtoList[quarterItem.quarterIndex].done"}],staticClass:"form-control",attrs:{type:"number",step:"any",disabled:t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex].isConfirmed},domProps:{value:t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex].done},on:{input:function(e){e.target.composing||t.$set(t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex],"done",e.target.value)}}}),!0!==t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex].isConfirmed?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text btn btn-info",on:{click:function(e){return t.openParentModal(!0,"bases",t.infoTypeKey,a.parentIndex,a.childIndex,n.quarterIndex)}}},[e("i",{staticClass:"bx mdi mdi-attachment"})])]):t._e(),!0!==t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex].isConfirmed&&a.attachedEmployeeDtos.filter((function(e){return e.employeeId===t.currentEmployeeId})).length>0?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"bg-primary input-group-text text-white cursor-pointer",on:{click:function(e){return t.confirmValue(t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex])}}},[e("i",{staticClass:"bx mdi mdi-check"})])]):t._e(),t.statisticReportInfoDto[a.parentIndex].children[a.childIndex].quarterValueDtoList[n.quarterIndex].isConfirmed?e("div",{staticClass:"input-group-prepend"},[e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"bg-success input-group-text text-white",attrs:{title:t.$t("column.confirmed")}},[e("i",{staticClass:"bx mdi mdi-check"})])]):t._e()])])])])}))],2)}))],2)}),c=[],u=(a("a9e3"),a("7476")),m={name:"Info",props:{infoTypeKey:{type:Number,default:function(){return 1}},quarterList:{type:Array,default:function(){return[]}},measurementUnitList:{type:Array,default:function(){return[]}},infoType:{type:Object,default:function(){return{}}},quarterPlanDoneList:{type:Array,default:function(){return[]}},statisticReportInfoDto:{type:Array,default:function(){return[]}},measurementUnitMap:{type:Object,default:function(){return{}}},getTableMaxRows:{type:Number,default:1}},data:function(){return{list:[],infoTypeIterator:{}}},created:function(){this.serializeItems()},computed:{currentEmployeeId:function(){return parseInt(u["a"].getUserInfo().employeeId)}},methods:{addItem:function(t,e){var a=this,n=JSON.parse(JSON.stringify(t));if(n=this.clearItemValues(n),t.isParent){if(t.children.length>0){var i=this.clearItemValues(n.children[0]);i.number=1,n.children=[i]}n.number=this.statisticReportInfoDto.filter((function(t){return t.infoType===a.infoType.code})).length+1,this.statisticReportInfoDto.push(n)}else this.statisticReportInfoDto[t.parentIndex].children.push(n),this.serializeItems()},confirmValue:function(t){this.$emit("confirm-quarter-value",t)},clearItemValues:function(t){return t.employeeFullNames=[],t.employeeIds=[],t.id=null,t.measurementUnitId=null,t.measurementUnitNameLt=null,t.measurementUnitNameRu=null,t.measurementUnitNameUz=null,t.nameLt=null,t.nameRu=null,t.nameUz=null,t},serializeItems:function(){var t=[];this.statisticReportInfoDto.forEach((function(e,a){e.number=t.filter((function(t){return t.infoType===e.infoType&&!0===t.isParent})).length+1,e.isParent=!0,e.parentIndex=a,e.employeeFullNames=e.employeeFullNames||[],t.push(e),e.children.length>0&&e.children.forEach((function(n,i){n.number=i+1,n.isParent=!1,n.parentIndex=a,n.employeeFullNames=n.employeeFullNames||[],n.childIndex=i,n.infoType=e.infoType,t.push(n)}))})),this.list=t},openParentModal:function(t,e,a,n,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;this.serializeItems(),this.$emit("open-parent-modal",t,e,a,n,i,r)}},watch:{statisticReportInfoDto:function(){this.serializeItems()}}},p=m,f=(a("9e8e"),a("2877")),h=Object(f["a"])(p,d,c,!1,null,"0abf46ca",null),I=h.exports,y=a("c2a4"),x=a("f2db"),v=a("1146"),b=a.n(v),D="statistic-report",R={create:D+"/create",update:D+"/update/",saveValue:D+"/save-value",get:D+"/get-by-id/",quarter:D+"/directory/quarter/list-search",measurementUnit:D+"/directory/measurement-unit/list-search",innerEmployee:"/employee/list-search/inner",confirmQuarterValue:"/statistic-report/confirm-quarter-value/"},_={page:{title:l["default"].t("submodules.final_forecast.title"),meta:[{name:"description",content:y.description}]},components:{Info:I},data:function(){return{form:{},modal:{show:!1,step:"",title:"",infoTypeKey:"",parentIndex:0,childIndex:void 0,quarterKey:void 0,bases:void 0},infoTypeList:[{code:"FINAL",name:l["default"].t("submodules.final_forecast.info_type_final")},{code:"DIRECTLY",name:l["default"].t("submodules.final_forecast.info_type_directly")}],quarterList:[],measurementUnitList:[],measurementUnitMap:{},employeeListKeyword:"",employeeList:[],employeeListMap:{},saveLoading:!1}},methods:{getEmployeeInnerList:function(){var t=this;x["a"].post(R.innerEmployee+"?keyword="+encodeURIComponent(this.employeeListKeyword),{itemsPerPage:10,page:0}).then((function(e){t.employeeList=e.data.list,t.employeeListMap={},t.employeeList.forEach((function(e){t.employeeListMap[e.id]=e}))}))},openModal:function(t,e,a,n,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;console.log(t,e,a,n,i,r),this.modal.show=t,this.modal.step=e,this.modal.infoTypeKey=a,this.modal.parentIndex=n,this.modal.childIndex=i,this.modal.quarterKey=r},customLabelAdDesignType:function(t){var e=this.employeeListMap[t];return e?e.fullName:""},customLabelMeasurementUnitList:function(t){var e=this.measurementUnitList[t];return e?this.getName({}):""},onEmployeeChange:function(t){var e=this;"employee_child"===this.modal.step?this.form.StatisticReportInfoDto[this.modal.parentIndex].children[this.modal.childIndex].employeeFullNames=t.map((function(t){return e.employeeListMap[t].lastName+" "+e.employeeNameFirstChar(e.employeeListMap[t].firstName)+" "+e.employeeNameFirstChar(e.employeeListMap[t].middleName)})):"employee"===this.modal.step&&(this.form.StatisticReportInfoDto[this.modal.parentIndex].employeeFullNames=t.map((function(t){return e.employeeListMap[t].lastName+" "+e.employeeNameFirstChar(e.employeeListMap[t].firstName)+" "+e.employeeNameFirstChar(e.employeeListMap[t].middleName)}))),this.$refs["infoType"][this.modal.infoTypeKey].serializeItems()},employeeNameFirstChar:function(t){var e=t.charAt(0)+t.charAt(1);return-1!==["sh","ch","o'","g'"].indexOf(e.toLowerCase().replace("`","'"))?e:t.charAt(0)},save:function(){var t=this;if(!this.saveLoading){this.saveLoading=!0;var e=this.serializeSaveResult(this.form.StatisticReportInfoDto);x["a"].post(R.saveValue,e,!0).then((function(e){t.$toast(t.$t("messages.saved_successfully"),{type:"success"}),t.saveLoading=!1,t.$router.push({name:"IndexFinalForecastFill"})})).catch((function(e){t.saveLoading=!1}))}},serializeSaveResult:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var a in t)t[a].quarterValueDtoList.map((function(t){e.push({id:t.id,done:t.done,quarterId:t.quarterId})})),t[a].children&&(e=this.serializeSaveResult(t[a].children,e));return e},serializeEmployeeIds:function(t){var e=this;return t.map((function(t){return t.employeeIds=t.attachedEmployeeDtos.map((function(t){return t.employeeId})),t.employeeFullNames=t.attachedEmployeeDtos.map((function(t){return t.employeeLastName+" "+t.employeeFirstName+" "+t.employeeMiddleName})),t.children&&(t.children=e.serializeEmployeeIds(t.children)),t}))},excelExport:function(){var t=this;this.loaderExcel=!0;var e="Report",a=b.a.utils.table_to_book(this.$refs.table,{sheet:"sheet1"});return setTimeout((function(){t.loaderExcel=!1}),500),b.a.writeFile(a,"".concat(e,".xlsx"),{})},confirmQuarterValue:function(t){var e=this,a=t.id;this.cnf().then((function(t){var n=t.value;n&&x["a"].post(R.confirmQuarterValue+a,{},!0).then(function(){var t=Object(s["a"])(Object(o["a"])().mark((function t(a){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.handleCreated();case 2:return t.next=4,e.$toast(e.$t("success"),{type:"success"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){}))}))},handleCreated:function(){var t=this;this.getEmployeeInnerList(),x["a"].post(R.get+this.$route.params.id).then((function(e){var a={StatisticReportHeaderDto:e.data.header,StatisticReportInfoDto:e.data.infoList};a.StatisticReportInfoDto=t.serializeEmployeeIds(a.StatisticReportInfoDto),1===a.StatisticReportInfoDto.length&&null===a.StatisticReportInfoDto[0].infoType&&t.infoTypeList.forEach((function(t,e){a.StatisticReportInfoDto[e]=JSON.parse(JSON.stringify(a.StatisticReportInfoDto[0])),a.StatisticReportInfoDto[e].infoType=t.code})),t.form=a})),x["a"].post(R.quarter,{itemsPerPage:100,page:0}).then((function(e){t.quarterList=e.data.list})),x["a"].post(R.measurementUnit,{itemsPerPage:100,page:0}).then((function(e){t.measurementUnitList=e.data.list}))}},created:function(){this.handleCreated()},computed:{getTableMaxRows:function(){return 4+this.quarterPlanDoneList.length},quarterPlanDoneList:function(){var t=[];return this.quarterList.forEach((function(e,a){t.push(Object(r["a"])(Object(r["a"])({},e),{},{type:"plan",quarterIndex:a})),t.push(Object(r["a"])(Object(r["a"])({},e),{},{type:"done",quarterIndex:a}))})),t}},watch:{"modal.show":{handler:function(t){var e=this;if("bases"===this.modal.step&&!1===t&&this.modal.bases&&this.modal.bases.length>0){var a,n=this.modal.bases,i=new FormData,r=this.quarterPlanDoneList[this.modal.quarterKey];a=void 0!==this.modal.childIndex?this.form.StatisticReportInfoDto[this.modal.parentIndex].children[this.modal.childIndex]:this.form.StatisticReportInfoDto[this.modal.parentIndex],n.forEach((function(t){i.append("baseFiles",t.file)})),x["a"].post(D+"/save/base-files/".concat(a.id,"/").concat(r.id),i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){void 0!==e.modal.childIndex?(e.form.StatisticReportInfoDto[e.modal.parentIndex].children[e.modal.childIndex].bases||(e.form.StatisticReportInfoDto[e.modal.parentIndex].children[e.modal.childIndex].bases=[]),e.form.StatisticReportInfoDto[e.modal.parentIndex].children[e.modal.childIndex].bases[e.modal.quarterKey]=t.data.infoFiles):(e.form.StatisticReportInfoDto[e.modal.parentIndex].bases||(e.form.StatisticReportInfoDto[e.modal.parentIndex].bases=[]),e.form.StatisticReportInfoDto[e.modal.parentIndex].bases[e.modal.quarterKey]=t.data.infoFiles),e.modal.bases=[]})).catch((function(t){console.log(t)}))}},deep:!0}}},g=_,L=(a("4794"),Object(f["a"])(g,n,i,!1,null,"d48c78fe",null));e["default"]=L.exports},"24e7":function(t,e,a){},"3ccf":function(t,e,a){},4794:function(t,e,a){"use strict";a("24e7")},"9e8e":function(t,e,a){"use strict";a("3ccf")}}]);